const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Do1LWbOk.js","assets/react-vendor-DhbKkA4J.js","assets/index.es-D4Bj4hvz.js","assets/ui-vendor-DhC7FHFR.js","assets/chart-vendor-Cr6FuLMH.js","assets/query-vendor-Ds3KxOyz.js"])))=>i.map(i=>d[i]);
var iT=Object.defineProperty;var nT=(s,e,r)=>e in s?iT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var qs=(s,e,r)=>nT(s,typeof e!="symbol"?e+"":e,r);import{r as v,a as Nu,c as Ge,b as Qy,e as oT,N as Bv,g as O1,u as Qt,f as W1,L as Ed,h as Al,i as lT,O as dT,j as Pm,B as uT,k as cT,l as ms}from"./react-vendor-DhbKkA4J.js";import{S as ym,c as Gn,a as jk,j as de,A as U1,u as va,P as sr,b as Ft,d as xo,h as mT,R as bT,e as hT,F as fT,D as Yy,C as Jy,f as Zy,g as Xy,i as pT,k as Yu,l as eO,m as V1,n as _1,o as C1,p as NT,B as kT,V as sO,q as Vn,r as gT,s as oh,t as xT,v as vT,w as tO,_ as $s,x as DT,y as Ak,z as rO,E as aO,G as wT,H as iO,I as nO,J as oO,K as lO,L as dO,M as uO,N as cO,O as jT,T as AT,Q as Ek,U as S1,W as mO,X as bO,Y as hO,Z as ET,$ as fO,a0 as pO,a1 as PT,a2 as NO,a3 as yT,a4 as kO,a5 as gO,a6 as OT,a7 as WT,a8 as xO,a9 as UT,aa as VT,ab as Bh,ac as qh,ad as Pk,ae as $h,af as Hh,ag as T1,ah as R1,ai as vO,aj as DO,ak as _T,al as CT}from"./ui-vendor-DhC7FHFR.js";import{c as wO,P as $r,o as ST,R as yk,B as jO,C as M1,X as L1,Y as oN,T as Ok,L as I1,a as yu,b as TT,d as RT,e as MT,f as LT,g as IT,h as FT}from"./chart-vendor-Cr6FuLMH.js";import{u as bs,a as Lr,b as Rs,Q as zT,c as BT}from"./query-vendor-Ds3KxOyz.js";function qT(s,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in s)){const n=Object.getOwnPropertyDescriptor(a,i);n&&Object.defineProperty(s,i,n.get?n:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();var AO={exports:{}},qv={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=v,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),f=Symbol.iterator,p="@@iterator";function N(me){if(me===null||typeof me!="object")return null;var ze=f&&me[f]||me[p];return typeof ze=="function"?ze:null}var g=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(me){{for(var ze=arguments.length,cs=new Array(ze>1?ze-1:0),Is=1;Is<ze;Is++)cs[Is-1]=arguments[Is];w("error",me,cs)}}function w(me,ze,cs){{var Is=g.ReactDebugCurrentFrame,jt=Is.getStackAddendum();jt!==""&&(ze+="%s",cs=cs.concat([jt]));var It=cs.map(function(ct){return String(ct)});It.unshift("Warning: "+ze),Function.prototype.apply.call(console[me],console,It)}}var A=!1,U=!1,E=!1,W=!1,y=!1,V;V=Symbol.for("react.module.reference");function S(me){return!!(typeof me=="string"||typeof me=="function"||me===a||me===n||y||me===i||me===u||me===c||W||me===m||A||U||E||typeof me=="object"&&me!==null&&(me.$$typeof===h||me.$$typeof===b||me.$$typeof===o||me.$$typeof===l||me.$$typeof===d||me.$$typeof===V||me.getModuleId!==void 0))}function O(me,ze,cs){var Is=me.displayName;if(Is)return Is;var jt=ze.displayName||ze.name||"";return jt!==""?cs+"("+jt+")":cs}function _(me){return me.displayName||"Context"}function M(me){if(me==null)return null;if(typeof me.tag=="number"&&D("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof me=="function")return me.displayName||me.name||null;if(typeof me=="string")return me;switch(me){case a:return"Fragment";case r:return"Portal";case n:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case c:return"SuspenseList"}if(typeof me=="object")switch(me.$$typeof){case l:var ze=me;return _(ze)+".Consumer";case o:var cs=me;return _(cs._context)+".Provider";case d:return O(me,me.render,"ForwardRef");case b:var Is=me.displayName||null;return Is!==null?Is:M(me.type)||"Memo";case h:{var jt=me,It=jt._payload,ct=jt._init;try{return M(ct(It))}catch{return null}}}return null}var R=Object.assign,Q=0,ne,ie,Z,Ne,_e,fe,T;function G(){}G.__reactDisabledLog=!0;function J(){{if(Q===0){ne=console.log,ie=console.info,Z=console.warn,Ne=console.error,_e=console.group,fe=console.groupCollapsed,T=console.groupEnd;var me={configurable:!0,enumerable:!0,value:G,writable:!0};Object.defineProperties(console,{info:me,log:me,warn:me,error:me,group:me,groupCollapsed:me,groupEnd:me})}Q++}}function ce(){{if(Q--,Q===0){var me={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:R({},me,{value:ne}),info:R({},me,{value:ie}),warn:R({},me,{value:Z}),error:R({},me,{value:Ne}),group:R({},me,{value:_e}),groupCollapsed:R({},me,{value:fe}),groupEnd:R({},me,{value:T})})}Q<0&&D("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ke=g.ReactCurrentDispatcher,we;function We(me,ze,cs){{if(we===void 0)try{throw Error()}catch(jt){var Is=jt.stack.trim().match(/\n( *(at )?)/);we=Is&&Is[1]||""}return`
`+we+me}}var Oe=!1,ye;{var De=typeof WeakMap=="function"?WeakMap:Map;ye=new De}function Ye(me,ze){if(!me||Oe)return"";{var cs=ye.get(me);if(cs!==void 0)return cs}var Is;Oe=!0;var jt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var It;It=ke.current,ke.current=null,J();try{if(ze){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(ua){Is=ua}Reflect.construct(me,[],ct)}else{try{ct.call()}catch(ua){Is=ua}me.call(ct.prototype)}}else{try{throw Error()}catch(ua){Is=ua}me()}}catch(ua){if(ua&&Is&&typeof ua.stack=="string"){for(var nt=ua.stack.split(`
`),Or=Is.stack.split(`
`),kr=nt.length-1,or=Or.length-1;kr>=1&&or>=0&&nt[kr]!==Or[or];)or--;for(;kr>=1&&or>=0;kr--,or--)if(nt[kr]!==Or[or]){if(kr!==1||or!==1)do if(kr--,or--,or<0||nt[kr]!==Or[or]){var Da=`
`+nt[kr].replace(" at new "," at ");return me.displayName&&Da.includes("<anonymous>")&&(Da=Da.replace("<anonymous>",me.displayName)),typeof me=="function"&&ye.set(me,Da),Da}while(kr>=1&&or>=0);break}}}finally{Oe=!1,ke.current=It,ce(),Error.prepareStackTrace=jt}var Qi=me?me.displayName||me.name:"",Ui=Qi?We(Qi):"";return typeof me=="function"&&ye.set(me,Ui),Ui}function ls(me,ze,cs){return Ye(me,!1)}function pe(me){var ze=me.prototype;return!!(ze&&ze.isReactComponent)}function ee(me,ze,cs){if(me==null)return"";if(typeof me=="function")return Ye(me,pe(me));if(typeof me=="string")return We(me);switch(me){case u:return We("Suspense");case c:return We("SuspenseList")}if(typeof me=="object")switch(me.$$typeof){case d:return ls(me.render);case b:return ee(me.type,ze,cs);case h:{var Is=me,jt=Is._payload,It=Is._init;try{return ee(It(jt),ze,cs)}catch{}}}return""}var Ms=Object.prototype.hasOwnProperty,st={},Ps=g.ReactDebugCurrentFrame;function Je(me){if(me){var ze=me._owner,cs=ee(me.type,me._source,ze?ze.type:null);Ps.setExtraStackFrame(cs)}else Ps.setExtraStackFrame(null)}function se(me,ze,cs,Is,jt){{var It=Function.call.bind(Ms);for(var ct in me)if(It(me,ct)){var nt=void 0;try{if(typeof me[ct]!="function"){var Or=Error((Is||"React class")+": "+cs+" type `"+ct+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof me[ct]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Or.name="Invariant Violation",Or}nt=me[ct](ze,ct,Is,cs,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(kr){nt=kr}nt&&!(nt instanceof Error)&&(Je(jt),D("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Is||"React class",cs,ct,typeof nt),Je(null)),nt instanceof Error&&!(nt.message in st)&&(st[nt.message]=!0,Je(jt),D("Failed %s type: %s",cs,nt.message),Je(null))}}}var be=Array.isArray;function Ee(me){return be(me)}function Se(me){{var ze=typeof Symbol=="function"&&Symbol.toStringTag,cs=ze&&me[Symbol.toStringTag]||me.constructor.name||"Object";return cs}}function He(me){try{return Te(me),!1}catch{return!0}}function Te(me){return""+me}function qe(me){if(He(me))return D("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Se(me)),Te(me)}var ks=g.ReactCurrentOwner,hs={key:!0,ref:!0,__self:!0,__source:!0},fs,ys,ps;ps={};function $t(me){if(Ms.call(me,"ref")){var ze=Object.getOwnPropertyDescriptor(me,"ref").get;if(ze&&ze.isReactWarning)return!1}return me.ref!==void 0}function wt(me){if(Ms.call(me,"key")){var ze=Object.getOwnPropertyDescriptor(me,"key").get;if(ze&&ze.isReactWarning)return!1}return me.key!==void 0}function gs(me,ze){if(typeof me.ref=="string"&&ks.current&&ze&&ks.current.stateNode!==ze){var cs=M(ks.current.type);ps[cs]||(D('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',M(ks.current.type),me.ref),ps[cs]=!0)}}function Zs(me,ze){{var cs=function(){fs||(fs=!0,D("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ze))};cs.isReactWarning=!0,Object.defineProperty(me,"key",{get:cs,configurable:!0})}}function yt(me,ze){{var cs=function(){ys||(ys=!0,D("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ze))};cs.isReactWarning=!0,Object.defineProperty(me,"ref",{get:cs,configurable:!0})}}var zs=function(me,ze,cs,Is,jt,It,ct){var nt={$$typeof:e,type:me,key:ze,ref:cs,props:ct,_owner:It};return nt._store={},Object.defineProperty(nt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(nt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Is}),Object.defineProperty(nt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:jt}),Object.freeze&&(Object.freeze(nt.props),Object.freeze(nt)),nt};function bt(me,ze,cs,Is,jt){{var It,ct={},nt=null,Or=null;cs!==void 0&&(qe(cs),nt=""+cs),wt(ze)&&(qe(ze.key),nt=""+ze.key),$t(ze)&&(Or=ze.ref,gs(ze,jt));for(It in ze)Ms.call(ze,It)&&!hs.hasOwnProperty(It)&&(ct[It]=ze[It]);if(me&&me.defaultProps){var kr=me.defaultProps;for(It in kr)ct[It]===void 0&&(ct[It]=kr[It])}if(nt||Or){var or=typeof me=="function"?me.displayName||me.name||"Unknown":me;nt&&Zs(ct,or),Or&&yt(ct,or)}return zs(me,nt,Or,jt,Is,ks.current,ct)}}var tt=g.ReactCurrentOwner,Nr=g.ReactDebugCurrentFrame;function mr(me){if(me){var ze=me._owner,cs=ee(me.type,me._source,ze?ze.type:null);Nr.setExtraStackFrame(cs)}else Nr.setExtraStackFrame(null)}var rt;rt=!1;function xs(me){return typeof me=="object"&&me!==null&&me.$$typeof===e}function it(){{if(tt.current){var me=M(tt.current.type);if(me)return`

Check the render method of \``+me+"`."}return""}}function Us(me){{if(me!==void 0){var ze=me.fileName.replace(/^.*[\\\/]/,""),cs=me.lineNumber;return`

Check your code at `+ze+":"+cs+"."}return""}}var _s={};function at(me){{var ze=it();if(!ze){var cs=typeof me=="string"?me:me.displayName||me.name;cs&&(ze=`

Check the top-level render call using <`+cs+">.")}return ze}}function Ht(me,ze){{if(!me._store||me._store.validated||me.key!=null)return;me._store.validated=!0;var cs=at(ze);if(_s[cs])return;_s[cs]=!0;var Is="";me&&me._owner&&me._owner!==tt.current&&(Is=" It was passed a child from "+M(me._owner.type)+"."),mr(me),D('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',cs,Is),mr(null)}}function vs(me,ze){{if(typeof me!="object")return;if(Ee(me))for(var cs=0;cs<me.length;cs++){var Is=me[cs];xs(Is)&&Ht(Is,ze)}else if(xs(me))me._store&&(me._store.validated=!0);else if(me){var jt=N(me);if(typeof jt=="function"&&jt!==me.entries)for(var It=jt.call(me),ct;!(ct=It.next()).done;)xs(ct.value)&&Ht(ct.value,ze)}}}function Mt(me){{var ze=me.type;if(ze==null||typeof ze=="string")return;var cs;if(typeof ze=="function")cs=ze.propTypes;else if(typeof ze=="object"&&(ze.$$typeof===d||ze.$$typeof===b))cs=ze.propTypes;else return;if(cs){var Is=M(ze);se(cs,me.props,"prop",Is,me)}else if(ze.PropTypes!==void 0&&!rt){rt=!0;var jt=M(ze);D("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",jt||"Unknown")}typeof ze.getDefaultProps=="function"&&!ze.getDefaultProps.isReactClassApproved&&D("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function yr(me){{for(var ze=Object.keys(me.props),cs=0;cs<ze.length;cs++){var Is=ze[cs];if(Is!=="children"&&Is!=="key"){mr(me),D("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Is),mr(null);break}}me.ref!==null&&(mr(me),D("Invalid attribute `ref` supplied to `React.Fragment`."),mr(null))}}var Lt={};function tr(me,ze,cs,Is,jt,It){{var ct=S(me);if(!ct){var nt="";(me===void 0||typeof me=="object"&&me!==null&&Object.keys(me).length===0)&&(nt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Or=Us(jt);Or?nt+=Or:nt+=it();var kr;me===null?kr="null":Ee(me)?kr="array":me!==void 0&&me.$$typeof===e?(kr="<"+(M(me.type)||"Unknown")+" />",nt=" Did you accidentally export a JSX literal instead of a component?"):kr=typeof me,D("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",kr,nt)}var or=bt(me,ze,cs,jt,It);if(or==null)return or;if(ct){var Da=ze.children;if(Da!==void 0)if(Is)if(Ee(Da)){for(var Qi=0;Qi<Da.length;Qi++)vs(Da[Qi],me);Object.freeze&&Object.freeze(Da)}else D("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else vs(Da,me)}if(Ms.call(ze,"key")){var Ui=M(me),ua=Object.keys(ze).filter(function(lc){return lc!=="key"}),Md=ua.length>0?"{key: someKey, "+ua.join(": ..., ")+": ...}":"{key: someKey}";if(!Lt[Ui+Md]){var Ld=ua.length>0?"{"+ua.join(": ..., ")+": ...}":"{}";D(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Md,Ui,Ld,Ui),Lt[Ui+Md]=!0}}return me===a?yr(or):Mt(or),or}}var br=tr;qv.Fragment=a,qv.jsxDEV=br})();AO.exports=qv;var t=AO.exports,EO,Fj=Nu;{var zj=Fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;EO=function(s,e){zj.usingClientEntryPoint=!0;try{return Fj.createRoot(s,e)}finally{zj.usingClientEntryPoint=!1}}}const Bj=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,qj=wO,Ju=(s,e)=>r=>{var a;if((e==null?void 0:e.variants)==null)return qj(s,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:n}=e,o=Object.keys(i).map(u=>{const c=r==null?void 0:r[u],b=n==null?void 0:n[u];if(c===null)return null;const h=Bj(c)||Bj(b);return i[u][h]}),l=r&&Object.entries(r).reduce((u,c)=>{let[b,h]=c;return h===void 0||(u[b]=h),u},{}),d=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((u,c)=>{let{class:b,className:h,...m}=c;return Object.entries(m).every(f=>{let[p,N]=f;return Array.isArray(N)?N.includes({...n,...l}[p]):{...n,...l}[p]===N})?[...u,b,h]:u},[]);return qj(s,o,d,r==null?void 0:r.class,r==null?void 0:r.className)},F1="-",$T=s=>{const e=GT(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:o=>{const l=o.split(F1);return l[0]===""&&l.length!==1&&l.shift(),PO(l,e)||HT(o)},getConflictingClassGroupIds:(o,l)=>{const d=r[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},PO=(s,e)=>{var o;if(s.length===0)return e.classGroupId;const r=s[0],a=e.nextPart.get(r),i=a?PO(s.slice(1),a):void 0;if(i)return i;if(e.validators.length===0)return;const n=s.join(F1);return(o=e.validators.find(({validator:l})=>l(n)))==null?void 0:o.classGroupId},$j=/^\[(.+)\]$/,HT=s=>{if($j.test(s)){const e=$j.exec(s)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},GT=s=>{const{theme:e,prefix:r}=s,a={nextPart:new Map,validators:[]};return QT(Object.entries(s.classGroups),r).forEach(([n,o])=>{$v(o,a,n,e)}),a},$v=(s,e,r,a)=>{s.forEach(i=>{if(typeof i=="string"){const n=i===""?e:Hj(e,i);n.classGroupId=r;return}if(typeof i=="function"){if(KT(i)){$v(i(a),e,r,a);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([n,o])=>{$v(o,Hj(e,n),r,a)})})},Hj=(s,e)=>{let r=s;return e.split(F1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},KT=s=>s.isThemeGetter,QT=(s,e)=>e?s.map(([r,a])=>{const i=a.map(n=>typeof n=="string"?e+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([o,l])=>[e+o,l])):n);return[r,i]}):s,YT=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,a=new Map;const i=(n,o)=>{r.set(n,o),e++,e>s&&(e=0,a=r,r=new Map)};return{get(n){let o=r.get(n);if(o!==void 0)return o;if((o=a.get(n))!==void 0)return i(n,o),o},set(n,o){r.has(n)?r.set(n,o):i(n,o)}}},yO="!",JT=s=>{const{separator:e,experimentalParseClassName:r}=s,a=e.length===1,i=e[0],n=e.length,o=l=>{const d=[];let u=0,c=0,b;for(let N=0;N<l.length;N++){let g=l[N];if(u===0){if(g===i&&(a||l.slice(N,N+n)===e)){d.push(l.slice(c,N)),c=N+n;continue}if(g==="/"){b=N;continue}}g==="["?u++:g==="]"&&u--}const h=d.length===0?l:l.substring(c),m=h.startsWith(yO),f=m?h.substring(1):h,p=b&&b>c?b-c:void 0;return{modifiers:d,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},ZT=s=>{if(s.length<=1)return s;const e=[];let r=[];return s.forEach(a=>{a[0]==="["?(e.push(...r.sort(),a),r=[]):r.push(a)}),e.push(...r.sort()),e},XT=s=>({cache:YT(s.cacheSize),parseClassName:JT(s),...$T(s)}),e7=/\s+/,s7=(s,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:i}=e,n=[],o=s.trim().split(e7);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:c,hasImportantModifier:b,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let f=!!m,p=a(f?h.substring(0,m):h);if(!p){if(!f){l=u+(l.length>0?" "+l:l);continue}if(p=a(h),!p){l=u+(l.length>0?" "+l:l);continue}f=!1}const N=ZT(c).join(":"),g=b?N+yO:N,D=g+p;if(n.includes(D))continue;n.push(D);const w=i(p,f);for(let A=0;A<w.length;++A){const U=w[A];n.push(g+U)}l=u+(l.length>0?" "+l:l)}return l};function t7(){let s=0,e,r,a="";for(;s<arguments.length;)(e=arguments[s++])&&(r=OO(e))&&(a&&(a+=" "),a+=r);return a}const OO=s=>{if(typeof s=="string")return s;let e,r="";for(let a=0;a<s.length;a++)s[a]&&(e=OO(s[a]))&&(r&&(r+=" "),r+=e);return r};function r7(s,...e){let r,a,i,n=o;function o(d){const u=e.reduce((c,b)=>b(c),s());return r=XT(u),a=r.cache.get,i=r.cache.set,n=l,l(d)}function l(d){const u=a(d);if(u)return u;const c=s7(d,r);return i(d,c),c}return function(){return n(t7.apply(null,arguments))}}const zr=s=>{const e=r=>r[s]||[];return e.isThemeGetter=!0,e},WO=/^\[(?:([a-z-]+):)?(.+)\]$/i,a7=/^\d+\/\d+$/,i7=new Set(["px","full","screen"]),n7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,al=s=>qc(s)||i7.has(s)||a7.test(s),$l=s=>Om(s,"length",k7),qc=s=>!!s&&!Number.isNaN(Number(s)),lx=s=>Om(s,"number",qc),bb=s=>!!s&&Number.isInteger(Number(s)),c7=s=>s.endsWith("%")&&qc(s.slice(0,-1)),_t=s=>WO.test(s),Hl=s=>n7.test(s),m7=new Set(["length","size","percentage"]),b7=s=>Om(s,m7,UO),h7=s=>Om(s,"position",UO),f7=new Set(["image","url"]),p7=s=>Om(s,f7,x7),N7=s=>Om(s,"",g7),hb=()=>!0,Om=(s,e,r)=>{const a=WO.exec(s);return a?a[1]?typeof e=="string"?a[1]===e:e.has(a[1]):r(a[2]):!1},k7=s=>o7.test(s)&&!l7.test(s),UO=()=>!1,g7=s=>d7.test(s),x7=s=>u7.test(s),v7=()=>{const s=zr("colors"),e=zr("spacing"),r=zr("blur"),a=zr("brightness"),i=zr("borderColor"),n=zr("borderRadius"),o=zr("borderSpacing"),l=zr("borderWidth"),d=zr("contrast"),u=zr("grayscale"),c=zr("hueRotate"),b=zr("invert"),h=zr("gap"),m=zr("gradientColorStops"),f=zr("gradientColorStopPositions"),p=zr("inset"),N=zr("margin"),g=zr("opacity"),D=zr("padding"),w=zr("saturate"),A=zr("scale"),U=zr("sepia"),E=zr("skew"),W=zr("space"),y=zr("translate"),V=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",_t,e],_=()=>[_t,e],M=()=>["",al,$l],R=()=>["auto",qc,_t],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],Ne=()=>["","0",_t],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[qc,_t];return{cacheSize:500,separator:":",theme:{colors:[hb],spacing:[al,$l],blur:["none","",Hl,_t],brightness:fe(),borderColor:[s],borderRadius:["none","","full",Hl,_t],borderSpacing:_(),borderWidth:M(),contrast:fe(),grayscale:Ne(),hueRotate:fe(),invert:Ne(),gap:_(),gradientColorStops:[s],gradientColorStopPositions:[c7,$l],inset:O(),margin:O(),opacity:fe(),padding:_(),saturate:fe(),scale:fe(),sepia:Ne(),skew:fe(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",_t]}],container:["container"],columns:[{columns:[Hl]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),_t]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bb,_t]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_t]}],grow:[{grow:Ne()}],shrink:[{shrink:Ne()}],order:[{order:["first","last","none",bb,_t]}],"grid-cols":[{"grid-cols":[hb]}],"col-start-end":[{col:["auto",{span:["full",bb,_t]},_t]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[hb]}],"row-start-end":[{row:["auto",{span:[bb,_t]},_t]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_t]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_t,e]}],"min-w":[{"min-w":[_t,e,"min","max","fit"]}],"max-w":[{"max-w":[_t,e,"none","full","min","max","fit","prose",{screen:[Hl]},Hl]}],h:[{h:[_t,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_t,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_t,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_t,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hl,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lx]}],"font-family":[{font:[hb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_t]}],"line-clamp":[{"line-clamp":["none",qc,lx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",al,_t]}],"list-image":[{"list-image":["none",_t]}],"list-style-type":[{list:["none","disc","decimal",_t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",al,$l]}],"underline-offset":[{"underline-offset":["auto",al,_t]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),h7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p7]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[al,_t]}],"outline-w":[{outline:[al,$l]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[al,$l]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Hl,N7]}],"shadow-color":[{shadow:[hb]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Hl,_t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[b]}],saturate:[{saturate:[w]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_t]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",_t]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",_t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[bb,_t]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_t]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_t]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_t]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[al,$l,lx]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},D7=r7(v7);function Ce(...s){return D7(wO(s))}const lh=Ju("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-gold hover:-translate-y-0.5 active:translate-y-0",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-border-interactive hover:shadow-subtle",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:border-border-interactive border border-transparent",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=v.forwardRef(({className:s,variant:e,size:r,asChild:a=!1,...i},n)=>{const o=a?ym:"button";return t.jsxDEV(o,{className:Ce(lh({variant:e,size:r,className:s})),ref:n,...i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/button.tsx",lineNumber:42,columnNumber:12},void 0)});F.displayName="Button";var Wk="Popover",[VO,gde]=Gn(Wk,[jk]),Gh=jk(),[w7,_d]=VO(Wk),_O=s=>{const{__scopePopover:e,children:r,open:a,defaultOpen:i,onOpenChange:n,modal:o=!1}=s,l=Gh(e),d=v.useRef(null),[u,c]=v.useState(!1),[b,h]=Yu({prop:a,defaultProp:i??!1,onChange:n,caller:Wk});return de.jsx(eO,{...l,children:de.jsx(w7,{scope:e,contentId:V1(),triggerRef:d,open:b,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>c(!0),[]),onCustomAnchorRemove:v.useCallback(()=>c(!1),[]),modal:o,children:r})})};_O.displayName=Wk;var CO="PopoverAnchor",j7=v.forwardRef((s,e)=>{const{__scopePopover:r,...a}=s,i=_d(CO,r),n=Gh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return v.useEffect(()=>(o(),()=>l()),[o,l]),de.jsx(U1,{...n,...a,ref:e})});j7.displayName=CO;var SO="PopoverTrigger",TO=v.forwardRef((s,e)=>{const{__scopePopover:r,...a}=s,i=_d(SO,r),n=Gh(r),o=va(e,i.triggerRef),l=de.jsx(sr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FO(i.open),...a,ref:o,onClick:Ft(s.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:de.jsx(U1,{asChild:!0,...n,children:l})});TO.displayName=SO;var z1="PopoverPortal",[A7,E7]=VO(z1,{forceMount:void 0}),RO=s=>{const{__scopePopover:e,forceMount:r,children:a,container:i}=s,n=_d(z1,e);return de.jsx(A7,{scope:e,forceMount:r,children:de.jsx(xo,{present:r||n.open,children:de.jsx(Xy,{asChild:!0,container:i,children:a})})})};RO.displayName=z1;var am="PopoverContent",MO=v.forwardRef((s,e)=>{const r=E7(am,s.__scopePopover),{forceMount:a=r.forceMount,...i}=s,n=_d(am,s.__scopePopover);return de.jsx(xo,{present:a||n.open,children:n.modal?de.jsx(y7,{...i,ref:e}):de.jsx(O7,{...i,ref:e})})});MO.displayName=am;var P7=pT("PopoverContent.RemoveScroll"),y7=v.forwardRef((s,e)=>{const r=_d(am,s.__scopePopover),a=v.useRef(null),i=va(e,a),n=v.useRef(!1);return v.useEffect(()=>{const o=a.current;if(o)return mT(o)},[]),de.jsx(bT,{as:P7,allowPinchZoom:!0,children:de.jsx(LO,{...s,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ft(s.onCloseAutoFocus,o=>{var l;o.preventDefault(),n.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ft(s.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;n.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ft(s.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),O7=v.forwardRef((s,e)=>{const r=_d(am,s.__scopePopover),a=v.useRef(!1),i=v.useRef(!1);return de.jsx(LO,{...s,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var o,l;(o=s.onCloseAutoFocus)==null||o.call(s,n),n.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),n.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:n=>{var d,u;(d=s.onInteractOutside)==null||d.call(s,n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=n.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&i.current&&n.preventDefault()}})}),LO=v.forwardRef((s,e)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:n,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:c,...b}=s,h=_d(am,r),m=Gh(r);return hT(),de.jsx(fT,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:n,children:de.jsx(Yy,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:de.jsx(Jy,{"data-state":FO(h.open),role:"dialog",id:h.contentId,...m,...b,ref:e,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),IO="PopoverClose",W7=v.forwardRef((s,e)=>{const{__scopePopover:r,...a}=s,i=_d(IO,r);return de.jsx(sr.button,{type:"button",...a,ref:e,onClick:Ft(s.onClick,()=>i.onOpenChange(!1))})});W7.displayName=IO;var U7="PopoverArrow",V7=v.forwardRef((s,e)=>{const{__scopePopover:r,...a}=s,i=Gh(r);return de.jsx(Zy,{...i,...a,ref:e})});V7.displayName=U7;function FO(s){return s?"open":"closed"}var _7=_O,C7=TO,S7=RO,zO=MO;const B1=_7,q1=C7,Uk=v.forwardRef(({className:s,align:e="center",sideOffset:r=4,...a},i)=>t.jsxDEV(S7,{children:t.jsxDEV(zO,{ref:i,align:e,sideOffset:r,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/popover.tsx",lineNumber:15,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/popover.tsx",lineNumber:14,columnNumber:3},void 0));Uk.displayName=zO.displayName;var Vk="Switch",[T7,xde]=Gn(Vk),[R7,M7]=T7(Vk),BO=v.forwardRef((s,e)=>{const{__scopeSwitch:r,name:a,checked:i,defaultChecked:n,required:o,disabled:l,value:d="on",onCheckedChange:u,form:c,...b}=s,[h,m]=v.useState(null),f=va(e,w=>m(w)),p=v.useRef(!1),N=h?c||!!h.closest("form"):!0,[g,D]=Yu({prop:i,defaultProp:n??!1,onChange:u,caller:Vk});return de.jsxs(R7,{scope:r,checked:g,disabled:l,children:[de.jsx(sr.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":GO(g),"data-disabled":l?"":void 0,disabled:l,value:d,...b,ref:f,onClick:Ft(s.onClick,w=>{D(A=>!A),N&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),N&&de.jsx(HO,{control:h,bubbles:!p.current,name:a,value:d,checked:g,required:o,disabled:l,form:c,style:{transform:"translateX(-100%)"}})]})});BO.displayName=Vk;var qO="SwitchThumb",$O=v.forwardRef((s,e)=>{const{__scopeSwitch:r,...a}=s,i=M7(qO,r);return de.jsx(sr.span,{"data-state":GO(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})});$O.displayName=qO;var L7="SwitchBubbleInput",HO=v.forwardRef(({__scopeSwitch:s,control:e,checked:r,bubbles:a=!0,...i},n)=>{const o=v.useRef(null),l=va(o,n),d=_1(r),u=C1(e);return v.useEffect(()=>{const c=o.current;if(!c)return;const b=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(b,"checked").set;if(d!==r&&m){const f=new Event("click",{bubbles:a});m.call(c,r),c.dispatchEvent(f)}},[d,r,a]),de.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HO.displayName=L7;function GO(s){return s?"checked":"unchecked"}var KO=BO,I7=$O;const Wr=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(KO,{className:Ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",s),...e,ref:r,children:t.jsxDEV(I7,{className:Ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/switch.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/switch.tsx",lineNumber:10,columnNumber:3},void 0));Wr.displayName=KO.displayName;var F7="Label",QO=v.forwardRef((s,e)=>de.jsx(sr.label,{...s,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=s.onMouseDown)==null||i.call(s,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QO.displayName=F7;var YO=QO;const z7=Ju("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(YO,{ref:r,className:Ce(z7(),s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/label.tsx",lineNumber:13,columnNumber:3},void 0));H.displayName=YO.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JO=(...s)=>s.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=v.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:n,iconNode:o,...l},d)=>v.createElement("svg",{ref:d,...q7,width:e,height:e,stroke:s,strokeWidth:a?Number(r)*24/Number(e):r,className:JO("lucide",i),...l},[...o.map(([u,c])=>v.createElement(u,c)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(s,e)=>{const r=v.forwardRef(({className:a,...i},n)=>v.createElement($7,{ref:n,iconNode:e,className:JO(`lucide-${B7(s)}`,a),...i}));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Me("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=Me("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=Me("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=Me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Me("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=Me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Me("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=Me("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Me("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=Me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=Me("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Me("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Me("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Me("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Me("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Me("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Me("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Me("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Me("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Me("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Me("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Me("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Me("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Me("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Me("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Me("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Me("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Me("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Me("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=Me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Me("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Me("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Me("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Me("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Me("SquareKanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Me("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Me("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Me("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=Me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Me("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function V6(){const[s,e]=v.useState(!1),[r,a]=v.useState(!1),[i,n]=v.useState(!1);return v.useEffect(()=>{s?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},[s]),v.useEffect(()=>{r?document.documentElement.style.setProperty("--animation-duration","0.001ms"):document.documentElement.style.removeProperty("--animation-duration")},[r]),v.useEffect(()=>{i?document.documentElement.classList.add("text-lg"):document.documentElement.classList.remove("text-lg")},[i]),t.jsxDEV(B1,{children:[t.jsxDEV(q1,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"icon",className:"fixed bottom-4 right-4 z-50 rounded-full shadow-gold-lg bg-card border border-border hover:border-gold/50","aria-label":"Accessibility settings",children:t.jsxDEV(Gj,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:42,columnNumber:7},this),t.jsxDEV(Uk,{className:"w-80",align:"end",side:"top",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[t.jsxDEV(Gj,{className:"h-4 w-4 text-gold"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:56,columnNumber:15},this),"Accessibility Settings"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:55,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Customize the interface to your needs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:59,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(X7,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:67,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"high-contrast",className:"text-sm cursor-pointer",children:"High Contrast"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:66,columnNumber:15},this),t.jsxDEV(Wr,{id:"high-contrast",checked:s,onCheckedChange:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:72,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:65,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(k6,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:81,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"reduced-motion",className:"text-sm cursor-pointer",children:"Reduced Motion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:80,columnNumber:15},this),t.jsxDEV(Wr,{id:"reduced-motion",checked:r,onCheckedChange:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:86,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:79,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(y6,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:95,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"larger-text",className:"text-sm cursor-pointer",children:"Larger Text"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:96,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:94,columnNumber:15},this),t.jsxDEV(Wr,{id:"larger-text",checked:i,onCheckedChange:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:64,columnNumber:11},this),t.jsxDEV("div",{className:"pt-4 border-t border-border",children:t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["For additional accessibility features, press"," ",t.jsxDEV("kbd",{className:"px-2 py-1 bg-surface border border-border rounded text-xs font-mono",children:"?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:111,columnNumber:15},this)," ","to view keyboard shortcuts"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:109,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:52,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/accessibility-menu.tsx",lineNumber:41,columnNumber:5},this)}const _6="modulepreload",C6=function(s){return"/"+s},iA={},Tb=function(e,r,a){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(d=>{if(d=C6(d),d in iA)return;iA[d]=!0;const u=d.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const b=document.createElement("link");if(b.rel=u?"stylesheet":_6,u||(b.as="script"),b.crossOrigin="",b.href=d,l&&b.setAttribute("nonce",l),document.head.appendChild(b),u)return new Promise((h,m)=>{b.addEventListener("load",h),b.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return e().catch(n)})},S6=Ju("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jr=v.forwardRef(({className:s,variant:e,...r},a)=>t.jsxDEV("div",{ref:a,role:"alert",className:Ce(S6({variant:e}),s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert.tsx",lineNumber:25,columnNumber:3},void 0));jr.displayName="Alert";const ho=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("h5",{ref:r,className:Ce("mb-1 font-medium leading-none tracking-tight",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert.tsx",lineNumber:31,columnNumber:5},void 0));ho.displayName="AlertTitle";const Ar=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,className:Ce("text-sm [&_p]:leading-relaxed",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert.tsx",lineNumber:38,columnNumber:5},void 0));Ar.displayName="AlertDescription";const pu=class pu{constructor(){qs(this,"environment");qs(this,"version");qs(this,"minLevel");qs(this,"logBuffer",[]);qs(this,"bufferSize",100);qs(this,"levelPriority",{debug:0,info:1,warn:2,error:3,fatal:4});this.environment="development",this.version="0.1.0",this.minLevel=this.environment==="production"?"info":"debug"}static getInstance(){return pu.instance||(pu.instance=new pu),pu.instance}shouldLog(e){return this.levelPriority[e]>=this.levelPriority[this.minLevel]}formatEntry(e,r,a,i){return{timestamp:new Date().toISOString(),level:e,message:r,context:a,error:i?{name:i.name,message:i.message,stack:i.stack}:void 0,environment:this.environment,version:this.version}}output(e){this.logBuffer.push(e),this.logBuffer.length>this.bufferSize&&this.logBuffer.shift();const r=`[${e.timestamp}] [${e.level.toUpperCase()}]`,a=e.context?` ${JSON.stringify(e.context)}`:"";switch(e.level){case"debug":console.debug(`${r} ${e.message}${a}`);break;case"info":console.info(`${r} ${e.message}${a}`);break;case"warn":console.warn(`${r} ${e.message}${a}`);break;case"error":case"fatal":console.error(`${r} ${e.message}${a}`,e.error);break}this.environment==="production"&&e.level!=="debug"&&this.sendToExternalService(e)}async sendToExternalService(e){if((e.level==="error"||e.level==="fatal")&&e.error)try{(await Tb(()=>import("./index-Do1LWbOk.js"),__vite__mapDeps([0,1]))).captureException(new Error(e.message),{extra:e.context,level:e.level==="fatal"?"fatal":"error"})}catch{}}debug(e,r){this.shouldLog("debug")&&this.output(this.formatEntry("debug",e,r))}info(e,r){this.shouldLog("info")&&this.output(this.formatEntry("info",e,r))}warn(e,r){this.shouldLog("warn")&&this.output(this.formatEntry("warn",e,r))}error(e,r,a){this.shouldLog("error")&&this.output(this.formatEntry("error",e,a,r))}fatal(e,r,a){this.shouldLog("fatal")&&this.output(this.formatEntry("fatal",e,a,r))}time(e){const r=performance.now();return()=>{const a=performance.now()-r;this.debug(`${e} completed`,{duration:`${a.toFixed(2)}ms`})}}getRecentLogs(){return[...this.logBuffer]}clearLogs(){this.logBuffer=[]}child(e){return new T6(this,e)}};qs(pu,"instance");let Jv=pu;class T6{constructor(e,r){this.parent=e,this.defaultContext=r}mergeContext(e){return{...this.defaultContext,...e}}debug(e,r){this.parent.debug(e,this.mergeContext(r))}info(e,r){this.parent.info(e,this.mergeContext(r))}warn(e,r){this.parent.warn(e,this.mergeContext(r))}error(e,r,a){this.parent.error(e,r,this.mergeContext(a))}fatal(e,r,a){this.parent.fatal(e,r,this.mergeContext(a))}}const R6=Jv.getInstance();class M6 extends v.Component{constructor(r){super(r);qs(this,"handleReset",()=>{var r,a;this.setState({hasError:!1,error:null,errorInfo:null,eventId:null,showStack:!1}),(a=(r=this.props).onReset)==null||a.call(r)});qs(this,"handleReload",()=>{window.location.reload()});qs(this,"handleGoHome",()=>{window.location.href="/"});qs(this,"handleReportBug",()=>{const{error:r,eventId:a}=this.state,i=encodeURIComponent(`Bug Report: ${(r==null?void 0:r.message)||"Unknown Error"}`),n=encodeURIComponent(`Error Details:
- Message: ${r==null?void 0:r.message}
- Event ID: ${a||"N/A"}
- URL: ${window.location.href}
- Time: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:

`);window.open(`mailto:support@obsidiancorp.com?subject=${i}&body=${n}`)});qs(this,"toggleStack",()=>{this.setState(r=>({showStack:!r.showStack}))});this.state={hasError:!1,error:null,errorInfo:null,eventId:null,showStack:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){var i,n,o,l;R6.error("ErrorBoundary caught an error",r,{component:((n=(i=a.componentStack)==null?void 0:i.split(`
`)[1])==null?void 0:n.trim())||"Unknown",action:"error_boundary_catch",level:this.props.level||"component"}),this.setState({errorInfo:a}),(l=(o=this.props).onError)==null||l.call(o,r,a),this.reportToSentry(r,a)}async reportToSentry(r,a){try{const n=(await Tb(()=>import("./index-Do1LWbOk.js"),__vite__mapDeps([0,1]))).captureException(r,{extra:{componentStack:a.componentStack,level:this.props.level}});this.setState({eventId:n})}catch{}}render(){const{hasError:r,error:a,errorInfo:i,eventId:n,showStack:o}=this.state,{children:l,fallback:d,showDetails:u=!1,level:c="component"}=this.props;return r?d||(c==="page"?t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:t.jsxDEV("div",{className:"max-w-lg w-full text-center",children:[t.jsxDEV("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6",children:t.jsxDEV(Er,{className:"w-8 h-8 text-red-600 dark:text-red-400"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:130,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:129,columnNumber:15},this),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Something went wrong"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:133,columnNumber:15},this),t.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We encountered an unexpected error. Our team has been notified."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:136,columnNumber:15},this),n&&t.jsxDEV("p",{className:"text-sm text-gray-500 mb-6",children:["Reference: ",t.jsxDEV("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-xs",children:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:142,columnNumber:30},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:141,columnNumber:17},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-6",children:[t.jsxDEV(F,{onClick:this.handleReset,children:[t.jsxDEV(lN,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:148,columnNumber:19},this),"Try Again"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:147,columnNumber:17},this),t.jsxDEV(F,{onClick:this.handleGoHome,variant:"outline",children:[t.jsxDEV(rW,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:152,columnNumber:19},this),"Go Home"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:151,columnNumber:17},this),t.jsxDEV(F,{onClick:this.handleReportBug,variant:"ghost",children:[t.jsxDEV(Qj,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:156,columnNumber:19},this),"Report"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:146,columnNumber:15},this),u&&a&&t.jsxDEV("details",{className:"text-left bg-gray-100 dark:bg-gray-800 rounded-lg p-4",children:[t.jsxDEV("summary",{className:"cursor-pointer font-medium text-gray-700 dark:text-gray-300",children:"Technical Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:163,columnNumber:19},this),t.jsxDEV("pre",{className:"mt-2 text-xs text-red-600 dark:text-red-400 overflow-auto max-h-48",children:a.stack||a.message},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:128,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:127,columnNumber:11},this):t.jsxDEV(jr,{variant:"destructive",className:"my-4",children:[t.jsxDEV(Er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:179,columnNumber:11},this),t.jsxDEV(ho,{children:"Something went wrong"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:180,columnNumber:11},this),t.jsxDEV(Ar,{className:"mt-2",children:[t.jsxDEV("p",{className:"text-sm mb-3",children:(a==null?void 0:a.message)||"An unexpected error occurred"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:182,columnNumber:13},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:this.handleReset,className:"bg-background",children:[t.jsxDEV(lN,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:193,columnNumber:17},this),"Try again"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:187,columnNumber:15},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:this.handleReportBug,children:[t.jsxDEV(Qj,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:201,columnNumber:17},this),"Report"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:186,columnNumber:13},this),n&&t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2",children:["Reference: ",n]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:207,columnNumber:15},this),u&&(a==null?void 0:a.stack)&&t.jsxDEV("div",{className:"mt-2",children:[t.jsxDEV("button",{onClick:this.toggleStack,className:"flex items-center text-xs text-muted-foreground hover:text-foreground",children:[t.jsxDEV(Kh,{className:`w-3 h-3 mr-1 transition-transform ${o?"rotate-180":""}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:218,columnNumber:19},this),o?"Hide":"Show"," details"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:214,columnNumber:17},this),o&&t.jsxDEV("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-auto max-h-32",children:a.stack},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:222,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ErrorBoundary.tsx",lineNumber:178,columnNumber:9},this)):l}}const L6=1,I6=1e6;let dx=0;function F6(){return dx=(dx+1)%Number.MAX_SAFE_INTEGER,dx.toString()}const ux=new Map,nA=s=>{if(ux.has(s))return;const e=setTimeout(()=>{ux.delete(s),Rb({type:"REMOVE_TOAST",toastId:s})},I6);ux.set(s,e)},z6=(s,e)=>{switch(e.type){case"ADD_TOAST":return{...s,toasts:[e.toast,...s.toasts].slice(0,L6)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?nA(r):s.toasts.forEach(a=>{nA(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==e.toastId)}}},Fp=[];let zp={toasts:[]};function Rb(s){zp=z6(zp,s),Fp.forEach(e=>{e(zp)})}function B6({...s}){const e=F6(),r=i=>Rb({type:"UPDATE_TOAST",toast:{...i,id:e}}),a=()=>Rb({type:"DISMISS_TOAST",toastId:e});return Rb({type:"ADD_TOAST",toast:{...s,id:e,open:!0,onOpenChange:i=>{i||a()}}}),{id:e,dismiss:a,update:r}}function Hs(){const[s,e]=v.useState(zp);return v.useEffect(()=>(Fp.push(e),()=>{const r=Fp.indexOf(e);r>-1&&Fp.splice(r,1)}),[s]),{...s,toast:B6,dismiss:r=>Rb({type:"DISMISS_TOAST",toastId:r})}}var J1="ToastProvider",[Z1,q6,$6]=NT("Toast"),[mW,vde]=Gn("Toast",[$6]),[H6,Mk]=mW(J1),bW=s=>{const{__scopeToast:e,label:r="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:n=50,children:o}=s,[l,d]=v.useState(null),[u,c]=v.useState(0),b=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${J1}\`. Expected non-empty \`string\`.`),de.jsx(Z1.Provider,{scope:e,children:de.jsx(H6,{scope:e,label:r,duration:a,swipeDirection:i,swipeThreshold:n,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:v.useCallback(()=>c(m=>m+1),[]),onToastRemove:v.useCallback(()=>c(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:h,children:o})})};bW.displayName=J1;var hW="ToastViewport",G6=["F8"],Zv="toast.viewportPause",Xv="toast.viewportResume",fW=v.forwardRef((s,e)=>{const{__scopeToast:r,hotkey:a=G6,label:i="Notifications ({hotkey})",...n}=s,o=Mk(hW,r),l=q6(r),d=v.useRef(null),u=v.useRef(null),c=v.useRef(null),b=v.useRef(null),h=va(e,b,o.onViewportChange),m=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=o.toastCount>0;v.useEffect(()=>{const N=g=>{var w;a.length!==0&&a.every(A=>g[A]||g.code===A)&&((w=b.current)==null||w.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[a]),v.useEffect(()=>{const N=d.current,g=b.current;if(f&&N&&g){const D=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Zv);g.dispatchEvent(E),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Xv);g.dispatchEvent(E),o.isClosePausedRef.current=!1}},A=E=>{!N.contains(E.relatedTarget)&&w()},U=()=>{N.contains(document.activeElement)||w()};return N.addEventListener("focusin",D),N.addEventListener("focusout",A),N.addEventListener("pointermove",D),N.addEventListener("pointerleave",U),window.addEventListener("blur",D),window.addEventListener("focus",w),()=>{N.removeEventListener("focusin",D),N.removeEventListener("focusout",A),N.removeEventListener("pointermove",D),N.removeEventListener("pointerleave",U),window.removeEventListener("blur",D),window.removeEventListener("focus",w)}}},[f,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:N})=>{const D=l().map(w=>{const A=w.ref.current,U=[A,...nR(A)];return N==="forwards"?U:U.reverse()});return(N==="forwards"?D.reverse():D).flat()},[l]);return v.useEffect(()=>{const N=b.current;if(N){const g=D=>{var U,E,W;const w=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!w){const y=document.activeElement,V=D.shiftKey;if(D.target===N&&V){(U=u.current)==null||U.focus();return}const _=p({tabbingDirection:V?"backwards":"forwards"}),M=_.findIndex(R=>R===y);cx(_.slice(M+1))?D.preventDefault():V?(E=u.current)==null||E.focus():(W=c.current)==null||W.focus()}};return N.addEventListener("keydown",g),()=>N.removeEventListener("keydown",g)}},[l,p]),de.jsxs(kT,{ref:d,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&de.jsx(e0,{ref:u,onFocusFromOutsideViewport:()=>{const N=p({tabbingDirection:"forwards"});cx(N)}}),de.jsx(Z1.Slot,{scope:r,children:de.jsx(sr.ol,{tabIndex:-1,...n,ref:h})}),f&&de.jsx(e0,{ref:c,onFocusFromOutsideViewport:()=>{const N=p({tabbingDirection:"backwards"});cx(N)}})]})});fW.displayName=hW;var pW="ToastFocusProxy",e0=v.forwardRef((s,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...i}=s,n=Mk(pW,r);return de.jsx(sO,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=n.viewport)!=null&&u.contains(l))&&a()}})});e0.displayName=pW;var Jh="Toast",K6="toast.swipeStart",Q6="toast.swipeMove",Y6="toast.swipeCancel",J6="toast.swipeEnd",NW=v.forwardRef((s,e)=>{const{forceMount:r,open:a,defaultOpen:i,onOpenChange:n,...o}=s,[l,d]=Yu({prop:a,defaultProp:i??!0,onChange:n,caller:Jh});return de.jsx(xo,{present:r||l,children:de.jsx(eR,{open:l,...o,ref:e,onClose:()=>d(!1),onPause:Vn(s.onPause),onResume:Vn(s.onResume),onSwipeStart:Ft(s.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ft(s.onSwipeMove,u=>{const{x:c,y:b}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Ft(s.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ft(s.onSwipeEnd,u=>{const{x:c,y:b}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),d(!1)})})})});NW.displayName=Jh;var[Z6,X6]=mW(Jh,{onClose(){}}),eR=v.forwardRef((s,e)=>{const{__scopeToast:r,type:a="foreground",duration:i,open:n,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:c,onSwipeMove:b,onSwipeCancel:h,onSwipeEnd:m,...f}=s,p=Mk(Jh,r),[N,g]=v.useState(null),D=va(e,R=>g(R)),w=v.useRef(null),A=v.useRef(null),U=i||p.duration,E=v.useRef(0),W=v.useRef(U),y=v.useRef(0),{onToastAdd:V,onToastRemove:S}=p,O=Vn(()=>{var Q;(N==null?void 0:N.contains(document.activeElement))&&((Q=p.viewport)==null||Q.focus()),o()}),_=v.useCallback(R=>{!R||R===1/0||(window.clearTimeout(y.current),E.current=new Date().getTime(),y.current=window.setTimeout(O,R))},[O]);v.useEffect(()=>{const R=p.viewport;if(R){const Q=()=>{_(W.current),u==null||u()},ne=()=>{const ie=new Date().getTime()-E.current;W.current=W.current-ie,window.clearTimeout(y.current),d==null||d()};return R.addEventListener(Zv,ne),R.addEventListener(Xv,Q),()=>{R.removeEventListener(Zv,ne),R.removeEventListener(Xv,Q)}}},[p.viewport,U,d,u,_]),v.useEffect(()=>{n&&!p.isClosePausedRef.current&&_(U)},[n,U,p.isClosePausedRef,_]),v.useEffect(()=>(V(),()=>S()),[V,S]);const M=v.useMemo(()=>N?jW(N):null,[N]);return p.viewport?de.jsxs(de.Fragment,{children:[M&&de.jsx(sR,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),de.jsx(Z6,{scope:r,onClose:O,children:Nu.createPortal(de.jsx(Z1.ItemSlot,{scope:r,children:de.jsx(gT,{asChild:!0,onEscapeKeyDown:Ft(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:de.jsx(sr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":p.swipeDirection,...f,ref:D,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Ft(s.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ft(s.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ft(s.onPointerMove,R=>{if(!w.current)return;const Q=R.clientX-w.current.x,ne=R.clientY-w.current.y,ie=!!A.current,Z=["left","right"].includes(p.swipeDirection),Ne=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,_e=Z?Ne(0,Q):0,fe=Z?0:Ne(0,ne),T=R.pointerType==="touch"?10:2,G={x:_e,y:fe},J={originalEvent:R,delta:G};ie?(A.current=G,Jf(Q6,b,J,{discrete:!1})):oA(G,p.swipeDirection,T)?(A.current=G,Jf(K6,c,J,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(Q)>T||Math.abs(ne)>T)&&(w.current=null)}),onPointerUp:Ft(s.onPointerUp,R=>{const Q=A.current,ne=R.target;if(ne.hasPointerCapture(R.pointerId)&&ne.releasePointerCapture(R.pointerId),A.current=null,w.current=null,Q){const ie=R.currentTarget,Z={originalEvent:R,delta:Q};oA(Q,p.swipeDirection,p.swipeThreshold)?Jf(J6,m,Z,{discrete:!0}):Jf(Y6,h,Z,{discrete:!0}),ie.addEventListener("click",Ne=>Ne.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),sR=s=>{const{__scopeToast:e,children:r,...a}=s,i=Mk(Jh,e),[n,o]=v.useState(!1),[l,d]=v.useState(!1);return aR(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:de.jsx(Xy,{asChild:!0,children:de.jsx(sO,{...a,children:n&&de.jsxs(de.Fragment,{children:[i.label," ",r]})})})},tR="ToastTitle",kW=v.forwardRef((s,e)=>{const{__scopeToast:r,...a}=s;return de.jsx(sr.div,{...a,ref:e})});kW.displayName=tR;var rR="ToastDescription",gW=v.forwardRef((s,e)=>{const{__scopeToast:r,...a}=s;return de.jsx(sr.div,{...a,ref:e})});gW.displayName=rR;var xW="ToastAction",vW=v.forwardRef((s,e)=>{const{altText:r,...a}=s;return r.trim()?de.jsx(wW,{altText:r,asChild:!0,children:de.jsx(X1,{...a,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xW}\`. Expected non-empty \`string\`.`),null)});vW.displayName=xW;var DW="ToastClose",X1=v.forwardRef((s,e)=>{const{__scopeToast:r,...a}=s,i=X6(DW,r);return de.jsx(wW,{asChild:!0,children:de.jsx(sr.button,{type:"button",...a,ref:e,onClick:Ft(s.onClick,i.onClose)})})});X1.displayName=DW;var wW=v.forwardRef((s,e)=>{const{__scopeToast:r,altText:a,...i}=s;return de.jsx(sr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:e})});function jW(s){const e=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&e.push(a.textContent),iR(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",n=a.dataset.radixToastAnnounceExclude==="";if(!i)if(n){const o=a.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jW(a))}}),e}function Jf(s,e,r,{discrete:a}){const i=r.originalEvent.currentTarget,n=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(s,e,{once:!0}),a?xT(i,n):i.dispatchEvent(n)}var oA=(s,e,r=0)=>{const a=Math.abs(s.x),i=Math.abs(s.y),n=a>i;return e==="left"||e==="right"?n&&a>r:!n&&i>r};function aR(s=()=>{}){const e=Vn(s);oh(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[e])}function iR(s){return s.nodeType===s.ELEMENT_NODE}function nR(s){const e=[],r=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cx(s){const e=document.activeElement;return s.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var oR=bW,AW=fW,EW=NW,PW=kW,yW=gW,OW=vW,WW=X1;const lR=oR,UW=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(AW,{ref:r,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:14,columnNumber:3},void 0));UW.displayName=AW.displayName;const dR=Ju("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VW=v.forwardRef(({className:s,variant:e,...r},a)=>t.jsxDEV(EW,{ref:a,className:Ce(dR({variant:e}),s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:44,columnNumber:10},void 0));VW.displayName=EW.displayName;const uR=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(OW,{ref:r,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:52,columnNumber:3},void 0));uR.displayName=OW.displayName;const _W=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(WW,{ref:r,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...e,children:t.jsxDEV(qn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:76,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:67,columnNumber:3},void 0));_W.displayName=WW.displayName;const CW=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(PW,{ref:r,className:Ce("text-sm font-semibold",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:85,columnNumber:3},void 0));CW.displayName=PW.displayName;const SW=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(yW,{ref:r,className:Ce("text-sm opacity-90",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toast.tsx",lineNumber:93,columnNumber:3},void 0));SW.displayName=yW.displayName;function cR(){const{toasts:s}=Hs();return t.jsxDEV(lR,{children:[s.map(function({id:e,title:r,description:a,action:i,...n}){return t.jsxDEV(VW,{...n,children:[t.jsxDEV("div",{className:"grid gap-1",children:[r&&t.jsxDEV(CW,{children:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:13,columnNumber:25},this),a&&t.jsxDEV(SW,{children:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:14,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:12,columnNumber:13},this),i,t.jsxDEV(_W,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:17,columnNumber:13},this)]},e,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:11,columnNumber:11},this)}),t.jsxDEV(UW,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:21,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/toaster.tsx",lineNumber:8,columnNumber:5},this)}var mR=(s,e,r,a,i,n,o,l)=>{let d=document.documentElement,u=["light","dark"];function c(m){(Array.isArray(s)?s:[s]).forEach(f=>{let p=f==="class",N=p&&n?i.map(g=>n[g]||g):i;p?(d.classList.remove(...N),d.classList.add(n&&n[m]?n[m]:m)):d.setAttribute(f,m)}),b(m)}function b(m){l&&u.includes(m)&&(d.style.colorScheme=m)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)c(a);else try{let m=localStorage.getItem(e)||r,f=o&&m==="system"?h():m;c(f)}catch{}},bR=v.createContext(void 0),hR={setTheme:s=>{},themes:[]},fR=()=>{var s;return(s=v.useContext(bR))!=null?s:hR};v.memo(({forcedTheme:s,storageKey:e,attribute:r,enableSystem:a,enableColorScheme:i,defaultTheme:n,value:o,themes:l,nonce:d,scriptProps:u})=>{let c=JSON.stringify([r,e,n,s,l,o,a,i]).slice(1,-1);return v.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${mR.toString()})(${c})`}})});var pR=s=>{switch(s){case"success":return gR;case"info":return vR;case"warning":return xR;case"error":return DR;default:return null}},NR=Array(12).fill(0),kR=({visible:s,className:e})=>Ge.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},Ge.createElement("div",{className:"sonner-spinner"},NR.map((r,a)=>Ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),gR=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xR=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vR=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DR=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wR=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jR=()=>{let[s,e]=Ge.useState(document.hidden);return Ge.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),s},s0=1,AR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:a,...i}=e,n=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:s0++,o=this.toasts.find(d=>d.id===n),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(d=>d.id===n?(this.publish({...d,...e,id:n,title:a}),{...d,...e,id:n,dismissible:l,title:a}):d):this.addToast({title:a,...i,dismissible:l,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),n=a!==void 0,o,l=i.then(async u=>{if(o=["resolve",u],Ge.isValidElement(u))n=!1,this.create({id:a,type:"default",message:u});else if(PR(u)&&!u.ok){n=!1;let c=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:a,type:"error",message:c,description:b})}else if(r.success!==void 0){n=!1;let c=typeof r.success=="function"?await r.success(u):r.success,b=typeof r.description=="function"?await r.description(u):r.description;this.create({id:a,type:"success",message:c,description:b})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){n=!1;let c=typeof r.error=="function"?await r.error(u):r.error,b=typeof r.description=="function"?await r.description(u):r.description;this.create({id:a,type:"error",message:c,description:b})}}).finally(()=>{var u;n&&(this.dismiss(a),a=void 0),(u=r.finally)==null||u.call(r)}),d=()=>new Promise((u,c)=>l.then(()=>o[0]==="reject"?c(o[1]):u(o[1])).catch(c));return typeof a!="string"&&typeof a!="number"?{unwrap:d}:Object.assign(a,{unwrap:d})},this.custom=(e,r)=>{let a=(r==null?void 0:r.id)||s0++;return this.create({jsx:e(a),id:a,...r}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ri=new AR,ER=(s,e)=>{let r=(e==null?void 0:e.id)||s0++;return Ri.addToast({title:s,...e,id:r}),r},PR=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",yR=ER,OR=()=>Ri.toasts,WR=()=>Ri.getActiveToasts(),ri=Object.assign(yR,{success:Ri.success,info:Ri.info,warning:Ri.warning,error:Ri.error,custom:Ri.custom,message:Ri.message,promise:Ri.promise,dismiss:Ri.dismiss,loading:Ri.loading},{getHistory:OR,getToasts:WR});function UR(s,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s))}UR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zf(s){return s.label!==void 0}var VR=3,_R="32px",CR="16px",lA=4e3,SR=356,TR=14,RR=20,MR=200;function to(...s){return s.filter(Boolean).join(" ")}function LR(s){let[e,r]=s.split("-"),a=[];return e&&a.push(e),r&&a.push(r),a}var IR=s=>{var e,r,a,i,n,o,l,d,u,c,b;let{invert:h,toast:m,unstyled:f,interacting:p,setHeights:N,visibleToasts:g,heights:D,index:w,toasts:A,expanded:U,removeToast:E,defaultRichColors:W,closeButton:y,style:V,cancelButtonStyle:S,actionButtonStyle:O,className:_="",descriptionClassName:M="",duration:R,position:Q,gap:ne,loadingIcon:ie,expandByDefault:Z,classNames:Ne,icons:_e,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:T}=s,[G,J]=Ge.useState(null),[ce,ke]=Ge.useState(null),[we,We]=Ge.useState(!1),[Oe,ye]=Ge.useState(!1),[De,Ye]=Ge.useState(!1),[ls,pe]=Ge.useState(!1),[ee,Ms]=Ge.useState(!1),[st,Ps]=Ge.useState(0),[Je,se]=Ge.useState(0),be=Ge.useRef(m.duration||R||lA),Ee=Ge.useRef(null),Se=Ge.useRef(null),He=w===0,Te=w+1<=g,qe=m.type,ks=m.dismissible!==!1,hs=m.className||"",fs=m.descriptionClassName||"",ys=Ge.useMemo(()=>D.findIndex(Us=>Us.toastId===m.id)||0,[D,m.id]),ps=Ge.useMemo(()=>{var Us;return(Us=m.closeButton)!=null?Us:y},[m.closeButton,y]),$t=Ge.useMemo(()=>m.duration||R||lA,[m.duration,R]),wt=Ge.useRef(0),gs=Ge.useRef(0),Zs=Ge.useRef(0),yt=Ge.useRef(null),[zs,bt]=Q.split("-"),tt=Ge.useMemo(()=>D.reduce((Us,_s,at)=>at>=ys?Us:Us+_s.height,0),[D,ys]),Nr=jR(),mr=m.invert||h,rt=qe==="loading";gs.current=Ge.useMemo(()=>ys*ne+tt,[ys,tt]),Ge.useEffect(()=>{be.current=$t},[$t]),Ge.useEffect(()=>{We(!0)},[]),Ge.useEffect(()=>{let Us=Se.current;if(Us){let _s=Us.getBoundingClientRect().height;return se(_s),N(at=>[{toastId:m.id,height:_s,position:m.position},...at]),()=>N(at=>at.filter(Ht=>Ht.toastId!==m.id))}},[N,m.id]),Ge.useLayoutEffect(()=>{if(!we)return;let Us=Se.current,_s=Us.style.height;Us.style.height="auto";let at=Us.getBoundingClientRect().height;Us.style.height=_s,se(at),N(Ht=>Ht.find(vs=>vs.toastId===m.id)?Ht.map(vs=>vs.toastId===m.id?{...vs,height:at}:vs):[{toastId:m.id,height:at,position:m.position},...Ht])},[we,m.title,m.description,N,m.id]);let xs=Ge.useCallback(()=>{ye(!0),Ps(gs.current),N(Us=>Us.filter(_s=>_s.toastId!==m.id)),setTimeout(()=>{E(m)},MR)},[m,E,N,gs]);Ge.useEffect(()=>{if(m.promise&&qe==="loading"||m.duration===1/0||m.type==="loading")return;let Us;return U||p||T&&Nr?(()=>{if(Zs.current<wt.current){let _s=new Date().getTime()-wt.current;be.current=be.current-_s}Zs.current=new Date().getTime()})():be.current!==1/0&&(wt.current=new Date().getTime(),Us=setTimeout(()=>{var _s;(_s=m.onAutoClose)==null||_s.call(m,m),xs()},be.current)),()=>clearTimeout(Us)},[U,p,m,qe,T,Nr,xs]),Ge.useEffect(()=>{m.delete&&xs()},[xs,m.delete]);function it(){var Us,_s,at;return _e!=null&&_e.loading?Ge.createElement("div",{className:to(Ne==null?void 0:Ne.loader,(Us=m==null?void 0:m.classNames)==null?void 0:Us.loader,"sonner-loader"),"data-visible":qe==="loading"},_e.loading):ie?Ge.createElement("div",{className:to(Ne==null?void 0:Ne.loader,(_s=m==null?void 0:m.classNames)==null?void 0:_s.loader,"sonner-loader"),"data-visible":qe==="loading"},ie):Ge.createElement(kR,{className:to(Ne==null?void 0:Ne.loader,(at=m==null?void 0:m.classNames)==null?void 0:at.loader),visible:qe==="loading"})}return Ge.createElement("li",{tabIndex:0,ref:Se,className:to(_,hs,Ne==null?void 0:Ne.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,Ne==null?void 0:Ne.default,Ne==null?void 0:Ne[qe],(r=m==null?void 0:m.classNames)==null?void 0:r[qe]),"data-sonner-toast":"","data-rich-colors":(a=m.richColors)!=null?a:W,"data-styled":!(m.jsx||m.unstyled||f),"data-mounted":we,"data-promise":!!m.promise,"data-swiped":ee,"data-removed":Oe,"data-visible":Te,"data-y-position":zs,"data-x-position":bt,"data-index":w,"data-front":He,"data-swiping":De,"data-dismissible":ks,"data-type":qe,"data-invert":mr,"data-swipe-out":ls,"data-swipe-direction":ce,"data-expanded":!!(U||Z&&we),style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Oe?st:gs.current}px`,"--initial-height":Z?"auto":`${Je}px`,...V,...m.style},onDragEnd:()=>{Ye(!1),J(null),yt.current=null},onPointerDown:Us=>{rt||!ks||(Ee.current=new Date,Ps(gs.current),Us.target.setPointerCapture(Us.pointerId),Us.target.tagName!=="BUTTON"&&(Ye(!0),yt.current={x:Us.clientX,y:Us.clientY}))},onPointerUp:()=>{var Us,_s,at,Ht;if(ls||!ks)return;yt.current=null;let vs=Number(((Us=Se.current)==null?void 0:Us.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((_s=Se.current)==null?void 0:_s.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yr=new Date().getTime()-((at=Ee.current)==null?void 0:at.getTime()),Lt=G==="x"?vs:Mt,tr=Math.abs(Lt)/yr;if(Math.abs(Lt)>=RR||tr>.11){Ps(gs.current),(Ht=m.onDismiss)==null||Ht.call(m,m),ke(G==="x"?vs>0?"right":"left":Mt>0?"down":"up"),xs(),pe(!0),Ms(!1);return}Ye(!1),J(null)},onPointerMove:Us=>{var _s,at,Ht,vs;if(!yt.current||!ks||((_s=window.getSelection())==null?void 0:_s.toString().length)>0)return;let Mt=Us.clientY-yt.current.y,yr=Us.clientX-yt.current.x,Lt=(at=s.swipeDirections)!=null?at:LR(Q);!G&&(Math.abs(yr)>1||Math.abs(Mt)>1)&&J(Math.abs(yr)>Math.abs(Mt)?"x":"y");let tr={x:0,y:0};G==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Mt<0||Lt.includes("bottom")&&Mt>0)&&(tr.y=Mt):G==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&yr<0||Lt.includes("right")&&yr>0)&&(tr.x=yr),(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&Ms(!0),(Ht=Se.current)==null||Ht.style.setProperty("--swipe-amount-x",`${tr.x}px`),(vs=Se.current)==null||vs.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},ps&&!m.jsx?Ge.createElement("button",{"aria-label":fe,"data-disabled":rt,"data-close-button":!0,onClick:rt||!ks?()=>{}:()=>{var Us;xs(),(Us=m.onDismiss)==null||Us.call(m,m)},className:to(Ne==null?void 0:Ne.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(n=_e==null?void 0:_e.close)!=null?n:wR):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ge.createElement(Ge.Fragment,null,qe||m.icon||m.promise?Ge.createElement("div",{"data-icon":"",className:to(Ne==null?void 0:Ne.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||it():null,m.type!=="loading"?m.icon||(_e==null?void 0:_e[qe])||pR(qe):null):null,Ge.createElement("div",{"data-content":"",className:to(Ne==null?void 0:Ne.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},Ge.createElement("div",{"data-title":"",className:to(Ne==null?void 0:Ne.title,(d=m==null?void 0:m.classNames)==null?void 0:d.title)},typeof m.title=="function"?m.title():m.title),m.description?Ge.createElement("div",{"data-description":"",className:to(M,fs,Ne==null?void 0:Ne.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Zf(m.cancel)?Ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:Us=>{var _s,at;Zf(m.cancel)&&ks&&((at=(_s=m.cancel).onClick)==null||at.call(_s,Us),xs())},className:to(Ne==null?void 0:Ne.cancelButton,(c=m==null?void 0:m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Zf(m.action)?Ge.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Us=>{var _s,at;Zf(m.action)&&((at=(_s=m.action).onClick)==null||at.call(_s,Us),!Us.defaultPrevented&&xs())},className:to(Ne==null?void 0:Ne.actionButton,(b=m==null?void 0:m.classNames)==null?void 0:b.actionButton)},m.action.label):null))};function dA(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function FR(s,e){let r={};return[s,e].forEach((a,i)=>{let n=i===1,o=n?"--mobile-offset":"--offset",l=n?CR:_R;function d(u){["top","right","bottom","left"].forEach(c=>{r[`${o}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof a=="number"||typeof a=="string"?d(a):typeof a=="object"?["top","right","bottom","left"].forEach(u=>{a[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof a[u]=="number"?`${a[u]}px`:a[u]}):d(l)}),r}var zR=v.forwardRef(function(s,e){let{invert:r,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:n,closeButton:o,className:l,offset:d,mobileOffset:u,theme:c="light",richColors:b,duration:h,style:m,visibleToasts:f=VR,toastOptions:p,dir:N=dA(),gap:g=TR,loadingIcon:D,icons:w,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:U}=s,[E,W]=Ge.useState([]),y=Ge.useMemo(()=>Array.from(new Set([a].concat(E.filter(T=>T.position).map(T=>T.position)))),[E,a]),[V,S]=Ge.useState([]),[O,_]=Ge.useState(!1),[M,R]=Ge.useState(!1),[Q,ne]=Ge.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ge.useRef(null),Z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ne=Ge.useRef(null),_e=Ge.useRef(!1),fe=Ge.useCallback(T=>{W(G=>{var J;return(J=G.find(ce=>ce.id===T.id))!=null&&J.delete||Ri.dismiss(T.id),G.filter(({id:ce})=>ce!==T.id)})},[]);return Ge.useEffect(()=>Ri.subscribe(T=>{if(T.dismiss){W(G=>G.map(J=>J.id===T.id?{...J,delete:!0}:J));return}setTimeout(()=>{Qy.flushSync(()=>{W(G=>{let J=G.findIndex(ce=>ce.id===T.id);return J!==-1?[...G.slice(0,J),{...G[J],...T},...G.slice(J+1)]:[T,...G]})})})}),[]),Ge.useEffect(()=>{if(c!=="system"){ne(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:G})=>{ne(G?"dark":"light")})}catch{T.addListener(({matches:J})=>{try{ne(J?"dark":"light")}catch(ce){console.error(ce)}})}},[c]),Ge.useEffect(()=>{E.length<=1&&_(!1)},[E]),Ge.useEffect(()=>{let T=G=>{var J,ce;i.every(ke=>G[ke]||G.code===ke)&&(_(!0),(J=ie.current)==null||J.focus()),G.code==="Escape"&&(document.activeElement===ie.current||(ce=ie.current)!=null&&ce.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),Ge.useEffect(()=>{if(ie.current)return()=>{Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null,_e.current=!1)}},[ie.current]),Ge.createElement("section",{ref:e,"aria-label":`${A} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},y.map((T,G)=>{var J;let[ce,ke]=T.split("-");return E.length?Ge.createElement("ol",{key:T,dir:N==="auto"?dA():N,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":ce,"data-lifted":O&&E.length>1&&!n,"data-x-position":ke,style:{"--front-toast-height":`${((J=V[0])==null?void 0:J.height)||0}px`,"--width":`${SR}px`,"--gap":`${g}px`,...m,...FR(d,u)},onBlur:we=>{_e.current&&!we.currentTarget.contains(we.relatedTarget)&&(_e.current=!1,Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||_e.current||(_e.current=!0,Ne.current=we.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{M||_(!1)},onDragEnd:()=>_(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},E.filter(we=>!we.position&&G===0||we.position===T).map((we,We)=>{var Oe,ye;return Ge.createElement(IR,{key:we.id,icons:w,index:We,toast:we,defaultRichColors:b,duration:(Oe=p==null?void 0:p.duration)!=null?Oe:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:f,closeButton:(ye=p==null?void 0:p.closeButton)!=null?ye:o,interacting:M,position:T,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:fe,toasts:E.filter(De=>De.position==we.position),heights:V.filter(De=>De.position==we.position),setHeights:S,expandByDefault:n,gap:g,loadingIcon:D,expanded:O,pauseWhenPageIsHidden:U,swipeDirections:s.swipeDirections})})):null}))});const BR=({...s})=>{const{theme:e="system"}=fR();return t.jsxDEV(zR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};var[Lk,wde]=Gn("Tooltip",[jk]),Ik=jk(),TW="TooltipProvider",qR=700,t0="tooltip.open",[$R,eD]=Lk(TW),RW=s=>{const{__scopeTooltip:e,delayDuration:r=qR,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:n}=s,o=v.useRef(!0),l=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),de.jsx($R,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:n})};RW.displayName=TW;var uh="Tooltip",[HR,Fk]=Lk(uh),MW=s=>{const{__scopeTooltip:e,children:r,open:a,defaultOpen:i,onOpenChange:n,disableHoverableContent:o,delayDuration:l}=s,d=eD(uh,s.__scopeTooltip),u=Ik(e),[c,b]=v.useState(null),h=V1(),m=v.useRef(0),f=o??d.disableHoverableContent,p=l??d.delayDuration,N=v.useRef(!1),[g,D]=Yu({prop:a,defaultProp:i??!1,onChange:W=>{W?(d.onOpen(),document.dispatchEvent(new CustomEvent(t0))):d.onClose(),n==null||n(W)},caller:uh}),w=v.useMemo(()=>g?N.current?"delayed-open":"instant-open":"closed",[g]),A=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,N.current=!1,D(!0)},[D]),U=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,D(!1)},[D]),E=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{N.current=!0,D(!0),m.current=0},p)},[p,D]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),de.jsx(eO,{...u,children:de.jsx(HR,{scope:e,contentId:h,open:g,stateAttribute:w,trigger:c,onTriggerChange:b,onTriggerEnter:v.useCallback(()=>{d.isOpenDelayedRef.current?E():A()},[d.isOpenDelayedRef,E,A]),onTriggerLeave:v.useCallback(()=>{f?U():(window.clearTimeout(m.current),m.current=0)},[U,f]),onOpen:A,onClose:U,disableHoverableContent:f,children:r})})};MW.displayName=uh;var r0="TooltipTrigger",LW=v.forwardRef((s,e)=>{const{__scopeTooltip:r,...a}=s,i=Fk(r0,r),n=eD(r0,r),o=Ik(r),l=v.useRef(null),d=va(e,l,i.onTriggerChange),u=v.useRef(!1),c=v.useRef(!1),b=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),de.jsx(U1,{asChild:!0,...o,children:de.jsx(sr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:d,onPointerMove:Ft(s.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!n.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:Ft(s.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:Ft(s.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Ft(s.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ft(s.onBlur,i.onClose),onClick:Ft(s.onClick,i.onClose)})})});LW.displayName=r0;var GR="TooltipPortal",[jde,KR]=Lk(GR,{forceMount:void 0}),nm="TooltipContent",IW=v.forwardRef((s,e)=>{const r=KR(nm,s.__scopeTooltip),{forceMount:a=r.forceMount,side:i="top",...n}=s,o=Fk(nm,s.__scopeTooltip);return de.jsx(xo,{present:a||o.open,children:o.disableHoverableContent?de.jsx(FW,{side:i,...n,ref:e}):de.jsx(QR,{side:i,...n,ref:e})})}),QR=v.forwardRef((s,e)=>{const r=Fk(nm,s.__scopeTooltip),a=eD(nm,s.__scopeTooltip),i=v.useRef(null),n=va(e,i),[o,l]=v.useState(null),{trigger:d,onClose:u}=r,c=i.current,{onPointerInTransitChange:b}=a,h=v.useCallback(()=>{l(null),b(!1)},[b]),m=v.useCallback((f,p)=>{const N=f.currentTarget,g={x:f.clientX,y:f.clientY},D=e9(g,N.getBoundingClientRect()),w=s9(g,D),A=t9(p.getBoundingClientRect()),U=a9([...w,...A]);l(U),b(!0)},[b]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(d&&c){const f=N=>m(N,c),p=N=>m(N,d);return d.addEventListener("pointerleave",f),c.addEventListener("pointerleave",p),()=>{d.removeEventListener("pointerleave",f),c.removeEventListener("pointerleave",p)}}},[d,c,m,h]),v.useEffect(()=>{if(o){const f=p=>{const N=p.target,g={x:p.clientX,y:p.clientY},D=(d==null?void 0:d.contains(N))||(c==null?void 0:c.contains(N)),w=!r9(g,o);D?h():w&&(h(),u())};return document.addEventListener("pointermove",f),()=>document.removeEventListener("pointermove",f)}},[d,c,o,u,h]),de.jsx(FW,{...s,ref:n})}),[YR,JR]=Lk(uh,{isInside:!1}),ZR=tO("TooltipContent"),FW=v.forwardRef((s,e)=>{const{__scopeTooltip:r,children:a,"aria-label":i,onEscapeKeyDown:n,onPointerDownOutside:o,...l}=s,d=Fk(nm,r),u=Ik(r),{onClose:c}=d;return v.useEffect(()=>(document.addEventListener(t0,c),()=>document.removeEventListener(t0,c)),[c]),v.useEffect(()=>{if(d.trigger){const b=h=>{const m=h.target;m!=null&&m.contains(d.trigger)&&c()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[d.trigger,c]),de.jsx(Yy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:b=>b.preventDefault(),onDismiss:c,children:de.jsxs(Jy,{"data-state":d.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[de.jsx(ZR,{children:a}),de.jsx(YR,{scope:r,isInside:!0,children:de.jsx(vT,{id:d.contentId,role:"tooltip",children:i||a})})]})})});IW.displayName=nm;var zW="TooltipArrow",XR=v.forwardRef((s,e)=>{const{__scopeTooltip:r,...a}=s,i=Ik(r);return JR(zW,r).isInside?null:de.jsx(Zy,{...i,...a,ref:e})});XR.displayName=zW;function e9(s,e){const r=Math.abs(e.top-s.y),a=Math.abs(e.bottom-s.y),i=Math.abs(e.right-s.x),n=Math.abs(e.left-s.x);switch(Math.min(r,a,i,n)){case n:return"left";case i:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function s9(s,e,r=5){const a=[];switch(e){case"top":a.push({x:s.x-r,y:s.y+r},{x:s.x+r,y:s.y+r});break;case"bottom":a.push({x:s.x-r,y:s.y-r},{x:s.x+r,y:s.y-r});break;case"left":a.push({x:s.x+r,y:s.y-r},{x:s.x+r,y:s.y+r});break;case"right":a.push({x:s.x-r,y:s.y-r},{x:s.x-r,y:s.y+r});break}return a}function t9(s){const{top:e,right:r,bottom:a,left:i}=s;return[{x:i,y:e},{x:r,y:e},{x:r,y:a},{x:i,y:a}]}function r9(s,e){const{x:r,y:a}=s;let i=!1;for(let n=0,o=e.length-1;n<e.length;o=n++){const l=e[n],d=e[o],u=l.x,c=l.y,b=d.x,h=d.y;c>a!=h>a&&r<(b-u)*(a-c)/(h-c)+u&&(i=!i)}return i}function a9(s){const e=s.slice();return e.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),i9(e)}function i9(s){if(s.length<=1)return s.slice();const e=[];for(let a=0;a<s.length;a++){const i=s[a];for(;e.length>=2;){const n=e[e.length-1],o=e[e.length-2];if((n.x-o.x)*(i.y-o.y)>=(n.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let a=s.length-1;a>=0;a--){const i=s[a];for(;r.length>=2;){const n=r[r.length-1],o=r[r.length-2];if((n.x-o.x)*(i.y-o.y)>=(n.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var n9=RW,o9=MW,l9=LW,BW=IW;const Zh=n9,ch=o9,mh=l9,om=v.forwardRef(({className:s,sideOffset:e=4,...r},a)=>t.jsxDEV(BW,{ref:a,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0));om.displayName=BW.displayName;const d9=s=>s?(...e)=>s(...e):(...e)=>fetch(...e);class sD extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class uA extends sD{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cA extends sD{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mA extends sD{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a0;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(a0||(a0={}));class u9{constructor(e,{headers:r={},customFetch:a,region:i=a0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=d9(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $s(this,arguments,void 0,function*(r,a={}){var i;try{const{headers:n,method:o,body:l,signal:d}=a;let u={},{region:c}=a;c||(c=this.region);const b=new URL(`${this.url}/${r}`);c&&c!=="any"&&(u["x-region"]=c,b.searchParams.set("forceFunctionRegion",c));let h;l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:h,signal:d}).catch(g=>{throw g.name==="AbortError"?g:new uA(g)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new cA(m);if(!m.ok)throw new mA(m);let p=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return p==="application/json"?N=yield m.json():p==="application/octet-stream"||p==="application/pdf"?N=yield m.blob():p==="text/event-stream"?N=m:p==="multipart/form-data"?N=yield m.formData():N=yield m.text(),{data:N,error:null,response:m}}catch(n){return n instanceof Error&&n.name==="AbortError"?{data:null,error:new uA(n)}:{data:null,error:n,response:n instanceof mA||n instanceof cA?n.context:void 0}}})}}var Ei={};const Wm=oT(DT);var Xf={},ep={},sp={},tp={},rp={},ap={},bA;function qW(){if(bA)return ap;bA=1,Object.defineProperty(ap,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ap.default=s,ap}var hA;function $W(){if(hA)return rp;hA=1,Object.defineProperty(rp,"__esModule",{value:!0});const e=Wm.__importDefault(qW());class r{constructor(i){var n,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,c,b,h;let m=null,f=null,p=null,N=d.status,g=d.statusText;if(d.ok){if(this.method!=="HEAD"){const U=await d.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const w=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),A=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");w&&A&&A.length>1&&(p=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(m={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,N=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await d.text();try{m=JSON.parse(w),Array.isArray(m)&&d.status===404&&(f=[],m=null,N=200,g="OK")}catch{d.status===404&&w===""?(N=204,g="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,N=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:f,count:p,status:N,statusText:g}});return this.shouldThrowOnError||(l=l.catch(d=>{var u,c,b;return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(c=d==null?void 0:d.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(b=d==null?void 0:d.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,n)}returns(){return this}overrideTypes(){return this}}return rp.default=r,rp}var fA;function HW(){if(fA)return tp;fA=1,Object.defineProperty(tp,"__esModule",{value:!0});const e=Wm.__importDefault($W());class r extends e.default{select(i){let n=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:o,foreignTable:l,referencedTable:d=l}={}){const u=d?`${d}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${n?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(u,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:o=!1,buffers:l=!1,wal:d=!1,format:u="text"}={}){var c;const b=[i?"analyze":null,n?"verbose":null,o?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${b};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return tp.default=r,tp}var pA;function tD(){if(pA)return sp;pA=1,Object.defineProperty(sp,"__esModule",{value:!0});const e=Wm.__importDefault(HW()),r=new RegExp("[,()]");class a extends e.default{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const l=Array.from(new Set(o)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(n,`in.(${l})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:l,type:d}={}){let u="";d==="plain"?u="pl":d==="phrase"?u="ph":d==="websearch"&&(u="w");const c=l===void 0?"":`(${l})`;return this.url.searchParams.append(n,`${u}fts${c}.${o}`),this}match(n){return Object.entries(n).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(n,o,l){return this.url.searchParams.append(n,`not.${o}.${l}`),this}or(n,{foreignTable:o,referencedTable:l=o}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${n})`),this}filter(n,o,l){return this.url.searchParams.append(n,`${o}.${l}`),this}}return sp.default=a,sp}var NA;function GW(){if(NA)return ep;NA=1,Object.defineProperty(ep,"__esModule",{value:!0});const e=Wm.__importDefault(tD());class r{constructor(i,{headers:n={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=o,this.fetch=l}select(i,n){const{head:o=!1,count:l}=n??{},d=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(b=>/\s/.test(b)&&!u?"":(b==='"'&&(u=!u),b)).join("");return this.url.searchParams.set("select",c),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:o=!0}={}){var l;const d="POST";if(n&&this.headers.append("Prefer",`count=${n}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,b)=>c.concat(Object.keys(b)),[]);if(u.length>0){const c=[...new Set(u)].map(b=>`"${b}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:o=!1,count:l,defaultToNull:d=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(b.length>0){const h=[...new Set(b)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:n}={}){var o;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var n;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}}return ep.default=r,ep}var kA;function c9(){if(kA)return Xf;kA=1,Object.defineProperty(Xf,"__esModule",{value:!0});const s=Wm,e=s.__importDefault(GW()),r=s.__importDefault(tD());class a{constructor(n,{headers:o={},schema:l,fetch:d}={}){this.url=n,this.headers=new Headers(o),this.schemaName=l,this.fetch=d}from(n){const o=new URL(`${this.url}/${n}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new a(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,o={},{head:l=!1,get:d=!1,count:u}={}){var c;let b;const h=new URL(`${this.url}/rpc/${n}`);let m;l||d?(b=l?"HEAD":"GET",Object.entries(o).filter(([p,N])=>N!==void 0).map(([p,N])=>[p,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([p,N])=>{h.searchParams.append(p,N)})):(b="POST",m=o);const f=new Headers(this.headers);return u&&f.set("Prefer",`count=${u}`),new r.default({method:b,url:h,headers:f,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Xf.default=a,Xf}Object.defineProperty(Ei,"__esModule",{value:!0});var KW=Ei.PostgrestError=aU=Ei.PostgrestBuilder=tU=Ei.PostgrestTransformBuilder=eU=Ei.PostgrestFilterBuilder=ZW=Ei.PostgrestQueryBuilder=YW=Ei.PostgrestClient=void 0;const Um=Wm,QW=Um.__importDefault(c9());var YW=Ei.PostgrestClient=QW.default;const JW=Um.__importDefault(GW());var ZW=Ei.PostgrestQueryBuilder=JW.default;const XW=Um.__importDefault(tD());var eU=Ei.PostgrestFilterBuilder=XW.default;const sU=Um.__importDefault(HW());var tU=Ei.PostgrestTransformBuilder=sU.default;const rU=Um.__importDefault($W());var aU=Ei.PostgrestBuilder=rU.default;const iU=Um.__importDefault(qW());KW=Ei.PostgrestError=iU.default;var nU=Ei.default={PostgrestClient:QW.default,PostgrestQueryBuilder:JW.default,PostgrestFilterBuilder:XW.default,PostgrestTransformBuilder:sU.default,PostgrestBuilder:rU.default,PostgrestError:iU.default};const m9=qT({__proto__:null,get PostgrestBuilder(){return aU},get PostgrestClient(){return YW},get PostgrestError(){return KW},get PostgrestFilterBuilder(){return eU},get PostgrestQueryBuilder(){return ZW},get PostgrestTransformBuilder(){return tU},default:nU},[Ei]),{PostgrestClient:b9,PostgrestQueryBuilder:Ade,PostgrestFilterBuilder:Ede,PostgrestTransformBuilder:Pde,PostgrestBuilder:yde,PostgrestError:Ode}=nU||m9;class h9{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const f9="2.79.0",p9=`realtime-js/${f9}`,N9="1.0.0",i0=1e4,k9=1e3,g9=100;var Mb;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Mb||(Mb={}));var La;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(La||(La={}));var oo;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(oo||(oo={}));var n0;(function(s){s.websocket="websocket"})(n0||(n0={}));var mu;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(mu||(mu={}));class x9{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,r,a)}_decodeBroadcast(e,r,a){const i=r.getUint8(1),n=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(e.slice(o,o+i));o=o+i;const d=a.decode(e.slice(o,o+n));o=o+n;const u=JSON.parse(a.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}class oU{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mr;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Mr||(Mr={}));const gA=(s,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((n,o)=>(n[o]=v9(o,s,e,i),n),{}):{}},v9=(s,e,r,a)=>{const i=e.find(l=>l.name===s),n=i==null?void 0:i.type,o=r[s];return n&&!a.includes(n)?lU(n,o):o0(o)},lU=(s,e)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return A9(e,r)}switch(s){case Mr.bool:return D9(e);case Mr.float4:case Mr.float8:case Mr.int2:case Mr.int4:case Mr.int8:case Mr.numeric:case Mr.oid:return w9(e);case Mr.json:case Mr.jsonb:return j9(e);case Mr.timestamp:return E9(e);case Mr.abstime:case Mr.date:case Mr.daterange:case Mr.int4range:case Mr.int8range:case Mr.money:case Mr.reltime:case Mr.text:case Mr.time:case Mr.timestamptz:case Mr.timetz:case Mr.tsrange:case Mr.tstzrange:return o0(e);default:return o0(e)}},o0=s=>s,D9=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},w9=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},j9=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},A9=(s,e)=>{if(typeof s!="string")return s;const r=s.length-1,a=s[r];if(s[0]==="{"&&a==="}"){let n;const o=s.slice(1,r);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(l=>lU(e,l))}return s},E9=s=>typeof s=="string"?s.replace(" ","T"):s,dU=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mx{constructor(e,r,a={},i=i0){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xA;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(xA||(xA={}));class Lb{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lb.syncState(this.state,i,n,o),this.pendingDiffs.forEach(d=>{this.state=Lb.syncDiff(this.state,d,n,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lb.syncDiff(this.state,i,n,o),l())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const n=this.cloneDeep(e),o=this.transformState(r),l={},d={};return this.map(n,(u,c)=>{o[u]||(d[u]=c)}),this.map(o,(u,c)=>{const b=n[u];if(b){const h=c.map(N=>N.presence_ref),m=b.map(N=>N.presence_ref),f=c.filter(N=>m.indexOf(N.presence_ref)<0),p=b.filter(N=>h.indexOf(N.presence_ref)<0);f.length>0&&(l[u]=f),p.length>0&&(d[u]=p)}else l[u]=c}),this.syncDiff(n,{joins:l,leaves:d},a,i)}static syncDiff(e,r,a,i){const{joins:n,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(n,(l,d)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(d),c.length>0){const b=e[l].map(m=>m.presence_ref),h=c.filter(m=>b.indexOf(m.presence_ref)<0);e[l].unshift(...h)}a(l,c,d)}),this.map(o,(l,d)=>{let u=e[l];if(!u)return;const c=d.map(b=>b.presence_ref);u=u.filter(b=>c.indexOf(b.presence_ref)<0),e[l]=u,i(l,u,d),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vA;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(vA||(vA={}));var Ib;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ib||(Ib={}));var hl;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(hl||(hl={}));class rD{constructor(e,r={config:{}},a){var i,n;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=La.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mx(this,oo.join,this.params,this.timeout),this.rejoinTimer=new oU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=La.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=La.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=La.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Lb(this),this.broadcastEndpointURL=dU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((n=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||n===void 0)&&n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,n;if(this.socket.isConnected()||this.socket.connect(),this.state==La.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ib.PRESENCE]&&this.bindings[Ib.PRESENCE].length>0||((n=this.params.config.presence)===null||n===void 0?void 0:n.enabled)===!0,b={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(hl.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(hl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){e==null||e(hl.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,N=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,g=[];for(let D=0;D<N;D++){const w=p[D],{filter:{event:A,schema:U,table:E,filter:W}}=w,y=m&&m[D];if(y&&y.event===A&&y.schema===U&&y.table===E&&y.filter===W)g.push(Object.assign(Object.assign({},w),{id:y.id}));else{this.unsubscribe(),this.state=La.errored,e==null||e(hl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(hl.SUBSCRIBED);return}}).receive("error",m=>{this.state=La.errored,e==null||e(hl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===La.joined&&e===Ib.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const n=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:n,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const u=await l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:n,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,l,d;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&n("ok"),u.receive("ok",()=>n("ok")),u.receive("error",()=>n("error")),u.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=La.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new mx(this,oo.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=La.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,n=setTimeout(()=>i.abort(),a),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(n),o}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new mx(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,n;const o=e.toLocaleLowerCase(),{close:l,error:d,leave:u,join:c}=oo;if(a&&[l,d,u,c].indexOf(o)>=0&&a!==this._joinRef())return;let h=this._onMessage(o,r,a);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var f,p,N;return((f=m.filter)===null||f===void 0?void 0:f.event)==="*"||((N=(p=m.filter)===null||p===void 0?void 0:p.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(m=>m.callback(h,a)):(n=this.bindings[o])===null||n===void 0||n.filter(m=>{var f,p,N,g,D,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const A=m.id,U=(f=m.filter)===null||f===void 0?void 0:f.event;return A&&((p=r.ids)===null||p===void 0?void 0:p.includes(A))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const A=(D=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return A==="*"||A===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:p,table:N,commit_timestamp:g,type:D,errors:w}=f;h=Object.assign(Object.assign({},{schema:p,table:N,commit_timestamp:g,eventType:D,new:{},old:{},errors:w}),this._getPayloadRecords(f))}m.callback(h,a)})}_isClosed(){return this.state===La.closed}_isJoined(){return this.state===La.joined}_isJoining(){return this.state===La.joining}_isLeaving(){return this.state===La.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),n={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===a&&rD.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=La.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gA(e.columns,e.old_record)),r}}const bx=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P9=[1e3,2e3,5e3,1e4],y9=1e4,O9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W9{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=i0,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bx,this.ref=0,this.reconnectTimer=null,this.logger=bx,this.conn=null,this.sendBuffer=[],this.serializer=new x9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${n0.websocket}`,this.httpEndpoint=dU(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=h9.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:N9}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Mb.connecting:return mu.Connecting;case Mb.open:return mu.Open;case Mb.closing:return mu.Closing;default:return mu.Closed}}isConnected(){return this.connectionState()===mu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(n=>n.topic===a);if(i)return i;{const n=new rD(`realtime:${e}`,r,this);return this.channels.push(n),n}}push(e){const{topic:r,event:a,payload:i,ref:n}=e,o=()=>{this.encode(e,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${a} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(k9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:n,ref:o}=r,l=o?`(${o})`:"",d=n.status||"";this.log("receive",`${d} ${a} ${i} ${l}`.trim(),n),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,n,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([O9],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:p9};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(oo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new oU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,n,o,l,d,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:i0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ip.HEARTBEAT_INTERVAL,this.worker=(n=e==null?void 0:e.worker)!==null&&n!==void 0?n:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:bx,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:b=>P9[b-1]||y9,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(b,h)=>h(JSON.stringify(b)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class aD extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Zr(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class U9 extends aD{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l0 extends aD{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const iD=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),V9=()=>Response,d0=s=>{if(Array.isArray(s))return s.map(r=>d0(r));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=d0(a)}),e},_9=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},hx=s=>{var e;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(e=s.error)===null||e===void 0?void 0:e.message)||JSON.stringify(s)},C9=(s,e,r)=>$s(void 0,void 0,void 0,function*(){const a=yield V9();s instanceof a&&!(r!=null&&r.noResolveJson)?s.json().then(i=>{const n=s.status||500,o=(i==null?void 0:i.statusCode)||n+"";e(new U9(hx(i),n,o))}).catch(i=>{e(new l0(hx(i),i))}):e(new l0(hx(s),s))}),S9=(s,e,r,a)=>{const i={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!a?i:(_9(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Xh(s,e,r,a,i,n){return $s(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(r,S9(e,a,i,n)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>C9(d,l,a))})})}function bh(s,e,r,a){return $s(this,void 0,void 0,function*(){return Xh(s,"GET",e,r,a)})}function no(s,e,r,a,i){return $s(this,void 0,void 0,function*(){return Xh(s,"POST",e,a,i,r)})}function u0(s,e,r,a,i){return $s(this,void 0,void 0,function*(){return Xh(s,"PUT",e,a,i,r)})}function T9(s,e,r,a){return $s(this,void 0,void 0,function*(){return Xh(s,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function nD(s,e,r,a,i){return $s(this,void 0,void 0,function*(){return Xh(s,"DELETE",e,a,i,r)})}class R9{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return $s(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Zr(e))return{data:null,error:e};throw e}})}}var uU;class M9{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[uU]="BlobDownloadBuilder",this.promise=null}asStream(){return new R9(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return $s(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Zr(e))return{data:null,error:e};throw e}})}}uU=Symbol.toStringTag;const L9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I9{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=iD(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return $s(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},DA),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),d&&n.append("metadata",this.encodeMetadata(d)),n.append("",a)):typeof FormData<"u"&&a instanceof FormData?(n=a,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),d&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(d))):(n=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&n instanceof ReadableStream||n&&typeof n=="object"&&"pipe"in n&&typeof n.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),b=yield(e=="PUT"?u0:no)(this.fetch,`${this.url}/object/${c}`,n,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:b.Id,fullPath:b.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zr(n))return{data:null,error:n};throw n}})}upload(e,r,a){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return $s(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let d;const u=Object.assign({upsert:DA.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",u.cacheControl)):(d=a,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const b=yield u0(this.fetch,l.toString(),d,{headers:c});return{data:{path:n,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Zr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return $s(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const n=yield no(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),o=new URL(this.url+n.url),l=o.searchParams.get("token");if(!l)throw new aD("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zr(a))return{data:null,error:a};throw a}})}update(e,r,a){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return $s(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}copy(e,r,a){return $s(this,void 0,void 0,function*(){try{return{data:{path:(yield no(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return $s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield no(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return $s(this,void 0,void 0,function*(){try{const i=yield no(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),n=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=n?`?${n}`:"",l=this._getFinalPath(e),d=()=>bh(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new M9(d,this.shouldThrowOnError)}info(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield bh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:d0(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zr(a))return{data:null,error:a};throw a}})}exists(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield T9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zr(a)&&a instanceof l0){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],n=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";n!==""&&i.push(n);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&i.push(d);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(e){return $s(this,void 0,void 0,function*(){try{return{data:yield nD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}list(e,r,a){return $s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L9),r),{prefix:e||""});return{data:yield no(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}listV2(e,r){return $s(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield no(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const cU="2.79.0",mU={"X-Client-Info":`storage-js/${cU}`};class F9{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const n=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mU),r),this.fetch=iD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return $s(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield bh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}getBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}createBucket(e){return $s(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return $s(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zr(a))return{data:null,error:a};throw a}})}emptyBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield nD(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class z9{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mU),r),this.fetch=iD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}listBuckets(e){return $s(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield bh(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield nD(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zr(r))return{data:null,error:r};throw r}})}}const oD={"X-Client-Info":`storage-js/${cU}`,"Content-Type":"application/json"};class bU extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dn(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class fx extends bU{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B9 extends bU{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var wA;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wA||(wA={}));const lD=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),q9=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},jA=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),$9=(s,e,r)=>$s(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(r!=null&&r.noResolveJson)){const i=s.status||500,n=s;if(typeof n.json=="function")n.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new fx(jA(o),i,l))}).catch(()=>{const o=i+"",l=n.statusText||`HTTP ${i} error`;e(new fx(l,i,o))});else{const o=i+"",l=n.statusText||`HTTP ${i} error`;e(new fx(l,i,o))}}else e(new B9(jA(s),s))}),H9=(s,e,r,a)=>{const i={method:s,headers:(e==null?void 0:e.headers)||{}};return a?(q9(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function G9(s,e,r,a,i,n){return $s(this,void 0,void 0,function*(){return new Promise((o,l)=>{s(r,H9(e,a,i,n)).then(d=>{if(!d.ok)throw d;if(a!=null&&a.noResolveJson)return d;const u=d.headers.get("content-type");return!u||!u.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>$9(d,l,a))})})}function un(s,e,r,a,i){return $s(this,void 0,void 0,function*(){return G9(s,"POST",e,a,i,r)})}class K9{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oD),r),this.fetch=lD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return $s(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return $s(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}listIndexes(e){return $s(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return $s(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dn(a))return{data:null,error:a};throw a}})}}class Q9{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oD),r),this.fetch=lD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return $s(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield un(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getVectors(e){return $s(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listVectors(e){return $s(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield un(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}queryVectors(e){return $s(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return $s(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield un(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}}class Y9{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oD),r),this.fetch=lD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}getBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}listBuckets(){return $s(this,arguments,void 0,function*(e={}){try{return{data:yield un(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $s(this,void 0,void 0,function*(){try{return{data:(yield un(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dn(r))return{data:null,error:r};throw r}})}}class J9 extends Y9{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Z9(this.url,this.headers,e,this.fetch)}}class Z9 extends K9{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return $s(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return $s(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return $s(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return $s(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new X9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class X9 extends Q9{constructor(e,r,a,i,n){super(e,r,n),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return $s(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return $s(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return $s(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return $s(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return $s(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class e8 extends F9{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new I9(this.url,this.headers,e,this.fetch)}get vectors(){return new J9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z9(this.url+"/iceberg",this.headers,this.fetch)}}const s8="2.79.0";let yb="";typeof Deno<"u"?yb="deno":typeof document<"u"?yb="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yb="react-native":yb="node";const t8={"X-Client-Info":`supabase-js-${yb}/${s8}`},r8={headers:t8},a8={schema:"public"},i8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n8={},o8=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),l8=()=>Headers,d8=(s,e,r)=>{const a=o8(r),i=l8();return async(n,o)=>{var l;const d=(l=await e())!==null&&l!==void 0?l:s;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),a(n,Object.assign(Object.assign({},o),{headers:u}))}};function u8(s){return s.endsWith("/")?s:s+"/"}function c8(s,e){var r,a;const{db:i,auth:n,realtime:o,global:l}=s,{db:d,auth:u,realtime:c,global:b}=e,h={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},u),n),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},b),l),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?h.accessToken=s.accessToken:delete h.accessToken,h}function m8(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hU="2.79.0",_c=30*1e3,c0=3,px=c0*_c,b8="http://localhost:9999",h8="supabase.auth.token",f8={"X-Client-Info":`gotrue-js/${hU}`},m0="X-Supabase-Api-Version",fU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N8=10*60*1e3;class hh extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Qs(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class k8 extends hh{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function g8(s){return Qs(s)&&s.name==="AuthApiError"}class bu extends hh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sd extends hh{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}}class ao extends Sd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x8(s){return Qs(s)&&s.name==="AuthSessionMissingError"}class gc extends Sd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class np extends Sd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class op extends Sd{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v8(s){return Qs(s)&&s.name==="AuthImplicitGrantRedirectError"}class AA extends Sd{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b0 extends Sd{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Nx(s){return Qs(s)&&s.name==="AuthRetryableFetchError"}class EA extends Sd{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class h0 extends Sd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),PA=` 	
\r=`.split(""),D8=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<PA.length;e+=1)s[PA[e].charCodeAt(0)]=-2;for(let e=0;e<uN.length;e+=1)s[uN[e].charCodeAt(0)]=e;return s})();function yA(s,e,r){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(uN[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(uN[a]),e.queuedBits-=6}}function pU(s,e,r){const a=D8[s];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function OA(s){const e=[],r=o=>{e.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{A8(o,a,r)};for(let o=0;o<s.length;o+=1)pU(s.charCodeAt(o),i,n);return e.join("")}function w8(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function j8(s,e){for(let r=0;r<s.length;r+=1){let a=s.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(s.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}w8(a,e)}}function A8(s,e,r){if(e.utf8seq===0){if(s<=127){r(s);return}for(let a=1;a<6;a+=1)if(!(s>>7-a&1)){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $c(s){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<s.length;i+=1)pU(s.charCodeAt(i),r,a);return new Uint8Array(e)}function E8(s){const e=[];return j8(s,r=>e.push(r)),new Uint8Array(e)}function ku(s){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return s.forEach(i=>yA(i,r,a)),yA(null,r,a),e.join("")}function P8(s){return Math.round(Date.now()/1e3)+s}function y8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const fi=()=>typeof window<"u"&&typeof document<"u",nu={tested:!1,writable:!1},NU=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nu.tested)return nu.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),nu.tested=!0,nu.writable=!0}catch{nu.tested=!0,nu.writable=!1}return nu.writable};function O8(s){const e={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const kU=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),W8=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Cc=async(s,e,r)=>{await s.setItem(e,JSON.stringify(r))},ou=async(s,e)=>{const r=await s.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gl=async(s,e)=>{await s.removeItem(e)};class zk{constructor(){this.promise=new zk.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zk.promiseConstructor=Promise;function kx(s){const e=s.split(".");if(e.length!==3)throw new h0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!p8.test(e[a]))throw new h0("JWT not in base64url format");return{header:JSON.parse(OA(e[0])),payload:JSON.parse(OA(e[1])),signature:$c(e[2]),raw:{header:e[0],payload:e[1]}}}async function U8(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function V8(s,e){return new Promise((a,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await s(n);if(!e(n,null,o)){a(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function _8(s){return("0"+s.toString(16)).substr(-2)}function C8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let n=0;n<56;n++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,_8).join("")}async function S8(s){const r=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function T8(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await S8(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(s,e,r=!1){const a=C8();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await Cc(s,`${e}-code-verifier`,i);const n=await T8(a);return[n,a===n?"plain":"s256"]}const R8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M8(s){const e=s.headers.get(m0);if(!e||!e.match(R8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L8(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function I8(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vc(s){if(!F8.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gx(){const s={};return new Proxy(s,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z8(s,e){return new Proxy(s,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)"||n==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function WA(s){return JSON.parse(JSON.stringify(s))}const du=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),B8=[502,503,504];async function UA(s){var e;if(!W8(s))throw new b0(du(s),0);if(B8.includes(s.status))throw new b0(du(s),s.status);let r;try{r=await s.json()}catch(n){throw new bu(du(n),n)}let a;const i=M8(s);if(i&&i.getTime()>=fU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new EA(du(r),s.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ao}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new EA(du(r),s.status,r.weak_password.reasons);throw new k8(du(r),s.status||500,a)}const q8=(s,e,r,a)=>{const i={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function ot(s,e,r,a){var i;const n=Object.assign({},a==null?void 0:a.headers);n[m0]||(n[m0]=fU["2024-01-01"].name),a!=null&&a.jwt&&(n.Authorization=`Bearer ${a.jwt}`);const o=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await $8(s,e,r+l,{headers:n,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function $8(s,e,r,a,i,n){const o=q8(e,a,i,n);let l;try{l=await s(r,Object.assign({},o))}catch(d){throw console.error(d),new b0(du(d),0)}if(l.ok||await UA(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await UA(d)}}function io(s){var e;let r=null;K8(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=P8(s.expires_in)));const a=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:r,user:a},error:null}}function VA(s){const e=io(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ad(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function H8(s){return{data:s,error:null}}function G8(s){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:n}=s,o=Ak(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:n},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function _A(s){return s}function K8(s){return s.access_token&&s.refresh_token&&s.expires_in}const xx=["global","local","others"];class Q8{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=kU(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=xx[0]){if(xx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xx.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Qs(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ad})}catch(a){if(Qs(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Ak(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:G8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qs(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ad})}catch(r){if(Qs(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,n,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},c=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:_A});if(c.error)throw c.error;const b=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(d=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return m.length>0&&(m.forEach(f=>{const p=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(f.split(";")[1].split("=")[1]);u[`${N}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},b),u),error:null}}catch(u){if(Qs(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){vc(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ad})}catch(r){if(Qs(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vc(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ad})}catch(a){if(Qs(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){vc(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ad})}catch(a){if(Qs(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){vc(e.userId);try{const{data:r,error:a}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(Qs(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vc(e.userId),vc(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Qs(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,n,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},c=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:_A});if(c.error)throw c.error;const b=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(d=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return m.length>0&&(m.forEach(f=>{const p=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(f.split(";")[1].split("=")[1]);u[`${N}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},b),u),error:null}}catch(u){if(Qs(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qs(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qs(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Qs(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qs(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qs(r))return{data:null,error:r};throw r}}}function CA(s={}){return{getItem:e=>s[e]||null,setItem:(e,r)=>{s[e]=r},removeItem:e=>{delete s[e]}}}const Dc={debug:!!(globalThis&&NU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gU extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Y8 extends gU{}async function J8(s,e,r){Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,i.name);try{return await r()}finally{Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,i.name)}}else{if(e===0)throw Dc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Y8(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Dc.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Z8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xU(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function X8(s){return parseInt(s,16)}function eM(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function sM(s){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:n=new Date,nonce:o,notBefore:l,requestId:d,resources:u,scheme:c,uri:b,version:h}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const m=xU(s.address),f=c?`${c}://${a}`:a,p=s.statement?`${s.statement}
`:"",N=`${f} wants you to sign in with your Ethereum account:
${m}

${p}`;let g=`URI: ${b}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${n.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),d&&(g+=`
Request ID: ${d}`),u){let D=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);D+=`
- ${w}`}g+=D}return`${N}
${g}`}class Pa extends Error{constructor({message:e,code:r,cause:a,name:i}){var n;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(n=i??(a instanceof Error?a.name:void 0))!==null&&n!==void 0?n:"Unknown Error",this.code=r}}class cN extends Pa{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function tM({error:s,options:e}){var r,a,i;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=n.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((a=n.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((i=n.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Pa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Pa({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return n.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Pa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(vU(o)){if(n.rp.id!==o)return new Pa({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Pa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Pa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Pa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Pa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function rM({error:s,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Pa({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(vU(a)){if(r.rpId!==a)return new Pa({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Pa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Pa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Pa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class aM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iM=new aM;function nM(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:r,excludeCredentials:a}=s,i=Ak(s,["challenge","user","excludeCredentials"]),n=$c(e).buffer,o=Object.assign(Object.assign({},r),{id:$c(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:n,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const u=a[d];l.excludeCredentials[d]=Object.assign(Object.assign({},u),{id:$c(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function oM(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:r}=s,a=Ak(s,["challenge","allowCredentials"]),i=$c(e).buffer,n=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){n.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];n.allowCredentials[o]=Object.assign(Object.assign({},l),{id:$c(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return n}function lM(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:ku(new Uint8Array(s.response.attestationObject)),clientDataJSON:ku(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dM(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,a=s.getClientExtensionResults(),i=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ku(new Uint8Array(i.authenticatorData)),clientDataJSON:ku(new Uint8Array(i.clientDataJSON)),signature:ku(new Uint8Array(i.signature)),userHandle:i.userHandle?ku(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vU(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function SA(){var s,e;return!!(fi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function uM(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cN("Browser returned unexpected credential type",e)}:{data:null,error:new cN("Empty credential response",e)}}catch(e){return{data:null,error:tM({error:e,options:s})}}}async function cM(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cN("Browser returned unexpected credential type",e)}:{data:null,error:new cN("Empty credential response",e)}}catch(e){return{data:null,error:rM({error:e,options:s})}}}const mM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},bM={userVerification:"preferred",hints:["security-key"]};function mN(...s){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of s)if(i)for(const n in i){const o=i[n];if(o!==void 0)if(Array.isArray(o))a[n]=o;else if(r(o))a[n]=o;else if(e(o)){const l=a[n];e(l)?a[n]=mN(l,o):a[n]=mN(o)}else a[n]=o}return a}function hM(s,e){return mN(mM,s,e||{})}function fM(s,e){return mN(bM,s,e||{})}class pM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},n){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const d=i??iM.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=hM(o.webauthn.credential_options.publicKey,n==null?void 0:n.create),{data:c,error:b}=await uM({publicKey:u,signal:d});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:b}}case"request":{const u=fM(o.webauthn.credential_options.publicKey,n==null?void 0:n.request),{data:c,error:b}=await cM(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:d}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:b}}}}catch(o){return Qs(o)?{data:null,error:o}:{data:null,error:new bu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},n){if(!r)return{data:null,error:new hh("rpId is required for WebAuthn authentication")};try{if(!SA())return{data:null,error:new bu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:n});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:a,credential_response:d.credential_response}})}catch(o){return Qs(o)?{data:null,error:o}:{data:null,error:new bu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},n){if(!r)return{data:null,error:new hh("rpId is required for WebAuthn registration")};try{if(!SA())return{data:null,error:new bu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var b;return(b=c.data)===null||b===void 0?void 0:b.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:d,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:n});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Qs(o)?{data:null,error:o}:{data:null,error:new bu("Unexpected error in register",o)}}}}Z8();const NM={url:b8,storageKey:h8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function TA(s,e,r){return await r()}const wc={};class fh{get jwks(){var e,r;return(r=(e=wc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{cachedAt:e})}constructor(e){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fh.nextInstanceID,fh.nextInstanceID+=1,this.instanceID>0&&fi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},NM),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Q8({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kU(i.fetch),this.lock=i.lock||TA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:fi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=J8:this.lock=TA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:NU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=CA(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(fi()&&(r=O8(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),fi()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:n}=await this._getSessionFromURL(r,a);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),v8(n)){const d=(e=n.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qs(r)?this._returnResult({error:r}):this._returnResult({error:new bu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const n=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:io}),{data:o,error:l}=n;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(n){if(Qs(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var r,a,i;try{let n;if("email"in e){const{email:c,password:b,options:h}=e;let m=null,f=null;this.flowType==="pkce"&&([m,f]=await xc(this.storage,this.storageKey)),n=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:b,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:f},xform:io})}else if("phone"in e){const{phone:c,password:b,options:h}=e;n=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:b,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:io})}else throw new np("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(n){if(Qs(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let r;if("email"in e){const{email:n,password:o,options:l}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VA})}else if("phone"in e){const{phone:n,password:o,options:l}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VA})}else throw new np("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const n=new gc;return this._returnResult({data:{user:null,session:null},error:n})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(Qs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,n,o,l,d,u,c,b,h;let m,f;if("message"in e)m=e.message,f=e.signature;else{const{chain:p,wallet:N,statement:g,options:D}=e;let w;if(fi())if(typeof N=="object")w=N;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")w=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=N}const A=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href),U=await w.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=xU(U[0]);let W=(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!W){const V=await w.request({method:"eth_chainId"});W=X8(V)}const y={domain:A.host,address:E,statement:g,uri:A.href,version:"1",chainId:W,nonce:(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(n=D==null?void 0:D.signInWithEthereum)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=D==null?void 0:D.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=sM(y),f=await w.request({method:"personal_sign",params:[eM(m),E]})}try{const{data:p,error:N}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:f},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:io});if(N)throw N;if(!p||!p.session||!p.user){const g=new gc;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:N})}catch(p){if(Qs(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var r,a,i,n,o,l,d,u,c,b,h,m;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:N,wallet:g,statement:D,options:w}=e;let A;if(fi())if(typeof g=="object")A=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))A=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=g}const U=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const E=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),D?{statement:D}:null));let W;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")W=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)W=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)f=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),p=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${U.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(a=w==null?void 0:w.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((n=w==null?void 0:w.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((b=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||b===void 0)&&b.length?["Resources",...w.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const E=await A.signMessage(new TextEncoder().encode(f),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:N,error:g}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ku(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:io});if(g)throw g;if(!N||!N.session||!N.user){const D=new gc;return this._returnResult({data:{user:null,session:null},error:D})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:g})}catch(N){if(Qs(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const r=await ou(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:n,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:io});if(await Gl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!n||!n.session||!n.user){const l=new gc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(Qs(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:n,nonce:o}=e,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:io}),{data:d,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d||!d.session||!d.user){const c=new gc;return this._returnResult({data:{user:null,session:null},error:c})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:u})}catch(r){if(Qs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,n,o;try{if("email"in e){const{email:l,options:d}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await xc(this.storage,this.storageKey));const{error:b}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:l,options:d}=e,{data:u,error:c}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new np("You must provide either an email or phone number.")}catch(l){if(Qs(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,a;try{let i,n;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,n=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:io});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(i){if(Qs(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i;try{let n=null,o=null;this.flowType==="pkce"&&([n,o]=await xc(this.storage,this.storageKey));const l=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:H8});return this._returnResult(l)}catch(n){if(Qs(n))return this._returnResult({data:null,error:n});throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new ao;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Qs(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:n}=e,{error:o}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:a,type:i,options:n}=e,{data:o,error:l}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new np("You must provide either an email or phone number and a type")}catch(r){if(Qs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ou(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<px:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const o=await ou(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=gx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=z8(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ad}):await this._useSession(async r=>{var a,i,n;const{data:o,error:l}=r;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ao}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:ad})})}catch(r){if(Qs(r))return x8(r)&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:n}=a;if(n)throw n;if(!i.session)throw new ao;const o=i.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=await xc(this.storage,this.storageKey));const{data:u,error:c}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:ad});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(a){if(Qs(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ao;const r=Date.now()/1e3;let a=r,i=!0,n=null;const{payload:o}=kx(e.access_token);if(o.exp&&(a=o.exp,i=a<=r),i){const{data:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};n=l}else{const{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;n={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(r){if(Qs(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new ao;const{data:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Qs(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!fi())throw new op("No browser detected.");if(e.error||e.error_description||e.error_code)throw new op(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new op("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AA("No code detected.");const{data:D,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=e;if(!n||!l||!o||!u)throw new op("No session defined in URL");const c=Math.round(Date.now()/1e3),b=parseInt(l);let h=c+b;d&&(h=parseInt(d));const m=h-c;m*1e3<=_c&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${b}s`);const f=h-b;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,c);const{data:p,error:N}=await this._getUser(n);if(N)throw N;const g={provider_token:a,provider_refresh_token:i,access_token:n,expires_in:b,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(a){if(Qs(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ou(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:n}=r;if(n)return this._returnResult({error:n});const o=(a=i.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(g8(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=y8(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:n},error:o}=r;if(o)throw o;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await xc(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(n){if(Qs(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async n=>{var o,l,d,u,c;const{data:b,error:h}=n;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=b.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return fi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Qs(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:n}}=r;if(i)throw i;const{options:o,provider:l,token:d,access_token:u,nonce:c}=e,b=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=n==null?void 0:n.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:d,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:io}),{data:h,error:m}=b;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(Qs(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:n,error:o}=r;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await V8(async i=>(i>0&&await U8(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:io})),(i,n)=>{const o=200*Math.pow(2,i);return n&&Nx(n)&&Date.now()+o-a<_c})}catch(a){if(this._debug(r,"error",a),Qs(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),fi()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ou(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ou(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Cc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:gx()}else if(i&&!i.user&&!i.user){const o=await ou(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Gl(this.storage,this.storageKey+"-user"),await Cc(this.storage,this.storageKey,i)):i.user=gx()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const n=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<px;if(this._debug(a,`session has${n?"":" not"} expired with margin of ${px}s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Nx(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zk;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new ao;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const l={data:n.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(n){if(this._debug(i,"error",n),Qs(n)){const o={data:null,error:n};return Nx(n)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){n.push(d)}});if(await Promise.all(o),n.length>0){for(let l=0;l<n.length;l+=1)console.error(n[l]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Cc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const n=WA(i);await Cc(this.storage,this.storageKey,n)}else{const i=WA(r);await Cc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gl(this.storage,this.storageKey),await Gl(this.storage,this.storageKey+"-code-verifier"),await Gl(this.storage,this.storageKey+"-user"),this.userStorage&&await Gl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_c);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/_c);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_c}ms, refresh threshold is ${c0} ticks`),i<=c0&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gU)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[n,o]=await xc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const n=new URLSearchParams(a.queryParams);i.push(n.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:n}=r;return n?this._returnResult({data:null,error:n}):await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:n,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:n}=r;if(n)return this._returnResult({data:null,error:n});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lM(e.webauthn.credential_response):dM(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:d}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:n}=r;if(n)return this._returnResult({data:null,error:n});const o=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nM(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:oM(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const n of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(n),n.status==="verified"&&i[n.factor_type].push(n);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=kx(a.access_token);let o=null;n.aal&&(o=n.aal);let l=o;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=n.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new ao})})}catch(r){if(Qs(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:n}=a;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new ao});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&fi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Qs(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:n}=a;if(n)return this._returnResult({data:null,error:n});if(!i)return this._returnResult({data:null,error:new ao});const o=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&fi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Qs(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(l=>l.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===e),a&&this.jwks_cached_at+N8>i)return a;const{data:n,error:o}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=i,a=n.keys.find(l=>l.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:m,error:f}=await this.getSession();if(f||!m.session)return this._returnResult({data:null,error:f});a=m.session.access_token}const{header:i,payload:n,signature:o,raw:{header:l,payload:d}}=kx(a);r!=null&&r.allowExpired||L8(n.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:n,header:i,signature:o},error:null}}const c=I8(i.alg),b=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,b,o,E8(`${l}.${d}`)))throw new h0("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(a){if(Qs(a))return this._returnResult({data:null,error:a});throw a}}}fh.nextInstanceID=0;const kM=fh;class gM extends kM{constructor(e){super(e)}}class xM{constructor(e,r,a){var i,n,o;this.supabaseUrl=e,this.supabaseKey=r;const l=m8(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:a8,realtime:n8,auth:Object.assign(Object.assign({},i8),{storageKey:d}),global:r8},c=c8(a??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(b,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=d8(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new b9(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new e8(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new u9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,a)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:i,userStorage:n,storageKey:o,flowType:l,lock:d,debug:u,throwOnError:c},b,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gM({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),b),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:a,storage:i,userStorage:n,flowType:l,lock:d,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new W9(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,r,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vM=(s,e,r)=>new xM(s,e,r);function DM(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}DM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wM="https://qtsvdeauuawfewdzbflr.supabase.co",jM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0c3ZkZWF1dWF3ZmV3ZHpiZmxyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDIxNzc2MiwiZXhwIjoyMDc5NzkzNzYyfQ.Rq_Oqb9rXDKdGthg6xuopXznsRD-NC_l0-okLUbaoic",DU=jM,dD=!DU.includes("YOUR_");dD||console.error("%c Supabase Not Configured","background: #ff6b6b; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold;",`

Please set the following environment variables in your .env file:`,`
- VITE_SUPABASE_URL`,`
- VITE_SUPABASE_ANON_KEY`,`

Get these values from: https://supabase.com/dashboard/project/otbviownvtbuatjsoezq/settings/api`);console.info("%c DEMO MODE ACTIVE","background: #4CAF50; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold;",`
Using service role key to bypass RLS. Disable for production.`);const le=vM(wM,DU,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),wU=v.createContext(void 0);function AM({children:s}){const[e,r]=v.useState(null),[a,i]=v.useState(null),[n,o]=v.useState(null),[l,d]=v.useState([]),[u,c]=v.useState(null),[b,h]=v.useState(null),[m,f]=v.useState(!0),p=async E=>{try{const{data:W,error:y}=await le.from("profiles").select("*").eq("id",E).single();if(y)throw y;o(W);const{data:V,error:S}=await le.from("user_roles").select("role").eq("user_id",E);if(S)throw S;if(d((V==null?void 0:V.map(O=>O.role))||[]),W!=null&&W.firm_id){const{data:O,error:_}=await le.from("firms").select("*").eq("id",W.firm_id).single();!_&&O&&(c(O),h(O.id))}}catch(W){console.error("Error fetching user data:",W)}};v.useEffect(()=>{if(!dD){console.warn("Supabase not configured - running in unauthenticated mode"),f(!1);return}const E=window.location.pathname.startsWith("/platform-admin"),{data:{subscription:W}}=le.auth.onAuthStateChange((y,V)=>{i(V),r((V==null?void 0:V.user)??null),V!=null&&V.user&&!E?setTimeout(()=>{p(V.user.id)},0):(o(null),d([]),c(null),h(null)),f(!1)});return le.auth.getSession().then(({data:{session:y}})=>{i(y),r((y==null?void 0:y.user)??null),y!=null&&y.user&&!E&&setTimeout(()=>{p(y.user.id)},0),f(!1)}),()=>W.unsubscribe()},[]);const U={user:e,session:a,profile:n,roles:l,currentOrganization:u,organizationId:b,isLoading:m,signIn:async(E,W)=>{const{error:y}=await le.auth.signInWithPassword({email:E,password:W});return{error:y}},signUp:async(E,W,y,V)=>{const S=`${window.location.origin}/`,{error:O}=await le.auth.signUp({email:E,password:W,options:{emailRedirectTo:S,data:{first_name:y,last_name:V}}});return{error:O}},signOut:async()=>{await le.auth.signOut(),r(null),i(null),o(null),d([]),c(null),h(null)},hasRole:E=>l.includes(E),hasPermission:async(E,W)=>{if(!e||!(n!=null&&n.firm_id))return!1;const{data:y}=await le.rpc("has_permission",{_user_id:e.id,_firm_id:n.firm_id,_permission:E,_resource_type:W||null});return y||!1}};return t.jsxDEV(wU.Provider,{value:U,children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/contexts/AuthContext.tsx",lineNumber:195,columnNumber:10},this)}function ar(){const s=v.useContext(wU);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function uD(){const s=window.location.hostname,e=s.split(".");if(s==="localhost"||s==="127.0.0.1"||s.startsWith("192.168."))return{hostname:s,portalType:null,firmSlug:null,isCustomDomain:!1,isLocalhost:!0};if(e[0]==="admin"&&e.length>=2)return{hostname:s,portalType:"admin",firmSlug:null,isCustomDomain:!1,isLocalhost:!1};if(e.length>=3){const r=e[0],a=e[1],i=e.slice(2).join(".");if(i==="obsidian-corp.com"||i.endsWith(".obsidian-corp.com")){if(r==="app")return{hostname:s,portalType:"app",firmSlug:a,isCustomDomain:!1,isLocalhost:!1};if(r==="clients")return{hostname:s,portalType:"client",firmSlug:a,isCustomDomain:!1,isLocalhost:!1}}}return{hostname:s,portalType:null,firmSlug:null,isCustomDomain:!0,isLocalhost:!1}}function EM(){const s=window.location.pathname,{portalType:e}=uD();return e==="admin"||s.startsWith("/platform-admin")}function PM(){const s=window.location.pathname,{portalType:e}=uD();return e==="client"||s.startsWith("/client-portal")}function yM(s){if(s.firmId&&(s.firmName&&(document.title=`${s.firmName} Audit Platform`),s.primaryColor&&document.documentElement.style.setProperty("--primary",s.primaryColor),s.logoUrl)){const e=document.querySelector('link[rel="icon"]');e&&(e.href=s.logoUrl)}}const OM=v.createContext(void 0);function WM({children:s}){const[e,r]=v.useState({firmId:null,firmSlug:null,firmName:null,logoUrl:null,primaryColor:null,portalType:null,isCustomDomain:!1,hostname:window.location.hostname}),[a,i]=v.useState(!0),[n,o]=v.useState(null),l=async()=>{if(EM()){r({firmId:null,firmSlug:null,firmName:null,logoUrl:null,primaryColor:null,portalType:"admin",isCustomDomain:!1,hostname:window.location.hostname}),i(!1);return}i(!0),o(null);try{const u=uD();if(u.isLocalhost||!dD){r({firmId:null,firmSlug:null,firmName:"Development Mode",logoUrl:null,primaryColor:"#0066CC",portalType:PM()?"client":"app",isCustomDomain:!1,hostname:u.hostname}),i(!1);return}const{data:c,error:b}=await le.rpc("get_firm_by_domain",{hostname:u.hostname});if(b){console.error("Failed to fetch tenant info:",b),o("Failed to load organization information"),i(!1);return}if(!c||c.length===0){o("Organization not found for this domain"),i(!1);return}const h=c[0],m={firmId:h.id,firmSlug:h.slug,firmName:h.name,logoUrl:h.logo_url,primaryColor:h.primary_color||"#0066CC",portalType:u.portalType||"app",isCustomDomain:u.isCustomDomain,hostname:u.hostname};r(m),yM(m),i(!1)}catch(u){console.error("Tenant detection error:",u),o("Failed to detect organization"),i(!1)}};v.useEffect(()=>{l()},[]);const d={...e,isLoading:a,error:n,refetchTenant:l};return t.jsxDEV(OM.Provider,{value:d,children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/contexts/TenantContext.tsx",lineNumber:133,columnNumber:5},this)}function Gt({children:s}){return ar(),t.jsxDEV(t.Fragment,{children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireAuth.tsx",lineNumber:19,columnNumber:12},this)}const B=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,className:Ce("rounded-lg border bg-card text-card-foreground shadow-elevation","transition-all duration-200 ease-out","hover:shadow-gold focus-within:shadow-gold focus-within:border-border-interactive",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:6,columnNumber:3},void 0));B.displayName="Card";const oe=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,className:Ce("flex flex-col space-y-1.5 p-4",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:21,columnNumber:5},void 0));oe.displayName="CardHeader";const ue=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("h3",{ref:r,className:Ce("text-xl font-semibold leading-none tracking-tight",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:28,columnNumber:5},void 0));ue.displayName="CardTitle";const Ke=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("p",{ref:r,className:Ce("text-sm text-muted-foreground leading-relaxed",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:35,columnNumber:5},void 0));Ke.displayName="CardDescription";const q=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,className:Ce("p-4 pt-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:41,columnNumber:37},void 0));q.displayName="CardContent";const lm=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,className:Ce("flex items-center p-4 pt-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/card.tsx",lineNumber:47,columnNumber:5},void 0));lm.displayName="CardFooter";function RA({children:s,allowedRoles:e,fallbackPath:r="/dashboard",showUnauthorized:a=!1}){const{user:i,isLoading:n}=ar(),[o,l]=v.useState(null),[d,u]=v.useState([]);v.useEffect(()=>{i&&!n&&c()},[i,n]);const c=async()=>{if(!i){l(!1);return}try{const{data:b,error:h}=await le.from("user_roles").select("role").eq("user_id",i.id);if(h){console.error("Error checking user roles:",h),l(!1);return}const m=(b==null?void 0:b.map(p=>p.role))||[];u(m);const f=m.some(p=>e.includes(p));l(f)}catch(b){console.error("Error in role check:",b),l(!1)}};return n||o===null?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV(oi,{className:"h-8 w-8 animate-spin text-primary mx-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:82,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Verifying permissions..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:81,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:80,columnNumber:7},this):!o&&a?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen p-6",children:t.jsxDEV(B,{className:"max-w-md w-full",children:[t.jsxDEV(oe,{className:"text-center",children:[t.jsxDEV("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:t.jsxDEV(Qv,{className:"h-6 w-6 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV(ue,{children:"Access Denied"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:98,columnNumber:13},this),t.jsxDEV(Ke,{children:"You don't have permission to access this page"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:94,columnNumber:11},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"Required Roles:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:105,columnNumber:15},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.map(b=>t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"h-1.5 w-1.5 rounded-full bg-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:109,columnNumber:21},this),b.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase())]},b,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:108,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:104,columnNumber:13},this),d.length>0&&t.jsxDEV("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"Your Roles:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:118,columnNumber:17},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground space-y-1",children:d.map(b=>t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"h-1.5 w-1.5 rounded-full bg-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:122,columnNumber:23},this),b.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase())]},b,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:121,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:117,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{onClick:()=>window.history.back(),variant:"outline",className:"flex-1",children:"Go Back"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:131,columnNumber:15},this),t.jsxDEV(F,{onClick:()=>window.location.href=r,className:"flex-1",children:"Go to Dashboard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:92,columnNumber:7},this):o?t.jsxDEV(t.Fragment,{children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:150,columnNumber:10},this):t.jsxDEV(Bv,{to:r,replace:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/guards/RequireRole.tsx",lineNumber:146,columnNumber:12},this)}const UM=({onGetStarted:s})=>t.jsxDEV("section",{className:"min-h-screen flex items-center justify-center px-8 relative",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[t.jsxDEV("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-muted/30 backdrop-blur-sm",children:[t.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:9,columnNumber:11},void 0),t.jsxDEV("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-medium",children:"Beta Release"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:10,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:8,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-2",children:t.jsxDEV("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-light tracking-tight",children:[t.jsxDEV("span",{className:"block",children:"Build on connected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:18,columnNumber:13},void 0),t.jsxDEV("span",{className:"block italic font-serif",children:"intelligence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:19,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:17,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:16,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Single source of truth connecting projects, data and teams"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:24,columnNumber:9},void 0),t.jsxDEV("div",{className:"pt-4",children:t.jsxDEV(F,{size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 uppercase tracking-widest font-medium px-8 py-6 text-sm",onClick:s||(()=>window.location.href="/auth/create-organization"),children:"Request Platform Access"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:30,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:6,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/Hero.tsx",lineNumber:5,columnNumber:5},void 0),Mo=()=>{const s=v.useRef(null);return v.useEffect(()=>{const e=s.current;if(!e)return;const r=e.getContext("2d");if(!r)return;let a,i=[];const n=()=>{e.width=window.innerWidth,e.height=window.innerHeight};class o{constructor(c,b){qs(this,"x");qs(this,"y");qs(this,"baseY");qs(this,"vx");qs(this,"vy");qs(this,"size");qs(this,"opacity");this.x=c,this.y=b,this.baseY=b,this.vx=(Math.random()-.5)*.3,this.vy=(Math.random()-.5)*.3,this.size=Math.random()*1.5+.5;const h=Math.random()<.3;this.opacity=h?Math.random()*.5+.5:Math.random()*.4+.2}update(c){this.y=this.baseY+Math.sin(c*.001+this.x*.01)*30,this.x+=this.vx,this.x<0&&(this.x=e.width),this.x>e.width&&(this.x=0)}draw(c){c.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,c.beginPath(),c.arc(this.x,this.y,this.size,0,Math.PI*2),c.fill()}}const l=()=>{n(),i=[];const u=Math.floor(window.innerWidth/10),c=Math.floor(window.innerHeight/10);for(let f=0;f<u;f++)for(let p=0;p<c;p++){const N=f*window.innerWidth/u,g=p*window.innerHeight/c;i.push(new o(N,g))}const b=400;for(let f=0;f<b;f++){const p=Math.random()*window.innerWidth,N=Math.random()*window.innerHeight;i.push(new o(p,N))}const h=150,m=500;for(let f=0;f<m;f++){const p=Math.floor(Math.random()*4);let N,g;switch(p){case 0:N=Math.random()*window.innerWidth,g=Math.random()*h;break;case 1:N=window.innerWidth-Math.random()*h,g=Math.random()*window.innerHeight;break;case 2:N=Math.random()*window.innerWidth,g=window.innerHeight-Math.random()*h;break;case 3:N=Math.random()*h,g=Math.random()*window.innerHeight;break}i.push(new o(N,g))}},d=u=>{r.clearRect(0,0,e.width,e.height),i.forEach(c=>{c.update(u),c.draw(r)}),a=requestAnimationFrame(d)};return l(),d(0),window.addEventListener("resize",()=>{l()}),()=>{cancelAnimationFrame(a),window.removeEventListener("resize",l)}},[]),t.jsxDEV(t.Fragment,{children:[t.jsxDEV("canvas",{ref:s,className:"fixed inset-0 pointer-events-none",style:{opacity:.4}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ParticleBackground.tsx",lineNumber:143,columnNumber:7},void 0),t.jsxDEV("div",{className:"fixed inset-0 pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 0%, transparent 40%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0.8) 100%)",boxShadow:"inset 0 0 200px rgba(0,0,0,0.9)"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ParticleBackground.tsx",lineNumber:149,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ParticleBackground.tsx",lineNumber:142,columnNumber:5},void 0)},VM=()=>{const s=v.useRef(null);return v.useEffect(()=>{const e=s.current;if(!e)return;const r=e.getContext("2d");if(!r)return;e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,r.scale(window.devicePixelRatio,window.devicePixelRatio);const a=e.offsetWidth,i=e.offsetHeight,n=[],o=40,l=200;for(let f=0;f<o;f++){const p=f<8?"source":f<20?"object":f<32?"relationship":"insight";n.push({x:Math.random()*a,y:Math.random()*i,z:Math.random()*300-150,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,vz:(Math.random()-.5)*.3,type:p,connections:[],pulse:Math.random()*Math.PI*2})}n.forEach((f,p)=>{n.forEach((N,g)=>{if(p!==g){const D=f.x-N.x,w=f.y-N.y,A=f.z-N.z;Math.sqrt(D*D+w*w+A*A)<l&&f.connections.length<4&&f.connections.push(g)}})});const d=[],u=20,c=()=>{const f=Math.floor(Math.random()*n.length),p=n[f].connections;if(p.length>0){const N=p[Math.floor(Math.random()*p.length)];d.push({from:f,to:N,progress:0,speed:.01+Math.random()*.02})}};for(let f=0;f<u/2;f++)c();const b=f=>{switch(f){case"source":return"hsl(194, 100%, 50%)";case"object":return"hsl(214, 100%, 70%)";case"relationship":return"hsl(174, 62%, 55%)";case"insight":return"hsl(214, 100%, 50%)"}};let h;const m=()=>{r.fillStyle="rgba(0, 0, 0, 0.05)",r.fillRect(0,0,a,i),r.lineWidth=1,n.forEach((f,p)=>{f.connections.forEach(N=>{const g=n[N],D=300/(300+f.z),w=300/(300+g.z),A=f.x*D+a*(1-D)/2,U=f.y*D+i*(1-D)/2,E=g.x*w+a*(1-w)/2,W=g.y*w+i*(1-w)/2,y=r.createLinearGradient(A,U,E,W);y.addColorStop(0,b(f.type).replace(")",", 0.15)").replace("hsl(","hsla(")),y.addColorStop(1,b(g.type).replace(")",", 0.15)").replace("hsl(","hsla(")),r.strokeStyle=y,r.beginPath(),r.moveTo(A,U),r.lineTo(E,W),r.stroke()})}),d.forEach((f,p)=>{if(f.progress+=f.speed,f.progress>=1){d.splice(p,1),Math.random()<.7&&c();return}const N=n[f.from],g=n[f.to],D=300/(300+N.z),w=300/(300+g.z),A=N.x*D+a*(1-D)/2,U=N.y*D+i*(1-D)/2,E=g.x*w+a*(1-w)/2,W=g.y*w+i*(1-w)/2,y=A+(E-A)*f.progress,V=U+(W-U)*f.progress,O=300/(300+(N.z+(g.z-N.z)*f.progress));r.shadowBlur=15,r.shadowColor=b(N.type),r.fillStyle=b(N.type),r.beginPath(),r.arc(y,V,3*O,0,Math.PI*2),r.fill(),r.shadowBlur=0}),n.forEach(f=>{f.x+=f.vx,f.y+=f.vy,f.z+=f.vz,f.pulse+=.05,(f.x<0||f.x>a)&&(f.vx*=-1),(f.y<0||f.y>i)&&(f.vy*=-1),(f.z<-150||f.z>150)&&(f.vz*=-1);const p=300/(300+f.z),N=f.x*p+a*(1-p)/2,g=f.y*p+i*(1-p)/2,D=(4+Math.sin(f.pulse)*1.5)*p,w=b(f.type),A=r.createRadialGradient(N,g,0,N,g,D*3);A.addColorStop(0,w.replace(")",", 0.3)").replace("hsl(","hsla(")),A.addColorStop(1,w.replace(")",", 0)").replace("hsl(","hsla(")),r.fillStyle=A,r.beginPath(),r.arc(N,g,D*3,0,Math.PI*2),r.fill(),r.fillStyle=w,r.beginPath(),r.arc(N,g,D,0,Math.PI*2),r.fill()}),h=requestAnimationFrame(m)};return m(),()=>{cancelAnimationFrame(h)}},[]),t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-20",children:[t.jsxDEV("h2",{className:"text-6xl font-light tracking-tight mb-6",children:"Data Intelligence Layer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:226,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl text-muted-foreground font-mono",children:"Real-time ontology processing at scale"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:225,columnNumber:9},void 0),t.jsxDEV("div",{className:"relative h-[600px] rounded-lg border border-border-interactive overflow-hidden",children:[t.jsxDEV("canvas",{ref:s,className:"w-full h-full",style:{background:"radial-gradient(circle at center, hsl(214, 100%, 8%), hsl(0, 0%, 0%))"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:235,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute top-4 left-4 font-mono text-xs text-muted-foreground space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-primary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:244,columnNumber:15},void 0),t.jsxDEV("span",{children:"SOURCES: ACTIVE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:245,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:243,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-tertiary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:248,columnNumber:15},void 0),t.jsxDEV("span",{children:"OBJECTS: MAPPED"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:247,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-secondary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:252,columnNumber:15},void 0),t.jsxDEV("span",{children:"RELATIONSHIPS: INDEXED"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:242,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute bottom-4 right-4 font-mono text-xs text-muted-foreground",children:t.jsxDEV("div",{children:"LATENCY: <50ms"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:258,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:257,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:224,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataIntelligenceNetwork.tsx",lineNumber:223,columnNumber:5},void 0)},_M=()=>{const s=v.useRef(null);return v.useEffect(()=>{const e=s.current;if(!e)return;const r=e.getContext("2d");if(!r)return;e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,r.scale(window.devicePixelRatio,window.devicePixelRatio);const a=e.offsetWidth,i=e.offsetHeight,n=(f,p)=>(f-p)*Math.cos(Math.PI/6),o=(f,p,N)=>(f+p)*Math.sin(Math.PI/6)-N;let l=0;const d=()=>{const f=e.getBoundingClientRect();l=Math.max(0,Math.min(1,(window.innerHeight-f.top)/window.innerHeight))};window.addEventListener("scroll",d),d();const u=(f,p,N)=>{f.strokeStyle="hsl(214, 30%, 15%)",f.lineWidth=.5;const g=40,D=15,w=15;for(let A=-D;A<=D;A++){f.beginPath();const U=n(A*g,-w*g),E=o(A*g,-w*g,0),W=n(A*g,w*g),y=o(A*g,w*g,0);f.moveTo(p+U,N+E),f.lineTo(p+W,N+y),f.stroke()}for(let A=-w;A<=w;A++){f.beginPath();const U=n(-D*g,A*g),E=o(-D*g,A*g,0),W=n(D*g,A*g),y=o(D*g,A*g,0);f.moveTo(p+U,N+E),f.lineTo(p+W,N+y),f.stroke()}},c=(f,p,N,g,D,w,A,U,E,W)=>{const V=[[p,N,g],[p+D,N,g],[p+D,N+w,g],[p,N+w,g],[p,N,g+A],[p+D,N,g+A],[p+D,N+w,g+A],[p,N+w,g+A]].map(([S,O,_])=>[E+n(S,O),W+o(S,O,_)]);f.fillStyle=U,f.beginPath(),f.moveTo(V[4][0],V[4][1]),f.lineTo(V[5][0],V[5][1]),f.lineTo(V[6][0],V[6][1]),f.lineTo(V[7][0],V[7][1]),f.closePath(),f.fill(),f.fillStyle=U.replace("50%","40%"),f.beginPath(),f.moveTo(V[5][0],V[5][1]),f.lineTo(V[1][0],V[1][1]),f.lineTo(V[2][0],V[2][1]),f.lineTo(V[6][0],V[6][1]),f.closePath(),f.fill(),f.fillStyle=U.replace("50%","30%"),f.beginPath(),f.moveTo(V[4][0],V[4][1]),f.lineTo(V[0][0],V[0][1]),f.lineTo(V[3][0],V[3][1]),f.lineTo(V[7][0],V[7][1]),f.closePath(),f.fill(),f.strokeStyle="hsl(214, 100%, 70%)",f.lineWidth=1.5,[[4,5],[5,6],[6,7],[7,4],[0,1],[1,2],[2,3],[3,0],[0,4],[1,5],[2,6],[3,7]].forEach(([S,O])=>{f.beginPath(),f.moveTo(V[S][0],V[S][1]),f.lineTo(V[O][0],V[O][1]),f.stroke()})};let b,h=0;const m=()=>{h+=.01,r.clearRect(0,0,a,i);const f=a/2,p=i/2+100;u(r,f,p);const N=0-l*50;for(let U=0;U<5;U++){const E=(U-2)*80+Math.sin(h+U)*5,W=0,y=Math.sin(h*2+U)*.2+.8;c(r,E,W,N,60,60,40,`hsl(194, 100%, ${35*y}%)`,f,p)}r.strokeStyle="hsl(214, 100%, 50%, 0.3)",r.lineWidth=2;for(let U=0;U<5;U++){const E=(U-2)*80,W=30,y=N+40,V=(U-2)*90,S=30,O=N+140;r.beginPath(),r.moveTo(f+n(E,W),p+o(E,W,y)),r.lineTo(f+n(V,S),p+o(V,S,O)),r.stroke()}const g=100-l*50,D=200,w=4;r.strokeStyle="hsl(174, 62%, 55%)",r.lineWidth=1.5;for(let U=0;U<w;U++)for(let E=0;E<w;E++){const W=(U-w/2)*(D/w),y=(E-w/2)*(D/w),V=g+Math.sin(h+U+E)*10;if(U<w-1){r.beginPath();const S=(U+1-w/2)*(D/w),O=g+Math.sin(h+U+1+E)*10;r.moveTo(f+n(W,y),p+o(W,y,V)),r.lineTo(f+n(S,y),p+o(S,y,O)),r.stroke()}if(E<w-1){r.beginPath();const S=(E+1-w/2)*(D/w),O=g+Math.sin(h+U+E+1)*10;r.moveTo(f+n(W,y),p+o(W,y,V)),r.lineTo(f+n(W,S),p+o(W,S,O)),r.stroke()}}const A=200-l*50;for(let U=0;U<4;U++){const E=U/4*Math.PI*2+h*.5,W=120,y=Math.cos(E)*W,V=Math.sin(E)*W,S=Math.sin(h*3+U)*.3+.7;c(r,y,V,A,40,40,30,`hsl(214, 100%, ${40*S}%)`,f,p)}b=requestAnimationFrame(m)};return m(),()=>{cancelAnimationFrame(b),window.removeEventListener("scroll",d)}},[]),t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-20",children:[t.jsxDEV("h2",{className:"text-6xl font-light tracking-tight mb-6",children:"Platform Architecture"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:240,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl text-muted-foreground font-mono",children:"Three-layer ontology infrastructure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:243,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:239,columnNumber:9},void 0),t.jsxDEV("div",{className:"relative h-[700px] rounded-lg border border-border-interactive overflow-hidden",children:[t.jsxDEV("canvas",{ref:s,className:"w-full h-full bg-black"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:249,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute left-8 top-1/4 font-mono text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV("div",{className:"w-3 h-3 bg-data-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:254,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-muted-foreground",children:"DATA LAYER"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:255,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:253,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground/60 ml-6",children:"Storage | Ingestion | Transform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:257,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:252,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute left-8 top-1/2 font-mono text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV("div",{className:"w-3 h-3 bg-data-secondary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:262,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-muted-foreground",children:"ONTOLOGY LAYER"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:263,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:261,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground/60 ml-6",children:"Relationships | Schema | Graph"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:265,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:260,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute left-8 top-3/4 font-mono text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV("div",{className:"w-3 h-3 bg-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:270,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-muted-foreground",children:"APPLICATION LAYER"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:269,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground/60 ml-6",children:"API | SDK | GraphQL"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:273,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:268,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:248,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:238,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/IsometricArchitecture.tsx",lineNumber:237,columnNumber:5},void 0)},CM=()=>{const[s,e]=v.useState(0),r=[{title:"Raw Data",code:`{
  "user_id": "usr_a47bc2",
  "timestamp": 1735734000,
  "action": "create_order",
  "metadata": {...}
}`,color:"hsl(194, 100%, 50%)"},{title:"Transformation",code:`transform({
  normalize: true,
  enrich: ["geo", "device"],
  schema: "v2.1.0"
})`,color:"hsl(174, 62%, 55%)"},{title:"Enrichment",code:`enrich({
  user: getUserProfile(),
  context: getSessionData(),
  relations: linkEntities()
})`,color:"hsl(214, 100%, 60%)"},{title:"Ontology",code:`mapToOntology({
  type: "Order",
  relationships: [
    "CREATED_BY -> User",
    "CONTAINS -> LineItem"
  ]
})`,color:"hsl(214, 100%, 50%)"},{title:"Analytics",code:`query {
  orders(userId: $id) {
    totalValue
    items { product }
    timeline
  }
}`,color:"hsl(214, 100%, 70%)"}];return v.useEffect(()=>{const a=setInterval(()=>{e(i=>(i+1)%r.length)},3e3);return()=>clearInterval(a)},[r.length]),t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-20",children:[t.jsxDEV("h2",{className:"text-6xl font-light tracking-tight mb-6",children:"Real-Time Data Lineage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:71,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl text-muted-foreground font-mono",children:"End-to-end transformation pipeline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:70,columnNumber:9},void 0),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-16",children:r.map((a,i)=>t.jsxDEV("div",{className:"flex-1 relative",children:[i<r.length-1&&t.jsxDEV("div",{className:"absolute left-1/2 top-8 w-full h-0.5 bg-border-interactive",style:{zIndex:0},children:t.jsxDEV("div",{className:"h-full transition-all duration-1000 ease-linear",style:{width:s>i?"100%":"0%",background:`linear-gradient(to right, ${a.color}, ${r[i+1].color})`,boxShadow:`0 0 10px ${a.color}`}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:87,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:86,columnNumber:19},void 0),t.jsxDEV("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsxDEV("div",{className:`w-16 h-16 rounded-full border-2 flex items-center justify-center transition-all duration-500 ${s>=i?"border-primary shadow-blue":"border-border"}`,style:{backgroundColor:s>=i?a.color:"transparent",boxShadow:s===i?`0 0 30px ${a.color}`:void 0},children:t.jsxDEV("span",{className:`font-mono text-sm ${s>=i?"text-black":"text-muted-foreground"}`,children:i+1},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:111,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:100,columnNumber:19},void 0),t.jsxDEV("div",{className:"mt-4 text-center",children:[t.jsxDEV("div",{className:`font-mono text-sm mb-1 ${s>=i?"text-foreground":"text-muted-foreground"}`,children:a.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:116,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground font-mono",children:s===i?"PROCESSING":s>i?"COMPLETE":"PENDING"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:119,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:115,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:99,columnNumber:17},void 0)]},i,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:83,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:81,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-surface border border-border-interactive rounded-lg p-8 font-mono text-sm",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-3 h-3 bg-destructive rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:132,columnNumber:17},void 0),t.jsxDEV("div",{className:"w-3 h-3 bg-warning rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:133,columnNumber:17},void 0),t.jsxDEV("div",{className:"w-3 h-3 bg-success rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:131,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["TRANSACTION_ID: ",Math.random().toString(36).substr(2,9).toUpperCase()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:136,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:130,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-black rounded p-6 relative overflow-hidden",children:[t.jsxDEV("div",{className:"absolute inset-0 pointer-events-none",style:{background:`linear-gradient(90deg, transparent, ${r[s].color}15, transparent)`,animation:"shimmer 2s linear infinite"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:143,columnNumber:15},void 0),t.jsxDEV("pre",{className:"text-data-primary leading-relaxed",children:t.jsxDEV("code",{children:r[s].code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:152,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:141,columnNumber:13},void 0),t.jsxDEV("div",{className:"grid grid-cols-4 gap-4 mt-6 pt-6 border-t border-border",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-1",children:"LATENCY"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:159,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-data-primary",children:"<100ms"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:158,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-1",children:"THROUGHPUT"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:163,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-data-secondary",children:"10K/sec"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:164,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:162,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-1",children:"STAGE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:167,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-primary",children:[s+1,"/",r.length]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:168,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:166,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-1",children:"STATUS"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:171,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-success",children:"ACTIVE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:170,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:129,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:69,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/DataLineagePipeline.tsx",lineNumber:68,columnNumber:5},void 0)},SM=()=>{const[s,e]=v.useState([!1,!1,!1,!1]),r=v.useRef(null),a=[{value:"10B+",label:"relationships tracked",unit:""},{value:"99.99",label:"uptime SLA",unit:"%"},{value:"<100",label:"query latency",unit:"ms"},{value:"PB",label:"scale data processing",unit:""}];return v.useEffect(()=>{const i=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&a.forEach((l,d)=>{setTimeout(()=>{e(u=>{const c=[...u];return c[d]=!0,c})},d*300)})})},{threshold:.3});return r.current&&i.observe(r.current),()=>i.disconnect()},[]),t.jsxDEV("section",{ref:r,className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"space-y-32",children:a.map((i,n)=>t.jsxDEV("div",{className:`transition-all duration-1000 ${s[n]?"opacity-100 translate-y-0":"opacity-0 translate-y-20"}`,children:[t.jsxDEV("div",{className:"flex items-baseline gap-8",children:t.jsxDEV("div",{className:"font-mono font-light tracking-tighter text-primary",style:{fontSize:"clamp(80px, 12vw, 160px)"},children:[i.value,i.unit&&t.jsxDEV("span",{className:"text-muted-foreground text-6xl ml-2",children:i.unit},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:61,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:55,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:54,columnNumber:15},void 0),t.jsxDEV("div",{className:"mt-6 flex items-center gap-4",children:[t.jsxDEV("div",{className:"h-px bg-primary transition-all duration-1000 delay-300",style:{width:s[n]?"120px":"0px"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:67,columnNumber:17},void 0),t.jsxDEV("span",{className:"text-2xl text-muted-foreground font-light tracking-wide uppercase",children:i.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:66,columnNumber:15},void 0)]},n,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:46,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:44,columnNumber:9},void 0),t.jsxDEV("div",{className:"absolute inset-0 pointer-events-none opacity-10",children:t.jsxDEV("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(hsl(214, 30%, 15%) 1px, transparent 1px),
              linear-gradient(90deg, hsl(214, 30%, 15%) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:81,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/ScaleMetrics.tsx",lineNumber:42,columnNumber:5},void 0)},TM=()=>{const[s,e]=v.useState(""),[r,a]=v.useState(!1),i=`// Create an object in the ontology
const user = await ontology.objects.create({
  type: "User",
  properties: {
    name: "Alice Chen",
    role: "Data Scientist",
    department: "Analytics"
  }
});

// Create relationships
await ontology.relationships.create({
  from: user.id,
  to: project.id,
  type: "WORKS_ON",
  properties: { since: "2024-01-15" }
});

// Query the graph
const results = await ontology.query(\`
  MATCH (u:User)-[:WORKS_ON]->(p:Project)
  WHERE p.status = "active"
  RETURN u, p, relationships
\`);`;v.useEffect(()=>{let o=0;const d=setInterval(()=>{o<i.length?(e(i.slice(0,o+1)),o++):(clearInterval(d),setTimeout(()=>a(!0),500))},50);return()=>clearInterval(d)},[]);const n={nodes:[{id:"u1",type:"User",name:"Alice Chen"},{id:"p1",type:"Project",name:"DataViz Platform"},{id:"p2",type:"Project",name:"ML Pipeline"}],relationships:[{from:"u1",to:"p1",type:"WORKS_ON"},{from:"u1",to:"p2",type:"WORKS_ON"}]};return t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-20",children:[t.jsxDEV("h2",{className:"text-6xl font-light tracking-tight mb-6",children:"Developer Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:65,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl text-muted-foreground font-mono",children:"Type-safe API with real-time graph visualization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:64,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-8",children:[t.jsxDEV("div",{className:"bg-surface border border-border-interactive rounded-lg overflow-hidden",children:[t.jsxDEV("div",{className:"bg-surface-elevated px-4 py-3 flex items-center justify-between border-b border-border",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-3 h-3 bg-destructive rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:78,columnNumber:17},void 0),t.jsxDEV("div",{className:"w-3 h-3 bg-warning rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:79,columnNumber:17},void 0),t.jsxDEV("div",{className:"w-3 h-3 bg-success rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:77,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-xs font-mono text-muted-foreground",children:"ontology-client.ts"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:82,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:76,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-6 font-mono text-sm h-[600px] overflow-auto",children:t.jsxDEV("pre",{className:"text-data-primary leading-relaxed",children:[t.jsxDEV("code",{children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:87,columnNumber:17},void 0),t.jsxDEV("span",{className:"inline-block w-2 h-5 bg-primary animate-pulse ml-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:88,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:86,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:85,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-surface-elevated px-4 py-2 border-t border-border flex items-center gap-4 text-xs font-mono",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:94,columnNumber:17},void 0),t.jsxDEV("span",{className:"text-muted-foreground",children:"TypeScript 5.3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:93,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-muted-foreground",children:"|"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:97,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-muted-foreground",children:["Line ",s.split(`
`).length]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:98,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:75,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-surface border border-border-interactive rounded-lg overflow-hidden",children:[t.jsxDEV("div",{className:"bg-surface-elevated px-4 py-3 flex items-center justify-between border-b border-border",children:[t.jsxDEV("div",{className:"text-xs font-mono text-muted-foreground",children:"Graph Visualization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:105,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:`w-2 h-2 rounded-full ${r?"bg-success animate-pulse":"bg-muted"}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:107,columnNumber:17},void 0),t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r?"LIVE":"WAITING"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:108,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:106,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:104,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-6 h-[600px] flex items-center justify-center relative",children:r?t.jsxDEV("div",{className:"relative w-full h-full",children:[t.jsxDEV("svg",{className:"w-full h-full",children:[t.jsxDEV("line",{x1:"50%",y1:"30%",x2:"30%",y2:"70%",stroke:"hsl(214, 100%, 50%)",strokeWidth:"2",className:"animate-fade-in",style:{animationDelay:"0.3s"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:118,columnNumber:21},void 0),t.jsxDEV("line",{x1:"50%",y1:"30%",x2:"70%",y2:"70%",stroke:"hsl(214, 100%, 50%)",strokeWidth:"2",className:"animate-fade-in",style:{animationDelay:"0.5s"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:128,columnNumber:21},void 0),t.jsxDEV("g",{className:"animate-scale-in",children:[t.jsxDEV("circle",{cx:"50%",cy:"30%",r:"40",fill:"hsl(194, 100%, 50%)",opacity:"0.2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:141,columnNumber:23},void 0),t.jsxDEV("circle",{cx:"50%",cy:"30%",r:"30",fill:"hsl(194, 100%, 50%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:142,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:140,columnNumber:21},void 0),t.jsxDEV("g",{className:"animate-scale-in",style:{animationDelay:"0.3s"},children:[t.jsxDEV("circle",{cx:"30%",cy:"70%",r:"35",fill:"hsl(174, 62%, 55%)",opacity:"0.2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:147,columnNumber:23},void 0),t.jsxDEV("circle",{cx:"30%",cy:"70%",r:"25",fill:"hsl(174, 62%, 55%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:148,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:146,columnNumber:21},void 0),t.jsxDEV("g",{className:"animate-scale-in",style:{animationDelay:"0.5s"},children:[t.jsxDEV("circle",{cx:"70%",cy:"70%",r:"35",fill:"hsl(174, 62%, 55%)",opacity:"0.2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:151,columnNumber:23},void 0),t.jsxDEV("circle",{cx:"70%",cy:"70%",r:"25",fill:"hsl(174, 62%, 55%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:152,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:150,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:116,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute top-[25%] left-1/2 -translate-x-1/2 text-center animate-fade-in",children:[t.jsxDEV("div",{className:"font-mono text-xs text-data-primary mb-1",children:"User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:158,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Alice Chen"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:159,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:157,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute top-[68%] left-[26%] text-center animate-fade-in",style:{animationDelay:"0.3s"},children:[t.jsxDEV("div",{className:"font-mono text-xs text-data-secondary mb-1",children:"Project"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:162,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"DataViz"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:161,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute top-[68%] right-[26%] text-center animate-fade-in",style:{animationDelay:"0.5s"},children:[t.jsxDEV("div",{className:"font-mono text-xs text-data-secondary mb-1",children:"Project"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:166,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"ML Pipeline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:167,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:165,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute bottom-4 left-4 right-4 bg-black/80 backdrop-blur border border-border rounded p-4 font-mono text-xs animate-fade-in",style:{animationDelay:"0.7s"},children:[t.jsxDEV("div",{className:"text-success mb-2",children:"Query executed successfully"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:172,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-muted-foreground",children:[t.jsxDEV("div",{children:["Nodes: ",n.nodes.length]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:174,columnNumber:23},void 0),t.jsxDEV("div",{children:["Relationships: ",n.relationships.length]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:175,columnNumber:23},void 0),t.jsxDEV("div",{className:"text-data-primary mt-1",children:"Latency: 47ms"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:176,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:173,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:171,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:114,columnNumber:17},void 0):t.jsxDEV("div",{className:"text-center text-muted-foreground font-mono text-sm",children:[t.jsxDEV("div",{className:"mb-4",children:"Waiting for query execution..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:182,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:184,columnNumber:21},void 0),t.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse",style:{animationDelay:"0.2s"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:185,columnNumber:21},void 0),t.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse",style:{animationDelay:"0.4s"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:186,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:183,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:181,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:73,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-12 flex items-center justify-center gap-6 text-sm font-mono text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-primary rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:197,columnNumber:13},void 0),t.jsxDEV("span",{children:"TypeScript SDK"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:198,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:196,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-secondary rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:201,columnNumber:13},void 0),t.jsxDEV("span",{children:"Python SDK"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:202,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:200,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-data-tertiary rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:205,columnNumber:13},void 0),t.jsxDEV("span",{children:"GraphQL API"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:204,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:209,columnNumber:13},void 0),t.jsxDEV("span",{children:"REST API"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:195,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:63,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/LiveCodeEditor.tsx",lineNumber:62,columnNumber:5},void 0)},RM=()=>{const s=v.useRef(null);return v.useEffect(()=>{const e=s.current;if(!e)return;const r=e.getContext("2d");if(!r)return;e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,r.scale(window.devicePixelRatio,window.devicePixelRatio);const a=e.offsetWidth,i=e.offsetHeight,n=[{x:a/2,y:80,label:"API Gateway",type:"gateway",connections:[1,2,3],pulsePhase:0},{x:a/4,y:220,label:"Auth Service",type:"function",connections:[4],pulsePhase:.3},{x:a/2,y:220,label:"Query Engine",type:"function",connections:[5],pulsePhase:.6},{x:a*3/4,y:220,label:"Transform",type:"function",connections:[4,5],pulsePhase:.9},{x:a/3,y:380,label:"Postgres Cluster",type:"database",connections:[],pulsePhase:1.2},{x:a*2/3,y:380,label:"Ontology Engine",type:"ontology",connections:[],pulsePhase:1.5}],o=[],l=15,d=()=>{if(o.length>=l)return;const m=Math.floor(Math.random()*n.length),f=n[m].connections;if(f.length>0){const p=f[Math.floor(Math.random()*f.length)];o.push({from:m,to:p,progress:0,speed:.01+Math.random()*.02})}};for(let m=0;m<l/3;m++)d();const u=m=>{switch(m){case"gateway":return"hsl(214, 100%, 50%)";case"function":return"hsl(174, 62%, 55%)";case"database":return"hsl(194, 100%, 50%)";case"ontology":return"hsl(214, 100%, 70%)"}},c=(m,f)=>{const p=m.type==="gateway"?50:m.type==="ontology"?45:40,N=u(m.type),g=r.createRadialGradient(m.x,m.y,0,m.x,m.y,p*1.5);if(g.addColorStop(0,N.replace(")",", 0.3)").replace("hsl(","hsla(")),g.addColorStop(1,N.replace(")",", 0)").replace("hsl(","hsla(")),r.fillStyle=g,r.beginPath(),r.arc(m.x,m.y,p*1.5,0,Math.PI*2),r.fill(),r.fillStyle=N.replace(")",", 0.2)").replace("hsl(","hsla("),r.strokeStyle=N,r.lineWidth=2,r.beginPath(),m.type==="database")r.ellipse(m.x,m.y-10,p*.6,p*.2,0,0,Math.PI*2),r.fill(),r.stroke(),r.fillRect(m.x-p*.6,m.y-10,p*1.2,20),r.beginPath(),r.moveTo(m.x-p*.6,m.y-10),r.lineTo(m.x-p*.6,m.y+10),r.stroke(),r.beginPath(),r.moveTo(m.x+p*.6,m.y-10),r.lineTo(m.x+p*.6,m.y+10),r.stroke(),r.beginPath(),r.ellipse(m.x,m.y+10,p*.6,p*.2,0,0,Math.PI*2),r.stroke();else{const D=p*.8;r.roundRect(m.x-D,m.y-D,D*2,D*2,8),r.fill(),r.stroke()}f>.5&&(r.strokeStyle=N.replace(")",", 0.5)").replace("hsl(","hsla("),r.lineWidth=3,r.beginPath(),r.arc(m.x,m.y,p*f*1.5,0,Math.PI*2),r.stroke()),r.fillStyle="hsl(0, 0%, 100%)",r.font="11px 'JetBrains Mono', monospace",r.textAlign="center",r.fillText(m.label,m.x,m.y+p+20)};let b;const h=()=>{r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,a,i),r.lineWidth=1.5,n.forEach((m,f)=>{m.connections.forEach(p=>{const N=n[p],g=r.createLinearGradient(m.x,m.y,N.x,N.y),D=u(m.type),w=u(N.type);g.addColorStop(0,D.replace(")",", 0.2)").replace("hsl(","hsla(")),g.addColorStop(1,w.replace(")",", 0.2)").replace("hsl(","hsla(")),r.strokeStyle=g,r.beginPath(),r.moveTo(m.x,m.y),r.lineTo(N.x,N.y),r.stroke()})}),o.forEach((m,f)=>{if(m.progress+=m.speed,m.progress>=1){o.splice(f,1),Math.random()<.8&&d();return}const p=n[m.from],N=n[m.to],g=p.x+(N.x-p.x)*m.progress,D=p.y+(N.y-p.y)*m.progress,w=u(p.type);r.shadowBlur=10,r.shadowColor=w,r.fillStyle=w,r.beginPath(),r.arc(g,D,4,0,Math.PI*2),r.fill(),r.shadowBlur=0}),n.forEach(m=>{m.pulsePhase+=.02;const f=Math.sin(m.pulsePhase)*.5+.5;c(m,f)}),r.fillStyle="hsl(214, 100%, 50%, 0.8)",r.font="9px 'JetBrains Mono', monospace",r.textAlign="center",r.fillText("12ms",a/2,150),r.fillText("8ms",a/2.5,300),r.fillText("6ms",a*2.3/3,300),b=requestAnimationFrame(h)};return h(),()=>{cancelAnimationFrame(b)}},[]),t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-20",children:[t.jsxDEV("h2",{className:"text-6xl font-light tracking-tight mb-6",children:"Distributed Infrastructure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:229,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl text-muted-foreground font-mono",children:"Globally distributed, auto-scaling architecture"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:228,columnNumber:9},void 0),t.jsxDEV("div",{className:"relative h-[500px] rounded-lg border border-border-interactive overflow-hidden",children:[t.jsxDEV("canvas",{ref:s,className:"w-full h-full bg-black"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:238,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute top-4 left-4 font-mono text-xs text-muted-foreground space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:243,columnNumber:15},void 0),t.jsxDEV("span",{children:"US-EAST-1 | ACTIVE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:244,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:242,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:247,columnNumber:15},void 0),t.jsxDEV("span",{children:"EU-WEST-1 | ACTIVE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:248,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:246,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:251,columnNumber:15},void 0),t.jsxDEV("span",{children:"AP-SOUTH-1 | ACTIVE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:241,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-surface/80 backdrop-blur border border-border rounded p-4 font-mono text-xs",children:t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground mb-1",children:"REQUESTS/SEC"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:260,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-data-primary text-lg",children:"125.4K"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:261,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:259,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground mb-1",children:"AVG LATENCY"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:264,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-data-secondary text-lg",children:"47ms"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:265,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:263,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:258,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:257,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:237,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-12 grid grid-cols-4 gap-8 text-center font-mono text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-2",children:"AUTO-SCALING"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:274,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-primary",children:"Kubernetes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:275,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:273,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-2",children:"LOAD BALANCING"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:278,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-data-secondary",children:"Global"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:279,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:277,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-2",children:"REPLICATION"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:282,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-data-tertiary",children:"Multi-Region"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:283,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:281,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-xs text-muted-foreground mb-2",children:"FAILOVER"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:286,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-success",children:"Automatic"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:287,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:285,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:272,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:227,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/InfrastructureDiagram.tsx",lineNumber:226,columnNumber:5},void 0)},MM=({onGetStarted:s})=>t.jsxDEV("section",{className:"relative py-48 px-8 bg-black overflow-hidden",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto",children:[t.jsxDEV("div",{className:"text-center mb-16",children:[t.jsxDEV("h2",{className:"text-7xl font-light tracking-tight mb-8",children:"Enterprise Ontology Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:10,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[t.jsxDEV(F,{size:"lg",variant:"outline",className:"border-primary hover:bg-primary/10 uppercase tracking-widest font-medium px-10 py-7 text-sm group",children:["Request Architecture Review",t.jsxDEV(xl,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:21,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:15,columnNumber:13},void 0),t.jsxDEV(F,{size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 uppercase tracking-widest font-medium px-10 py-7 text-sm shadow-blue-lg group",onClick:s||(()=>window.location.href="/auth/create-organization"),children:["Start Building",t.jsxDEV(xl,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:30,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:24,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:14,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:9,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center justify-center gap-8 mb-12",children:[t.jsxDEV("div",{className:"h-px w-16 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:37,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-8 font-mono text-xs text-muted-foreground uppercase tracking-wider",children:[t.jsxDEV("span",{children:"Security Cleared"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:39,columnNumber:13},void 0),t.jsxDEV("div",{className:"w-px h-4 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:40,columnNumber:13},void 0),t.jsxDEV("span",{children:"SOC 2 Type II"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:41,columnNumber:13},void 0),t.jsxDEV("div",{className:"w-px h-4 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:42,columnNumber:13},void 0),t.jsxDEV("span",{children:"GDPR Compliant"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:43,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:38,columnNumber:11},void 0),t.jsxDEV("div",{className:"h-px w-16 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:36,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center justify-center gap-12 text-sm text-muted-foreground font-mono",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl text-primary mb-1",children:"99.99%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:51,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs",children:"Uptime SLA"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:50,columnNumber:11},void 0),t.jsxDEV("div",{className:"w-px h-12 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:54,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl text-data-secondary mb-1",children:"24/7"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:56,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs",children:"Enterprise Support"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:55,columnNumber:11},void 0),t.jsxDEV("div",{className:"w-px h-12 bg-border"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:59,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl text-data-primary mb-1",children:"14 Day"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:61,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-xs",children:"Free Trial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:62,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:49,columnNumber:9},void 0),t.jsxDEV("div",{className:"absolute inset-0 pointer-events-none opacity-5",children:t.jsxDEV("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(hsl(214, 30%, 15%) 1px, transparent 1px),
              linear-gradient(90deg, hsl(214, 30%, 15%) 1px, transparent 1px)
            `,backgroundSize:"40px 40px"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:68,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:67,columnNumber:9},void 0),t.jsxDEV("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full pointer-events-none",style:{background:"radial-gradient(circle, hsl(214, 100%, 50%, 0.1), transparent 70%)",filter:"blur(60px)"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:78,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:7,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/landing/MinimalCTA.tsx",lineNumber:6,columnNumber:5},void 0);function LM(s){return s&&typeof s=="object"&&"default"in s?s.default:s}var jU=v,IM=LM(jU);function MA(s,e,r){return e in s?Object.defineProperty(s,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[e]=r,s}function FM(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}var zM=!!(typeof window<"u"&&window.document&&window.document.createElement);function BM(s,e,r){if(typeof s!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function a(i){return i.displayName||i.name||"Component"}return function(n){if(typeof n!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function d(){l=s(o.map(function(c){return c.props})),u.canUseDOM?e(l):r&&(l=r(l))}var u=function(c){FM(b,c);function b(){return c.apply(this,arguments)||this}b.peek=function(){return l},b.rewind=function(){if(b.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var f=l;return l=void 0,o=[],f};var h=b.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),d()},h.componentDidUpdate=function(){d()},h.componentWillUnmount=function(){var f=o.indexOf(this);o.splice(f,1),d()},h.render=function(){return IM.createElement(n,this.props)},b}(jU.PureComponent);return MA(u,"displayName","SideEffect("+a(n)+")"),MA(u,"canUseDOM",zM),u}}var qM=BM;const $M=O1(qM);var HM=typeof Element<"u",GM=typeof Map=="function",KM=typeof Set=="function",QM=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bp(s,e){if(s===e)return!0;if(s&&e&&typeof s=="object"&&typeof e=="object"){if(s.constructor!==e.constructor)return!1;var r,a,i;if(Array.isArray(s)){if(r=s.length,r!=e.length)return!1;for(a=r;a--!==0;)if(!Bp(s[a],e[a]))return!1;return!0}var n;if(GM&&s instanceof Map&&e instanceof Map){if(s.size!==e.size)return!1;for(n=s.entries();!(a=n.next()).done;)if(!e.has(a.value[0]))return!1;for(n=s.entries();!(a=n.next()).done;)if(!Bp(a.value[1],e.get(a.value[0])))return!1;return!0}if(KM&&s instanceof Set&&e instanceof Set){if(s.size!==e.size)return!1;for(n=s.entries();!(a=n.next()).done;)if(!e.has(a.value[0]))return!1;return!0}if(QM&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(e)){if(r=s.length,r!=e.length)return!1;for(a=r;a--!==0;)if(s[a]!==e[a])return!1;return!0}if(s.constructor===RegExp)return s.source===e.source&&s.flags===e.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof e.valueOf=="function")return s.valueOf()===e.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof e.toString=="function")return s.toString()===e.toString();if(i=Object.keys(s),r=i.length,r!==Object.keys(e).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[a]))return!1;if(HM&&s instanceof Element)return!1;for(a=r;a--!==0;)if(!((i[a]==="_owner"||i[a]==="__v"||i[a]==="__o")&&s.$$typeof)&&!Bp(s[i[a]],e[i[a]]))return!1;return!0}return s!==s&&e!==e}var YM=function(e,r){try{return Bp(e,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const JM=O1(YM);var Ou={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Et={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},LA=Object.keys(Et).map(function(s){return Et[s]}),Kr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},bN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ph={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ZM=Object.keys(bN).reduce(function(s,e){return s[bN[e]]=e,s},{}),XM=[Et.NOSCRIPT,Et.SCRIPT,Et.STYLE],mo="data-react-helmet",eL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},sL=function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")},tL=function(){function s(e,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,a){return r&&s(e.prototype,r),a&&s(e,a),e}}(),Si=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},rL=function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):s.__proto__=e)},IA=function(s,e){var r={};for(var a in s)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a]);return r},aL=function(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:s},f0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},iL=function(e){var r=Hc(e,Et.TITLE),a=Hc(e,ph.TITLE_TEMPLATE);if(a&&r)return a.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=Hc(e,ph.DEFAULT_TITLE);return r||i||void 0},nL=function(e){return Hc(e,ph.ON_CHANGE_CLIENT_STATE)||function(){}},vx=function(e,r){return r.filter(function(a){return typeof a[e]<"u"}).map(function(a){return a[e]}).reduce(function(a,i){return Si({},a,i)},{})},oL=function(e,r){return r.filter(function(a){return typeof a[Et.BASE]<"u"}).map(function(a){return a[Et.BASE]}).reverse().reduce(function(a,i){if(!a.length)for(var n=Object.keys(i),o=0;o<n.length;o++){var l=n[o],d=l.toLowerCase();if(e.indexOf(d)!==-1&&i[d])return a.concat(i)}return a},[])},fb=function(e,r,a){var i={};return a.filter(function(n){return Array.isArray(n[e])?!0:(typeof n[e]<"u"&&N0("Helmet: "+e+' should be of type "Array". Instead found type "'+eL(n[e])+'"'),!1)}).map(function(n){return n[e]}).reverse().reduce(function(n,o){var l={};o.filter(function(h){for(var m=void 0,f=Object.keys(h),p=0;p<f.length;p++){var N=f[p],g=N.toLowerCase();r.indexOf(g)!==-1&&!(m===Kr.REL&&h[m].toLowerCase()==="canonical")&&!(g===Kr.REL&&h[g].toLowerCase()==="stylesheet")&&(m=g),r.indexOf(N)!==-1&&(N===Kr.INNER_HTML||N===Kr.CSS_TEXT||N===Kr.ITEM_PROP)&&(m=N)}if(!m||!h[m])return!1;var D=h[m].toLowerCase();return i[m]||(i[m]={}),l[m]||(l[m]={}),i[m][D]?!1:(l[m][D]=!0,!0)}).reverse().forEach(function(h){return n.push(h)});for(var d=Object.keys(l),u=0;u<d.length;u++){var c=d[u],b=ST({},i[c],l[c]);i[c]=b}return n},[]).reverse()},Hc=function(e,r){for(var a=e.length-1;a>=0;a--){var i=e[a];if(i.hasOwnProperty(r))return i[r]}return null},lL=function(e){return{baseTag:oL([Kr.HREF,Kr.TARGET],e),bodyAttributes:vx(Ou.BODY,e),defer:Hc(e,ph.DEFER),encode:Hc(e,ph.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:vx(Ou.HTML,e),linkTags:fb(Et.LINK,[Kr.REL,Kr.HREF],e),metaTags:fb(Et.META,[Kr.NAME,Kr.CHARSET,Kr.HTTPEQUIV,Kr.PROPERTY,Kr.ITEM_PROP],e),noscriptTags:fb(Et.NOSCRIPT,[Kr.INNER_HTML],e),onChangeClientState:nL(e),scriptTags:fb(Et.SCRIPT,[Kr.SRC,Kr.INNER_HTML],e),styleTags:fb(Et.STYLE,[Kr.CSS_TEXT],e),title:iL(e),titleAttributes:vx(Ou.TITLE,e)}},p0=function(){var s=Date.now();return function(e){var r=Date.now();r-s>16?(s=r,e(r)):setTimeout(function(){p0(e)},0)}}(),FA=function(e){return clearTimeout(e)},dL=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||p0:global.requestAnimationFrame||p0,uL=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||FA:global.cancelAnimationFrame||FA,N0=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},pb=null,cL=function(e){pb&&uL(pb),e.defer?pb=dL(function(){zA(e,function(){pb=null})}):(zA(e),pb=null)},zA=function(e,r){var a=e.baseTag,i=e.bodyAttributes,n=e.htmlAttributes,o=e.linkTags,l=e.metaTags,d=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,b=e.styleTags,h=e.title,m=e.titleAttributes;k0(Et.BODY,i),k0(Et.HTML,n),mL(h,m);var f={baseTag:jc(Et.BASE,a),linkTags:jc(Et.LINK,o),metaTags:jc(Et.META,l),noscriptTags:jc(Et.NOSCRIPT,d),scriptTags:jc(Et.SCRIPT,c),styleTags:jc(Et.STYLE,b)},p={},N={};Object.keys(f).forEach(function(g){var D=f[g],w=D.newTags,A=D.oldTags;w.length&&(p[g]=w),A.length&&(N[g]=f[g].oldTags)}),r&&r(),u(e,p,N)},AU=function(e){return Array.isArray(e)?e.join(""):e},mL=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=AU(e)),k0(Et.TITLE,r)},k0=function(e,r){var a=document.getElementsByTagName(e)[0];if(a){for(var i=a.getAttribute(mo),n=i?i.split(","):[],o=[].concat(n),l=Object.keys(r),d=0;d<l.length;d++){var u=l[d],c=r[u]||"";a.getAttribute(u)!==c&&a.setAttribute(u,c),n.indexOf(u)===-1&&n.push(u);var b=o.indexOf(u);b!==-1&&o.splice(b,1)}for(var h=o.length-1;h>=0;h--)a.removeAttribute(o[h]);n.length===o.length?a.removeAttribute(mo):a.getAttribute(mo)!==l.join(",")&&a.setAttribute(mo,l.join(","))}},jc=function(e,r){var a=document.head||document.querySelector(Et.HEAD),i=a.querySelectorAll(e+"["+mo+"]"),n=Array.prototype.slice.call(i),o=[],l=void 0;return r&&r.length&&r.forEach(function(d){var u=document.createElement(e);for(var c in d)if(d.hasOwnProperty(c))if(c===Kr.INNER_HTML)u.innerHTML=d.innerHTML;else if(c===Kr.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{var b=typeof d[c]>"u"?"":d[c];u.setAttribute(c,b)}u.setAttribute(mo,"true"),n.some(function(h,m){return l=m,u.isEqualNode(h)})?n.splice(l,1):o.push(u)}),n.forEach(function(d){return d.parentNode.removeChild(d)}),o.forEach(function(d){return a.appendChild(d)}),{oldTags:n,newTags:o}},EU=function(e){return Object.keys(e).reduce(function(r,a){var i=typeof e[a]<"u"?a+'="'+e[a]+'"':""+a;return r?r+" "+i:i},"")},bL=function(e,r,a,i){var n=EU(a),o=AU(r);return n?"<"+e+" "+mo+'="true" '+n+">"+f0(o,i)+"</"+e+">":"<"+e+" "+mo+'="true">'+f0(o,i)+"</"+e+">"},hL=function(e,r,a){return r.reduce(function(i,n){var o=Object.keys(n).filter(function(u){return!(u===Kr.INNER_HTML||u===Kr.CSS_TEXT)}).reduce(function(u,c){var b=typeof n[c]>"u"?c:c+'="'+f0(n[c],a)+'"';return u?u+" "+b:b},""),l=n.innerHTML||n.cssText||"",d=XM.indexOf(e)===-1;return i+"<"+e+" "+mo+'="true" '+o+(d?"/>":">"+l+"</"+e+">")},"")},PU=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(a,i){return a[bN[i]||i]=e[i],a},r)},fL=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(a,i){return a[ZM[i]||i]=e[i],a},r)},pL=function(e,r,a){var i,n=(i={key:r},i[mo]=!0,i),o=PU(a,n);return[Ge.createElement(Et.TITLE,o,r)]},NL=function(e,r){return r.map(function(a,i){var n,o=(n={key:i},n[mo]=!0,n);return Object.keys(a).forEach(function(l){var d=bN[l]||l;if(d===Kr.INNER_HTML||d===Kr.CSS_TEXT){var u=a.innerHTML||a.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[d]=a[l]}),Ge.createElement(e,o)})},il=function(e,r,a){switch(e){case Et.TITLE:return{toComponent:function(){return pL(e,r.title,r.titleAttributes)},toString:function(){return bL(e,r.title,r.titleAttributes,a)}};case Ou.BODY:case Ou.HTML:return{toComponent:function(){return PU(r)},toString:function(){return EU(r)}};default:return{toComponent:function(){return NL(e,r)},toString:function(){return hL(e,r,a)}}}},yU=function(e){var r=e.baseTag,a=e.bodyAttributes,i=e.encode,n=e.htmlAttributes,o=e.linkTags,l=e.metaTags,d=e.noscriptTags,u=e.scriptTags,c=e.styleTags,b=e.title,h=b===void 0?"":b,m=e.titleAttributes;return{base:il(Et.BASE,r,i),bodyAttributes:il(Ou.BODY,a,i),htmlAttributes:il(Ou.HTML,n,i),link:il(Et.LINK,o,i),meta:il(Et.META,l,i),noscript:il(Et.NOSCRIPT,d,i),script:il(Et.SCRIPT,u,i),style:il(Et.STYLE,c,i),title:il(Et.TITLE,{title:h,titleAttributes:m},i)}},kL=function(e){var r,a;return a=r=function(i){rL(n,i);function n(){return sL(this,n),aL(this,i.apply(this,arguments))}return n.prototype.shouldComponentUpdate=function(l){return!JM(this.props,l)},n.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case Et.SCRIPT:case Et.NOSCRIPT:return{innerHTML:d};case Et.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(l){var d,u=l.child,c=l.arrayTypeChildren,b=l.newChildProps,h=l.nestedChildren;return Si({},c,(d={},d[u.type]=[].concat(c[u.type]||[],[Si({},b,this.mapNestedChildrenToProps(u,h))]),d))},n.prototype.mapObjectTypeChildren=function(l){var d,u,c=l.child,b=l.newProps,h=l.newChildProps,m=l.nestedChildren;switch(c.type){case Et.TITLE:return Si({},b,(d={},d[c.type]=m,d.titleAttributes=Si({},h),d));case Et.BODY:return Si({},b,{bodyAttributes:Si({},h)});case Et.HTML:return Si({},b,{htmlAttributes:Si({},h)})}return Si({},b,(u={},u[c.type]=Si({},h),u))},n.prototype.mapArrayTypeChildrenToProps=function(l,d){var u=Si({},d);return Object.keys(l).forEach(function(c){var b;u=Si({},u,(b={},b[c]=l[c],b))}),u},n.prototype.warnOnInvalidChildren=function(l,d){{if(!LA.some(function(u){return l.type===u}))return typeof l.type=="function"?N0("You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information."):N0("Only elements types "+LA.join(", ")+" are allowed. Helmet does not support rendering <"+l.type+"> elements. Refer to our API for more information.");if(d&&typeof d!="string"&&(!Array.isArray(d)||d.some(function(u){return typeof u!="string"})))throw new Error("Helmet expects a string as a child of <"+l.type+">. Did you forget to wrap your children in braces? ( <"+l.type+">{``}</"+l.type+"> ) Refer to our API for more information.")}return!0},n.prototype.mapChildrenToProps=function(l,d){var u=this,c={};return Ge.Children.forEach(l,function(b){if(!(!b||!b.props)){var h=b.props,m=h.children,f=IA(h,["children"]),p=fL(f);switch(u.warnOnInvalidChildren(b,m),b.type){case Et.LINK:case Et.META:case Et.NOSCRIPT:case Et.SCRIPT:case Et.STYLE:c=u.flattenArrayTypeChildren({child:b,arrayTypeChildren:c,newChildProps:p,nestedChildren:m});break;default:d=u.mapObjectTypeChildren({child:b,newProps:d,newChildProps:p,nestedChildren:m});break}}}),d=this.mapArrayTypeChildrenToProps(c,d),d},n.prototype.render=function(){var l=this.props,d=l.children,u=IA(l,["children"]),c=Si({},u);return d&&(c=this.mapChildrenToProps(d,c)),Ge.createElement(e,c)},tL(n,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),n}(Ge.Component),r.propTypes={base:$r.object,bodyAttributes:$r.object,children:$r.oneOfType([$r.arrayOf($r.node),$r.node]),defaultTitle:$r.string,defer:$r.bool,encodeSpecialCharacters:$r.bool,htmlAttributes:$r.object,link:$r.arrayOf($r.object),meta:$r.arrayOf($r.object),noscript:$r.arrayOf($r.object),onChangeClientState:$r.func,script:$r.arrayOf($r.object),style:$r.arrayOf($r.object),title:$r.string,titleAttributes:$r.object,titleTemplate:$r.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var i=e.rewind();return i||(i=yU({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},a},gL=function(){return null},xL=$M(lL,cL,yU)(gL),Rn=kL(xL);Rn.renderStatic=Rn.rewind;const Kn=jT,Qn=AT,vL=v.forwardRef(({className:s,inset:e,children:r,...a},i)=>t.jsxDEV(rO,{ref:i,className:Ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",s),...a,children:[r,t.jsxDEV(Cd,{className:"ml-auto h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:35,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:25,columnNumber:3},void 0));vL.displayName=rO.displayName;const DL=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(aO,{ref:r,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:44,columnNumber:3},void 0));DL.displayName=aO.displayName;const xn=v.forwardRef(({className:s,sideOffset:e=4,...r},a)=>t.jsxDEV(wT,{children:t.jsxDEV(iO,{ref:a,sideOffset:e,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:60,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:59,columnNumber:3},void 0));xn.displayName=iO.displayName;const fr=v.forwardRef(({className:s,inset:e,...r},a)=>t.jsxDEV(nO,{ref:a,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:79,columnNumber:3},void 0));fr.displayName=nO.displayName;const wL=v.forwardRef(({className:s,children:e,checked:r,...a},i)=>t.jsxDEV(oO,{ref:i,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),checked:r,...a,children:[t.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsxDEV(lO,{children:t.jsxDEV(Tu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:106,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:105,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:104,columnNumber:5},void 0),e]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:95,columnNumber:3},void 0));wL.displayName=oO.displayName;const jL=v.forwardRef(({className:s,children:e,...r},a)=>t.jsxDEV(dO,{ref:a,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...r,children:[t.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsxDEV(lO,{children:t.jsxDEV(ZO,{className:"h-2 w-2 fill-current"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:128,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:127,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:126,columnNumber:5},void 0),e]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:118,columnNumber:3},void 0));jL.displayName=dO.displayName;const Xu=v.forwardRef(({className:s,inset:e,...r},a)=>t.jsxDEV(uO,{ref:a,className:Ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:142,columnNumber:3},void 0));Xu.displayName=uO.displayName;const jl=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(cO,{ref:r,className:Ce("-mx-1 my-1 h-px bg-muted",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dropdown-menu.tsx",lineNumber:154,columnNumber:3},void 0));jl.displayName=cO.displayName;var OU={exports:{}},WU={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function s(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}function e(m,f){c||i.startTransition===void 0||(c=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var p=f();if(!b){var N=f();n(p,N)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),b=!0)}N=o({inst:{value:p,getSnapshot:f}});var g=N[0].inst,D=N[1];return d(function(){g.value=p,g.getSnapshot=f,r(g)&&D({inst:g})},[m,p,f]),l(function(){return r(g)&&D({inst:g}),m(function(){r(g)&&D({inst:g})})},[m]),u(p),p}function r(m){var f=m.getSnapshot;m=m.value;try{var p=f();return!n(m,p)}catch{return!0}}function a(m,f){return f()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var i=v,n=typeof Object.is=="function"?Object.is:s,o=i.useState,l=i.useEffect,d=i.useLayoutEffect,u=i.useDebugValue,c=!1,b=!1,h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a:e;WU.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:h,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();OU.exports=WU;var Bk=OU.exports;function AL(){return Bk.useSyncExternalStore(EL,()=>!0,()=>!1)}function EL(){return()=>{}}var cD="Avatar",[PL,Wde]=Gn(cD),[yL,UU]=PL(cD),VU=v.forwardRef((s,e)=>{const{__scopeAvatar:r,...a}=s,[i,n]=v.useState("idle");return de.jsx(yL,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:de.jsx(sr.span,{...a,ref:e})})});VU.displayName=cD;var _U="AvatarImage",CU=v.forwardRef((s,e)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:i=()=>{},...n}=s,o=UU(_U,r),l=OL(a,n),d=Vn(u=>{i(u),o.onImageLoadingStatusChange(u)});return oh(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?de.jsx(sr.img,{...n,ref:e,src:a}):null});CU.displayName=_U;var SU="AvatarFallback",TU=v.forwardRef((s,e)=>{const{__scopeAvatar:r,delayMs:a,...i}=s,n=UU(SU,r),[o,l]=v.useState(a===void 0);return v.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&n.imageLoadingStatus!=="loaded"?de.jsx(sr.span,{...i,ref:e}):null});TU.displayName=SU;function BA(s,e){return s?e?(s.src!==e&&(s.src=e),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OL(s,{referrerPolicy:e,crossOrigin:r}){const a=AL(),i=v.useRef(null),n=a?(i.current||(i.current=new window.Image),i.current):null,[o,l]=v.useState(()=>BA(n,s));return oh(()=>{l(BA(n,s))},[n,s]),oh(()=>{const d=b=>()=>{l(b)};if(!n)return;const u=d("loaded"),c=d("error");return n.addEventListener("load",u),n.addEventListener("error",c),e&&(n.referrerPolicy=e),typeof r=="string"&&(n.crossOrigin=r),()=>{n.removeEventListener("load",u),n.removeEventListener("error",c)}},[n,r,e]),o}var RU=VU,MU=CU,LU=TU;const Mn=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(RU,{ref:r,className:Ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/avatar.tsx",lineNumber:10,columnNumber:3},void 0));Mn.displayName=RU.displayName;const Gc=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(MU,{ref:r,className:Ce("aspect-square h-full w-full",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/avatar.tsx",lineNumber:22,columnNumber:3},void 0));Gc.displayName=MU.displayName;const Ln=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(LU,{ref:r,className:Ce("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/avatar.tsx",lineNumber:30,columnNumber:3},void 0));Ln.displayName=LU.displayName;const WL=Ju("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80 hover:shadow-gold hover:scale-105",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80 hover:shadow-lg",outline:"text-foreground border-border hover:bg-hover-overlay hover:border-border-interactive"}},defaultVariants:{variant:"default"}});function he({className:s,variant:e,...r}){return t.jsxDEV("div",{className:Ce(WL({variant:e}),s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/badge.tsx",lineNumber:26,columnNumber:10},this)}const UL={firm_administrator:"Admin",partner:"Partner",practice_leader:"Practice Leader",business_development:"BD",engagement_manager:"Manager",senior_auditor:"Senior",staff_auditor:"Staff",client_administrator:"Client Admin",client_user:"Client"},VL={firm_administrator:"destructive",partner:"destructive",practice_leader:"secondary",business_development:"secondary",engagement_manager:"secondary",senior_auditor:"default",staff_auditor:"default",client_administrator:"outline",client_user:"outline"};function IU({role:s,className:e}){return t.jsxDEV(he,{variant:VL[s],className:e,children:UL[s]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/RoleBadge.tsx",lineNumber:37,columnNumber:5},this)}function _L(){var o,l;const{profile:s,roles:e,signOut:r}=ar(),a=Qt(),i=s?`${((o=s.first_name)==null?void 0:o[0])||""}${((l=s.last_name)==null?void 0:l[0])||""}`:"U",n=async()=>{await r(),a("/auth/login")};return t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:t.jsxDEV(Mn,{className:"h-10 w-10",children:t.jsxDEV(Ln,{className:"bg-primary/10 text-primary",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:31,columnNumber:7},this),t.jsxDEV(xn,{className:"w-56",align:"end",forceMount:!0,children:[t.jsxDEV(Xu,{children:t.jsxDEV("div",{className:"flex flex-col space-y-1",children:[t.jsxDEV("p",{className:"text-sm font-medium leading-none",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:43,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs leading-none text-muted-foreground",children:s==null?void 0:s.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:46,columnNumber:13},this),e.length>0&&t.jsxDEV("div",{className:"pt-1",children:t.jsxDEV(IU,{role:e[0]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:51,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:50,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:41,columnNumber:9},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:56,columnNumber:9},this),t.jsxDEV(fr,{onClick:()=>a("/settings"),children:[t.jsxDEV(im,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:58,columnNumber:11},this),t.jsxDEV("span",{children:"Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:57,columnNumber:9},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:61,columnNumber:9},this),t.jsxDEV(fr,{onClick:n,children:[t.jsxDEV(N6,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:63,columnNumber:11},this),t.jsxDEV("span",{children:"Sign out"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/UserMenu.tsx",lineNumber:30,columnNumber:5},this)}const ec="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyODAgNTAiIHdpZHRoPSI1NjAiIGhlaWdodD0iMTAwIj4KICAgICAgICA8cGF0aCBkPSJNMTUgNy41TDI1IDE3LjVMMTUgNDIuNUw1IDMyLjVMMTUgNy41WiIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgPHBhdGggZD0iTTI1IDE3LjVMMzUgNy41TDI1IDMyLjVMMTUgNDIuNUwyNSAxNy41WiIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC43Ii8+CiAgICAgICAgPHBhdGggZD0iTTE1IDcuNUwyNSAyLjVMMzUgNy41TDI1IDE3LjVMMTUgNy41WiIgZmlsbD0iI0ZGRkZGRiIvPgogICAgICAgIDx0ZXh0IHg9IjU1IiB5PSIzMiIgZm9udC1mYW1pbHk9InN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyOCIgZm9udC13ZWlnaHQ9IjcwMCIgZmlsbD0iI0ZGRkZGRiIgbGV0dGVyLXNwYWNpbmc9Ii0wLjAyZW0iPk9CU0lESUFOPC90ZXh0PgogICAgICA8L3N2Zz4=",CL=()=>{const s=Qt(),{user:e}=ar(),r=()=>{s(e?"/dashboard":"/auth/signup")};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:[t.jsxDEV("title",{children:"Skal - Enterprise Ontology Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:43,columnNumber:9},void 0),t.jsxDEV("meta",{name:"description",content:"Single source of truth connecting projects, data and teams"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:44,columnNumber:9},void 0),t.jsxDEV("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:45,columnNumber:9},void 0),t.jsxDEV("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:46,columnNumber:9},void 0),t.jsxDEV("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap",rel:"stylesheet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:42,columnNumber:7},void 0),t.jsxDEV("div",{className:"min-h-screen bg-black text-foreground overflow-hidden",children:[t.jsxDEV("div",{className:"relative min-h-screen",children:[t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:52,columnNumber:11},void 0),t.jsxDEV(UM,{onGetStarted:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:53,columnNumber:11},void 0),t.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-64 pointer-events-none",style:{background:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 30%, rgba(0,0,0,0.7) 60%, rgb(0,0,0) 100%)"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:56,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:51,columnNumber:9},void 0),t.jsxDEV("div",{className:"fixed top-0 left-0 z-50 px-8 py-6",children:t.jsxDEV("a",{href:"/",className:"block hover:opacity-80 transition-opacity",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-8 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:67,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:66,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:65,columnNumber:9},void 0),t.jsxDEV("div",{className:"fixed top-0 right-0 z-50 px-8 py-6",children:e?t.jsxDEV(_L,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:74,columnNumber:13},void 0):t.jsxDEV(F,{variant:"ghost",className:"text-primary hover:text-primary/80 hover:bg-transparent uppercase tracking-wider text-sm font-medium",onClick:()=>s("/auth/login"),children:"Sign In"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:76,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:72,columnNumber:9},void 0),t.jsxDEV("main",{className:"bg-black",children:[t.jsxDEV(VM,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:87,columnNumber:11},void 0),t.jsxDEV(_M,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:88,columnNumber:11},void 0),t.jsxDEV(CM,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:89,columnNumber:11},void 0),t.jsxDEV(SM,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:90,columnNumber:11},void 0),t.jsxDEV(TM,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:91,columnNumber:11},void 0),t.jsxDEV(RM,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:92,columnNumber:11},void 0),t.jsxDEV(MM,{onGetStarted:()=>s("/portal")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:93,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:86,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:50,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Index.tsx",lineNumber:41,columnNumber:5},void 0)};function SL(){const{user:s}=ar(),{data:e}=bs({queryKey:["my-tasks-stats",s==null?void 0:s.id],queryFn:async()=>{const{data:o,error:l}=await le.from("tasks").select("id, priority, due_date",{count:"exact"}).or(`assigned_to.eq.${s==null?void 0:s.id},created_by.eq.${s==null?void 0:s.id}`).eq("status","pending");if(l)throw l;const d=(o==null?void 0:o.filter(u=>u.priority==="critical").length)||0;return{total:(o==null?void 0:o.length)||0,critical:d}},enabled:!!(s!=null&&s.id)}),{data:r}=bs({queryKey:["my-engagements-stats",s==null?void 0:s.id],queryFn:async()=>{const{data:o,error:l}=await le.from("audits").select("id, status, budgeted_hours, hours_spent",{count:"exact"}).or(`lead_auditor_id.eq.${s==null?void 0:s.id},manager_id.eq.${s==null?void 0:s.id}`).in("status",["planning","fieldwork","review","in_progress"]);if(l)throw l;const d=(o==null?void 0:o.filter(u=>{const c=u.budgeted_hours||0,b=u.hours_spent||0;return c>0&&b/c*100>90}).length)||0;return{total:(o==null?void 0:o.length)||0,atRisk:d}},enabled:!!(s!=null&&s.id)}),{data:a}=bs({queryKey:["overdue-pbc-stats",s==null?void 0:s.id],queryFn:async()=>({total:3,critical:2}),enabled:!!(s!=null&&s.id)}),{data:i}=bs({queryKey:["review-notes-stats",s==null?void 0:s.id],queryFn:async()=>({total:7,open:5}),enabled:!!(s!=null&&s.id)}),n=[{title:"My Tasks",count:(e==null?void 0:e.total)||0,detail:`${(e==null?void 0:e.critical)||0} critical`,icon:dW,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"My Audits",count:(r==null?void 0:r.total)||0,detail:`${(r==null?void 0:r.atRisk)||0} at risk`,icon:vl,color:"text-green-600",bgColor:"bg-green-50"},{title:"Overdue PBC",count:(a==null?void 0:a.total)||0,detail:`${(a==null?void 0:a.critical)||0} critical`,icon:Ys,color:"text-orange-600",bgColor:"bg-orange-50"},{title:"Review Notes",count:(i==null?void 0:i.total)||0,detail:`${(i==null?void 0:i.open)||0} open`,icon:Ws,color:"text-purple-600",bgColor:"bg-purple-50"}];return t.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(o=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:o.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:135,columnNumber:17},this),t.jsxDEV("p",{className:"text-3xl font-bold",children:o.count},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:136,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.detail.includes("critical")&&o.detail!=="0 critical"&&t.jsxDEV("span",{className:"inline-block h-2 w-2 rounded-full bg-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:139,columnNumber:21},this),o.detail]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:134,columnNumber:15},this),t.jsxDEV("div",{className:`p-3 rounded-full ${o.bgColor}`,children:t.jsxDEV(o.icon,{className:`h-6 w-6 ${o.color}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:145,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:132,columnNumber:11},this)},o.title,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:131,columnNumber:9},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/QuickStatsBar.tsx",lineNumber:129,columnNumber:5},this)}var mD="Progress",bD=100,[TL,Ude]=Gn(mD),[RL,ML]=TL(mD),FU=v.forwardRef((s,e)=>{const{__scopeProgress:r,value:a=null,max:i,getValueLabel:n=LL,...o}=s;(i||i===0)&&!qA(i)&&console.error(IL(`${i}`,"Progress"));const l=qA(i)?i:bD;a!==null&&!$A(a,l)&&console.error(FL(`${a}`,"Progress"));const d=$A(a,l)?a:null,u=hN(d)?n(d,l):void 0;return de.jsx(RL,{scope:r,value:d,max:l,children:de.jsx(sr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hN(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":qU(d,l),"data-value":d??void 0,"data-max":l,...o,ref:e})})});FU.displayName=mD;var zU="ProgressIndicator",BU=v.forwardRef((s,e)=>{const{__scopeProgress:r,...a}=s,i=ML(zU,r);return de.jsx(sr.div,{"data-state":qU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:e})});BU.displayName=zU;function LL(s,e){return`${Math.round(s/e*100)}%`}function qU(s,e){return s==null?"indeterminate":s===e?"complete":"loading"}function hN(s){return typeof s=="number"}function qA(s){return hN(s)&&!isNaN(s)&&s>0}function $A(s,e){return hN(s)&&!isNaN(s)&&s<=e&&s>=0}function IL(s,e){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bD}\`.`}function FL(s,e){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $U=FU,zL=BU;const cr=v.forwardRef(({className:s,value:e,...r},a)=>t.jsxDEV($U,{ref:a,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary","shadow-inner",s),...r,children:t.jsxDEV(zL,{className:Ce("h-full w-full flex-1 bg-primary","transition-all duration-500 ease-out","relative overflow-hidden","before:absolute before:inset-0","before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent","before:animate-shimmer"),style:{transform:`translateX(-${100-(e||0)}%)`}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/progress.tsx",lineNumber:19,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));cr.displayName=$U.displayName;function BL(){const{user:s}=ar(),e=Qt(),{data:r,isLoading:a}=bs({queryKey:["my-engagements",s==null?void 0:s.id],queryFn:async()=>{const{data:d,error:u}=await le.from("audits").select(`
          id,
          audit_title,
          audit_number,
          status,
          current_phase,
          budgeted_hours,
          hours_spent,
          planned_end_date,
          client:clients(id, name),
          partner:profiles!lead_auditor_id(id, full_name),
          manager:profiles!manager_id(id, full_name)
        `).or(`lead_auditor_id.eq.${s==null?void 0:s.id},manager_id.eq.${s==null?void 0:s.id}`).in("status",["planning","fieldwork","review","in_progress","active"]).order("planned_end_date",{ascending:!0}).limit(5);if(u)throw u;return d},enabled:!!(s!=null&&s.id)}),i=d=>{switch(d==null?void 0:d.toLowerCase()){case"planning":return"secondary";case"fieldwork":case"in_progress":case"active":return"default";case"review":return"outline";default:return"secondary"}},n=d=>{var u,c;return((u=d.partner)==null?void 0:u.id)===(s==null?void 0:s.id)?"Partner":((c=d.manager)==null?void 0:c.id)===(s==null?void 0:s.id)?"Manager":"Team Member"},o=d=>{const u=d.budgeted_hours||0,c=d.hours_spent||0;if(u===0)return{percent:0,variant:"default"};const b=c/u*100;return b>100?{percent:b,variant:"destructive"}:b>90?{percent:b,variant:"warning"}:{percent:b,variant:"default"}},l=d=>d?Math.ceil((new Date(d).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return a?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"My Active Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:104,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:103,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(d=>t.jsxDEV("div",{className:"h-24 bg-muted animate-pulse rounded-lg"},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:109,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:107,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:106,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:102,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"My Active Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:122,columnNumber:13},this),t.jsxDEV(Ke,{children:["Showing ",(r==null?void 0:r.length)||0," of your assigned engagements"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:123,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:121,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",onClick:()=>e("/engagements"),children:["View All",t.jsxDEV(xl,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:129,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:120,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:119,columnNumber:7},this),t.jsxDEV(q,{children:!r||r.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(Ws,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:136,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No active engagements assigned to you"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:135,columnNumber:11},this):t.jsxDEV("div",{className:"space-y-4",children:r.map(d=>{var b,h;const u=o(d),c=l(d.planned_end_date);return t.jsxDEV(B,{className:"hover:bg-muted/50 transition-colors",children:t.jsxDEV(q,{className:"p-4",children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold",children:d.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:152,columnNumber:27},this),t.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[t.jsxDEV("span",{children:((b=d.client)==null?void 0:b.name)||"No client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:154,columnNumber:29},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:155,columnNumber:29},this),t.jsxDEV("span",{children:d.audit_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:156,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:153,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:151,columnNumber:25},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"sm",children:["Quick Actions",t.jsxDEV(Kh,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:163,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:161,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:160,columnNumber:27},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(fr,{onClick:()=>e(`/engagements/${d.id}/audit`),children:[t.jsxDEV(Ws,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:168,columnNumber:31},this),"Open Engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:167,columnNumber:29},this),t.jsxDEV(fr,{children:[t.jsxDEV(Ys,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:172,columnNumber:31},this),"Add Finding"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:171,columnNumber:29},this),t.jsxDEV(fr,{children:[t.jsxDEV(Ii,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:176,columnNumber:31},this),"Email Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:175,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:166,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:159,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:150,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Status:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:186,columnNumber:27},this),t.jsxDEV(he,{variant:i(d.status),children:d.current_phase||((h=d.status)==null?void 0:h.replace("_"," "))||"Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:187,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:185,columnNumber:25},this),c!==null&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:193,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Due:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:195,columnNumber:31},this),t.jsxDEV("span",{className:c<0?"text-red-600 font-medium":c<7?"text-orange-600 font-medium":"",children:c<0?`${Math.abs(c)} days overdue`:`${c} days`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:196,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:194,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:192,columnNumber:27},this),t.jsxDEV("span",{className:"text-muted-foreground",children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:212,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Role:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:214,columnNumber:27},this),t.jsxDEV("span",{className:"font-medium",children:n(d)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:215,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:213,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:184,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Budget Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:222,columnNumber:27},this),t.jsxDEV("span",{className:"font-medium",children:[d.hours_spent||0," / ",d.budgeted_hours||0," hrs (",Math.round(u.percent),"%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:223,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:221,columnNumber:25},this),t.jsxDEV(cr,{value:Math.min(u.percent,100),className:`h-2 ${u.percent>100?"[&>div]:bg-red-500":""}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:228,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:220,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-sm",children:u.percent>90&&t.jsxDEV("div",{className:"flex items-center gap-1 text-orange-600",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:238,columnNumber:29},this),t.jsxDEV("span",{children:"Budget at risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:239,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:237,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:235,columnNumber:23},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full",onClick:()=>e(`/engagements/${d.id}/audit`),children:"Open Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:247,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:246,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:148,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:147,columnNumber:19},this)},d.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:146,columnNumber:17},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:140,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:133,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyEngagementsWidget.tsx",lineNumber:118,columnNumber:5},this)}var qk="Checkbox",[qL,Vde]=Gn(qk),[$L,hD]=qL(qk);function HL(s){const{__scopeCheckbox:e,checked:r,children:a,defaultChecked:i,disabled:n,form:o,name:l,onCheckedChange:d,required:u,value:c="on",internal_do_not_use_render:b}=s,[h,m]=Yu({prop:r,defaultProp:i??!1,onChange:d,caller:qk}),[f,p]=v.useState(null),[N,g]=v.useState(null),D=v.useRef(!1),w=f?!!o||!!f.closest("form"):!0,A={checked:h,disabled:n,setChecked:m,control:f,setControl:p,name:l,form:o,value:c,hasConsumerStoppedPropagationRef:D,required:u,defaultChecked:fd(i)?!1:i,isFormControl:w,bubbleInput:N,setBubbleInput:g};return de.jsx($L,{scope:e,...A,children:GL(b)?b(A):a})}var HU="CheckboxTrigger",GU=v.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:r,...a},i)=>{const{control:n,value:o,disabled:l,checked:d,required:u,setControl:c,setChecked:b,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:f}=hD(HU,s),p=va(i,c),N=v.useRef(d);return v.useEffect(()=>{const g=n==null?void 0:n.form;if(g){const D=()=>b(N.current);return g.addEventListener("reset",D),()=>g.removeEventListener("reset",D)}},[n,b]),de.jsx(sr.button,{type:"button",role:"checkbox","aria-checked":fd(d)?"mixed":d,"aria-required":u,"data-state":ZU(d),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:p,onKeyDown:Ft(e,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ft(r,g=>{b(D=>fd(D)?!0:!D),f&&m&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});GU.displayName=HU;var fD=v.forwardRef((s,e)=>{const{__scopeCheckbox:r,name:a,checked:i,defaultChecked:n,required:o,disabled:l,value:d,onCheckedChange:u,form:c,...b}=s;return de.jsx(HL,{__scopeCheckbox:r,checked:i,defaultChecked:n,disabled:l,required:o,onCheckedChange:u,name:a,form:c,value:d,internal_do_not_use_render:({isFormControl:h})=>de.jsxs(de.Fragment,{children:[de.jsx(GU,{...b,ref:e,__scopeCheckbox:r}),h&&de.jsx(JU,{__scopeCheckbox:r})]})})});fD.displayName=qk;var KU="CheckboxIndicator",QU=v.forwardRef((s,e)=>{const{__scopeCheckbox:r,forceMount:a,...i}=s,n=hD(KU,r);return de.jsx(xo,{present:a||fd(n.checked)||n.checked===!0,children:de.jsx(sr.span,{"data-state":ZU(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...s.style}})})});QU.displayName=KU;var YU="CheckboxBubbleInput",JU=v.forwardRef(({__scopeCheckbox:s,...e},r)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:n,defaultChecked:o,required:l,disabled:d,name:u,value:c,form:b,bubbleInput:h,setBubbleInput:m}=hD(YU,s),f=va(r,m),p=_1(n),N=C1(a);v.useEffect(()=>{const D=h;if(!D)return;const w=window.HTMLInputElement.prototype,U=Object.getOwnPropertyDescriptor(w,"checked").set,E=!i.current;if(p!==n&&U){const W=new Event("click",{bubbles:E});D.indeterminate=fd(n),U.call(D,fd(n)?!1:n),D.dispatchEvent(W)}},[h,p,n,i]);const g=v.useRef(fd(n)?!1:n);return de.jsx(sr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:d,name:u,value:c,form:b,...e,tabIndex:-1,ref:f,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JU.displayName=YU;function GL(s){return typeof s=="function"}function fd(s){return s==="indeterminate"}function ZU(s){return fd(s)?"indeterminate":s?"checked":"unchecked"}const ga=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(fD,{ref:r,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...e,children:t.jsxDEV(QU,{className:Ce("flex items-center justify-center text-current"),children:t.jsxDEV(Tu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/checkbox.tsx",lineNumber:20,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/checkbox.tsx",lineNumber:19,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/checkbox.tsx",lineNumber:11,columnNumber:3},void 0));ga.displayName=fD.displayName;function KL(){const{user:s}=ar(),{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["my-tasks",s==null?void 0:s.id],queryFn:async()=>{const{data:c,error:b}=await le.from("tasks").select(`
          id,
          title,
          description,
          priority,
          due_date,
          status,
          engagement_id,
          assigned_by,
          assignedBy:profiles!assigned_by(full_name)
        `).or(`assigned_to.eq.${s==null?void 0:s.id},created_by.eq.${s==null?void 0:s.id}`).in("status",["pending","in_progress"]).order("priority",{ascending:!1}).order("due_date",{ascending:!0}).limit(12);if(b)throw b;return c},enabled:!!(s!=null&&s.id)}),n=Rs({mutationFn:async c=>{const{error:b}=await le.from("tasks").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",c);if(b)throw b},onSuccess:()=>{r.invalidateQueries({queryKey:["my-tasks",s==null?void 0:s.id]}),r.invalidateQueries({queryKey:["my-tasks-stats",s==null?void 0:s.id]}),e({title:"Task completed",description:"The task has been marked as complete."})},onError:c=>{e({title:"Error",description:c.message||"Failed to complete task.",variant:"destructive"})}}),o=c=>{switch(c==null?void 0:c.toLowerCase()){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},l=c=>{switch(c==null?void 0:c.toLowerCase()){case"critical":return"destructive";case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},d=c=>c?Math.ceil((new Date(c).getTime()-new Date().getTime())/(1e3*60*60*24)):null,u=c=>{const b=d(c);return b===null?"No due date":b<0?`${Math.abs(b)} days overdue`:b===0?"Due today":b===1?"Due tomorrow":b<=7?`Due in ${b} days`:new Date(c).toLocaleDateString()};return i?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"My Tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-3",children:[1,2,3].map(c=>t.jsxDEV("div",{className:"h-16 bg-muted animate-pulse rounded-lg"},c,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:138,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:131,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"My Tasks - Next 7 Days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:151,columnNumber:13},this),t.jsxDEV(Ke,{children:["Sorted by priority and due date  Showing ",(a==null?void 0:a.length)||0," pending tasks"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:150,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:["View All",t.jsxDEV(xl,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:148,columnNumber:7},this),t.jsxDEV(q,{children:!a||a.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:165,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No pending tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:166,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"You're all caught up!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:164,columnNumber:11},this):t.jsxDEV("div",{className:"space-y-3",children:a.map(c=>{const b=d(c.due_date),h=b!==null&&b<0,m=b!==null&&b>=0&&b<=2;return t.jsxDEV("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(ga,{checked:!1,onCheckedChange:()=>n.mutate(c.id),className:"mt-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:182,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:`h-2 w-2 rounded-full ${o(c.priority)}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:192,columnNumber:29},this),t.jsxDEV(he,{variant:l(c.priority),className:"uppercase text-xs",children:c.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:193,columnNumber:29},this),t.jsxDEV("span",{className:"font-medium",children:c.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:196,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:191,columnNumber:27},this),c.description&&t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:c.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:199,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:190,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:189,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:207,columnNumber:27},this),t.jsxDEV("span",{className:h?"text-red-600 font-medium":m?"text-orange-600 font-medium":"",children:u(c.due_date)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:208,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:206,columnNumber:25},this),c.assignedBy&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:214,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:t.jsxDEV("span",{children:["Assigned by: ",c.assignedBy.full_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:216,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:215,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:213,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:205,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:187,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:181,columnNumber:19},this)},c.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:177,columnNumber:17},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:170,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/MyTasksWidget.tsx",lineNumber:147,columnNumber:5},this)}function QL(){const{user:s}=ar(),{data:e,isLoading:r}=bs({queryKey:["firm-engagement-health",s==null?void 0:s.firm_id],queryFn:async()=>{const{data:n,error:o}=await le.from("audits").select("id, status, budgeted_hours, hours_spent").eq("firm_id",s==null?void 0:s.firm_id).in("status",["planning","fieldwork","review","in_progress","active"]);if(o)throw o;const l=n.filter(c=>{const b=c.budgeted_hours||0,h=c.hours_spent||0;return b>0&&h/b*100>90}).length,d=n.filter(c=>{const b=c.budgeted_hours||0,h=c.hours_spent||0,m=b>0?h/b*100:0;return m>=50&&m<=90}).length,u=n.filter(c=>{const b=c.budgeted_hours||0,h=c.hours_spent||0;return(b>0?h/b*100:0)<50}).length;return{total:n.length,atRisk:l,onTrack:d,ahead:u}},enabled:!!(s!=null&&s.firm_id)}),{data:a,isLoading:i}=bs({queryKey:["firm-team-capacity",s==null?void 0:s.firm_id],queryFn:async()=>({overallUtilization:78,availableThisWeek:5,overallocated:2}),enabled:!!(s!=null&&s.firm_id)});return r||i?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Firm Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:82,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"h-48 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:87,columnNumber:13},this),t.jsxDEV("div",{className:"h-48 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:81,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Firm Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:100,columnNumber:13},this),t.jsxDEV(Ke,{children:"Team capacity and engagement health"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:99,columnNumber:11},this),t.jsxDEV(he,{variant:"outline",className:"text-xs",children:"Leadership Only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:97,columnNumber:7},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-4",children:t.jsxDEV(ue,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:114,columnNumber:17},this),"Team Capacity"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:113,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Overall Utilization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:122,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[(a==null?void 0:a.overallUtilization)||0,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:123,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:121,columnNumber:17},this),t.jsxDEV(cr,{value:(a==null?void 0:a.overallUtilization)||0,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:125,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:120,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[t.jsxDEV("div",{className:"text-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.availableThisWeek)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:131,columnNumber:19},this),t.jsxDEV("div",{className:"text-xs text-green-700 mt-1",children:"Available this week"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:130,columnNumber:17},this),t.jsxDEV("div",{className:"text-center p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:(a==null?void 0:a.overallocated)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:137,columnNumber:19},this),t.jsxDEV("div",{className:"text-xs text-orange-700 mt-1",children:"Overallocated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:140,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:136,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:129,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full mt-2",children:[t.jsxDEV(da,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:146,columnNumber:17},this),"View Resource Scheduler"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:111,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-4",children:t.jsxDEV(ue,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(vl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:156,columnNumber:17},this),"Engagement Health"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:154,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Er,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:165,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm",children:"At Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:166,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:164,columnNumber:19},this),t.jsxDEV(he,{variant:"destructive",children:(e==null?void 0:e.atRisk)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:168,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:163,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-4 w-4 rounded-full bg-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:173,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm",children:"On Track"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:174,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:172,columnNumber:19},this),t.jsxDEV(he,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:(e==null?void 0:e.onTrack)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:171,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-4 w-4 rounded-full bg-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:183,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm",children:"Ahead"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:184,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:182,columnNumber:19},this),t.jsxDEV(he,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:(e==null?void 0:e.ahead)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV("div",{className:"pt-4 border-t",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Total Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:195,columnNumber:19},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:(e==null?void 0:e.total)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:194,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:193,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full mt-2",children:["View All Engagements",t.jsxDEV(xl,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:201,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:109,columnNumber:9},this),e&&e.atRisk>0&&t.jsxDEV("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-orange-800 font-medium mb-1",children:[t.jsxDEV(Er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:213,columnNumber:15},this),e.atRisk," Engagement",e.atRisk>1?"s":""," Need Attention"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:212,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-orange-700",children:"These engagements are over 90% of budget. Review resource allocation and consider reallocating team members."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:216,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:108,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/workspace/FirmOverviewWidget.tsx",lineNumber:96,columnNumber:5},this)}const YL=[{id:"quick-stats",component:SL,roles:["all"],order:1},{id:"my-engagements",component:BL,roles:["all"],order:2},{id:"my-tasks",component:KL,roles:["all"],order:3},{id:"firm-overview",component:QL,roles:["partner","engagement_manager","firm_administrator","practice_leader"],order:4}];function JL(){const{user:s,profile:e,roles:r,hasRole:a}=ar(),i=YL.filter(n=>n.roles.includes("all")?!0:n.roles.some(o=>a(o))).sort((n,o)=>n.order-o.order);return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"My Workspace"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:70,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",(e==null?void 0:e.full_name)||"User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:71,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:69,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",children:[t.jsxDEV(tA,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:77,columnNumber:15},this),"Customize Layout"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:76,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:[t.jsxDEV(im,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:81,columnNumber:15},this),"Workspace Settings"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:68,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6",children:i.map(n=>{const o=n.component;return t.jsxDEV(o,{},n.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:91,columnNumber:20},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:88,columnNumber:9},this),i.length===0&&t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(tA,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:98,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No widgets available for your role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/MyWorkspace.tsx",lineNumber:65,columnNumber:5},this)}const ZL=()=>{const s=W1();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),t.jsxDEV("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("h1",{className:"mb-4 text-4xl font-bold",children:"404"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/NotFound.tsx",lineNumber:14,columnNumber:9},void 0),t.jsxDEV("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/NotFound.tsx",lineNumber:15,columnNumber:9},void 0),t.jsxDEV("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/NotFound.tsx",lineNumber:16,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/NotFound.tsx",lineNumber:13,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/NotFound.tsx",lineNumber:12,columnNumber:5},void 0)};var $k="Tabs",[XL,_de]=Gn($k,[Ek]),XU=Ek(),[eI,pD]=XL($k),e5=v.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=s,c=S1(l),[b,h]=Yu({prop:a,onChange:i,defaultProp:n??"",caller:$k});return de.jsx(eI,{scope:r,baseId:V1(),value:b,onValueChange:h,orientation:o,dir:c,activationMode:d,children:de.jsx(sr.div,{dir:c,"data-orientation":o,...u,ref:e})})});e5.displayName=$k;var s5="TabsList",t5=v.forwardRef((s,e)=>{const{__scopeTabs:r,loop:a=!0,...i}=s,n=pD(s5,r),o=XU(r);return de.jsx(mO,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:a,children:de.jsx(sr.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:e})})});t5.displayName=s5;var r5="TabsTrigger",a5=v.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,disabled:i=!1,...n}=s,o=pD(r5,r),l=XU(r),d=o5(o.baseId,a),u=l5(o.baseId,a),c=a===o.value;return de.jsx(bO,{asChild:!0,...l,focusable:!i,active:c,children:de.jsx(sr.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...n,ref:e,onMouseDown:Ft(s.onMouseDown,b=>{!i&&b.button===0&&b.ctrlKey===!1?o.onValueChange(a):b.preventDefault()}),onKeyDown:Ft(s.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&o.onValueChange(a)}),onFocus:Ft(s.onFocus,()=>{const b=o.activationMode!=="manual";!c&&!i&&b&&o.onValueChange(a)})})})});a5.displayName=r5;var i5="TabsContent",n5=v.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,forceMount:i,children:n,...o}=s,l=pD(i5,r),d=o5(l.baseId,a),u=l5(l.baseId,a),c=a===l.value,b=v.useRef(c);return v.useEffect(()=>{const h=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(h)},[]),de.jsx(xo,{present:i||c,children:({present:h})=>de.jsx(sr.div,{"data-state":c?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...s.style,animationDuration:b.current?"0s":void 0},children:h&&n})})});n5.displayName=i5;function o5(s,e){return`${s}-trigger-${e}`}function l5(s,e){return`${s}-content-${e}`}var sI=e5,d5=t5,u5=a5,c5=n5;const Pr=sI,pr=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(d5,{ref:r,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/tabs.tsx",lineNumber:12,columnNumber:3},void 0));pr.displayName=d5.displayName;const $e=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(u5,{ref:r,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/tabs.tsx",lineNumber:27,columnNumber:3},void 0));$e.displayName=u5.displayName;const es=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(c5,{ref:r,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/tabs.tsx",lineNumber:42,columnNumber:3},void 0));es.displayName=c5.displayName;const ve=v.forwardRef(({className:s,type:e,...r},a)=>t.jsxDEV("input",{type:e,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground","transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","focus-visible:border-border-interactive focus-visible:shadow-subtle","hover:border-border-interactive","disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));ve.displayName="Input";const Wt=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/textarea.tsx",lineNumber:9,columnNumber:5},void 0));Wt.displayName="Textarea";const is=UT,ns=VT,rs=v.forwardRef(({className:s,children:e,...r},a)=>t.jsxDEV(hO,{ref:a,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[e,t.jsxDEV(ET,{asChild:!0,children:t.jsxDEV(Kh,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));rs.displayName=hO.displayName;const m5=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(fO,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",s),...e,children:t.jsxDEV(Y7,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:42,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));m5.displayName=fO.displayName;const b5=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(pO,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",s),...e,children:t.jsxDEV(Kh,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:56,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:51,columnNumber:3},void 0));b5.displayName=pO.displayName;const as=v.forwardRef(({className:s,children:e,position:r="popper",...a},i)=>t.jsxDEV(PT,{children:t.jsxDEV(NO,{ref:i,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...a,children:[t.jsxDEV(m5,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:77,columnNumber:7},void 0),t.jsxDEV(yT,{className:Ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:78,columnNumber:7},void 0),t.jsxDEV(b5,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:87,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:66,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:65,columnNumber:3},void 0));as.displayName=NO.displayName;const tI=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(kO,{ref:r,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:97,columnNumber:3},void 0));tI.displayName=kO.displayName;const X=v.forwardRef(({className:s,children:e,...r},a)=>t.jsxDEV(gO,{ref:a,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...r,children:[t.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsxDEV(OT,{children:t.jsxDEV(Tu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:115,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:114,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:113,columnNumber:5},void 0),t.jsxDEV(WT,{children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:119,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:105,columnNumber:3},void 0));X.displayName=gO.displayName;const rI=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(xO,{ref:r,className:Ce("-mx-1 my-1 h-px bg-muted",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/select.tsx",lineNumber:128,columnNumber:3},void 0));rI.displayName=xO.displayName;function vn(){const{currentFirm:s,profile:e,isLoading:r}=ar();return{currentOrg:s?{id:s.id,name:s.name,slug:s.slug,status:s.status||"active"}:null,userOrgs:s?[{id:s.id,name:s.name,slug:s.slug,status:s.status||"active"}]:[],switchOrg:()=>{},refreshOrganizations:async()=>{},isLoading:r}}function aI(){const{currentOrg:s,refreshOrganizations:e}=vn(),{toast:r}=Hs(),[a,i]=v.useState(!1),[n,o]=v.useState({name:"",slug:"",settings:{fiscal_year_end:"",primary_currency:"USD",timezone:"UTC",compliance_frameworks:[],primary_phone:"",primary_email:"",website:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",legal_name:"",tax_id:"",registration_number:"",incorporation_date:"",business_type:"",business_hours_start:"09:00",business_hours_end:"17:00",retention_policy_years:7,offices:[]}});v.useEffect(()=>{if(s){const b=s.settings||{};o({name:s.name||"",slug:s.slug||"",settings:{fiscal_year_end:b.fiscal_year_end||"",primary_currency:b.primary_currency||"USD",timezone:b.timezone||"UTC",compliance_frameworks:b.compliance_frameworks||[],primary_phone:b.primary_phone||"",primary_email:b.primary_email||"",website:b.website||"",address_line1:b.address_line1||"",address_line2:b.address_line2||"",city:b.city||"",state:b.state||"",postal_code:b.postal_code||"",country:b.country||"",legal_name:b.legal_name||"",tax_id:b.tax_id||"",registration_number:b.registration_number||"",incorporation_date:b.incorporation_date||"",business_type:b.business_type||"",business_hours_start:b.business_hours_start||"09:00",business_hours_end:b.business_hours_end||"17:00",retention_policy_years:b.retention_policy_years||7,offices:b.offices||[]}})}},[s]);const l=()=>{o({...n,settings:{...n.settings,offices:[...n.settings.offices,{id:crypto.randomUUID(),name:"",address:"",is_primary:n.settings.offices.length===0}]}})},d=b=>{o({...n,settings:{...n.settings,offices:n.settings.offices.filter(h=>h.id!==b)}})},u=(b,h,m)=>{o({...n,settings:{...n.settings,offices:n.settings.offices.map(f=>f.id===b?{...f,[h]:m}:f)}})},c=async()=>{if(s){i(!0);try{const{error:b}=await le.from("firms").update({name:n.name,settings:n.settings,updated_at:new Date().toISOString()}).eq("id",s.id);if(b)throw b;r({title:"Settings saved",description:"Organization settings have been updated successfully."}),e()}catch(b){r({title:"Error",description:b.message,variant:"destructive"})}finally{i(!1)}}};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(fn,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:183,columnNumber:13},this),t.jsxDEV(ue,{children:"Basic Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:182,columnNumber:11},this),t.jsxDEV(Ke,{children:"Core organization details and identification"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:181,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"org-name",children:"Organization Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:193,columnNumber:15},this),t.jsxDEV(ve,{id:"org-name",value:n.name,onChange:b=>o({...n,name:b.target.value}),placeholder:"Enter organization name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:192,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"org-slug",children:"Organization Slug"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:203,columnNumber:15},this),t.jsxDEV(ve,{id:"org-slug",value:n.slug,disabled:!0,className:"bg-muted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:204,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Slug cannot be changed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:210,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:202,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"fiscal-year",children:"Fiscal Year End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:216,columnNumber:15},this),t.jsxDEV(ve,{id:"fiscal-year",type:"date",value:n.settings.fiscal_year_end,onChange:b=>o({...n,settings:{...n.settings,fiscal_year_end:b.target.value}})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:215,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"currency",children:"Primary Currency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:229,columnNumber:15},this),t.jsxDEV(is,{value:n.settings.primary_currency,onValueChange:b=>o({...n,settings:{...n.settings,primary_currency:b}}),children:[t.jsxDEV(rs,{id:"currency",children:t.jsxDEV(ns,{placeholder:"Select currency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:238,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:237,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"USD",children:"USD - US Dollar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:241,columnNumber:19},this),t.jsxDEV(X,{value:"EUR",children:"EUR - Euro"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:242,columnNumber:19},this),t.jsxDEV(X,{value:"GBP",children:"GBP - British Pound"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:243,columnNumber:19},this),t.jsxDEV(X,{value:"CAD",children:"CAD - Canadian Dollar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:244,columnNumber:19},this),t.jsxDEV(X,{value:"AUD",children:"AUD - Australian Dollar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:230,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:228,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"timezone",children:"Timezone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:251,columnNumber:15},this),t.jsxDEV(is,{value:n.settings.timezone,onValueChange:b=>o({...n,settings:{...n.settings,timezone:b}}),children:[t.jsxDEV(rs,{id:"timezone",children:t.jsxDEV(ns,{placeholder:"Select timezone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:260,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:259,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"UTC",children:"UTC"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:263,columnNumber:19},this),t.jsxDEV(X,{value:"America/New_York",children:"Eastern Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:264,columnNumber:19},this),t.jsxDEV(X,{value:"America/Chicago",children:"Central Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:265,columnNumber:19},this),t.jsxDEV(X,{value:"America/Denver",children:"Mountain Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:266,columnNumber:19},this),t.jsxDEV(X,{value:"America/Los_Angeles",children:"Pacific Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:267,columnNumber:19},this),t.jsxDEV(X,{value:"Europe/London",children:"London"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:268,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:252,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:250,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"frameworks",children:"Compliance Frameworks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV(ve,{id:"frameworks",value:n.settings.compliance_frameworks.join(", "),onChange:b=>o({...n,settings:{...n.settings,compliance_frameworks:b.target.value.split(",").map(h=>h.trim()).filter(Boolean)}}),placeholder:"SOX, IFRS, GAAP, GDPR, ISO 27001"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:273,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:190,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:180,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:299,columnNumber:13},this),t.jsxDEV(ue,{children:"Contact Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:300,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:298,columnNumber:11},this),t.jsxDEV(Ke,{children:"Primary contact details for your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:302,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:297,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"primary-phone",children:"Primary Phone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:309,columnNumber:15},this),t.jsxDEV(ve,{id:"primary-phone",type:"tel",value:n.settings.primary_phone,onChange:b=>o({...n,settings:{...n.settings,primary_phone:b.target.value}}),placeholder:"+1 (555) 123-4567"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:308,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"primary-email",children:"Primary Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:323,columnNumber:15},this),t.jsxDEV(ve,{id:"primary-email",type:"email",value:n.settings.primary_email,onChange:b=>o({...n,settings:{...n.settings,primary_email:b.target.value}}),placeholder:"contact@organization.com"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:324,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:322,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{htmlFor:"website",children:"Website"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:337,columnNumber:15},this),t.jsxDEV(ve,{id:"website",type:"url",value:n.settings.website,onChange:b=>o({...n,settings:{...n.settings,website:b.target.value}}),placeholder:"https://www.organization.com"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:338,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:336,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{htmlFor:"address1",children:"Address Line 1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:351,columnNumber:15},this),t.jsxDEV(ve,{id:"address1",value:n.settings.address_line1,onChange:b=>o({...n,settings:{...n.settings,address_line1:b.target.value}}),placeholder:"123 Main Street"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:352,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:350,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{htmlFor:"address2",children:"Address Line 2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:364,columnNumber:15},this),t.jsxDEV(ve,{id:"address2",value:n.settings.address_line2,onChange:b=>o({...n,settings:{...n.settings,address_line2:b.target.value}}),placeholder:"Suite 100"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:365,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:363,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"city",children:"City"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:377,columnNumber:15},this),t.jsxDEV(ve,{id:"city",value:n.settings.city,onChange:b=>o({...n,settings:{...n.settings,city:b.target.value}}),placeholder:"New York"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:378,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:376,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"state",children:"State/Province"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:390,columnNumber:15},this),t.jsxDEV(ve,{id:"state",value:n.settings.state,onChange:b=>o({...n,settings:{...n.settings,state:b.target.value}}),placeholder:"NY"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:391,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:389,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"postal",children:"Postal Code"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:403,columnNumber:15},this),t.jsxDEV(ve,{id:"postal",value:n.settings.postal_code,onChange:b=>o({...n,settings:{...n.settings,postal_code:b.target.value}}),placeholder:"10001"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:402,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"country",children:"Country"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:416,columnNumber:15},this),t.jsxDEV(ve,{id:"country",value:n.settings.country,onChange:b=>o({...n,settings:{...n.settings,country:b.target.value}}),placeholder:"United States"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:415,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:307,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:306,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:296,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:435,columnNumber:13},this),t.jsxDEV(ue,{children:"Legal Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:436,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:434,columnNumber:11},this),t.jsxDEV(Ke,{children:"Legal entity details and registration information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:438,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:433,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"legal-name",children:"Legal Entity Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:445,columnNumber:15},this),t.jsxDEV(ve,{id:"legal-name",value:n.settings.legal_name,onChange:b=>o({...n,settings:{...n.settings,legal_name:b.target.value}}),placeholder:"Acme Audit Firm, LLC"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:446,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:444,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"business-type",children:"Business Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:458,columnNumber:15},this),t.jsxDEV(is,{value:n.settings.business_type,onValueChange:b=>o({...n,settings:{...n.settings,business_type:b}}),children:[t.jsxDEV(rs,{id:"business-type",children:t.jsxDEV(ns,{placeholder:"Select business type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:467,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:466,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"llc",children:"Limited Liability Company (LLC)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:470,columnNumber:19},this),t.jsxDEV(X,{value:"corporation",children:"Corporation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:471,columnNumber:19},this),t.jsxDEV(X,{value:"partnership",children:"Partnership"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:472,columnNumber:19},this),t.jsxDEV(X,{value:"sole_proprietorship",children:"Sole Proprietorship"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:473,columnNumber:19},this),t.jsxDEV(X,{value:"llp",children:"Limited Liability Partnership (LLP)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:474,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:469,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:459,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:457,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"tax-id",children:"Tax ID / EIN"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:480,columnNumber:15},this),t.jsxDEV(ve,{id:"tax-id",value:n.settings.tax_id,onChange:b=>o({...n,settings:{...n.settings,tax_id:b.target.value}}),placeholder:"12-3456789"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:481,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:479,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"registration",children:"Registration Number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:493,columnNumber:15},this),t.jsxDEV(ve,{id:"registration",value:n.settings.registration_number,onChange:b=>o({...n,settings:{...n.settings,registration_number:b.target.value}}),placeholder:"Registration or license number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:494,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:492,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"incorporation-date",children:"Incorporation Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:506,columnNumber:15},this),t.jsxDEV(ve,{id:"incorporation-date",type:"date",value:n.settings.incorporation_date,onChange:b=>o({...n,settings:{...n.settings,incorporation_date:b.target.value}})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:507,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:505,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:443,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:442,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:432,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(fn,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:525,columnNumber:13},this),t.jsxDEV(ue,{children:"Operational Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:526,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:524,columnNumber:11},this),t.jsxDEV(Ke,{children:"Business hours and operational policies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:528,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:523,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"hours-start",children:"Business Hours Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:535,columnNumber:15},this),t.jsxDEV(ve,{id:"hours-start",type:"time",value:n.settings.business_hours_start,onChange:b=>o({...n,settings:{...n.settings,business_hours_start:b.target.value}})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:536,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:534,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"hours-end",children:"Business Hours End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:548,columnNumber:15},this),t.jsxDEV(ve,{id:"hours-end",type:"time",value:n.settings.business_hours_end,onChange:b=>o({...n,settings:{...n.settings,business_hours_end:b.target.value}})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:549,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:547,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"retention",children:"Document Retention (Years)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:561,columnNumber:15},this),t.jsxDEV(ve,{id:"retention",type:"number",min:"1",max:"99",value:n.settings.retention_policy_years,onChange:b=>o({...n,settings:{...n.settings,retention_policy_years:parseInt(b.target.value)||7}})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:562,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:560,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:533,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:532,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:522,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(sA,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:584,columnNumber:17},this),t.jsxDEV(ue,{children:"Office Locations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:585,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:583,columnNumber:15},this),t.jsxDEV(Ke,{children:"Manage multiple office locations for your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:587,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:582,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:l,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:592,columnNumber:15},this),"Add Office"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:591,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:581,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:580,columnNumber:9},this),t.jsxDEV(q,{children:n.settings.offices.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(sA,{className:"h-12 w-12 mx-auto mb-3 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:600,columnNumber:15},this),t.jsxDEV("p",{children:"No office locations added yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:601,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm mt-1",children:'Click "Add Office" to add your first location'},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:602,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:599,columnNumber:13},this):t.jsxDEV("div",{className:"space-y-4",children:n.settings.offices.map((b,h)=>t.jsxDEV("div",{className:"border rounded-lg p-4",children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[t.jsxDEV("h4",{className:"font-medium",children:["Office ",h+1]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:609,columnNumber:21},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>d(b.id),disabled:b.is_primary,children:t.jsxDEV(Tn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:616,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:610,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:608,columnNumber:19},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Office Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:621,columnNumber:23},this),t.jsxDEV(ve,{value:b.name,onChange:m=>u(b.id,"name",m.target.value),placeholder:"Main Office, Regional Office, etc."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:622,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:620,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{children:"Address"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:629,columnNumber:23},this),t.jsxDEV(Wt,{value:b.address,onChange:m=>u(b.id,"address",m.target.value),placeholder:"Full address",rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:630,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:628,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:619,columnNumber:19},this),b.is_primary&&t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:"Primary office location"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:639,columnNumber:21},this)]},b.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:607,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:605,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:597,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:579,columnNumber:7},this),t.jsxDEV("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:t.jsxDEV(F,{onClick:c,disabled:a,size:"lg",children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:653,columnNumber:11},this),a?"Saving...":"Save All Changes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:652,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:651,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/OrganizationSettings.tsx",lineNumber:178,columnNumber:5},this)}const ND=()=>{const{currentOrg:s}=vn();return bs({queryKey:["users",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:e,error:r}=await le.from("profiles").select(`
          id,
          email,
          full_name,
          phone,
          created_at,
          user_roles!inner(
            role,
            client_id,
            clients(client_name)
          )
        `).eq("user_roles.firm_id",s.id).order("created_at",{ascending:!1});if(r)throw r;return e},enabled:!!s})},iI=s=>{const{currentOrg:e}=vn();return bs({queryKey:["user",s,e==null?void 0:e.id],queryFn:async()=>{if(!e||!s)return null;const{data:r,error:a}=await le.from("profiles").select(`
          id,
          email,
          full_name,
          phone,
          created_at,
          user_roles!inner(
            role,
            client_id,
            firm_id,
            clients(client_name)
          )
        `).eq("id",s).eq("user_roles.firm_id",e.id).single();if(a)throw a;return r},enabled:!!e&&!!s})},nI=()=>{const s=Lr(),{toast:e}=Hs(),{currentOrg:r}=vn();return Rs({mutationFn:async({userId:a,rolesToAdd:i,rolesToRemove:n})=>{if(!r)throw new Error("No organization selected");if(n.length>0){const{error:o}=await le.from("user_roles").delete().eq("user_id",a).eq("firm_id",r.id).in("role",n);if(o)throw o}if(i.length>0){const o=i.map(d=>({user_id:a,firm_id:r.id,role:d.role,client_id:d.client_id||null})),{error:l}=await le.from("user_roles").insert(o);if(l)throw l}return!0},onSuccess:(a,i)=>{s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["user",i.userId]}),e({title:"Roles Updated",description:"User roles have been updated successfully."})},onError:a=>{e({title:"Error",description:a.message||"Failed to update user roles",variant:"destructive"})}})},Pt=R1,Nn=vO,oI=T1,h5=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(Bh,{ref:r,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));h5.displayName=Bh.displayName;const Dt=v.forwardRef(({className:s,children:e,...r},a)=>t.jsxDEV(oI,{children:[t.jsxDEV(h5,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),t.jsxDEV(qh,{ref:a,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[e,t.jsxDEV(Pk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsxDEV(qn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),t.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));Dt.displayName=qh.displayName;const Ct=({className:s,...e})=>t.jsxDEV("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:55,columnNumber:3},void 0);Ct.displayName="DialogHeader";const Ur=({className:s,...e})=>t.jsxDEV("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:3},void 0);Ur.displayName="DialogFooter";const St=v.forwardRef(({className:s,...e},r)=>t.jsxDEV($h,{ref:r,className:Ce("text-lg font-semibold leading-none tracking-tight",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:68,columnNumber:3},void 0));St.displayName=$h.displayName;const Bt=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(Hh,{ref:r,className:Ce("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/dialog.tsx",lineNumber:80,columnNumber:3},void 0));Bt.displayName=Hh.displayName;function lI({open:s,onOpenChange:e}){const{toast:r}=Hs();ar();const[a,i]=v.useState(!1),[n,o]=v.useState({email:"",firstName:"",lastName:"",jobTitle:"",role:"staff_auditor",message:""}),l=async()=>{if(!n.email||!n.firstName||!n.lastName){r({title:"Validation Error",description:"Email, first name, and last name are required",variant:"destructive"});return}i(!0);try{const{data:d,error:u}=await le.rpc("create_employee_invitation",{p_email:n.email,p_first_name:n.firstName,p_last_name:n.lastName,p_role:n.role,p_department:n.jobTitle||null});if(u)throw u;if(!d.success)throw new Error(d.error||"Failed to create invitation");r({title:"Invitation sent!",description:`Invitation email will be sent to ${n.email}`}),o({email:"",firstName:"",lastName:"",jobTitle:"",role:"staff_auditor",message:""}),e(!1)}catch(d){r({title:"Error",description:d.message||"Failed to send invitation",variant:"destructive"})}finally{i(!1)}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Invite User to Team"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:103,columnNumber:11},this),t.jsxDEV(Bt,{children:"Send an invitation email to add a new team member to your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:102,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"email",children:"Email Address *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV(ve,{id:"email",type:"email",placeholder:"user@example.com",value:n.email,onChange:d=>o({...n,email:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:111,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"firstName",children:"First Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:125,columnNumber:15},this),t.jsxDEV(ve,{id:"firstName",placeholder:"John",value:n.firstName,onChange:d=>o({...n,firstName:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:124,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"lastName",children:"Last Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:134,columnNumber:15},this),t.jsxDEV(ve,{id:"lastName",placeholder:"Doe",value:n.lastName,onChange:d=>o({...n,lastName:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:123,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"jobTitle",children:"Job Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:146,columnNumber:13},this),t.jsxDEV(ve,{id:"jobTitle",placeholder:"Senior Auditor",value:n.jobTitle,onChange:d=>o({...n,jobTitle:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:145,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"role",children:"Primary Role *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:157,columnNumber:13},this),t.jsxDEV(is,{value:n.role,onValueChange:d=>o({...n,role:d}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:160,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:159,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"firm_administrator",children:"Firm Administrator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:163,columnNumber:17},this),t.jsxDEV(X,{value:"partner",children:"Partner"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:164,columnNumber:17},this),t.jsxDEV(X,{value:"practice_leader",children:"Practice Leader"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:165,columnNumber:17},this),t.jsxDEV(X,{value:"engagement_manager",children:"Engagement Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:166,columnNumber:17},this),t.jsxDEV(X,{value:"senior_auditor",children:"Senior Auditor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:167,columnNumber:17},this),t.jsxDEV(X,{value:"staff_auditor",children:"Staff Auditor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:168,columnNumber:17},this),t.jsxDEV(X,{value:"business_development",children:"Business Development"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:169,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:158,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Determines default permissions and access level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:156,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"message",children:"Personal Message (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:179,columnNumber:13},this),t.jsxDEV(Wt,{id:"message",placeholder:"Welcome to the team! We're excited to have you join us.",value:n.message,onChange:d=>o({...n,message:d.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:178,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted p-4 rounded-lg",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["The invitation will be sent to ",t.jsxDEV("strong",{children:n.email||"the specified email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:192,columnNumber:46},this)," and will expire in 14 days. They will need to create a password and set up two-factor authentication upon acceptance."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:191,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:190,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:109,columnNumber:9},this),t.jsxDEV("div",{className:"flex justify-end gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:200,columnNumber:11},this),t.jsxDEV(F,{onClick:l,disabled:a,children:a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:206,columnNumber:17},this),"Sending..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:205,columnNumber:15},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(qi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:211,columnNumber:17},this),"Send Invitation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:210,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:203,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:101,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/InviteUserDialog.tsx",lineNumber:100,columnNumber:5},this)}const Fa=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{className:"relative w-full overflow-auto",children:t.jsxDEV("table",{ref:r,className:Ce("w-full caption-bottom text-sm",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:8,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:7,columnNumber:5},void 0));Fa.displayName="Table";const za=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("thead",{ref:r,className:Ce("[&_tr]:border-b",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:15,columnNumber:37},void 0));za.displayName="TableHeader";const Ba=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("tbody",{ref:r,className:Ce("[&_tr:last-child]:border-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:21,columnNumber:5},void 0));Ba.displayName="TableBody";const dI=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("tfoot",{ref:r,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:28,columnNumber:5},void 0));dI.displayName="TableFooter";const Ot=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("tr",{ref:r,className:Ce("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:35,columnNumber:5},void 0));Ot.displayName="TableRow";const Qe=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("th",{ref:r,className:Ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:46,columnNumber:5},void 0));Qe.displayName="TableHead";const Fe=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("td",{ref:r,className:Ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:60,columnNumber:5},void 0));Fe.displayName="TableCell";const uI=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("caption",{ref:r,className:Ce("mt-4 text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/table.tsx",lineNumber:67,columnNumber:5},void 0));uI.displayName="TableCaption";const kD=6048e5,cI=864e5,f5=6e4,p5=36e5,lp=43200,HA=1440,GA=Symbol.for("constructDateFrom");function Xr(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&GA in s?s[GA](e):s instanceof Date?new s.constructor(e):new Date(e)}function qt(s,e){return Xr(e||s,s)}function ji(s,e,r){const a=qt(s,r==null?void 0:r.in);return isNaN(e)?Xr((r==null?void 0:r.in)||s,NaN):(e&&a.setDate(a.getDate()+e),a)}function kn(s,e,r){const a=qt(s,r==null?void 0:r.in);if(isNaN(e))return Xr((r==null?void 0:r.in)||s,NaN);if(!e)return a;const i=a.getDate(),n=Xr((r==null?void 0:r.in)||s,a.getTime());n.setMonth(a.getMonth()+e+1,0);const o=n.getDate();return i>=o?n:(a.setFullYear(n.getFullYear(),n.getMonth(),i),a)}let mI={};function Vm(){return mI}function $n(s,e){var l,d,u,c;const r=Vm(),a=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=qt(s,e==null?void 0:e.in),n=i.getDay(),o=(n<a?7:0)+n-a;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Iu(s,e){return $n(s,{...e,weekStartsOn:1})}function N5(s,e){const r=qt(s,e==null?void 0:e.in),a=r.getFullYear(),i=Xr(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const n=Iu(i),o=Xr(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const l=Iu(o);return r.getTime()>=n.getTime()?a+1:r.getTime()>=l.getTime()?a:a-1}function dm(s){const e=qt(s),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+s-+r}function El(s,...e){const r=Xr.bind(null,s||e.find(a=>typeof a=="object"));return e.map(r)}function um(s,e){const r=qt(s,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Co(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e),n=um(a),o=um(i),l=+n-dm(n),d=+o-dm(o);return Math.round((l-d)/cI)}function bI(s,e){const r=N5(s,e),a=Xr(s,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Iu(a)}function g0(s,e,r){return ji(s,e*7,r)}function hI(s,e,r){return kn(s,e*12,r)}function fI(s,e){let r,a=e==null?void 0:e.in;return s.forEach(i=>{!a&&typeof i=="object"&&(a=Xr.bind(null,i));const n=qt(i,a);(!r||r<n||isNaN(+n))&&(r=n)}),Xr(a,r||NaN)}function pI(s,e){let r,a=e==null?void 0:e.in;return s.forEach(i=>{!a&&typeof i=="object"&&(a=Xr.bind(null,i));const n=qt(i,a);(!r||r>n||isNaN(+n))&&(r=n)}),Xr(a,r||NaN)}function qp(s,e){const r=+qt(s)-+qt(e);return r<0?-1:r>0?1:r}function Hk(s){return Xr(s,Date.now())}function ni(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e);return+um(a)==+um(i)}function gD(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function NI(s){return!(!gD(s)&&typeof s!="number"||isNaN(+qt(s)))}function cm(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e),n=a.getFullYear()-i.getFullYear(),o=a.getMonth()-i.getMonth();return n*12+o}function kI(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e),n=$n(a,r),o=$n(i,r),l=+n-dm(n),d=+o-dm(o);return Math.round((l-d)/kD)}function gI(s){return e=>{const a=(s?Math[s]:Math.trunc)(e);return a===0?0:a}}function xI(s,e){return+qt(s)-+qt(e)}function vI(s,e){const r=qt(s,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function Gk(s,e){const r=qt(s,e==null?void 0:e.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function DI(s,e){const r=qt(s,e==null?void 0:e.in);return+vI(r,e)==+Gk(r,e)}function wI(s,e,r){const[a,i,n]=El(r==null?void 0:r.in,s,s,e),o=qp(i,n),l=Math.abs(cm(i,n));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let d=qp(i,n)===-o;DI(a)&&l===1&&qp(a,n)===1&&(d=!1);const u=o*(l-+d);return u===0?0:u}function jI(s,e,r){const a=xI(s,e)/1e3;return gI(r==null?void 0:r.roundingMethod)(a)}function Fi(s,e){const r=qt(s,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function k5(s,e){const r=qt(s,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function xD(s,e){var l,d,u,c;const r=Vm(),a=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=qt(s,e==null?void 0:e.in),n=i.getDay(),o=(n<a?-7:0)+6-(n-a);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function g5(s,e){return xD(s,{...e,weekStartsOn:1})}const AI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EI=(s,e,r)=>{let a;const i=AI[s];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Dx(s){return(e={})=>{const r=e.width?String(e.width):s.defaultWidth;return s.formats[r]||s.formats[s.defaultWidth]}}const PI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WI={date:Dx({formats:PI,defaultWidth:"full"}),time:Dx({formats:yI,defaultWidth:"full"}),dateTime:Dx({formats:OI,defaultWidth:"full"})},UI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VI=(s,e,r,a)=>UI[s];function Nb(s){return(e,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let i;if(a==="formatting"&&s.formattingValues){const o=s.defaultFormattingWidth||s.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=s.formattingValues[l]||s.formattingValues[o]}else{const o=s.defaultWidth,l=r!=null&&r.width?String(r.width):s.defaultWidth;i=s.values[l]||s.values[o]}const n=s.argumentCallback?s.argumentCallback(e):e;return i[n]}}const _I={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LI=(s,e)=>{const r=Number(s),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},II={ordinalNumber:LI,era:Nb({values:_I,defaultWidth:"wide"}),quarter:Nb({values:CI,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Nb({values:SI,defaultWidth:"wide"}),day:Nb({values:TI,defaultWidth:"wide"}),dayPeriod:Nb({values:RI,defaultWidth:"wide",formattingValues:MI,defaultFormattingWidth:"wide"})};function kb(s){return(e,r={})=>{const a=r.width,i=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],n=e.match(i);if(!n)return null;const o=n[0],l=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],d=Array.isArray(l)?zI(l,b=>b.test(o)):FI(l,b=>b.test(o));let u;u=s.valueCallback?s.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function FI(s,e){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&e(s[r]))return r}function zI(s,e){for(let r=0;r<s.length;r++)if(e(s[r]))return r}function BI(s){return(e,r={})=>{const a=e.match(s.matchPattern);if(!a)return null;const i=a[0],n=e.match(s.parsePattern);if(!n)return null;let o=s.valueCallback?s.valueCallback(n[0]):n[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const qI=/^(\d+)(th|st|nd|rd)?/i,$I=/\d+/i,HI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GI={any:[/^b/i,/^(a|c)/i]},KI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QI={any:[/1/i,/2/i,/3/i,/4/i]},YI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tF={ordinalNumber:BI({matchPattern:qI,parsePattern:$I,valueCallback:s=>parseInt(s,10)}),era:kb({matchPatterns:HI,defaultMatchWidth:"wide",parsePatterns:GI,defaultParseWidth:"any"}),quarter:kb({matchPatterns:KI,defaultMatchWidth:"wide",parsePatterns:QI,defaultParseWidth:"any",valueCallback:s=>s+1}),month:kb({matchPatterns:YI,defaultMatchWidth:"wide",parsePatterns:JI,defaultParseWidth:"any"}),day:kb({matchPatterns:ZI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any"}),dayPeriod:kb({matchPatterns:eF,defaultMatchWidth:"any",parsePatterns:sF,defaultParseWidth:"any"})},vD={code:"en-US",formatDistance:EI,formatLong:WI,formatRelative:VI,localize:II,match:tF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rF(s,e){const r=qt(s,e==null?void 0:e.in);return Co(r,k5(r))+1}function x5(s,e){const r=qt(s,e==null?void 0:e.in),a=+Iu(r)-+bI(r);return Math.round(a/kD)+1}function v5(s,e){var c,b,h,m;const r=qt(s,e==null?void 0:e.in),a=r.getFullYear(),i=Vm(),n=(e==null?void 0:e.firstWeekContainsDate)??((b=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Xr((e==null?void 0:e.in)||s,0);o.setFullYear(a+1,0,n),o.setHours(0,0,0,0);const l=$n(o,e),d=Xr((e==null?void 0:e.in)||s,0);d.setFullYear(a,0,n),d.setHours(0,0,0,0);const u=$n(d,e);return+r>=+l?a+1:+r>=+u?a:a-1}function aF(s,e){var l,d,u,c;const r=Vm(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=v5(s,e),n=Xr((e==null?void 0:e.in)||s,0);return n.setFullYear(i,0,a),n.setHours(0,0,0,0),$n(n,e)}function D5(s,e){const r=qt(s,e==null?void 0:e.in),a=+$n(r,e)-+aF(r,e);return Math.round(a/kD)+1}function Dr(s,e){const r=s<0?"-":"",a=Math.abs(s).toString().padStart(e,"0");return r+a}const Kl={y(s,e){const r=s.getFullYear(),a=r>0?r:1-r;return Dr(e==="yy"?a%100:a,e.length)},M(s,e){const r=s.getMonth();return e==="M"?String(r+1):Dr(r+1,2)},d(s,e){return Dr(s.getDate(),e.length)},a(s,e){const r=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(s,e){return Dr(s.getHours()%12||12,e.length)},H(s,e){return Dr(s.getHours(),e.length)},m(s,e){return Dr(s.getMinutes(),e.length)},s(s,e){return Dr(s.getSeconds(),e.length)},S(s,e){const r=e.length,a=s.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return Dr(i,e.length)}},Ac={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KA={G:function(s,e,r){const a=s.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(s,e,r){if(e==="yo"){const a=s.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Kl.y(s,e)},Y:function(s,e,r,a){const i=v5(s,a),n=i>0?i:1-i;if(e==="YY"){const o=n%100;return Dr(o,2)}return e==="Yo"?r.ordinalNumber(n,{unit:"year"}):Dr(n,e.length)},R:function(s,e){const r=N5(s);return Dr(r,e.length)},u:function(s,e){const r=s.getFullYear();return Dr(r,e.length)},Q:function(s,e,r){const a=Math.ceil((s.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Dr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,e,r){const a=Math.ceil((s.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Dr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,e,r){const a=s.getMonth();switch(e){case"M":case"MM":return Kl.M(s,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(s,e,r){const a=s.getMonth();switch(e){case"L":return String(a+1);case"LL":return Dr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(s,e,r,a){const i=D5(s,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Dr(i,e.length)},I:function(s,e,r){const a=x5(s);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Dr(a,e.length)},d:function(s,e,r){return e==="do"?r.ordinalNumber(s.getDate(),{unit:"date"}):Kl.d(s,e)},D:function(s,e,r){const a=rF(s);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Dr(a,e.length)},E:function(s,e,r){const a=s.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(s,e,r,a){const i=s.getDay(),n=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(n);case"ee":return Dr(n,2);case"eo":return r.ordinalNumber(n,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(s,e,r,a){const i=s.getDay(),n=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(n);case"cc":return Dr(n,e.length);case"co":return r.ordinalNumber(n,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(s,e,r){const a=s.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Dr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(s,e,r){const i=s.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(s,e,r){const a=s.getHours();let i;switch(a===12?i=Ac.noon:a===0?i=Ac.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(s,e,r){const a=s.getHours();let i;switch(a>=17?i=Ac.evening:a>=12?i=Ac.afternoon:a>=4?i=Ac.morning:i=Ac.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(s,e,r){if(e==="ho"){let a=s.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Kl.h(s,e)},H:function(s,e,r){return e==="Ho"?r.ordinalNumber(s.getHours(),{unit:"hour"}):Kl.H(s,e)},K:function(s,e,r){const a=s.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Dr(a,e.length)},k:function(s,e,r){let a=s.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Dr(a,e.length)},m:function(s,e,r){return e==="mo"?r.ordinalNumber(s.getMinutes(),{unit:"minute"}):Kl.m(s,e)},s:function(s,e,r){return e==="so"?r.ordinalNumber(s.getSeconds(),{unit:"second"}):Kl.s(s,e)},S:function(s,e){return Kl.S(s,e)},X:function(s,e,r){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return YA(a);case"XXXX":case"XX":return uu(a);case"XXXXX":case"XXX":default:return uu(a,":")}},x:function(s,e,r){const a=s.getTimezoneOffset();switch(e){case"x":return YA(a);case"xxxx":case"xx":return uu(a);case"xxxxx":case"xxx":default:return uu(a,":")}},O:function(s,e,r){const a=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+QA(a,":");case"OOOO":default:return"GMT"+uu(a,":")}},z:function(s,e,r){const a=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+QA(a,":");case"zzzz":default:return"GMT"+uu(a,":")}},t:function(s,e,r){const a=Math.trunc(+s/1e3);return Dr(a,e.length)},T:function(s,e,r){return Dr(+s,e.length)}};function QA(s,e=""){const r=s>0?"-":"+",a=Math.abs(s),i=Math.trunc(a/60),n=a%60;return n===0?r+String(i):r+String(i)+e+Dr(n,2)}function YA(s,e){return s%60===0?(s>0?"-":"+")+Dr(Math.abs(s)/60,2):uu(s,e)}function uu(s,e=""){const r=s>0?"-":"+",a=Math.abs(s),i=Dr(Math.trunc(a/60),2),n=Dr(a%60,2);return r+i+e+n}const JA=(s,e)=>{switch(s){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},w5=(s,e)=>{switch(s){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},iF=(s,e)=>{const r=s.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return JA(s,e);let n;switch(a){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"});break}return n.replace("{{date}}",JA(a,e)).replace("{{time}}",w5(i,e))},nF={p:w5,P:iF},oF=/^D+$/,lF=/^Y+$/,dF=["D","DD","YY","YYYY"];function uF(s){return oF.test(s)}function cF(s){return lF.test(s)}function mF(s,e,r){const a=bF(s,e,r);if(console.warn(a),dF.includes(s))throw new RangeError(a)}function bF(s,e,r){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pF=/^'([^]*?)'?$/,NF=/''/g,kF=/[a-zA-Z]/;function Ds(s,e,r){var c,b,h,m,f,p,N,g;const a=Vm(),i=(r==null?void 0:r.locale)??a.locale??vD,n=(r==null?void 0:r.firstWeekContainsDate)??((b=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:b.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((g=(N=a.locale)==null?void 0:N.options)==null?void 0:g.weekStartsOn)??0,l=qt(s,r==null?void 0:r.in);if(!NI(l))throw new RangeError("Invalid time value");let d=e.match(fF).map(D=>{const w=D[0];if(w==="p"||w==="P"){const A=nF[w];return A(D,i.formatLong)}return D}).join("").match(hF).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const w=D[0];if(w==="'")return{isToken:!1,value:gF(D)};if(KA[w])return{isToken:!0,value:D};if(w.match(kF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(d=i.localize.preprocessor(l,d));const u={firstWeekContainsDate:n,weekStartsOn:o,locale:i};return d.map(D=>{if(!D.isToken)return D.value;const w=D.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&cF(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&uF(w))&&mF(w,e,String(s));const A=KA[w[0]];return A(l,w,i.localize,u)}).join("")}function gF(s){const e=s.match(pF);return e?e[1].replace(NF,"'"):s}function xF(s,e,r){const a=Vm(),i=(r==null?void 0:r.locale)??a.locale??vD,n=2520,o=qp(s,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[d,u]=El(r==null?void 0:r.in,...o>0?[e,s]:[s,e]),c=jI(u,d),b=(dm(u)-dm(d))/1e3,h=Math.round((c-b)/60);let m;if(h<2)return r!=null&&r.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,l):c<10?i.formatDistance("lessThanXSeconds",10,l):c<20?i.formatDistance("lessThanXSeconds",20,l):c<40?i.formatDistance("halfAMinute",0,l):c<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<HA){const f=Math.round(h/60);return i.formatDistance("aboutXHours",f,l)}else{if(h<n)return i.formatDistance("xDays",1,l);if(h<lp){const f=Math.round(h/HA);return i.formatDistance("xDays",f,l)}else if(h<lp*2)return m=Math.round(h/lp),i.formatDistance("aboutXMonths",m,l)}if(m=wI(u,d),m<12){const f=Math.round(h/lp);return i.formatDistance("xMonths",f,l)}else{const f=m%12,p=Math.trunc(m/12);return f<3?i.formatDistance("aboutXYears",p,l):f<9?i.formatDistance("overXYears",p,l):i.formatDistance("almostXYears",p+1,l)}}function mm(s,e){return xF(s,Hk(s),e)}function vF(s,e){const r=qt(s,e==null?void 0:e.in),a=r.getFullYear(),i=r.getMonth(),n=Xr(r,0);return n.setFullYear(a,i+1,0),n.setHours(0,0,0,0),n.getDate()}function DF(s){return Math.trunc(+qt(s)/1e3)}function wF(s,e){const r=qt(s,e==null?void 0:e.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(0,0,0,0),qt(r,e==null?void 0:e.in)}function jF(s,e){const r=qt(s,e==null?void 0:e.in);return kI(wF(r,e),Fi(r,e),e)+1}function x0(s,e){return+qt(s)>+qt(e)}function j5(s,e){return+qt(s)<+qt(e)}function AF(s){return+qt(s)<Date.now()}function EF(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e);return+$n(a,r)==+$n(i,r)}function DD(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function PF(s,e,r){const[a,i]=El(r==null?void 0:r.in,s,e);return a.getFullYear()===i.getFullYear()}function yF(s,e){return EF(Xr(s,s),Hk(s),e)}function OF(s,e){return ni(Xr(s,s),Hk(s))}function $p(s,e,r){return ji(s,-e,r)}function WF(s,e){return ni(Xr(s,s),$p(Hk(s),1))}function ZA(s,e){const r=()=>Xr(e==null?void 0:e.in,NaN),i=CF(s);let n;if(i.date){const u=SF(i.date,2);n=TF(u.restDateString,u.year)}if(!n||isNaN(+n))return r();const o=+n;let l=0,d;if(i.time&&(l=RF(i.time),isNaN(l)))return r();if(i.timezone){if(d=MF(i.timezone),isNaN(d))return r()}else{const u=new Date(o+l),c=qt(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return qt(o+l+d,e==null?void 0:e.in)}const dp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},UF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_F=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CF(s){const e={},r=s.split(dp.dateTimeDelimiter);let a;if(r.length>2)return e;if(/:/.test(r[0])?a=r[0]:(e.date=r[0],a=r[1],dp.timeZoneDelimiter.test(e.date)&&(e.date=s.split(dp.timeZoneDelimiter)[0],a=s.substr(e.date.length,s.length))),a){const i=dp.timezone.exec(a);i?(e.time=a.replace(i[1],""),e.timezone=i[1]):e.time=a}return e}function SF(s,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=s.match(r);if(!a)return{year:NaN,restDateString:""};const i=a[1]?parseInt(a[1]):null,n=a[2]?parseInt(a[2]):null;return{year:n===null?i:n*100,restDateString:s.slice((a[1]||a[2]).length)}}function TF(s,e){if(e===null)return new Date(NaN);const r=s.match(UF);if(!r)return new Date(NaN);const a=!!r[4],i=gb(r[1]),n=gb(r[2])-1,o=gb(r[3]),l=gb(r[4]),d=gb(r[5])-1;if(a)return BF(e,l,d)?LF(e,l,d):new Date(NaN);{const u=new Date(0);return!FF(e,n,o)||!zF(e,i)?new Date(NaN):(u.setUTCFullYear(e,n,Math.max(i,o)),u)}}function gb(s){return s?parseInt(s):1}function RF(s){const e=s.match(VF);if(!e)return NaN;const r=wx(e[1]),a=wx(e[2]),i=wx(e[3]);return qF(r,a,i)?r*p5+a*f5+i*1e3:NaN}function wx(s){return s&&parseFloat(s.replace(",","."))||0}function MF(s){if(s==="Z")return 0;const e=s.match(_F);if(!e)return 0;const r=e[1]==="+"?-1:1,a=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return $F(a,i)?r*(a*p5+i*f5):NaN}function LF(s,e,r){const a=new Date(0);a.setUTCFullYear(s,0,4);const i=a.getUTCDay()||7,n=(e-1)*7+r+1-i;return a.setUTCDate(a.getUTCDate()+n),a}const IF=[31,null,31,30,31,30,31,31,30,31,30,31];function A5(s){return s%400===0||s%4===0&&s%100!==0}function FF(s,e,r){return e>=0&&e<=11&&r>=1&&r<=(IF[e]||(A5(s)?29:28))}function zF(s,e){return e>=1&&e<=(A5(s)?366:365)}function BF(s,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function qF(s,e,r){return s===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&s>=0&&s<25}function $F(s,e){return e>=0&&e<=59}function jx(s,e,r){const a=qt(s,r==null?void 0:r.in),i=a.getFullYear(),n=a.getDate(),o=Xr(s,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const l=vF(o);return a.setMonth(e,Math.min(n,l)),a}function XA(s,e,r){const a=qt(s,r==null?void 0:r.in);return isNaN(+a)?Xr(s,NaN):(a.setFullYear(e),a)}function HF(s,e,r){return kn(s,-e,r)}var E5="AlertDialog",[GF,Cde]=Gn(E5,[DO]),Pl=DO(),P5=s=>{const{__scopeAlertDialog:e,...r}=s,a=Pl(e);return de.jsx(R1,{...a,...r,modal:!0})};P5.displayName=E5;var KF="AlertDialogTrigger",QF=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,i=Pl(r);return de.jsx(vO,{...i,...a,ref:e})});QF.displayName=KF;var YF="AlertDialogPortal",y5=s=>{const{__scopeAlertDialog:e,...r}=s,a=Pl(e);return de.jsx(T1,{...a,...r})};y5.displayName=YF;var JF="AlertDialogOverlay",O5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,i=Pl(r);return de.jsx(Bh,{...i,...a,ref:e})});O5.displayName=JF;var Kc="AlertDialogContent",[ZF,XF]=GF(Kc),ez=tO("AlertDialogContent"),W5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,children:a,...i}=s,n=Pl(r),o=v.useRef(null),l=va(e,o),d=v.useRef(null);return de.jsx(_T,{contentName:Kc,titleName:U5,docsSlug:"alert-dialog",children:de.jsx(ZF,{scope:r,cancelRef:d,children:de.jsxs(qh,{role:"alertdialog",...n,...i,ref:l,onOpenAutoFocus:Ft(i.onOpenAutoFocus,u=>{var c;u.preventDefault(),(c=d.current)==null||c.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[de.jsx(ez,{children:a}),de.jsx(tz,{contentRef:o})]})})})});W5.displayName=Kc;var U5="AlertDialogTitle",V5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,i=Pl(r);return de.jsx($h,{...i,...a,ref:e})});V5.displayName=U5;var _5="AlertDialogDescription",C5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,i=Pl(r);return de.jsx(Hh,{...i,...a,ref:e})});C5.displayName=_5;var sz="AlertDialogAction",S5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,i=Pl(r);return de.jsx(Pk,{...i,...a,ref:e})});S5.displayName=sz;var T5="AlertDialogCancel",R5=v.forwardRef((s,e)=>{const{__scopeAlertDialog:r,...a}=s,{cancelRef:i}=XF(T5,r),n=Pl(r),o=va(e,i);return de.jsx(Pk,{...n,...a,ref:o})});R5.displayName=T5;var tz=({contentRef:s})=>{const e=`\`${Kc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kc}\` by passing a \`${_5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var a;document.getElementById((a=s.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(e)},[e,s]),null},rz=P5,az=y5,M5=O5,L5=W5,I5=S5,F5=R5,z5=V5,B5=C5;const wD=rz,iz=az,q5=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(M5,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e,ref:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));q5.displayName=M5.displayName;const Kk=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(iz,{children:[t.jsxDEV(q5,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),t.jsxDEV(L5,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Kk.displayName=L5.displayName;const Qk=({className:s,...e})=>t.jsxDEV("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:47,columnNumber:3},void 0);Qk.displayName="AlertDialogHeader";const Yk=({className:s,...e})=>t.jsxDEV("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:52,columnNumber:3},void 0);Yk.displayName="AlertDialogFooter";const Jk=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(z5,{ref:r,className:Ce("text-lg font-semibold",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:60,columnNumber:3},void 0));Jk.displayName=z5.displayName;const Zk=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(B5,{ref:r,className:Ce("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:68,columnNumber:3},void 0));Zk.displayName=B5.displayName;const Xk=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(I5,{ref:r,className:Ce(lh(),s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:76,columnNumber:3},void 0));Xk.displayName=I5.displayName;const eg=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(F5,{ref:r,className:Ce(lh({variant:"outline"}),"mt-2 sm:mt-0",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/alert-dialog.tsx",lineNumber:84,columnNumber:3},void 0));eg.displayName=F5.displayName;function nz(){const{profile:s}=ar(),{toast:e}=Hs(),r=Lr(),[a,i]=v.useState(null),{data:n,isLoading:o}=bs({queryKey:["pending-invitations",s==null?void 0:s.firm_id],queryFn:async()=>{if(!(s!=null&&s.firm_id))return[];const{data:m,error:f}=await le.from("user_invitations").select("*").eq("firm_id",s.firm_id).is("accepted_at",null).order("created_at",{ascending:!1});if(f)throw f;return m},enabled:!!(s!=null&&s.firm_id)}),l=Rs({mutationFn:async m=>({success:!0}),onSuccess:()=>{e({title:"Invitation resent",description:"The invitation email has been sent again"})},onError:m=>{e({title:"Error",description:m.message||"Failed to resend invitation",variant:"destructive"})}}),d=Rs({mutationFn:async m=>{const{error:f}=await le.from("user_invitations").delete().eq("id",m);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["pending-invitations"]}),e({title:"Invitation cancelled",description:"The invitation has been removed"}),i(null)},onError:m=>{e({title:"Error",description:m.message||"Failed to cancel invitation",variant:"destructive"})}}),u=m=>{const f=`${window.location.origin}/accept-invitation?token=${m}`;navigator.clipboard.writeText(f),e({title:"Link copied",description:"Invitation link copied to clipboard"})},c=m=>m.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),b=m=>new Date(m)<new Date,h=m=>b(m.expires_at)?t.jsxDEV(he,{variant:"destructive",children:"Expired"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:139,columnNumber:14},this):t.jsxDEV(he,{variant:"secondary",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:141,columnNumber:12},this);return o?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV(oi,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading invitations..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:148,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:147,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:146,columnNumber:7},this):!n||n.length===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV(dt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No pending invitations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Invitations you send will appear here until accepted or expired"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:161,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:160,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:159,columnNumber:7},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Pending Invitations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:177,columnNumber:11},this),t.jsxDEV(Ke,{children:"Manage invitations that haven't been accepted yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:176,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Recipient"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:186,columnNumber:17},this),t.jsxDEV(Qe,{children:"Role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:187,columnNumber:17},this),t.jsxDEV(Qe,{children:"Department"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:188,columnNumber:17},this),t.jsxDEV(Qe,{children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:189,columnNumber:17},this),t.jsxDEV(Qe,{children:"Expires"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:190,columnNumber:17},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:191,columnNumber:17},this),t.jsxDEV(Qe,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:185,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:184,columnNumber:13},this),t.jsxDEV(Ba,{children:n.map(m=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:m.first_name&&m.last_name?`${m.first_name} ${m.last_name}`:m.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:200,columnNumber:23},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:m.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:205,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:199,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:198,columnNumber:19},this),t.jsxDEV(Fe,{children:c(m.role)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:210,columnNumber:19},this),t.jsxDEV(Fe,{children:m.department||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:211,columnNumber:19},this),t.jsxDEV(Fe,{children:mm(new Date(m.created_at),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:212,columnNumber:19},this),t.jsxDEV(Fe,{children:mm(new Date(m.expires_at),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:215,columnNumber:19},this),t.jsxDEV(Fe,{children:h(m)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:218,columnNumber:19},this),t.jsxDEV(Fe,{className:"text-right",children:t.jsxDEV("div",{className:"flex justify-end gap-2",children:[t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>u(m.token),title:"Copy invitation link",children:t.jsxDEV($1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:227,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:221,columnNumber:23},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>l.mutate(m.id),disabled:b(m.expires_at)||l.isPending,title:"Resend invitation email",children:t.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:236,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:229,columnNumber:23},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>i(m.id),title:"Cancel invitation",children:t.jsxDEV(Tn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:244,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:238,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:220,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:219,columnNumber:19},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:197,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:175,columnNumber:7},this),t.jsxDEV(wD,{open:!!a,onOpenChange:()=>i(null),children:t.jsxDEV(Kk,{children:[t.jsxDEV(Qk,{children:[t.jsxDEV(Jk,{children:"Cancel Invitation?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:259,columnNumber:13},this),t.jsxDEV(Zk,{children:"This will permanently remove this invitation. The recipient will no longer be able to use the invitation link."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:258,columnNumber:11},this),t.jsxDEV(Yk,{children:[t.jsxDEV(eg,{children:"Keep Invitation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:265,columnNumber:13},this),t.jsxDEV(Xk,{onClick:()=>a&&d.mutate(a),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Cancel Invitation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:266,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:257,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:256,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/PendingInvitations.tsx",lineNumber:174,columnNumber:5},this)}const jD=R1,oz=T1,$5=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(Bh,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...e,ref:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:20,columnNumber:3},void 0));$5.displayName=Bh.displayName;const lz=Ju("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sg=v.forwardRef(({side:s="right",className:e,children:r,...a},i)=>t.jsxDEV(oz,{children:[t.jsxDEV($5,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:57,columnNumber:7},void 0),t.jsxDEV(qh,{ref:i,className:Ce(lz({side:s}),e),...a,children:[r,t.jsxDEV(Pk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[t.jsxDEV(qn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:61,columnNumber:11},void 0),t.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:58,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:56,columnNumber:5},void 0));sg.displayName=qh.displayName;const AD=({className:s,...e})=>t.jsxDEV("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:71,columnNumber:3},void 0);AD.displayName="SheetHeader";const ED=v.forwardRef(({className:s,...e},r)=>t.jsxDEV($h,{ref:r,className:Ce("text-lg font-semibold text-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:84,columnNumber:3},void 0));ED.displayName=$h.displayName;const PD=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(Hh,{ref:r,className:Ce("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sheet.tsx",lineNumber:92,columnNumber:3},void 0));PD.displayName=Hh.displayName;var dz="Separator",eE="horizontal",uz=["horizontal","vertical"],H5=v.forwardRef((s,e)=>{const{decorative:r,orientation:a=eE,...i}=s,n=cz(a)?a:eE,l=r?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return de.jsx(sr.div,{"data-orientation":n,...l,...i,ref:e})});H5.displayName=dz;function cz(s){return uz.includes(s)}var G5=H5;const ft=v.forwardRef(({className:s,orientation:e="horizontal",decorative:r=!0,...a},i)=>t.jsxDEV(G5,{ref:i,decorative:r,orientation:e,className:Ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/separator.tsx",lineNumber:10,columnNumber:3},void 0));ft.displayName=G5.displayName;const mz=[{value:"partner",label:"Partner / Principal"},{value:"practice_leader",label:"Practice Leader"},{value:"engagement_manager",label:"Engagement Manager"},{value:"senior_auditor",label:"Senior Auditor"},{value:"staff_auditor",label:"Staff Auditor"},{value:"business_development",label:"Business Development"}];function bz({user:s,open:e,onOpenChange:r,onUpdate:a}){const{toast:i}=Hs(),[n,o]=v.useState(!1),[l,d]=v.useState({first_name:"",last_name:"",email:"",department:"",job_title:"",phone:""}),[u,c]=v.useState([]);v.useEffect(()=>{var f;s&&(d({first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||"",department:s.department||"",job_title:s.job_title||"",phone:s.phone||""}),c(((f=s.user_roles)==null?void 0:f.map(p=>p.role))||[]))},[s]);const b=async()=>{if(s){o(!0);try{const{error:f}=await le.from("profiles").update({first_name:l.first_name,last_name:l.last_name,department:l.department,job_title:l.job_title,phone:l.phone,updated_at:new Date().toISOString()}).eq("id",s.id);if(f)throw f;i({title:"User updated",description:"User details have been updated successfully."}),a==null||a(),r(!1)}catch(f){i({title:"Error",description:f.message,variant:"destructive"})}finally{o(!1)}}},h=async f=>{var p;if(!(!s||u.includes(f)))try{const{error:N}=await le.from("user_roles").insert({user_id:s.id,firm_id:s.firm_id,role:f,assigned_by:(p=(await le.auth.getUser()).data.user)==null?void 0:p.id});if(N)throw N;c([...u,f]),i({title:"Role added",description:`Role ${f} has been assigned to the user.`}),a==null||a()}catch(N){i({title:"Error",description:N.message,variant:"destructive"})}},m=async f=>{if(s)try{const{error:p}=await le.from("user_roles").delete().eq("user_id",s.id).eq("role",f);if(p)throw p;c(u.filter(N=>N!==f)),i({title:"Role removed",description:`Role ${f} has been removed from the user.`}),a==null||a()}catch(p){i({title:"Error",description:p.message,variant:"destructive"})}};return s?t.jsxDEV(jD,{open:e,onOpenChange:r,children:t.jsxDEV(sg,{className:"sm:max-w-xl overflow-y-auto",children:[t.jsxDEV(AD,{children:[t.jsxDEV(ED,{className:"flex items-center gap-2",children:[t.jsxDEV(Zj,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:159,columnNumber:13},this),"Edit User Details"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:158,columnNumber:11},this),t.jsxDEV(PD,{children:"Update user information and manage role assignments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:157,columnNumber:9},this),t.jsxDEV("div",{className:"mt-6 space-y-6",children:[t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(Zj,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:171,columnNumber:15},this),"Basic Information"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:170,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"first_name",children:"First Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:177,columnNumber:17},this),t.jsxDEV(ve,{id:"first_name",value:l.first_name,onChange:f=>d({...l,first_name:f.target.value}),placeholder:"John"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:176,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"last_name",children:"Last Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:187,columnNumber:17},this),t.jsxDEV(ve,{id:"last_name",value:l.last_name,onChange:f=>d({...l,last_name:f.target.value}),placeholder:"Doe"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:175,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"email",className:"flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:199,columnNumber:17},this),"Email"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:198,columnNumber:15},this),t.jsxDEV(ve,{id:"email",type:"email",value:l.email,disabled:!0,className:"bg-muted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:202,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:197,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"phone",children:"Phone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:215,columnNumber:15},this),t.jsxDEV(ve,{id:"phone",type:"tel",value:l.phone,onChange:f=>d({...l,phone:f.target.value}),placeholder:"+1 (555) 123-4567"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:169,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:226,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(vl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:231,columnNumber:15},this),"Work Information"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:230,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"job_title",children:"Job Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:236,columnNumber:15},this),t.jsxDEV(ve,{id:"job_title",value:l.job_title,onChange:f=>d({...l,job_title:f.target.value}),placeholder:"Senior Auditor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:235,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"department",children:"Department"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:246,columnNumber:15},this),t.jsxDEV(ve,{id:"department",value:l.department,onChange:f=>d({...l,department:f.target.value}),placeholder:"Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:247,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:229,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:256,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:261,columnNumber:15},this),"Roles & Permissions"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:260,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:u.length===0?t.jsxDEV(he,{variant:"outline",children:"No roles assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:268,columnNumber:19},this):u.map(f=>t.jsxDEV(he,{variant:"secondary",className:"gap-1",children:[f.replace("_"," "),t.jsxDEV("button",{onClick:()=>m(f),className:"ml-1 hover:text-destructive",children:t.jsxDEV(qn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:277,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:273,columnNumber:23},this)]},f,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:271,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:266,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Add Role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:285,columnNumber:17},this),t.jsxDEV(is,{onValueChange:h,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select a role to add"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:288,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:287,columnNumber:19},this),t.jsxDEV(as,{children:mz.map(f=>t.jsxDEV(X,{value:f.value,disabled:u.includes(f.value),children:f.label},f.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:292,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:290,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:265,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:259,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:306,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:311,columnNumber:15},this),"Account Information"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:310,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Joined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:317,columnNumber:17},this),t.jsxDEV("p",{className:"font-medium",children:s.created_at?Ds(new Date(s.created_at),"MMM d, yyyy"):"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:318,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:316,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Last Updated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:323,columnNumber:17},this),t.jsxDEV("p",{className:"font-medium",children:s.updated_at?Ds(new Date(s.updated_at),"MMM d, yyyy"):"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:324,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:322,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"User ID"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:329,columnNumber:17},this),t.jsxDEV("p",{className:"font-mono text-xs",children:[s.id.substring(0,8),"..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:330,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:328,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:333,columnNumber:17},this),t.jsxDEV(he,{variant:"outline",className:"text-green-600",children:"Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:334,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:332,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:315,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:309,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:167,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2 mt-6 pt-6 border-t sticky bottom-0 bg-background",children:[t.jsxDEV(F,{variant:"outline",className:"flex-1",onClick:()=>r(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:342,columnNumber:11},this),t.jsxDEV(F,{className:"flex-1",onClick:b,disabled:n,children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:354,columnNumber:13},this),n?"Saving...":"Save Changes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:349,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:341,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:156,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/UserDetailSheet.tsx",lineNumber:155,columnNumber:5},this):null}function hz({users:s,searchTerm:e,isLoading:r,onUserUpdated:a}){const[i,n]=v.useState(null),[o,l]=v.useState(!1),d=(s==null?void 0:s.filter(c=>{var b,h,m;return e===""||((b=c.full_name)==null?void 0:b.toLowerCase().includes(e.toLowerCase()))||((h=c.email)==null?void 0:h.toLowerCase().includes(e.toLowerCase()))||((m=c.user_roles)==null?void 0:m.some(f=>f.role.toLowerCase().includes(e.toLowerCase())))}))||[],u=c=>{n(c),l(!0)};return r?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12",children:t.jsxDEV("div",{className:"text-center text-muted-foreground",children:"Loading users..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:50,columnNumber:7},this):d.length===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12",children:t.jsxDEV("div",{className:"text-center text-muted-foreground",children:e?"No users found matching your search":"No users yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:62,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:60,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(q,{className:"p-0",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:76,columnNumber:15},this),t.jsxDEV(Qe,{children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:77,columnNumber:15},this),t.jsxDEV(Qe,{children:"Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:78,columnNumber:15},this),t.jsxDEV(Qe,{children:"Joined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:79,columnNumber:15},this),t.jsxDEV(Qe,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:75,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:74,columnNumber:11},this),t.jsxDEV(Ba,{children:d.map(c=>{var b;return t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:c.full_name||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:86,columnNumber:17},this),t.jsxDEV(Fe,{children:c.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:87,columnNumber:17},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:((b=c.user_roles)==null?void 0:b.map((h,m)=>t.jsxDEV(he,{variant:"secondary",className:"text-xs",children:h.role.replace("_"," ")},m,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:91,columnNumber:23},this)))||t.jsxDEV(he,{variant:"outline",children:"No roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:94,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:89,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:88,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-sm text-muted-foreground",children:c.created_at?Ds(new Date(c.created_at),"MMM d, yyyy"):"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:97,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right",children:t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"sm",children:t.jsxDEV(H1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:104,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:103,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:102,columnNumber:21},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(Xu,{children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:108,columnNumber:23},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:109,columnNumber:23},this),t.jsxDEV(fr,{onClick:()=>u(c),children:[t.jsxDEV(Yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:111,columnNumber:25},this),"Edit User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:110,columnNumber:23},this),t.jsxDEV(fr,{className:"text-destructive",children:[t.jsxDEV(Tn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:115,columnNumber:25},this),"Deactivate"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:114,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:107,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:101,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:100,columnNumber:17},this)]},c.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:85,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:73,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:72,columnNumber:7},this),t.jsxDEV(bz,{user:i,open:o,onOpenChange:l,onUpdate:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:127,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/ActiveUsersTable.tsx",lineNumber:71,columnNumber:5},this)}const Ax=["partner","practice_leader","business_development","engagement_manager","senior_auditor","staff_auditor"];function fz({open:s,onOpenChange:e}){const{toast:r}=Hs(),a=v.useRef(null),[i,n]=v.useState([]),[o,l]=v.useState(!1),[d,u]=v.useState(null),c=()=>{const w=["email,firstName,lastName,role,department","john.doe@example.com,John,Doe,senior_auditor,Audit","jane.smith@example.com,Jane,Smith,staff_auditor,Tax"].join(`
`),A=new Blob([w],{type:"text/csv"}),U=window.URL.createObjectURL(A),E=document.createElement("a");E.href=U,E.download="bulk-invite-template.csv",E.click(),window.URL.revokeObjectURL(U)},b=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),h=w=>{var U;const A=[];return(!w.email||!b(w.email))&&A.push("Invalid email address"),(!w.firstName||w.firstName.trim().length===0)&&A.push("First name is required"),(!w.lastName||w.lastName.trim().length===0)&&A.push("Last name is required"),(!w.role||!Ax.includes(w.role.toLowerCase()))&&A.push(`Invalid role. Must be one of: ${Ax.join(", ")}`),{email:w.email||"",firstName:w.firstName||"",lastName:w.lastName||"",role:((U=w.role)==null?void 0:U.toLowerCase())||"",department:w.department,isValid:A.length===0,errors:A}},m=w=>{const A=w.split(`
`).filter(_=>_.trim());if(A.length<2)return[];const U=A[0].split(",").map(_=>_.trim().toLowerCase()),E=U.indexOf("email"),W=U.findIndex(_=>_.includes("first")),y=U.findIndex(_=>_.includes("last")),V=U.indexOf("role"),S=U.indexOf("department");if(E===-1||W===-1||y===-1||V===-1)throw new Error("CSV must contain email, firstName, lastName, and role columns");const O=[];for(let _=1;_<A.length;_++){const M=A[_].split(",").map(Q=>Q.trim()),R=h({email:M[E],firstName:M[W],lastName:M[y],role:M[V],department:S!==-1?M[S]:void 0});O.push(R)}return O},f=w=>{var E;const A=(E=w.target.files)==null?void 0:E[0];if(!A)return;const U=new FileReader;U.onload=W=>{var y;try{const V=(y=W.target)==null?void 0:y.result,S=m(V);n(S),r({title:"CSV parsed",description:`Found ${S.length} users. Review and send invitations.`})}catch(V){r({title:"Error parsing CSV",description:V.message,variant:"destructive"})}},U.readAsText(A)},p=async()=>{const w=i.filter(E=>E.isValid);if(w.length===0){r({title:"No valid users",description:"Please fix validation errors before sending invitations",variant:"destructive"});return}l(!0),u({total:w.length,success:0,failed:0});let A=0,U=0;for(const E of w){try{const{data:W,error:y}=await le.rpc("create_employee_invitation",{p_email:E.email,p_first_name:E.firstName,p_last_name:E.lastName,p_role:E.role,p_department:E.department||null});if(y)throw y;if(!W.success)throw new Error(W.error||"Failed to create invitation");A++}catch(W){console.error(`Failed to invite ${E.email}:`,W),U++}u({total:w.length,success:A,failed:U})}l(!1),r({title:"Bulk invitation complete",description:`Successfully invited ${A} users. ${U>0?`${U} failed.`:""}`,variant:U>0?"destructive":"default"}),A>0&&setTimeout(()=>{N(),e(!1)},2e3)},N=()=>{n([]),u(null),a.current&&(a.current.value="")},g=i.filter(w=>w.isValid).length,D=i.length-g;return t.jsxDEV(Pt,{open:s,onOpenChange:w=>{!w&&!o&&N(),e(w)},children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Bulk User Invitation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:237,columnNumber:11},this),t.jsxDEV(Bt,{children:"Upload a CSV file to invite multiple users at once"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:238,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:236,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6 py-4",children:[i.length===0&&t.jsxDEV("div",{className:"text-center space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV(F,{variant:"outline",onClick:c,children:[t.jsxDEV(Bi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:249,columnNumber:19},this),"Download CSV Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:248,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Fill out the template with user information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:252,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:247,columnNumber:15},this),t.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-8 cursor-pointer hover:border-primary transition-colors",onClick:()=>{var w;return(w=a.current)==null?void 0:w.click()},children:[t.jsxDEV(Ro,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:262,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Drag and drop your CSV file here, or click to browse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:263,columnNumber:17},this),t.jsxDEV("input",{ref:a,type:"file",accept:".csv",onChange:f,className:"hidden"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:258,columnNumber:15},this),t.jsxDEV(jr,{children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV(Ar,{children:[t.jsxDEV("strong",{children:"Required columns:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:279,columnNumber:19},this)," email, firstName, lastName, role",t.jsxDEV("br",{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:280,columnNumber:19},this),t.jsxDEV("strong",{children:"Optional columns:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:281,columnNumber:19},this)," department",t.jsxDEV("br",{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:282,columnNumber:19},this),t.jsxDEV("strong",{children:"Valid roles:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:283,columnNumber:19},this)," ",Ax.join(", ")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:246,columnNumber:13},this),i.length>0&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:295,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm font-medium",children:[g," Valid"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:296,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:294,columnNumber:19},this),D>0&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:300,columnNumber:23},this),t.jsxDEV("span",{className:"text-sm font-medium",children:[D," Invalid"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:301,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:293,columnNumber:17},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:N,children:[t.jsxDEV(qn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:306,columnNumber:19},this),"Clear"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:305,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:292,columnNumber:15},this),t.jsxDEV("div",{className:"border rounded-lg",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:315,columnNumber:23},this),t.jsxDEV(Qe,{children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:316,columnNumber:23},this),t.jsxDEV(Qe,{children:"Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:317,columnNumber:23},this),t.jsxDEV(Qe,{children:"Role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:318,columnNumber:23},this),t.jsxDEV(Qe,{children:"Department"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:319,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:314,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:313,columnNumber:19},this),t.jsxDEV(Ba,{children:i.map((w,A)=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:w.isValid?t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:327,columnNumber:29},this):t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:330,columnNumber:31},this),t.jsxDEV("div",{className:"text-xs text-destructive",children:w.errors.join(", ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:331,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:329,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:325,columnNumber:25},this),t.jsxDEV(Fe,{className:"font-mono text-sm",children:w.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:337,columnNumber:25},this),t.jsxDEV(Fe,{children:[w.firstName," ",w.lastName]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:338,columnNumber:25},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:w.isValid?"secondary":"destructive",children:w.role},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:340,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:339,columnNumber:25},this),t.jsxDEV(Fe,{children:w.department||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:344,columnNumber:25},this)]},A,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:324,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:322,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:312,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:311,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:291,columnNumber:13},this),d&&t.jsxDEV(jr,{children:[t.jsxDEV(oi,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:356,columnNumber:15},this),t.jsxDEV(Ar,{children:["Sending invitations: ",d.success," / ",d.total," completed",d.failed>0&&` (${d.failed} failed)`]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:357,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:243,columnNumber:9},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),disabled:o,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:366,columnNumber:11},this),i.length>0&&t.jsxDEV(F,{onClick:p,disabled:o||g===0,children:o?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:376,columnNumber:19},this),"Sending..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:375,columnNumber:17},this):`Send ${g} Invitation${g!==1?"s":""}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:370,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:365,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:235,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/team/BulkInviteDialog.tsx",lineNumber:229,columnNumber:5},this)}function pz(){const{profile:s}=ar(),[e,r]=v.useState(""),[a,i]=v.useState(!1),[n,o]=v.useState(!1),{data:l,isLoading:d}=ND(),u=(l==null?void 0:l.filter(h=>h.status==="active"))||[],c=(l==null?void 0:l.filter(h=>h.status==="inactive"))||[],{data:b}=bs({queryKey:["pending-invitations-count",s==null?void 0:s.firm_id],queryFn:async()=>{if(!(s!=null&&s.firm_id))return[];const{data:h,error:m}=await le.from("user_invitations").select("id").eq("firm_id",s.firm_id).is("accepted_at",null);if(m)throw m;return h||[]},enabled:!!(s!=null&&s.firm_id)});return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:52,columnNumber:17},this),"Team Management"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:51,columnNumber:15},this),t.jsxDEV(Ke,{children:"Invite and manage team members, track pending invitations, and control user access"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:55,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:50,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>o(!0),children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:61,columnNumber:17},this),"Bulk Invite"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:60,columnNumber:15},this),t.jsxDEV(F,{onClick:()=>i(!0),children:[t.jsxDEV(Y1,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:65,columnNumber:17},this),"Invite User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:59,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:48,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:74,columnNumber:13},this),t.jsxDEV(ve,{placeholder:"Search users by name, email, or role...",value:e,onChange:h=>r(h.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:47,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:89,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:88,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:92,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Active Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:97,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:96,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:u.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:95,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Inactive Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:104,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-gray-500",children:c.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:103,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Pending Invitations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:112,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:(b==null?void 0:b.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:116,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting acceptance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:111,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:86,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"active",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"active",className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:126,columnNumber:13},this),"Active Users (",u.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV($e,{value:"pending",className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:130,columnNumber:13},this),"Pending Invitations (",(b==null?void 0:b.length)||0,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:124,columnNumber:9},this),t.jsxDEV(es,{value:"active",children:t.jsxDEV(hz,{users:l,searchTerm:e,isLoading:d},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:136,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:135,columnNumber:9},this),t.jsxDEV(es,{value:"pending",children:t.jsxDEV(nz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:140,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:123,columnNumber:7},this),t.jsxDEV(lI,{open:a,onOpenChange:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:145,columnNumber:7},this),t.jsxDEV(fz,{open:n,onOpenChange:o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:146,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/TeamManagement.tsx",lineNumber:45,columnNumber:5},this)}const Nz=[{id:"partner",name:"Partner / Principal",description:"Full access to all platform features including firm administration and financial management",permissions:[{category:"Organization",actions:["View","Edit","Delete"]},{category:"Users",actions:["View","Create","Edit","Delete","Invite"]},{category:"Engagements",actions:["View","Create","Edit","Delete","Approve"]},{category:"Clients",actions:["View","Create","Edit","Delete"]},{category:"Documents",actions:["View","Upload","Download","Delete"]},{category:"Reports",actions:["View","Create","Export"]},{category:"Financials",actions:["View","Edit"]}],userCount:3},{id:"practice_leader",name:"Practice Leader",description:"Manages practice area, team members, and engagements within their department",permissions:[{category:"Organization",actions:["View"]},{category:"Users",actions:["View","Invite"]},{category:"Engagements",actions:["View","Create","Edit","Approve"]},{category:"Clients",actions:["View","Create","Edit"]},{category:"Documents",actions:["View","Upload","Download"]},{category:"Reports",actions:["View","Create","Export"]},{category:"Financials",actions:["View"]}],userCount:5},{id:"engagement_manager",name:"Engagement Manager",description:"Manages specific engagements and supervises audit staff",permissions:[{category:"Organization",actions:["View"]},{category:"Users",actions:["View"]},{category:"Engagements",actions:["View","Create","Edit"]},{category:"Clients",actions:["View","Edit"]},{category:"Documents",actions:["View","Upload","Download"]},{category:"Reports",actions:["View","Create","Export"]},{category:"Financials",actions:["View"]}],userCount:8},{id:"senior_auditor",name:"Senior Auditor",description:"Performs audit work and reviews staff auditor work",permissions:[{category:"Organization",actions:["View"]},{category:"Users",actions:["View"]},{category:"Engagements",actions:["View","Edit"]},{category:"Clients",actions:["View"]},{category:"Documents",actions:["View","Upload","Download"]},{category:"Reports",actions:["View","Create"]}],userCount:12},{id:"staff_auditor",name:"Staff Auditor",description:"Performs audit procedures and creates work papers",permissions:[{category:"Organization",actions:["View"]},{category:"Users",actions:["View"]},{category:"Engagements",actions:["View"]},{category:"Clients",actions:["View"]},{category:"Documents",actions:["View","Upload","Download"]},{category:"Reports",actions:["View"]}],userCount:18},{id:"business_development",name:"Business Development",description:"Manages client relationships and new business opportunities",permissions:[{category:"Organization",actions:["View"]},{category:"Users",actions:["View"]},{category:"Engagements",actions:["View","Create"]},{category:"Clients",actions:["View","Create","Edit"]},{category:"Documents",actions:["View","Upload","Download"]},{category:"Reports",actions:["View"]}],userCount:2}];function kz(){const[s,e]=v.useState(null);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:134,columnNumber:17},this),"Role & Permission Management"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:133,columnNumber:15},this),t.jsxDEV(Ke,{children:"Configure roles and permissions for your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:132,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:131,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:130,columnNumber:9},this),t.jsxDEV(q,{children:[t.jsxDEV(jr,{className:"mb-6",children:[t.jsxDEV(Dl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:145,columnNumber:13},this),t.jsxDEV(Ar,{children:"These are predefined roles for audit firms. Each role has specific permissions that determine what users can access and do in the platform."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:144,columnNumber:11},this),t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:154,columnNumber:17},this),t.jsxDEV(Qe,{children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:155,columnNumber:17},this),t.jsxDEV(Qe,{children:"Assigned Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:156,columnNumber:17},this),t.jsxDEV(Qe,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:153,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:152,columnNumber:13},this),t.jsxDEV(Ba,{children:Nz.map(r=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:165,columnNumber:23},this),t.jsxDEV("span",{className:"font-medium",children:r.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:166,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:163,columnNumber:19},this),t.jsxDEV(Fe,{className:"max-w-md",children:t.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-2",children:r.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:170,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:169,columnNumber:19},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:176,columnNumber:23},this),t.jsxDEV("span",{className:"text-sm",children:[r.userCount," users"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:177,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:175,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:174,columnNumber:19},this),t.jsxDEV(Fe,{className:"text-right",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>e(r),children:"View Permissions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:181,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:180,columnNumber:19},this)]},r.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:162,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:129,columnNumber:7},this),t.jsxDEV(Pt,{open:!!s,onOpenChange:()=>e(null),children:t.jsxDEV(Dt,{className:"max-w-3xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{className:"flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:201,columnNumber:15},this),s==null?void 0:s.name," - Permissions"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:200,columnNumber:13},this),t.jsxDEV(Bt,{children:s==null?void 0:s.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:199,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:211,columnNumber:15},this),t.jsxDEV("span",{children:[s==null?void 0:s.userCount," users currently assigned this role"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:212,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:210,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Resource Category"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:219,columnNumber:21},this),t.jsxDEV(Qe,{children:"Allowed Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:220,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:218,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:217,columnNumber:17},this),t.jsxDEV(Ba,{children:s==null?void 0:s.permissions.map(r=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:r.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:226,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:r.actions.map(a=>t.jsxDEV(he,{variant:"secondary",children:a},a,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:230,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:228,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:227,columnNumber:23},this)]},r.category,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:225,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:216,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:215,columnNumber:13},this),t.jsxDEV(jr,{children:[t.jsxDEV(Dl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:243,columnNumber:15},this),t.jsxDEV(Ar,{children:"These are the default permissions for this role. Custom role creation and permission modification will be available in a future update."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:242,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:198,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:197,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/RoleManagement.tsx",lineNumber:128,columnNumber:5},this)}function gz(){const{profile:s}=ar(),{data:e}=bs({queryKey:["users-count",s==null?void 0:s.firm_id],queryFn:async()=>{if(!(s!=null&&s.firm_id))return[];const{data:l,error:d}=await le.from("profiles").select("id, email").eq("firm_id",s.firm_id);if(d)throw d;return l||[]},enabled:!!(s!=null&&s.firm_id)}),{data:r}=bs({queryKey:["pending-invitations-count",s==null?void 0:s.firm_id],queryFn:async()=>{if(!(s!=null&&s.firm_id))return[];const{data:l,error:d}=await le.from("user_invitations").select("id").eq("firm_id",s.firm_id).is("accepted_at",null);if(d)throw d;return l||[]},enabled:!!(s!=null&&s.firm_id)}),a={total:50,used:((e==null?void 0:e.length)||0)+((r==null?void 0:r.length)||0),available:50-(((e==null?void 0:e.length)||0)+((r==null?void 0:r.length)||0)),byType:{fullUser:(e==null?void 0:e.length)||0,readOnly:0,clientPortal:0}},i=a.used/a.total*100,n=i>=80,o=i>=90;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[t.jsxDEV(XO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:91,columnNumber:15},this),"Total Licenses"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:90,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:89,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-3xl font-bold",children:a.total},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:96,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Professional plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:88,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:106,columnNumber:15},this),"Licenses Used"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:104,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-3xl font-bold",children:a.used},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:111,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[(e==null?void 0:e.length)||0," active + ",(r==null?void 0:r.length)||0," pending"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:103,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:121,columnNumber:15},this),"Available"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:120,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:119,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:a.available},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:126,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(a.available/a.total*100),"% remaining"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:87,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"License Usage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:137,columnNumber:11},this),t.jsxDEV(Ke,{children:"Track license allocation across your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:138,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:136,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"font-medium",children:"Overall Usage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:145,columnNumber:15},this),t.jsxDEV("span",{className:"text-muted-foreground",children:[a.used," / ",a.total," (",Math.round(i),"%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:146,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:144,columnNumber:13},this),t.jsxDEV(cr,{value:i,className:o?"bg-red-100 [&>div]:bg-red-600":n?"bg-orange-100 [&>div]:bg-orange-600":"bg-green-100 [&>div]:bg-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:143,columnNumber:11},this),n&&t.jsxDEV(jr,{variant:o?"destructive":"default",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV(Ar,{children:o?"You are approaching your license limit. Consider upgrading your plan to invite more users.":"You are using over 80% of your available licenses. Plan to upgrade soon."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:161,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-end gap-2",children:[t.jsxDEV(F,{variant:"outline",children:"View Pricing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:173,columnNumber:13},this),t.jsxDEV(F,{children:"Upgrade Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:172,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:135,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"License Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:182,columnNumber:11},this),t.jsxDEV(Ke,{children:"Distribution of licenses by type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:183,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:181,columnNumber:9},this),t.jsxDEV(q,{children:[t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"License Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:191,columnNumber:17},this),t.jsxDEV(Qe,{children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:192,columnNumber:17},this),t.jsxDEV(Qe,{children:"Allocated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:193,columnNumber:17},this),t.jsxDEV(Qe,{className:"text-right",children:"Cost per User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV(Ba,{children:[t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(he,{children:"Full User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:201,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:200,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:199,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-sm text-muted-foreground",children:"Complete access to create and edit engagements, manage documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:204,columnNumber:17},this),t.jsxDEV(Fe,{children:[t.jsxDEV("span",{className:"font-medium",children:a.byType.fullUser},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:208,columnNumber:19},this),t.jsxDEV("span",{className:"text-muted-foreground ml-1",children:["/ ",a.total]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:209,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:207,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right font-medium",children:"$49/mo"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:198,columnNumber:15},this),t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(he,{variant:"secondary",children:"Read-Only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:216,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:215,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:214,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-sm text-muted-foreground",children:"View-only access to engagements and reports"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:219,columnNumber:17},this),t.jsxDEV(Fe,{children:[t.jsxDEV("span",{className:"font-medium",children:a.byType.readOnly},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:223,columnNumber:19},this),t.jsxDEV("span",{className:"text-muted-foreground ml-1",children:["/ ",a.total]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:222,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right font-medium",children:"$19/mo"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:226,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:213,columnNumber:15},this),t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(he,{variant:"outline",children:"Client Portal"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:231,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:230,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:229,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-sm text-muted-foreground",children:"External client access to their documents and communications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV(Fe,{children:[t.jsxDEV("span",{className:"font-medium",children:a.byType.clientPortal},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:238,columnNumber:19},this),t.jsxDEV("span",{className:"text-muted-foreground ml-1",children:"/ Unlimited"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:239,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:237,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right font-medium",children:"Free"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:241,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(jr,{className:"mt-6",children:[t.jsxDEV(Dl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:247,columnNumber:13},this),t.jsxDEV(Ar,{children:"License types are automatically assigned based on user roles. Full User licenses are assigned to Partners, Managers, and Auditors. Read-Only licenses can be assigned to administrative staff or observers."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:248,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:180,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Usage History"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:258,columnNumber:11},this),t.jsxDEV(Ke,{children:"License usage over the past 6 months"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:257,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-4",children:[{month:"November 2025",users:a.used,change:"+2"},{month:"October 2025",users:a.used-2,change:"+3"},{month:"September 2025",users:a.used-5,change:"-1"},{month:"August 2025",users:a.used-4,change:"+5"},{month:"July 2025",users:a.used-9,change:"+2"},{month:"June 2025",users:a.used-11,change:"+1"}].map(l=>t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:l.month},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:274,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[l.users," users"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:276,columnNumber:19},this),t.jsxDEV(he,{variant:l.change.startsWith("+")?"default":"secondary",className:"w-16 justify-center",children:l.change},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:277,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:275,columnNumber:17},this)]},l.month,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:273,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:264,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:263,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:256,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/LicenseManagement.tsx",lineNumber:85,columnNumber:5},this)}function xz(){const{toast:s}=Hs(),{currentOrg:e,refreshOrganizations:r}=vn(),a=v.useRef(null),[i,n]=v.useState(!1),[o,l]=v.useState(!1),[d,u]=v.useState({primaryColor:"#3b82f6",secondaryColor:"#10b981",accentColor:"#f59e0b",logoUrl:""});v.useEffect(()=>{e!=null&&e.settings&&u({primaryColor:e.settings.primary_color||"#3b82f6",secondaryColor:e.settings.secondary_color||"#10b981",accentColor:e.settings.accent_color||"#f59e0b",logoUrl:e.settings.logo_url||""})},[e]);const c=async m=>{var p;const f=(p=m.target.files)==null?void 0:p[0];if(f){if(!f.type.startsWith("image/")){s({title:"Invalid file type",description:"Please upload an image file (PNG, JPG, or SVG)",variant:"destructive"});return}if(f.size>2*1024*1024){s({title:"File too large",description:"Please upload an image smaller than 2MB",variant:"destructive"});return}l(!0);try{const N=f.name.split(".").pop(),g=`${e==null?void 0:e.id}/logo-${Date.now()}.${N}`,{data:D,error:w}=await le.storage.from("firm-assets").upload(g,f,{cacheControl:"3600",upsert:!0});if(w){console.error("Upload error:",w),s({title:"Upload failed",description:"Storage bucket may need to be configured",variant:"destructive"});return}const{data:A}=le.storage.from("firm-assets").getPublicUrl(g);u({...d,logoUrl:A.publicUrl}),s({title:"Logo uploaded",description:"Don't forget to save your changes"})}catch(N){s({title:"Upload error",description:N.message||"Failed to upload logo",variant:"destructive"})}finally{l(!1)}}},b=()=>{u({...d,logoUrl:""})},h=async()=>{if(e){n(!0);try{const{error:m}=await le.from("firms").update({settings:{...e.settings,primary_color:d.primaryColor,secondary_color:d.secondaryColor,accent_color:d.accentColor,logo_url:d.logoUrl},updated_at:new Date().toISOString()}).eq("id",e.id);if(m)throw m;s({title:"Branding updated",description:"Your branding settings have been saved successfully"}),r()}catch(m){s({title:"Error",description:m.message||"Failed to save branding settings",variant:"destructive"})}finally{n(!1)}}};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Xj,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV(ue,{children:"Logo"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:155,columnNumber:11},this),t.jsxDEV(Ke,{children:"Upload your organization's logo to appear on reports and emails"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:154,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:t.jsxDEV("div",{className:"flex items-start gap-6",children:[t.jsxDEV("div",{className:"flex-shrink-0",children:t.jsxDEV("div",{className:"w-32 h-32 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted",children:d.logoUrl?t.jsxDEV("img",{src:d.logoUrl,alt:"Organization logo",className:"max-w-full max-h-full object-contain p-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:169,columnNumber:19},this):t.jsxDEV(Xj,{className:"h-12 w-12 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:175,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:167,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:166,columnNumber:13},this),t.jsxDEV("div",{className:"flex-1 space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Recommended: 512x512px PNG with transparent background"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:183,columnNumber:17},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>{var m;return(m=a.current)==null?void 0:m.click()},disabled:o,children:o?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:194,columnNumber:25},this),"Uploading..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:193,columnNumber:23},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:199,columnNumber:25},this),"Upload Logo"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:198,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:187,columnNumber:19},this),d.logoUrl&&t.jsxDEV(F,{variant:"ghost",onClick:b,disabled:o,children:[t.jsxDEV(qn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:210,columnNumber:23},this),"Remove"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:205,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:186,columnNumber:17},this),t.jsxDEV("input",{ref:a,type:"file",accept:"image/*",onChange:c,className:"hidden"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:182,columnNumber:15},this),t.jsxDEV(jr,{children:t.jsxDEV(Ar,{children:"Your logo will appear on engagement letters, reports, and email communications. For best results, use a square image with transparent background."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:225,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:224,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:181,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:164,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:153,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(K1,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:238,columnNumber:13},this),t.jsxDEV(ue,{children:"Color Palette"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:237,columnNumber:11},this),t.jsxDEV(Ke,{children:"Customize the colors used throughout your organization's interface"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:241,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:236,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-3",children:[t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(H,{htmlFor:"primaryColor",children:"Primary Color"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:249,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(ve,{id:"primaryColor",type:"color",value:d.primaryColor,onChange:m=>u({...d,primaryColor:m.target.value}),className:"w-20 h-10 cursor-pointer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:251,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:d.primaryColor,onChange:m=>u({...d,primaryColor:m.target.value}),placeholder:"#3b82f6",className:"font-mono"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:258,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:250,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Used for buttons, links, and primary actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:266,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:248,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(H,{htmlFor:"secondaryColor",children:"Secondary Color"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:273,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(ve,{id:"secondaryColor",type:"color",value:d.secondaryColor,onChange:m=>u({...d,secondaryColor:m.target.value}),className:"w-20 h-10 cursor-pointer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:275,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:d.secondaryColor,onChange:m=>u({...d,secondaryColor:m.target.value}),placeholder:"#10b981",className:"font-mono"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Used for success states and confirmations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:290,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:272,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(H,{htmlFor:"accentColor",children:"Accent Color"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:297,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(ve,{id:"accentColor",type:"color",value:d.accentColor,onChange:m=>u({...d,accentColor:m.target.value}),className:"w-20 h-10 cursor-pointer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:299,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:d.accentColor,onChange:m=>u({...d,accentColor:m.target.value}),placeholder:"#f59e0b",className:"font-mono"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:306,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:298,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Used for highlights and warnings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:314,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:246,columnNumber:11},this),t.jsxDEV("div",{className:"border rounded-lg p-6",children:[t.jsxDEV("h4",{className:"font-medium mb-4",children:"Preview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:322,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV(F,{style:{backgroundColor:d.primaryColor,borderColor:d.primaryColor},children:"Primary Button"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:324,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",style:{color:d.secondaryColor,borderColor:d.secondaryColor},children:"Secondary Button"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:327,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",style:{color:d.accentColor,borderColor:d.accentColor},children:"Accent Button"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:323,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:321,columnNumber:11},this),t.jsxDEV(jr,{children:t.jsxDEV(Ar,{children:"These colors will be applied to your reports, email templates, and client-facing documents. Ensure sufficient contrast for readability."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:343,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:342,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:245,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:235,columnNumber:7},this),t.jsxDEV("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:t.jsxDEV(F,{onClick:h,disabled:i,size:"lg",children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:353,columnNumber:11},this),i?"Saving...":"Save Branding Settings"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:352,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:351,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/BrandingSettings.tsx",lineNumber:151,columnNumber:5},this)}function vz(){const{currentOrg:s,refreshOrganizations:e}=vn(),{toast:r}=Hs(),[a,i]=v.useState(!1),[n,o]=v.useState({email_enabled:!0,email_engagements:!0,email_team_updates:!0,email_client_activity:!0,email_system_updates:!0,email_security_alerts:!0,email_weekly_digest:!1,inapp_enabled:!0,inapp_engagements:!0,inapp_team_updates:!0,inapp_client_activity:!0,inapp_mentions:!0,inapp_comments:!0,push_enabled:!1,push_urgent_only:!0,delivery_frequency:"immediate",quiet_hours_enabled:!1,quiet_hours_start:"22:00",quiet_hours_end:"08:00",sound_enabled:!0});v.useEffect(()=>{var u;(u=s==null?void 0:s.settings)!=null&&u.notifications&&o({...n,...s.settings.notifications})},[s]);const l=async()=>{if(s){i(!0);try{const{error:u}=await le.from("firms").update({settings:{...s.settings,notifications:n},updated_at:new Date().toISOString()}).eq("id",s.id);if(u)throw u;r({title:"Settings saved",description:"Notification preferences have been updated."}),e()}catch(u){r({title:"Error",description:u.message,variant:"destructive"})}finally{i(!1)}}},d=(u,c)=>{o({...n,[u]:c})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:103,columnNumber:13},this),t.jsxDEV(ue,{children:"Email Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:102,columnNumber:11},this),t.jsxDEV(Ke,{children:"Configure which email notifications you want to receive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:101,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_enabled",className:"text-base",children:"Enable Email Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:113,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV(Wr,{id:"email_enabled",checked:n.email_enabled,onCheckedChange:u=>d("email_enabled",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:111,columnNumber:11},this),n.email_enabled&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:127,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_engagements",children:"Engagement Updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:131,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"New engagements, status changes, and deadlines"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:132,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:130,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_engagements",checked:n.email_engagements,onCheckedChange:u=>d("email_engagements",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:129,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_team_updates",children:"Team Activity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:145,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Team member assignments, completions, and updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:146,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:144,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_team_updates",checked:n.email_team_updates,onCheckedChange:u=>d("email_team_updates",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:143,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_client_activity",children:"Client Activity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:159,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Client logins, document uploads, and messages"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:160,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:158,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_client_activity",checked:n.email_client_activity,onCheckedChange:u=>d("email_client_activity",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:164,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:157,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_system_updates",children:"System Updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:173,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Platform updates, new features, and maintenance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:174,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:172,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_system_updates",checked:n.email_system_updates,onCheckedChange:u=>d("email_system_updates",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:171,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_security_alerts",children:"Security Alerts"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:187,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Login attempts, password changes, and security notices"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:188,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:186,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_security_alerts",checked:n.email_security_alerts,onCheckedChange:u=>d("email_security_alerts",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:192,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:185,columnNumber:17},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:199,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"email_weekly_digest",children:"Weekly Digest"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:203,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Receive a weekly summary instead of individual emails"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:204,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:202,columnNumber:19},this),t.jsxDEV(Wr,{id:"email_weekly_digest",checked:n.email_weekly_digest,onCheckedChange:u=>d("email_weekly_digest",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:208,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:110,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:100,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(_k,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:224,columnNumber:13},this),t.jsxDEV(ue,{children:"In-App Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:225,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:223,columnNumber:11},this),t.jsxDEV(Ke,{children:"Manage notifications displayed within the application"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:222,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_enabled",className:"text-base",children:"Enable In-App Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:234,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Show notification bell with alerts in the app"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:233,columnNumber:13},this),t.jsxDEV(Wr,{id:"inapp_enabled",checked:n.inapp_enabled,onCheckedChange:u=>d("inapp_enabled",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:232,columnNumber:11},this),n.inapp_enabled&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:248,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_engagements",children:"Engagement Updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:252,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Updates related to audits and engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:253,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:251,columnNumber:19},this),t.jsxDEV(Wr,{id:"inapp_engagements",checked:n.inapp_engagements,onCheckedChange:u=>d("inapp_engagements",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:257,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:250,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_team_updates",children:"Team Activity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:266,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Team member actions and updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:267,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:265,columnNumber:19},this),t.jsxDEV(Wr,{id:"inapp_team_updates",checked:n.inapp_team_updates,onCheckedChange:u=>d("inapp_team_updates",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:271,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:264,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_client_activity",children:"Client Messages"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:280,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Messages and uploads from clients"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:279,columnNumber:19},this),t.jsxDEV(Wr,{id:"inapp_client_activity",checked:n.inapp_client_activity,onCheckedChange:u=>d("inapp_client_activity",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:285,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:278,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_mentions",children:"Mentions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:294,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"When someone mentions you in comments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:293,columnNumber:19},this),t.jsxDEV(Wr,{id:"inapp_mentions",checked:n.inapp_mentions,onCheckedChange:u=>d("inapp_mentions",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:299,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:292,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"inapp_comments",children:"Comments & Replies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:308,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Replies to your comments and discussions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:309,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:307,columnNumber:19},this),t.jsxDEV(Wr,{id:"inapp_comments",checked:n.inapp_comments,onCheckedChange:u=>d("inapp_comments",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:313,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:306,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:231,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:221,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Mu,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:329,columnNumber:13},this),t.jsxDEV(ue,{children:"Browser Push Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:330,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:328,columnNumber:11},this),t.jsxDEV(Ke,{children:"Receive notifications even when the app is not open"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:332,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:327,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"push_enabled",className:"text-base",children:"Enable Push Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:339,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Get browser notifications for important updates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:338,columnNumber:13},this),t.jsxDEV(Wr,{id:"push_enabled",checked:n.push_enabled,onCheckedChange:u=>d("push_enabled",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:337,columnNumber:11},this),n.push_enabled&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:353,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"push_urgent_only",children:"Urgent Only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:356,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Only receive push notifications for urgent items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:357,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:355,columnNumber:17},this),t.jsxDEV(Wr,{id:"push_urgent_only",checked:n.push_urgent_only,onCheckedChange:u=>d("push_urgent_only",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:361,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:354,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:352,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:336,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:326,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:376,columnNumber:13},this),t.jsxDEV(ue,{children:"Delivery Preferences"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:377,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:375,columnNumber:11},this),t.jsxDEV(Ke,{children:"Control when and how often you receive notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:379,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:374,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"delivery_frequency",children:"Notification Frequency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:385,columnNumber:13},this),t.jsxDEV(is,{value:n.delivery_frequency,onValueChange:u=>d("delivery_frequency",u),children:[t.jsxDEV(rs,{id:"delivery_frequency",children:t.jsxDEV(ns,{placeholder:"Select frequency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:391,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:390,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"immediate",children:"Immediate - As they happen"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:394,columnNumber:17},this),t.jsxDEV(X,{value:"hourly",children:"Hourly Digest"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:395,columnNumber:17},this),t.jsxDEV(X,{value:"daily",children:"Daily Digest (9:00 AM)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:396,columnNumber:17},this),t.jsxDEV(X,{value:"weekly",children:"Weekly Digest (Monday 9:00 AM)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:397,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:393,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:384,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:402,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"quiet_hours_enabled",className:"text-base",children:"Quiet Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:407,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Mute non-urgent notifications during specific hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:408,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:406,columnNumber:15},this),t.jsxDEV(Wr,{id:"quiet_hours_enabled",checked:n.quiet_hours_enabled,onCheckedChange:u=>d("quiet_hours_enabled",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:412,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:405,columnNumber:13},this),n.quiet_hours_enabled&&t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"quiet_hours_start",children:"Start Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:422,columnNumber:19},this),t.jsxDEV(is,{value:n.quiet_hours_start,onValueChange:u=>d("quiet_hours_start",u),children:[t.jsxDEV(rs,{id:"quiet_hours_start",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:428,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:427,columnNumber:21},this),t.jsxDEV(as,{children:Array.from({length:24},(u,c)=>{const b=c.toString().padStart(2,"0");return t.jsxDEV(X,{value:`${b}:00`,children:c===0?"12:00 AM":c<12?`${c}:00 AM`:c===12?"12:00 PM":`${c-12}:00 PM`},b,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:434,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:430,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:423,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:421,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"quiet_hours_end",children:"End Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:444,columnNumber:19},this),t.jsxDEV(is,{value:n.quiet_hours_end,onValueChange:u=>d("quiet_hours_end",u),children:[t.jsxDEV(rs,{id:"quiet_hours_end",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:450,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:449,columnNumber:21},this),t.jsxDEV(as,{children:Array.from({length:24},(u,c)=>{const b=c.toString().padStart(2,"0");return t.jsxDEV(X,{value:`${b}:00`,children:c===0?"12:00 AM":c<12?`${c}:00 AM`:c===12?"12:00 PM":`${c-12}:00 PM`},b,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:456,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:452,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:445,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:420,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:404,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:383,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:373,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(cW,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:474,columnNumber:13},this),t.jsxDEV(ue,{children:"Sound Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:475,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:473,columnNumber:11},this),t.jsxDEV(Ke,{children:"Control notification sounds"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:477,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:472,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-0.5",children:[t.jsxDEV(H,{htmlFor:"sound_enabled",className:"text-base",children:"Notification Sounds"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:484,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Play a sound when you receive a notification"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:485,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:483,columnNumber:13},this),t.jsxDEV(Wr,{id:"sound_enabled",checked:n.sound_enabled,onCheckedChange:u=>d("sound_enabled",u)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:489,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:482,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:481,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:471,columnNumber:7},this),t.jsxDEV("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:t.jsxDEV(F,{onClick:l,disabled:a,size:"lg",children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:501,columnNumber:11},this),a?"Saving...":"Save Notification Settings"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:500,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:499,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/NotificationSettings.tsx",lineNumber:98,columnNumber:5},this)}const Dz=[{value:"none",label:"None (Default)",description:"Standard color scheme"},{value:"protanopia",label:"Protanopia",description:"Red-blind (affects ~1% of males)"},{value:"deuteranopia",label:"Deuteranopia",description:"Green-blind (affects ~1% of males)"},{value:"tritanopia",label:"Tritanopia",description:"Blue-blind (rare, affects ~0.001%)"},{value:"achromatopsia",label:"Achromatopsia",description:"Complete color blindness (monochrome)"}],wz=[{keys:["","K"],description:"Open search"},{keys:["","B"],description:"Toggle sidebar"},{keys:["","Shift","N"],description:"New engagement"},{keys:["","Shift","P"],description:"New procedure"},{keys:["","Shift","F"],description:"New finding"},{keys:["","/"],description:"Show keyboard shortcuts"},{keys:["Esc"],description:"Close dialog"},{keys:["Tab"],description:"Navigate forward"},{keys:["Shift","Tab"],description:"Navigate backward"}];function jz(){const[s,e]=v.useState("none"),[r,a]=v.useState(!1),[i,n]=v.useState(!1),[o,l]=v.useState(!1),[d,u]=v.useState(!0),[c,b]=v.useState(!1),[h,m]=v.useState(!0);v.useEffect(()=>{const N=localStorage.getItem("accessibilitySettings");if(N){const g=JSON.parse(N);e(g.colorBlindMode||"none"),a(g.highContrast||!1),n(g.reducedMotion||!1),l(g.largeText||!1),u(g.keyboardNav??!0),b(g.screenReaderOptimized||!1),m(g.focusIndicators??!0)}f()},[]),v.useEffect(()=>{const N={colorBlindMode:s,highContrast:r,reducedMotion:i,largeText:o,keyboardNav:d,screenReaderOptimized:c,focusIndicators:h};localStorage.setItem("accessibilitySettings",JSON.stringify(N)),f()},[s,r,i,o,d,c,h]);const f=()=>{const N=document.documentElement;N.setAttribute("data-colorblind-mode",s),r?N.classList.add("high-contrast"):N.classList.remove("high-contrast"),i?N.classList.add("reduce-motion"):N.classList.remove("reduce-motion"),o?N.classList.add("large-text"):N.classList.remove("large-text"),h?N.classList.add("enhanced-focus"):N.classList.remove("enhanced-focus"),c?N.classList.add("screen-reader-optimized"):N.classList.remove("screen-reader-optimized")},p=()=>{e("none"),a(!1),n(!1),l(!1),u(!0),b(!1),m(!0)};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(K1,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:179,columnNumber:13},this),"Color Vision"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:178,columnNumber:11},this),t.jsxDEV(Ke,{children:"Adjust colors for color vision deficiencies (color blindness)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:177,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"colorblind-mode",children:"Color Blind Mode"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:188,columnNumber:13},this),t.jsxDEV(is,{value:s,onValueChange:e,children:[t.jsxDEV(rs,{id:"colorblind-mode",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:191,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:190,columnNumber:15},this),t.jsxDEV(as,{children:Dz.map(N=>t.jsxDEV(X,{value:N.value,children:t.jsxDEV("div",{className:"flex flex-col",children:[t.jsxDEV("span",{className:"font-medium",children:N.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:197,columnNumber:23},this),t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:N.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:198,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:196,columnNumber:21},this)},N.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:195,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:187,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"high-contrast",children:"High Contrast Mode"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:210,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Increase contrast between text and background"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:209,columnNumber:13},this),t.jsxDEV(Wr,{id:"high-contrast",checked:r,onCheckedChange:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:215,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:208,columnNumber:11},this),s!=="none"&&t.jsxDEV("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(Dl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:225,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-blue-900 dark:text-blue-100",children:[t.jsxDEV("p",{className:"font-medium mb-1",children:"Color adjustments active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:227,columnNumber:19},this),t.jsxDEV("p",{className:"text-blue-800 dark:text-blue-200",children:"Risk indicators and status badges are using patterns and symbols in addition to colors for better visibility."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:228,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:226,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:224,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:176,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(pn,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:243,columnNumber:13},this),"Visual Preferences"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:242,columnNumber:11},this),t.jsxDEV(Ke,{children:"Adjust visual elements for better readability"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:241,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"large-text",children:"Large Text"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:253,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Increase base font size across the platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:252,columnNumber:13},this),t.jsxDEV(Wr,{id:"large-text",checked:o,onCheckedChange:l},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:251,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"reduced-motion",children:"Reduce Motion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:263,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Minimize animations and transitions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:262,columnNumber:13},this),t.jsxDEV(Wr,{id:"reduced-motion",checked:i,onCheckedChange:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:261,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"focus-indicators",children:"Enhanced Focus Indicators"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:277,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Show prominent outlines when navigating with keyboard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:278,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:276,columnNumber:13},this),t.jsxDEV(Wr,{id:"focus-indicators",checked:h,onCheckedChange:m},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:250,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:240,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(c6,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:295,columnNumber:13},this),"Keyboard Navigation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:294,columnNumber:11},this),t.jsxDEV(Ke,{children:"Navigate the platform using keyboard shortcuts"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:293,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"keyboard-nav",children:"Enable Keyboard Navigation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:305,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Use keyboard shortcuts for common actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:304,columnNumber:13},this),t.jsxDEV(Wr,{id:"keyboard-nav",checked:d,onCheckedChange:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:303,columnNumber:11},this),d&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:315,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium mb-3",children:"Available Shortcuts"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:317,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:wz.map((N,g)=>t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:N.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:321,columnNumber:23},this),t.jsxDEV("div",{className:"flex gap-1",children:N.keys.map((D,w)=>t.jsxDEV("kbd",{className:"px-2 py-1 text-xs bg-muted rounded border",children:D},w,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:324,columnNumber:27},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:322,columnNumber:23},this)]},g,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:320,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:318,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:316,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:302,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:292,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(cW,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:345,columnNumber:13},this),"Screen Reader Support"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:344,columnNumber:11},this),t.jsxDEV(Ke,{children:"Optimize the platform for screen reader users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:348,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:343,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between space-x-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(H,{htmlFor:"screen-reader",children:"Screen Reader Optimizations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:355,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Add extra ARIA labels and announcements for screen readers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:356,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:354,columnNumber:13},this),t.jsxDEV(Wr,{id:"screen-reader",checked:c,onCheckedChange:b},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:360,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:353,columnNumber:11},this),c&&t.jsxDEV("div",{className:"p-3 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(Tu,{className:"h-4 w-4 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:370,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm text-green-900 dark:text-green-100",children:t.jsxDEV("p",{className:"font-medium",children:"Screen reader mode active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:372,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:371,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:369,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:368,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:352,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:342,columnNumber:7},this),t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(F,{variant:"outline",onClick:p,className:"gap-2",children:[t.jsxDEV(oW,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:383,columnNumber:11},this),"Reset to Defaults"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:382,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:381,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/settings/AccessibilitySettings.tsx",lineNumber:174,columnNumber:5},this)}function Az(){const[s,e]=v.useState("organization");return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8",children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV(im,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:21,columnNumber:13},this),t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Organization Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:22,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:20,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage your organization's configuration, team, and preferences"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:24,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:19,columnNumber:9},this),t.jsxDEV(Pr,{value:s,onValueChange:e,className:"space-y-6",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-2 lg:grid-cols-7 gap-2",children:[t.jsxDEV($e,{value:"organization",className:"flex items-center gap-2",children:[t.jsxDEV(fn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:33,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:34,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:32,columnNumber:13},this),t.jsxDEV($e,{value:"team",className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:37,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Team & Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:38,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:36,columnNumber:13},this),t.jsxDEV($e,{value:"roles",className:"flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:41,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:42,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:40,columnNumber:13},this),t.jsxDEV($e,{value:"licenses",className:"flex items-center gap-2",children:[t.jsxDEV(XO,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:45,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Licenses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:44,columnNumber:13},this),t.jsxDEV($e,{value:"branding",className:"flex items-center gap-2",children:[t.jsxDEV(K1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:49,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Branding"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:50,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:48,columnNumber:13},this),t.jsxDEV($e,{value:"notifications",className:"flex items-center gap-2",children:[t.jsxDEV(_k,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:53,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:54,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:52,columnNumber:13},this),t.jsxDEV($e,{value:"accessibility",className:"flex items-center gap-2",children:[t.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:57,columnNumber:15},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Accessibility"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:58,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:31,columnNumber:11},this),t.jsxDEV(es,{value:"organization",children:t.jsxDEV(aI,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:62,columnNumber:11},this),t.jsxDEV(es,{value:"team",children:t.jsxDEV(pz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:67,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:66,columnNumber:11},this),t.jsxDEV(es,{value:"roles",children:t.jsxDEV(kz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:70,columnNumber:11},this),t.jsxDEV(es,{value:"licenses",children:t.jsxDEV(gz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:75,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:74,columnNumber:11},this),t.jsxDEV(es,{value:"branding",children:t.jsxDEV(xz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:79,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:78,columnNumber:11},this),t.jsxDEV(es,{value:"notifications",children:t.jsxDEV(vz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:83,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:82,columnNumber:11},this),t.jsxDEV(es,{value:"accessibility",children:t.jsxDEV(jz,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:87,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:30,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:17,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/Settings.tsx",lineNumber:16,columnNumber:5},this)}var nr;(function(s){s.assertEqual=i=>{};function e(i){}s.assertIs=e;function r(i){throw new Error}s.assertNever=r,s.arrayToEnum=i=>{const n={};for(const o of i)n[o]=o;return n},s.getValidEnumValues=i=>{const n=s.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of n)o[l]=i[l];return s.objectValues(o)},s.objectValues=i=>s.objectKeys(i).map(function(n){return i[n]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.push(o);return n},s.find=(i,n)=>{for(const o of i)if(n(o))return o},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function a(i,n=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(n)}s.joinValues=a,s.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(nr||(nr={}));var sE;(function(s){s.mergeShapes=(e,r)=>({...e,...r})})(sE||(sE={}));const Vs=nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xl=s=>{switch(typeof s){case"undefined":return Vs.undefined;case"string":return Vs.string;case"number":return Number.isNaN(s)?Vs.nan:Vs.number;case"boolean":return Vs.boolean;case"function":return Vs.function;case"bigint":return Vs.bigint;case"symbol":return Vs.symbol;case"object":return Array.isArray(s)?Vs.array:s===null?Vs.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Vs.promise:typeof Map<"u"&&s instanceof Map?Vs.map:typeof Set<"u"&&s instanceof Set?Vs.set:typeof Date<"u"&&s instanceof Date?Vs.date:Vs.object;default:return Vs.unknown}},us=nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(n){return n.message},a={_errors:[]},i=n=>{for(const o of n.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return i(this),a}static assert(e){if(!(e instanceof $i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},a=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];r[n]=r[n]||[],r[n].push(e(i))}else a.push(e(i));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}$i.create=s=>new $i(s);const v0=(s,e)=>{let r;switch(s.code){case us.invalid_type:s.received===Vs.undefined?r="Required":r=`Expected ${s.expected}, received ${s.received}`;break;case us.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(s.expected,nr.jsonStringifyReplacer)}`;break;case us.unrecognized_keys:r=`Unrecognized key(s) in object: ${nr.joinValues(s.keys,", ")}`;break;case us.invalid_union:r="Invalid input";break;case us.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nr.joinValues(s.options)}`;break;case us.invalid_enum_value:r=`Invalid enum value. Expected ${nr.joinValues(s.options)}, received '${s.received}'`;break;case us.invalid_arguments:r="Invalid function arguments";break;case us.invalid_return_type:r="Invalid function return type";break;case us.invalid_date:r="Invalid date";break;case us.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(r=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?r=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?r=`Invalid input: must end with "${s.validation.endsWith}"`:nr.assertNever(s.validation):s.validation!=="regex"?r=`Invalid ${s.validation}`:r="Invalid";break;case us.too_small:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:r="Invalid input";break;case us.too_big:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?r=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:r="Invalid input";break;case us.custom:r="Invalid input";break;case us.invalid_intersection_types:r="Intersection results could not be merged";break;case us.not_multiple_of:r=`Number must be a multiple of ${s.multipleOf}`;break;case us.not_finite:r="Number must be finite";break;default:r=e.defaultError,nr.assertNever(s)}return{message:r}};let Ez=v0;function Pz(){return Ez}const yz=s=>{const{data:e,path:r,errorMaps:a,issueData:i}=s,n=[...r,...i.path||[]],o={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let l="";const d=a.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:e,defaultError:l}).message;return{...i,path:n,message:l}};function ws(s,e){const r=Pz(),a=yz({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,r,r===v0?void 0:v0].filter(i=>!!i)});s.common.issues.push(a)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const a=[];for(const i of r){if(i.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),a.push(i.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){const a=[];for(const i of r){const n=await i.key,o=await i.value;a.push({key:n,value:o})}return gn.mergeObjectSync(e,a)}static mergeObjectSync(e,r){const a={};for(const i of r){const{key:n,value:o}=i;if(n.status==="aborted"||o.status==="aborted")return gt;n.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(a[n.value]=o.value)}return{status:e.value,value:a}}}const gt=Object.freeze({status:"aborted"}),Ob=s=>({status:"dirty",value:s}),Yn=s=>({status:"valid",value:s}),tE=s=>s.status==="aborted",rE=s=>s.status==="dirty",bm=s=>s.status==="valid",fN=s=>typeof Promise<"u"&&s instanceof Promise;var Ls;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ls||(Ls={}));class yd{constructor(e,r,a,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aE=(s,e)=>{if(bm(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $i(s.common.issues);return this._error=r,this._error}}};function zt(s){if(!s)return{};const{errorMap:e,invalid_type_error:r,required_error:a,description:i}=s;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:d}=s;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:d??r??l.defaultError}},description:i}}class ir{get description(){return this._def.description}_getType(e){return Xl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Xl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:Xl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(fN(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xl(e)},i=this._parseSync({data:e,path:a.path,parent:a});return aE(a,i)}"~validate"(e){var a,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xl(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return bm(n)?{value:n.value}:{issues:r.common.issues}}catch(n){(i=(a=n==null?void 0:n.message)==null?void 0:a.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>bm(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xl(e)},i=this._parse({data:e,path:a.path,parent:a}),n=await(fN(i)?i:Promise.resolve(i));return aE(a,n)}refine(e,r){const a=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,n)=>{const o=e(i),l=()=>n.addIssue({code:us.custom,...a(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((a,i)=>e(a)?!0:(i.addIssue(typeof r=="function"?r(a,i):r),!1))}_refinement(e){return new fm({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return pd.create(this,this._def)}nullable(){return pm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lo.create(this)}promise(){return gN.create(this,this._def)}or(e){return NN.create([this,e],this._def)}and(e){return kN.create(this,e,this._def)}transform(e){return new fm({...zt(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new j0({...zt(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new Jz({typeName:xt.ZodBranded,type:this,...zt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new A0({...zt(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return yD.create(this,e)}readonly(){return E0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Oz=/^c[^\s-]{8,}$/i,Wz=/^[0-9a-z]+$/,Uz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_z=/^[a-z0-9_-]{21}$/i,Cz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Sz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ex;const Mz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Iz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,K5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qz=new RegExp(`^${K5}$`);function Q5(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const r=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function $z(s){return new RegExp(`^${Q5(s)}$`)}function Hz(s){let e=`${K5}T${Q5(s)}`;const r=[];return r.push(s.local?"Z?":"Z"),s.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Gz(s,e){return!!((e==="v4"||!e)&&Mz.test(s)||(e==="v6"||!e)&&Iz.test(s))}function Kz(s,e){if(!Cz.test(s))return!1;try{const[r]=s.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(a));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Qz(s,e){return!!((e==="v4"||!e)&&Lz.test(s)||(e==="v6"||!e)&&Fz.test(s))}class dd extends ir{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Vs.string){const n=this._getOrReturnCtx(e);return ws(n,{code:us.invalid_type,expected:Vs.string,received:n.parsedType}),gt}const a=new gn;let i;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(i=this._getOrReturnCtx(e,i),ws(i,{code:us.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="max")e.data.length>n.value&&(i=this._getOrReturnCtx(e,i),ws(i,{code:us.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),a.dirty());else if(n.kind==="length"){const o=e.data.length>n.value,l=e.data.length<n.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?ws(i,{code:us.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):l&&ws(i,{code:us.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),a.dirty())}else if(n.kind==="email")Tz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"email",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="emoji")Ex||(Ex=new RegExp(Rz,"u")),Ex.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"emoji",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="uuid")Vz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"uuid",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="nanoid")_z.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"nanoid",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid")Oz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"cuid",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="cuid2")Wz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"cuid2",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="ulid")Uz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"ulid",code:us.invalid_string,message:n.message}),a.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ws(i,{validation:"url",code:us.invalid_string,message:n.message}),a.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"regex",code:us.invalid_string,message:n.message}),a.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),a.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:{startsWith:n.value},message:n.message}),a.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:{endsWith:n.value},message:n.message}),a.dirty()):n.kind==="datetime"?Hz(n).test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:"datetime",message:n.message}),a.dirty()):n.kind==="date"?qz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:"date",message:n.message}),a.dirty()):n.kind==="time"?$z(n).test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{code:us.invalid_string,validation:"time",message:n.message}),a.dirty()):n.kind==="duration"?Sz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"duration",code:us.invalid_string,message:n.message}),a.dirty()):n.kind==="ip"?Gz(e.data,n.version)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"ip",code:us.invalid_string,message:n.message}),a.dirty()):n.kind==="jwt"?Kz(e.data,n.alg)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"jwt",code:us.invalid_string,message:n.message}),a.dirty()):n.kind==="cidr"?Qz(e.data,n.version)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"cidr",code:us.invalid_string,message:n.message}),a.dirty()):n.kind==="base64"?zz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"base64",code:us.invalid_string,message:n.message}),a.dirty()):n.kind==="base64url"?Bz.test(e.data)||(i=this._getOrReturnCtx(e,i),ws(i,{validation:"base64url",code:us.invalid_string,message:n.message}),a.dirty()):nr.assertNever(n);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(i=>e.test(i),{validation:r,code:us.invalid_string,...Ls.errToObj(a)})}_addCheck(e){return new dd({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ls.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ls.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ls.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ls.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ls.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ls.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ls.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ls.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ls.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ls.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ls.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ls.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ls.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ls.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ls.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ls.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ls.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ls.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ls.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ls.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ls.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ls.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ls.errToObj(r)})}nonempty(e){return this.min(1,Ls.errToObj(e))}trim(){return new dd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}dd.create=s=>new dd({checks:[],typeName:xt.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...zt(s)});function Yz(s,e){const r=(s.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,i=r>a?r:a,n=Number.parseInt(s.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return n%o/10**i}class Nh extends ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Vs.number){const n=this._getOrReturnCtx(e);return ws(n,{code:us.invalid_type,expected:Vs.number,received:n.parsedType}),gt}let a;const i=new gn;for(const n of this._def.checks)n.kind==="int"?nr.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ws(a,{code:us.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?Yz(e.data,n.value)!==0&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ws(a,{code:us.not_finite,message:n.message}),i.dirty()):nr.assertNever(n);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ls.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ls.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ls.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ls.toString(r))}setLimit(e,r,a,i){return new Nh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:Ls.toString(i)}]})}_addCheck(e){return new Nh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ls.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ls.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ls.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ls.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ls.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ls.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ls.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ls.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ls.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Nh.create=s=>new Nh({checks:[],typeName:xt.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...zt(s)});class kh extends ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Vs.bigint)return this._getInvalidInput(e);let a;const i=new gn;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ws(a,{code:us.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):nr.assertNever(n);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ws(r,{code:us.invalid_type,expected:Vs.bigint,received:r.parsedType}),gt}gte(e,r){return this.setLimit("min",e,!0,Ls.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ls.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ls.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ls.toString(r))}setLimit(e,r,a,i){return new kh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:Ls.toString(i)}]})}_addCheck(e){return new kh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ls.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ls.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ls.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ls.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ls.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}kh.create=s=>new kh({checks:[],typeName:xt.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...zt(s)});class D0 extends ir{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Vs.boolean){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.boolean,received:a.parsedType}),gt}return Yn(e.data)}}D0.create=s=>new D0({typeName:xt.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...zt(s)});class pN extends ir{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Vs.date){const n=this._getOrReturnCtx(e);return ws(n,{code:us.invalid_type,expected:Vs.date,received:n.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return ws(n,{code:us.invalid_date}),gt}const a=new gn;let i;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(i=this._getOrReturnCtx(e,i),ws(i,{code:us.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),a.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(i=this._getOrReturnCtx(e,i),ws(i,{code:us.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),a.dirty()):nr.assertNever(n);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pN({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ls.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ls.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}pN.create=s=>new pN({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:xt.ZodDate,...zt(s)});class iE extends ir{_parse(e){if(this._getType(e)!==Vs.symbol){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.symbol,received:a.parsedType}),gt}return Yn(e.data)}}iE.create=s=>new iE({typeName:xt.ZodSymbol,...zt(s)});class nE extends ir{_parse(e){if(this._getType(e)!==Vs.undefined){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.undefined,received:a.parsedType}),gt}return Yn(e.data)}}nE.create=s=>new nE({typeName:xt.ZodUndefined,...zt(s)});class oE extends ir{_parse(e){if(this._getType(e)!==Vs.null){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.null,received:a.parsedType}),gt}return Yn(e.data)}}oE.create=s=>new oE({typeName:xt.ZodNull,...zt(s)});class lE extends ir{constructor(){super(...arguments),this._any=!0}_parse(e){return Yn(e.data)}}lE.create=s=>new lE({typeName:xt.ZodAny,...zt(s)});class dE extends ir{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Yn(e.data)}}dE.create=s=>new dE({typeName:xt.ZodUnknown,...zt(s)});class Od extends ir{_parse(e){const r=this._getOrReturnCtx(e);return ws(r,{code:us.invalid_type,expected:Vs.never,received:r.parsedType}),gt}}Od.create=s=>new Od({typeName:xt.ZodNever,...zt(s)});class uE extends ir{_parse(e){if(this._getType(e)!==Vs.undefined){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.void,received:a.parsedType}),gt}return Yn(e.data)}}uE.create=s=>new uE({typeName:xt.ZodVoid,...zt(s)});class Lo extends ir{_parse(e){const{ctx:r,status:a}=this._processInputParams(e),i=this._def;if(r.parsedType!==Vs.array)return ws(r,{code:us.invalid_type,expected:Vs.array,received:r.parsedType}),gt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(ws(r,{code:o?us.too_big:us.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),a.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ws(r,{code:us.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),a.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ws(r,{code:us.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new yd(r,o,r.path,l)))).then(o=>gn.mergeArray(a,o));const n=[...r.data].map((o,l)=>i.type._parseSync(new yd(r,o,r.path,l)));return gn.mergeArray(a,n)}get element(){return this._def.type}min(e,r){return new Lo({...this._def,minLength:{value:e,message:Ls.toString(r)}})}max(e,r){return new Lo({...this._def,maxLength:{value:e,message:Ls.toString(r)}})}length(e,r){return new Lo({...this._def,exactLength:{value:e,message:Ls.toString(r)}})}nonempty(e){return this.min(1,e)}}Lo.create=(s,e)=>new Lo({type:s,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...zt(e)});function Sc(s){if(s instanceof na){const e={};for(const r in s.shape){const a=s.shape[r];e[r]=pd.create(Sc(a))}return new na({...s._def,shape:()=>e})}else return s instanceof Lo?new Lo({...s._def,type:Sc(s.element)}):s instanceof pd?pd.create(Sc(s.unwrap())):s instanceof pm?pm.create(Sc(s.unwrap())):s instanceof Fu?Fu.create(s.items.map(e=>Sc(e))):s}class na extends ir{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=nr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Vs.object){const u=this._getOrReturnCtx(e);return ws(u,{code:us.invalid_type,expected:Vs.object,received:u.parsedType}),gt}const{status:a,ctx:i}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Od&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const c=n[u],b=i.data[u];d.push({key:{status:"valid",value:u},value:c._parse(new yd(i,b,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Od){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of l)d.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")l.length>0&&(ws(i,{code:us.unrecognized_keys,keys:l}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of l){const b=i.data[c];d.push({key:{status:"valid",value:c},value:u._parse(new yd(i,b,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of d){const b=await c.key,h=await c.value;u.push({key:b,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>gn.mergeObjectSync(a,u)):gn.mergeObjectSync(a,d)}get shape(){return this._def.shape()}strict(e){return Ls.errToObj,new na({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{var n,o;const i=((o=(n=this._def).errorMap)==null?void 0:o.call(n,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:Ls.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new na({...this._def,unknownKeys:"strip"})}passthrough(){return new na({...this._def,unknownKeys:"passthrough"})}extend(e){return new na({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new na({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new na({...this._def,catchall:e})}pick(e){const r={};for(const a of nr.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new na({...this._def,shape:()=>r})}omit(e){const r={};for(const a of nr.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new na({...this._def,shape:()=>r})}deepPartial(){return Sc(this)}partial(e){const r={};for(const a of nr.objectKeys(this.shape)){const i=this.shape[a];e&&!e[a]?r[a]=i:r[a]=i.optional()}return new na({...this._def,shape:()=>r})}required(e){const r={};for(const a of nr.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let n=this.shape[a];for(;n instanceof pd;)n=n._def.innerType;r[a]=n}return new na({...this._def,shape:()=>r})}keyof(){return Y5(nr.objectKeys(this.shape))}}na.create=(s,e)=>new na({shape:()=>s,unknownKeys:"strip",catchall:Od.create(),typeName:xt.ZodObject,...zt(e)});na.strictCreate=(s,e)=>new na({shape:()=>s,unknownKeys:"strict",catchall:Od.create(),typeName:xt.ZodObject,...zt(e)});na.lazycreate=(s,e)=>new na({shape:s,unknownKeys:"strip",catchall:Od.create(),typeName:xt.ZodObject,...zt(e)});class NN extends ir{_parse(e){const{ctx:r}=this._processInputParams(e),a=this._def.options;function i(n){for(const l of n)if(l.result.status==="valid")return l.result;for(const l of n)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=n.map(l=>new $i(l.ctx.common.issues));return ws(r,{code:us.invalid_union,unionErrors:o}),gt}if(r.common.async)return Promise.all(a.map(async n=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await n._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let n;const o=[];for(const d of a){const u={...r,common:{...r.common,issues:[]},parent:null},c=d._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!n&&(n={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(n)return r.common.issues.push(...n.ctx.common.issues),n.result;const l=o.map(d=>new $i(d));return ws(r,{code:us.invalid_union,unionErrors:l}),gt}}get options(){return this._def.options}}NN.create=(s,e)=>new NN({options:s,typeName:xt.ZodUnion,...zt(e)});function w0(s,e){const r=Xl(s),a=Xl(e);if(s===e)return{valid:!0,data:s};if(r===Vs.object&&a===Vs.object){const i=nr.objectKeys(e),n=nr.objectKeys(s).filter(l=>i.indexOf(l)!==-1),o={...s,...e};for(const l of n){const d=w0(s[l],e[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===Vs.array&&a===Vs.array){if(s.length!==e.length)return{valid:!1};const i=[];for(let n=0;n<s.length;n++){const o=s[n],l=e[n],d=w0(o,l);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===Vs.date&&a===Vs.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class kN extends ir{_parse(e){const{status:r,ctx:a}=this._processInputParams(e),i=(n,o)=>{if(tE(n)||tE(o))return gt;const l=w0(n.value,o.value);return l.valid?((rE(n)||rE(o))&&r.dirty(),{status:r.value,value:l.data}):(ws(a,{code:us.invalid_intersection_types}),gt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([n,o])=>i(n,o)):i(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}kN.create=(s,e,r)=>new kN({left:s,right:e,typeName:xt.ZodIntersection,...zt(r)});class Fu extends ir{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==Vs.array)return ws(a,{code:us.invalid_type,expected:Vs.array,received:a.parsedType}),gt;if(a.data.length<this._def.items.length)return ws(a,{code:us.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&a.data.length>this._def.items.length&&(ws(a,{code:us.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...a.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new yd(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(n).then(o=>gn.mergeArray(r,o)):gn.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new Fu({...this._def,rest:e})}}Fu.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fu({items:s,typeName:xt.ZodTuple,rest:null,...zt(e)})};class cE extends ir{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==Vs.map)return ws(a,{code:us.invalid_type,expected:Vs.map,received:a.parsedType}),gt;const i=this._def.keyType,n=this._def.valueType,o=[...a.data.entries()].map(([l,d],u)=>({key:i._parse(new yd(a,l,a.path,[u,"key"])),value:n._parse(new yd(a,d,a.path,[u,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,c=await d.value;if(u.status==="aborted"||c.status==="aborted")return gt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),l.set(u.value,c.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,c=d.value;if(u.status==="aborted"||c.status==="aborted")return gt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),l.set(u.value,c.value)}return{status:r.value,value:l}}}}cE.create=(s,e,r)=>new cE({valueType:e,keyType:s,typeName:xt.ZodMap,...zt(r)});class gh extends ir{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==Vs.set)return ws(a,{code:us.invalid_type,expected:Vs.set,received:a.parsedType}),gt;const i=this._def;i.minSize!==null&&a.data.size<i.minSize.value&&(ws(a,{code:us.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&a.data.size>i.maxSize.value&&(ws(a,{code:us.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const n=this._def.valueType;function o(d){const u=new Set;for(const c of d){if(c.status==="aborted")return gt;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const l=[...a.data.values()].map((d,u)=>n._parse(new yd(a,d,a.path,u)));return a.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(e,r){return new gh({...this._def,minSize:{value:e,message:Ls.toString(r)}})}max(e,r){return new gh({...this._def,maxSize:{value:e,message:Ls.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}gh.create=(s,e)=>new gh({valueType:s,minSize:null,maxSize:null,typeName:xt.ZodSet,...zt(e)});class mE extends ir{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}mE.create=(s,e)=>new mE({getter:s,typeName:xt.ZodLazy,...zt(e)});class bE extends ir{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ws(r,{received:r.data,code:us.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}bE.create=(s,e)=>new bE({value:s,typeName:xt.ZodLiteral,...zt(e)});function Y5(s,e){return new hm({values:s,typeName:xt.ZodEnum,...zt(e)})}class hm extends ir{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),a=this._def.values;return ws(r,{expected:nr.joinValues(a),received:r.parsedType,code:us.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),a=this._def.values;return ws(r,{received:r.data,code:us.invalid_enum_value,options:a}),gt}return Yn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return hm.create(e,{...this._def,...r})}exclude(e,r=this._def){return hm.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}}hm.create=Y5;class hE extends ir{_parse(e){const r=nr.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==Vs.string&&a.parsedType!==Vs.number){const i=nr.objectValues(r);return ws(a,{expected:nr.joinValues(i),received:a.parsedType,code:us.invalid_type}),gt}if(this._cache||(this._cache=new Set(nr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=nr.objectValues(r);return ws(a,{received:a.data,code:us.invalid_enum_value,options:i}),gt}return Yn(e.data)}get enum(){return this._def.values}}hE.create=(s,e)=>new hE({values:s,typeName:xt.ZodNativeEnum,...zt(e)});class gN extends ir{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Vs.promise&&r.common.async===!1)return ws(r,{code:us.invalid_type,expected:Vs.promise,received:r.parsedType}),gt;const a=r.parsedType===Vs.promise?r.data:Promise.resolve(r.data);return Yn(a.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gN.create=(s,e)=>new gN({type:s,typeName:xt.ZodPromise,...zt(e)});class fm extends ir{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:a}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:o=>{ws(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const o=i.transform(a.data,n);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return gt;const d=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return d.status==="aborted"?gt:d.status==="dirty"||r.value==="dirty"?Ob(d.value):d});{if(r.value==="aborted")return gt;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?gt:l.status==="dirty"||r.value==="dirty"?Ob(l.value):l}}if(i.type==="refinement"){const o=l=>{const d=i.refinement(l,n);if(a.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?gt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?gt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!bm(o))return gt;const l=i.transform(o.value,n);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>bm(o)?Promise.resolve(i.transform(o.value,n)).then(l=>({status:r.value,value:l})):gt);nr.assertNever(i)}}fm.create=(s,e,r)=>new fm({schema:s,typeName:xt.ZodEffects,effect:e,...zt(r)});fm.createWithPreprocess=(s,e,r)=>new fm({schema:e,effect:{type:"preprocess",transform:s},typeName:xt.ZodEffects,...zt(r)});class pd extends ir{_parse(e){return this._getType(e)===Vs.undefined?Yn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pd.create=(s,e)=>new pd({innerType:s,typeName:xt.ZodOptional,...zt(e)});class pm extends ir{_parse(e){return this._getType(e)===Vs.null?Yn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pm.create=(s,e)=>new pm({innerType:s,typeName:xt.ZodNullable,...zt(e)});class j0 extends ir{_parse(e){const{ctx:r}=this._processInputParams(e);let a=r.data;return r.parsedType===Vs.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}j0.create=(s,e)=>new j0({innerType:s,typeName:xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zt(e)});class A0 extends ir{_parse(e){const{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return fN(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new $i(a.common.issues)},input:a.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $i(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}A0.create=(s,e)=>new A0({innerType:s,typeName:xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zt(e)});class fE extends ir{_parse(e){if(this._getType(e)!==Vs.nan){const a=this._getOrReturnCtx(e);return ws(a,{code:us.invalid_type,expected:Vs.nan,received:a.parsedType}),gt}return{status:"valid",value:e.data}}}fE.create=s=>new fE({typeName:xt.ZodNaN,...zt(s)});class Jz extends ir{_parse(e){const{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class yD extends ir{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?gt:n.status==="dirty"?(r.dirty(),Ob(n.value)):this._def.out._parseAsync({data:n.value,path:a.path,parent:a})})();{const i=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?gt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:a.path,parent:a})}}static create(e,r){return new yD({in:e,out:r,typeName:xt.ZodPipeline})}}class E0 extends ir{_parse(e){const r=this._def.innerType._parse(e),a=i=>(bm(i)&&(i.value=Object.freeze(i.value)),i);return fN(r)?r.then(i=>a(i)):a(r)}unwrap(){return this._def.innerType}}E0.create=(s,e)=>new E0({innerType:s,typeName:xt.ZodReadonly,...zt(e)});na.lazycreate;var xt;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(xt||(xt={}));const ur=dd.create,pE=D0.create;Od.create;const Zz=Lo.create,sc=na.create;na.strictCreate;NN.create;kN.create;Fu.create;const Xz=hm.create;gN.create;pd.create;pm.create;sc({email:ur().email("Invalid email address"),password:ur().min(6,"Password must be at least 6 characters")});function eB(){const[s,e]=v.useState(""),[r,a]=v.useState(""),[i,n]=v.useState(!1);ar();const{toast:o}=Hs(),l=Qt(),d=async u=>{u.preventDefault(),n(!0),o({title:"Demo Mode",description:"Entering demo mode - no authentication required."}),setTimeout(()=>{n(!1),l("/dashboard")},500)};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Login | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:86,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:85,columnNumber:7},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:89,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-6",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700 shadow-[0_0_50px_rgba(0,0,0,0.8)]",children:[t.jsxDEV(oe,{className:"space-y-6 border-b-2 border-slate-700",children:[t.jsxDEV("div",{className:"flex items-center justify-center",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-10 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(ue,{className:"text-2xl text-center font-semibold tracking-tight text-white",children:"Welcome Back"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:99,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-base text-slate-300",children:"Enter your credentials to access your account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV(q,{className:"p-8",children:t.jsxDEV("form",{onSubmit:d,className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:110,columnNumber:17},this),t.jsxDEV(ve,{id:"email",type:"email",placeholder:"name@company.com",value:s,onChange:u=>e(u.target.value),required:!0,disabled:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:109,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:122,columnNumber:17},this),t.jsxDEV(ve,{id:"password",type:"password",value:r,onChange:u=>a(u.target.value),required:!0,disabled:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:123,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:121,columnNumber:15},this),t.jsxDEV(F,{type:"submit",className:"w-full h-11 font-medium",disabled:i,children:i?"Signing in...":"Sign In"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:108,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(lm,{className:"flex flex-col space-y-3 border-t-2 border-slate-700 bg-slate-800/50 p-6",children:[t.jsxDEV(Ed,{to:"/auth/forgot-password",className:"text-sm text-slate-300 hover:text-primary transition-colors font-medium",children:"Forgot your password?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:138,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-slate-300",children:"Need access? Contact your firm administrator for an invitation."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:92,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:91,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Login.tsx",lineNumber:84,columnNumber:5},this)}function sB(){const[s,e]=v.useState(""),[r,a]=v.useState(!1),[i,n]=v.useState(!1),{toast:o}=Hs(),l=async d=>{d.preventDefault(),a(!0);const{error:u}=await le.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/auth/reset-password`});u?o({title:"Error",description:u.message,variant:"destructive"}):(n(!0),o({title:"Check your email",description:"We sent you a password reset link."})),a(!1)};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Forgot Password | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:47,columnNumber:7},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:51,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-6",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700 shadow-[0_0_50px_rgba(0,0,0,0.8)]",children:[t.jsxDEV(oe,{className:"space-y-6 border-b-2 border-slate-700",children:[t.jsxDEV("div",{className:"flex items-center justify-center",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-10 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:58,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:57,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(ue,{className:"text-2xl text-center font-semibold tracking-tight text-white",children:"Reset Password"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:61,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-base text-slate-300",children:i?"Check your email for the reset link":"Enter your email to receive a reset link"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:55,columnNumber:11},this),!i&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(q,{className:"p-8",children:t.jsxDEV("form",{onSubmit:l,className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:76,columnNumber:21},this),t.jsxDEV(ve,{id:"email",type:"email",placeholder:"name@company.com",value:s,onChange:d=>e(d.target.value),required:!0,disabled:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:77,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:75,columnNumber:19},this),t.jsxDEV(F,{type:"submit",className:"w-full h-11 font-medium",disabled:r,children:r?"Sending...":"Send Reset Link"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:87,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:74,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:73,columnNumber:15},this),t.jsxDEV(lm,{className:"border-t-2 border-slate-700 bg-slate-800/50 p-6",children:t.jsxDEV(Ed,{to:"/auth/login",className:"text-sm text-slate-300 hover:text-primary transition-colors w-full text-center font-medium",children:"Back to login"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:93,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:72,columnNumber:13},this),i&&t.jsxDEV(lm,{className:"flex flex-col space-y-3 border-t-2 border-slate-700 bg-slate-800/50 p-6",children:t.jsxDEV(Ed,{to:"/auth/login",className:"w-full",children:t.jsxDEV(F,{className:"w-full h-11 font-medium",children:"Return to Login"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:102,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:101,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:53,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/ForgotPassword.tsx",lineNumber:46,columnNumber:5},this)}const tB=sc({password:ur().min(8,"Password must be at least 8 characters"),confirmPassword:ur(),firstName:ur().optional(),lastName:ur().optional()}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function rB(){const{token:s}=Al(),e=Qt(),{toast:r}=Hs(),[a,i]=v.useState(!0),[n,o]=v.useState(!1),[l,d]=v.useState(null),[u,c]=v.useState(null),[b,h]=v.useState({firstName:"",lastName:"",password:"",confirmPassword:""});v.useEffect(()=>{m()},[s]);const m=async()=>{try{i(!0);const{data:p,error:N}=await le.rpc("get_invitation_details",{p_token:s});if(N)throw N;if(!p.success){c(p.error||"Invalid invitation");return}if(p.is_expired){c("This invitation has expired");return}if(p.is_accepted){c("This invitation has already been accepted");return}d(p),h({firstName:p.first_name||"",lastName:p.last_name||"",password:"",confirmPassword:""})}catch(p){c(p.message||"Failed to load invitation")}finally{i(!1)}},f=async p=>{p.preventDefault();try{tB.parse(b),o(!0);const{data:N,error:g}=await le.auth.signUp({email:l.email,password:b.password,options:{data:{first_name:b.firstName||l.first_name,last_name:b.lastName||l.last_name}}});if(g)throw g;await new Promise(A=>setTimeout(A,500));const{data:D,error:w}=await le.rpc("accept_employee_invitation",{p_token:s,p_password:b.password,p_first_name:b.firstName||l.first_name||null,p_last_name:b.lastName||l.last_name||null});if(w)throw w;if(!D.success)throw new Error(D.error||"Failed to accept invitation");r({title:"Welcome to the team!",description:`You've successfully joined ${l.firm_name}`}),e("/dashboard")}catch(N){N instanceof $i?r({title:"Validation Error",description:N.errors[0].message,variant:"destructive"}):r({title:"Error",description:N.message||"Failed to accept invitation",variant:"destructive"})}finally{o(!1)}};return a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Loading Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:157,columnNumber:9},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:160,columnNumber:9},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxDEV(B,{className:"w-full max-w-md",children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex flex-col items-center justify-center space-y-4",children:[t.jsxDEV(oi,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:165,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading invitation..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:163,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:162,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:161,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:156,columnNumber:7},this):u?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Invalid Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:179,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:178,columnNumber:9},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:181,columnNumber:9},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxDEV(B,{className:"w-full max-w-md",children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center justify-center mb-4",children:t.jsxDEV(Ys,{className:"h-12 w-12 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:186,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:185,columnNumber:15},this),t.jsxDEV(ue,{className:"text-center",children:"Invalid Invitation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:188,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center",children:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:184,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV(F,{onClick:()=>e("/auth/login"),className:"w-full",children:"Go to Login"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:177,columnNumber:7},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Accept Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:210,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:209,columnNumber:7},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:213,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-6",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700 shadow-[0_0_50px_rgba(0,0,0,0.8)]",children:[t.jsxDEV(oe,{className:"space-y-6 border-b-2 border-slate-700",children:[t.jsxDEV("div",{className:"flex items-center justify-center",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-10 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:220,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(ue,{className:"text-2xl text-center font-semibold tracking-tight text-white",children:"You've Been Invited!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:223,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-base text-slate-200",children:["Join ",t.jsxDEV("span",{className:"font-bold text-primary",children:l.firm_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:227,columnNumber:22},this)," as"," ",t.jsxDEV("span",{className:"font-bold text-primary capitalize",children:l.role.replace(/_/g," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:228,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:217,columnNumber:11},this),t.jsxDEV(q,{className:"p-8",children:t.jsxDEV("form",{onSubmit:f,className:"space-y-6",children:[t.jsxDEV("div",{className:"bg-slate-800 border-2 border-slate-700 p-5 space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:237,columnNumber:19},this),t.jsxDEV("span",{className:"text-sm font-bold text-white",children:"Invitation Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:238,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:236,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm space-y-1 pl-7",children:[t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Email:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:242,columnNumber:21},this)," ",t.jsxDEV("span",{className:"font-semibold text-white",children:l.email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:243,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:241,columnNumber:19},this),t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Role:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:246,columnNumber:21},this)," ",t.jsxDEV("span",{className:"font-semibold text-white capitalize",children:l.role.replace(/_/g," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:247,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:245,columnNumber:19},this),l.department&&t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Department:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:253,columnNumber:23},this)," ",t.jsxDEV("span",{className:"font-semibold text-white",children:l.department},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:254,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:235,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:262,columnNumber:19},this),t.jsxDEV(ve,{id:"firstName",value:b.firstName,onChange:p=>h({...b,firstName:p.target.value}),disabled:n,placeholder:"John"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:263,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:261,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:274,columnNumber:19},this),t.jsxDEV(ve,{id:"lastName",value:b.lastName,onChange:p=>h({...b,lastName:p.target.value}),disabled:n,placeholder:"Smith"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:273,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:260,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"password",children:["Create Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:289,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:288,columnNumber:17},this),t.jsxDEV(ve,{id:"password",type:"password",value:b.password,onChange:p=>h({...b,password:p.target.value}),required:!0,disabled:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:291,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:287,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"confirmPassword",children:["Confirm Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:308,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:307,columnNumber:17},this),t.jsxDEV(ve,{id:"confirmPassword",type:"password",value:b.confirmPassword,onChange:p=>h({...b,confirmPassword:p.target.value}),required:!0,disabled:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:306,columnNumber:15},this),t.jsxDEV(F,{type:"submit",className:"w-full h-11 font-medium",disabled:n,children:n?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:325,columnNumber:21},this),"Joining ",l.firm_name,"..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:324,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ks,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:330,columnNumber:21},this),"Accept & Create Account"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:329,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:233,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:216,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:215,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptInvitation.tsx",lineNumber:208,columnNumber:5},this)}const aB=sc({password:ur().min(12,"Password must be at least 12 characters"),confirmPassword:ur()}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function iB(){const{token:s}=Al(),e=Qt(),{toast:r}=Hs(),[a,i]=v.useState(!0),[n,o]=v.useState(!1),[l,d]=v.useState(null),[u,c]=v.useState(null),[b,h]=v.useState(""),[m,f]=v.useState("");v.useEffect(()=>{p()},[s]);const p=async()=>{try{i(!0);const{data:g,error:D}=await le.rpc("get_firm_invitation_details",{p_token:s});if(D)throw D;if(!g.success){c(g.error||"Invalid invitation");return}d(g)}catch(g){c(g.message||"Failed to load invitation")}finally{i(!1)}},N=async g=>{var D;g.preventDefault();try{aB.parse({password:b,confirmPassword:m}),o(!0);const{data:w,error:A}=await le.auth.signUp({email:l.admin_email,password:b,options:{data:{first_name:l.admin_first_name,last_name:l.admin_last_name}}});if(A)throw A;const U=(D=w.user)==null?void 0:D.id;if(!U)throw new Error("User creation failed");const{error:E}=await le.rpc("confirm_invited_user_email",{p_user_id:U});E&&console.error("Failed to auto-confirm email:",E),await new Promise(S=>setTimeout(S,1e3));const{data:W,error:y}=await le.rpc("complete_firm_administrator_signup",{p_user_id:U,p_firm_name:l.firm_name,p_firm_type:l.firm_type,p_country:"",p_city:"",p_specializations:[],p_first_name:l.admin_first_name||"",p_last_name:l.admin_last_name||"",p_email:l.admin_email,p_job_title:l.admin_job_title||"Managing Partner",p_phone:""});if(y||W&&!W.success)throw new Error((W==null?void 0:W.error)||(y==null?void 0:y.message)||"Firm creation failed");const{error:V}=await le.rpc("mark_firm_invitation_accepted",{p_token:s,p_firm_id:W.firm_id});V&&console.error("Failed to mark invitation as accepted:",V),r({title:"Welcome to Obsidian!",description:`${l.firm_name} has been successfully set up.`}),e("/dashboard")}catch(w){w instanceof $i?r({title:"Validation Error",description:w.errors[0].message,variant:"destructive"}):r({title:"Error",description:w.message||"Failed to accept invitation",variant:"destructive"})}finally{o(!1)}};return a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Loading Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:163,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:162,columnNumber:9},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:165,columnNumber:9},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700",children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex flex-col items-center justify-center space-y-4",children:[t.jsxDEV(oi,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:170,columnNumber:17},this),t.jsxDEV("p",{className:"text-slate-300",children:"Loading invitation..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:168,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:161,columnNumber:7},this):u?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Invalid Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:184,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:183,columnNumber:9},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:186,columnNumber:9},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700",children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center justify-center mb-4",children:t.jsxDEV(Ys,{className:"h-12 w-12 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:191,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:190,columnNumber:15},this),t.jsxDEV(ue,{className:"text-center text-white",children:"Invalid Invitation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:193,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-slate-300",children:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV(F,{onClick:()=>e("/auth/login"),className:"w-full",children:"Go to Login"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:199,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:188,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:182,columnNumber:7},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Accept Firm Invitation | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:215,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:214,columnNumber:7},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:218,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-6",children:t.jsxDEV(B,{className:"w-full max-w-md bg-slate-900 border-2 border-slate-700 shadow-[0_0_50px_rgba(0,0,0,0.8)]",children:[t.jsxDEV(oe,{className:"space-y-6 border-b-2 border-slate-700",children:[t.jsxDEV("div",{className:"flex items-center justify-center",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-12 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:225,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:224,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(ue,{className:"text-2xl text-center font-semibold tracking-tight text-white",children:"You've Been Invited!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:229,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-base text-slate-200",children:["Set up your firm administrator account for"," ",t.jsxDEV("span",{className:"font-bold text-primary",children:l.firm_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:234,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:222,columnNumber:11},this),t.jsxDEV(q,{className:"p-8",children:t.jsxDEV("form",{onSubmit:N,className:"space-y-6",children:[t.jsxDEV("div",{className:"bg-slate-800 border-2 border-slate-700 p-5 space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(fn,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:243,columnNumber:19},this),t.jsxDEV("span",{className:"text-sm font-bold text-white",children:"Firm Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:244,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:242,columnNumber:17},this),t.jsxDEV("div",{className:"text-sm space-y-1 pl-7",children:[t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Firm Name:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:248,columnNumber:21},this)," ",t.jsxDEV("span",{className:"font-semibold text-white",children:l.firm_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:249,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:247,columnNumber:19},this),t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Your Email:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:252,columnNumber:21},this)," ",t.jsxDEV("span",{className:"font-semibold text-white",children:l.admin_email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:253,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:251,columnNumber:19},this),t.jsxDEV("p",{children:[t.jsxDEV("span",{className:"text-slate-300",children:"Your Role:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:256,columnNumber:21},this)," ",t.jsxDEV("span",{className:"font-semibold text-white",children:"Firm Administrator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:257,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:255,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:246,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:241,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"password",children:["Create Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:264,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:263,columnNumber:17},this),t.jsxDEV(ve,{id:"password",type:"password",value:b,onChange:g=>h(g.target.value),required:!0,disabled:n,placeholder:"Min. 12 characters"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:266,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-slate-400",children:"Must be at least 12 characters for security"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:262,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"confirmPassword",children:["Confirm Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:282,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:281,columnNumber:17},this),t.jsxDEV(ve,{id:"confirmPassword",type:"password",value:m,onChange:g=>f(g.target.value),required:!0,disabled:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:284,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:280,columnNumber:15},this),t.jsxDEV(F,{type:"submit",className:"w-full h-11 font-medium",disabled:n,children:n?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:297,columnNumber:21},this),"Setting up ",l.firm_name,"..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:296,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ks,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:302,columnNumber:21},this),"Accept & Create Account"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:301,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:239,columnNumber:11},this),t.jsxDEV("div",{className:"border-t-2 border-slate-700 bg-slate-800/50 p-6",children:t.jsxDEV("p",{className:"text-sm text-center text-slate-300",children:["Already have an account?"," ",t.jsxDEV(Ed,{to:"/auth/login",className:"text-primary hover:text-primary/90 transition-colors font-semibold",children:"Sign in"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:313,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:311,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:221,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:220,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/AcceptFirmInvitation.tsx",lineNumber:213,columnNumber:5},this)}const nB=sc({firmName:ur().min(2,"Firm name must be at least 2 characters"),firmType:Xz(["solo","small","regional","national","international"],{required_error:"Please select a firm type"}),country:ur().min(1,"Country is required"),city:ur().min(1,"City is required"),practicingSince:ur().optional(),partnerCount:ur().optional(),staffCount:ur().optional(),specializations:Zz(ur()).min(1,"Select at least one specialization")}),oB=sc({firstName:ur().min(1,"First name is required"),lastName:ur().min(1,"Last name is required"),email:ur().email("Invalid email address"),jobTitle:ur().min(1,"Job title is required"),phone:ur().min(1,"Phone number is required"),password:ur().min(8,"Password must be at least 8 characters"),confirmPassword:ur()}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),lB=sc({primaryUseCase:ur().optional(),expectedTeamSize:ur().optional(),agreeToTerms:pE().refine(s=>s===!0,{message:"You must agree to the terms and conditions"}),agreeToPrivacy:pE().refine(s=>s===!0,{message:"You must agree to the privacy policy"})}),dB=["Financial Auditing","IT Auditing","Internal Auditing","Compliance","Risk Management","Forensic Auditing","Operational Auditing","Quality Assurance"],NE=[{value:"solo",label:"Solo Practice"},{value:"small",label:"Small Firm (2-10)"},{value:"regional",label:"Regional Firm (11-50)"},{value:"national",label:"National Firm (51-200)"},{value:"international",label:"International Firm (200+)"}],uB=["Managing Partner","Partner","Practice Leader","Engagement Manager","Senior Auditor","IT Manager","Director","Other"],cB=["Audit planning & execution","Risk assessment","Compliance management","Quality control","Client collaboration","All of the above"];function mB(){var D,w;const[s,e]=v.useState(1),[r,a]=v.useState(!1);ar();const{toast:i}=Hs(),n=Qt(),[o,l]=v.useState({specializations:[]}),[d,u]=v.useState({}),[c,b]=v.useState({agreeToTerms:!1,agreeToPrivacy:!1}),h=3,m=s/h*100,f=async()=>{try{s===1?nB.parse(o):s===2&&oB.parse(d),e(s+1)}catch(A){A instanceof $i&&i({title:"Validation Error",description:A.errors[0].message,variant:"destructive"})}},p=()=>{e(s-1)},N=async()=>{var A;try{lB.parse(c),a(!0);const{data:U,error:E}=await le.auth.signUp({email:d.email,password:d.password,options:{data:{first_name:d.firstName,last_name:d.lastName}}});if(E)throw E;const W=(A=U.user)==null?void 0:A.id;if(!W)throw new Error("User creation failed");await new Promise(S=>setTimeout(S,1e3));const{data:y,error:V}=await le.rpc("complete_firm_administrator_signup",{p_user_id:W,p_firm_name:o.firmName,p_firm_type:o.firmType,p_country:o.country,p_city:o.city,p_specializations:o.specializations,p_first_name:d.firstName,p_last_name:d.lastName,p_email:d.email,p_job_title:d.jobTitle,p_phone:d.phone,p_partner_count:o.partnerCount?parseInt(o.partnerCount):0,p_staff_count:o.staffCount?parseInt(o.staffCount):0,p_practicing_since:o.practicingSince?new Date(o.practicingSince).toISOString():null,p_primary_use_case:c.primaryUseCase||null,p_expected_team_size:c.expectedTeamSize||null});if(V||y&&!y.success)throw new Error((y==null?void 0:y.error)||(V==null?void 0:V.message)||"Firm creation failed");i({title:"Welcome to Obsidian!",description:"Your account has been created successfully."}),n("/dashboard")}catch(U){U instanceof $i?i({title:"Validation Error",description:U.errors[0].message,variant:"destructive"}):i({title:"Registration Failed",description:U.message||"An error occurred during registration",variant:"destructive"})}finally{a(!1)}},g=A=>{const U=o.specializations||[];U.includes(A)?l({...o,specializations:U.filter(E=>E!==A)}):l({...o,specializations:[...U,A]})};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Rn,{children:t.jsxDEV("title",{children:"Firm Administrator Signup | Obsidian Platform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:241,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:240,columnNumber:7},this),t.jsxDEV(Mo,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:244,columnNumber:7},this),t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-6",children:t.jsxDEV(B,{className:"w-full max-w-4xl bg-slate-900 border-2 border-slate-700 shadow-[0_0_50px_rgba(0,0,0,0.8)]",children:[t.jsxDEV(oe,{className:"space-y-6 border-b-2 border-slate-700 pb-8",children:[t.jsxDEV("div",{className:"flex items-center justify-center",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-12 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:251,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:250,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(ue,{className:"text-3xl text-center font-semibold tracking-tight text-white",children:"Create Your Firm Account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:255,columnNumber:15},this),t.jsxDEV(Ke,{className:"text-center text-base text-slate-300",children:"For firm owners and administrators only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:254,columnNumber:13},this),t.jsxDEV("div",{className:"bg-slate-800 border-2 border-slate-700 p-4",children:t.jsxDEV("p",{className:"text-sm text-slate-200 text-center leading-relaxed",children:[t.jsxDEV("span",{className:"font-semibold text-white",children:"Note:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:264,columnNumber:17},this)," This signup creates a new firm account. Firm employees should be invited by their administrator."," ",t.jsxDEV(Ed,{to:"/auth/login",className:"text-primary hover:text-primary/90 transition-colors font-semibold",children:"Already have an account?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:263,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:262,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(cr,{value:m,className:"h-1.5 bg-slate-800"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[t.jsxDEV("span",{children:["Step ",s," of ",h]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:276,columnNumber:17},this),t.jsxDEV("span",{children:[Math.round(m),"% Complete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:277,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:273,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-between items-center px-8",children:[t.jsxDEV("div",{className:"flex flex-col items-center flex-1 gap-3",children:[t.jsxDEV("div",{className:`w-11 h-11 rounded-full flex items-center justify-center transition-all ${s>=1?"bg-primary/20 text-primary border-2 border-primary":"bg-slate-800/50 text-slate-600 border-2 border-slate-700/50"}`,children:s>1?t.jsxDEV(Ks,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:291,columnNumber:31},this):t.jsxDEV(fn,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:291,columnNumber:70},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:284,columnNumber:17},this),t.jsxDEV("span",{className:`text-xs font-medium ${s>=1?"text-slate-200":"text-slate-500"}`,children:"Firm Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:293,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:283,columnNumber:15},this),t.jsxDEV("div",{className:`flex-1 h-px mx-4 transition-colors ${s>=2?"bg-primary/50":"bg-slate-700/50"}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:297,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col items-center flex-1 gap-3",children:[t.jsxDEV("div",{className:`w-11 h-11 rounded-full flex items-center justify-center transition-all ${s>=2?"bg-primary/20 text-primary border-2 border-primary":"bg-slate-800/50 text-slate-600 border-2 border-slate-700/50"}`,children:s>2?t.jsxDEV(Ks,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:306,columnNumber:31},this):t.jsxDEV(wl,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:306,columnNumber:70},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:299,columnNumber:17},this),t.jsxDEV("span",{className:`text-xs font-medium ${s>=2?"text-slate-200":"text-slate-500"}`,children:"Admin User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:308,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:298,columnNumber:15},this),t.jsxDEV("div",{className:`flex-1 h-px mx-4 transition-colors ${s>=3?"bg-primary/50":"bg-slate-700/50"}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:312,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col items-center flex-1 gap-3",children:[t.jsxDEV("div",{className:`w-11 h-11 rounded-full flex items-center justify-center transition-all ${s>=3?"bg-primary/20 text-primary border-2 border-primary":"bg-slate-800/50 text-slate-600 border-2 border-slate-700/50"}`,children:t.jsxDEV(vl,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:321,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:314,columnNumber:17},this),t.jsxDEV("span",{className:`text-xs font-medium ${s>=3?"text-slate-200":"text-slate-500"}`,children:"Preferences"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:313,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:248,columnNumber:11},this),t.jsxDEV(q,{className:"min-h-[500px] p-8",children:[s===1&&t.jsxDEV("div",{className:"space-y-8 animate-in fade-in-50 duration-300",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-800/50",children:[t.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/20",children:t.jsxDEV(fn,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:337,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:336,columnNumber:21},this),t.jsxDEV("h3",{className:"text-xl font-semibold text-slate-100",children:"Firm Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:339,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:335,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{htmlFor:"firmName",children:["Firm Name ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:347,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:346,columnNumber:23},this),t.jsxDEV(ve,{id:"firmName",placeholder:"e.g., Smith & Associates Audit Firm",value:o.firmName||"",onChange:A=>l({...o,firmName:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:349,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:345,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"firmType",children:["Firm Size ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:361,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:360,columnNumber:23},this),t.jsxDEV(is,{value:o.firmType,onValueChange:A=>l({...o,firmType:A}),children:[t.jsxDEV(rs,{id:"firmType",children:t.jsxDEV(ns,{placeholder:"Select firm size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:370,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:369,columnNumber:25},this),t.jsxDEV(as,{children:NE.map(A=>t.jsxDEV(X,{value:A.value,children:A.label},A.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:374,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:372,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:363,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:359,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"country",children:["Country ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:384,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:383,columnNumber:23},this),t.jsxDEV(ve,{id:"country",placeholder:"e.g., United States",value:o.country||"",onChange:A=>l({...o,country:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:386,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:382,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"city",children:["City ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:398,columnNumber:30},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:397,columnNumber:23},this),t.jsxDEV(ve,{id:"city",placeholder:"e.g., New York",value:o.city||"",onChange:A=>l({...o,city:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:400,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:396,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"practicingSince",children:"Practicing Since"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:411,columnNumber:23},this),t.jsxDEV(ve,{id:"practicingSince",type:"number",placeholder:"e.g., 2010",min:"1900",max:new Date().getFullYear(),value:o.practicingSince||"",onChange:A=>l({...o,practicingSince:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:412,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:410,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"partnerCount",children:"Number of Partners"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:426,columnNumber:23},this),t.jsxDEV(ve,{id:"partnerCount",type:"number",placeholder:"e.g., 5",min:"0",value:o.partnerCount||"",onChange:A=>l({...o,partnerCount:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:427,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:425,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"staffCount",children:"Number of Staff"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:440,columnNumber:23},this),t.jsxDEV(ve,{id:"staffCount",type:"number",placeholder:"e.g., 20",min:"0",value:o.staffCount||"",onChange:A=>l({...o,staffCount:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:441,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:439,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{children:["Firm Specializations ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:455,columnNumber:46},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:454,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-2",children:"Select all areas your firm specializes in"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:457,columnNumber:23},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:dB.map(A=>{var U;return t.jsxDEV(he,{variant:(U=o.specializations)!=null&&U.includes(A)?"default":"outline",className:"cursor-pointer hover:bg-primary/80 transition-colors",onClick:()=>g(A),children:A},A,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:462,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:460,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:453,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:344,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:334,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-end gap-2 pt-4",children:t.jsxDEV(F,{onClick:f,size:"lg",children:["Continue",t.jsxDEV(xl,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:483,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:481,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:480,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:333,columnNumber:15},this),s===2&&t.jsxDEV("div",{className:"space-y-8 animate-in fade-in-50 duration-300",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-800/50",children:[t.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/20",children:t.jsxDEV(wl,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:495,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:494,columnNumber:21},this),t.jsxDEV("h3",{className:"text-xl font-semibold text-slate-100",children:"Administrator Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:497,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:493,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"firstName",children:["First Name ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:505,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:504,columnNumber:23},this),t.jsxDEV(ve,{id:"firstName",placeholder:"John",value:d.firstName||"",onChange:A=>u({...d,firstName:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:507,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:503,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"lastName",children:["Last Name ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:519,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:518,columnNumber:23},this),t.jsxDEV(ve,{id:"lastName",placeholder:"Smith",value:d.lastName||"",onChange:A=>u({...d,lastName:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:521,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:517,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[t.jsxDEV(H,{htmlFor:"email",children:["Work Email ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:533,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:532,columnNumber:23},this),t.jsxDEV(ve,{id:"email",type:"email",placeholder:"john.smith@yourfirm.com",value:d.email||"",onChange:A=>u({...d,email:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:535,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:531,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"jobTitle",children:["Job Title ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:548,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:547,columnNumber:23},this),t.jsxDEV(is,{value:d.jobTitle,onValueChange:A=>u({...d,jobTitle:A}),children:[t.jsxDEV(rs,{id:"jobTitle",children:t.jsxDEV(ns,{placeholder:"Select your title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:557,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:556,columnNumber:25},this),t.jsxDEV(as,{children:uB.map(A=>t.jsxDEV(X,{value:A,children:A},A,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:561,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:559,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:550,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:546,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"phone",children:["Phone Number ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:571,columnNumber:38},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:570,columnNumber:23},this),t.jsxDEV(ve,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:d.phone||"",onChange:A=>u({...d,phone:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:573,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:569,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"password",children:["Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:586,columnNumber:34},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:585,columnNumber:23},this),t.jsxDEV(ve,{id:"password",type:"password",placeholder:"",value:d.password||"",onChange:A=>u({...d,password:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:588,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:597,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:584,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"confirmPassword",children:["Confirm Password ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:604,columnNumber:42},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:603,columnNumber:23},this),t.jsxDEV(ve,{id:"confirmPassword",type:"password",placeholder:"",value:d.confirmPassword||"",onChange:A=>u({...d,confirmPassword:A.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:606,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:602,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:502,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:492,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between gap-2 pt-4",children:[t.jsxDEV(F,{onClick:p,variant:"outline",size:"lg",children:[t.jsxDEV(hn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:621,columnNumber:21},this),"Back"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:620,columnNumber:19},this),t.jsxDEV(F,{onClick:f,size:"lg",children:["Continue",t.jsxDEV(xl,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:626,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:624,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:619,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:491,columnNumber:15},this),s===3&&t.jsxDEV("div",{className:"space-y-8 animate-in fade-in-50 duration-300",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-800/50",children:[t.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/20",children:t.jsxDEV(vl,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:638,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:637,columnNumber:21},this),t.jsxDEV("h3",{className:"text-xl font-semibold text-slate-100",children:"Preferences & Confirmation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:640,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:636,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"primaryUseCase",children:"Primary Use Case"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:647,columnNumber:23},this),t.jsxDEV(is,{value:c.primaryUseCase,onValueChange:A=>b({...c,primaryUseCase:A}),children:[t.jsxDEV(rs,{id:"primaryUseCase",children:t.jsxDEV(ns,{placeholder:"What will you primarily use this platform for?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:655,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:654,columnNumber:25},this),t.jsxDEV(as,{children:cB.map(A=>t.jsxDEV(X,{value:A,children:A},A,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:659,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:657,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:648,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:646,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"expectedTeamSize",children:"Expected Team Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:668,columnNumber:23},this),t.jsxDEV(is,{value:c.expectedTeamSize,onValueChange:A=>b({...c,expectedTeamSize:A}),children:[t.jsxDEV(rs,{id:"expectedTeamSize",children:t.jsxDEV(ns,{placeholder:"How many users will be using this platform?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:676,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:675,columnNumber:25},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"1-5",children:"1-5 users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:679,columnNumber:27},this),t.jsxDEV(X,{value:"6-15",children:"6-15 users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:680,columnNumber:27},this),t.jsxDEV(X,{value:"16-50",children:"16-50 users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:681,columnNumber:27},this),t.jsxDEV(X,{value:"51-100",children:"51-100 users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:682,columnNumber:27},this),t.jsxDEV(X,{value:"100+",children:"100+ users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:683,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:678,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:669,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:667,columnNumber:21},this),t.jsxDEV("div",{className:"border border-slate-700/50 rounded-lg p-6 space-y-4 bg-slate-800/30",children:[t.jsxDEV("h4",{className:"font-semibold text-slate-200",children:"Review Your Information"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:689,columnNumber:23},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Firm Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:693,columnNumber:27},this),t.jsxDEV("p",{className:"font-medium",children:o.firmName},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:694,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:692,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Firm Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:697,columnNumber:27},this),t.jsxDEV("p",{className:"font-medium",children:(D=NE.find(A=>A.value===o.firmType))==null?void 0:D.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:698,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:696,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Location"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:703,columnNumber:27},this),t.jsxDEV("p",{className:"font-medium",children:[o.city,", ",o.country]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:704,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:702,columnNumber:25},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Administrator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:709,columnNumber:27},this),t.jsxDEV("p",{className:"font-medium",children:[d.firstName," ",d.lastName]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:710,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:708,columnNumber:25},this),t.jsxDEV("div",{className:"col-span-2",children:[t.jsxDEV("p",{className:"text-muted-foreground mb-1",children:"Specializations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:715,columnNumber:27},this),t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:(w=o.specializations)==null?void 0:w.map(A=>t.jsxDEV(he,{variant:"secondary",className:"text-xs",children:A},A,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:718,columnNumber:31},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:716,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:714,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:691,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:688,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("input",{type:"checkbox",id:"agreeToTerms",className:"mt-1",checked:c.agreeToTerms||!1,onChange:A=>b({...c,agreeToTerms:A.target.checked})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:729,columnNumber:25},this),t.jsxDEV(H,{htmlFor:"agreeToTerms",className:"font-normal cursor-pointer",children:["I agree to the"," ",t.jsxDEV("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:743,columnNumber:27},this)," ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:746,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:741,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:728,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("input",{type:"checkbox",id:"agreeToPrivacy",className:"mt-1",checked:c.agreeToPrivacy||!1,onChange:A=>b({...c,agreeToPrivacy:A.target.checked})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:751,columnNumber:25},this),t.jsxDEV(H,{htmlFor:"agreeToPrivacy",className:"font-normal cursor-pointer",children:["I agree to the"," ",t.jsxDEV("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:765,columnNumber:27},this)," ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:768,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:763,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:750,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:727,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:645,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:635,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between gap-2 pt-4",children:[t.jsxDEV(F,{onClick:p,variant:"outline",size:"lg",children:[t.jsxDEV(hn,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:777,columnNumber:21},this),"Back"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:776,columnNumber:19},this),t.jsxDEV(F,{onClick:N,size:"lg",disabled:r,children:[r?"Creating Account...":"Create Account",!r&&t.jsxDEV(Ks,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:782,columnNumber:34},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:780,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:775,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:634,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:330,columnNumber:11},this),t.jsxDEV("div",{className:"px-8 py-6 border-t border-slate-800/50 bg-slate-900/30",children:t.jsxDEV("div",{className:"text-sm text-slate-400 text-center",children:["Already have an account?"," ",t.jsxDEV(Ed,{to:"/auth/login",className:"text-primary hover:text-primary/80 transition-colors font-medium",children:"Sign in"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:792,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:790,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:789,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:247,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:246,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/auth/Signup.tsx",lineNumber:239,columnNumber:5},this)}const Px=768;function bB(){const[s,e]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Px-1}px)`),a=()=>{e(window.innerWidth<Px)};return r.addEventListener("change",a),e(window.innerWidth<Px),()=>r.removeEventListener("change",a)},[]),!!s}function Xs({className:s,...e}){return t.jsxDEV("div",{className:Ce("animate-pulse rounded-md bg-muted relative overflow-hidden","before:absolute before:inset-0","before:bg-gradient-to-r before:from-transparent before:via-foreground/5 before:to-transparent","before:animate-shimmer",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/skeleton.tsx",lineNumber:5,columnNumber:5},this)}const hB="sidebar:state",fB=60*60*24*7,pB="16rem",NB="18rem",kB="3rem",gB="b",J5=v.createContext(null);function ef(){const s=v.useContext(J5);if(!s)throw new Error("useSidebar must be used within a SidebarProvider.");return s}const Z5=v.forwardRef(({defaultOpen:s=!0,open:e,onOpenChange:r,className:a,style:i,children:n,...o},l)=>{const d=bB(),[u,c]=v.useState(!1),[b,h]=v.useState(s),m=e??b,f=v.useCallback(D=>{const w=typeof D=="function"?D(m):D;r?r(w):h(w),document.cookie=`${hB}=${w}; path=/; max-age=${fB}`},[r,m]),p=v.useCallback(()=>d?c(D=>!D):f(D=>!D),[d,f,c]);v.useEffect(()=>{const D=w=>{w.key===gB&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[p]);const N=m?"expanded":"collapsed",g=v.useMemo(()=>({state:N,open:m,setOpen:f,isMobile:d,openMobile:u,setOpenMobile:c,toggleSidebar:p}),[N,m,f,d,u,c,p]);return t.jsxDEV(J5.Provider,{value:g,children:t.jsxDEV(Zh,{delayDuration:0,children:t.jsxDEV("div",{style:{"--sidebar-width":pB,"--sidebar-width-icon":kB,...i},className:Ce("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",a),ref:l,...o,children:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:109,columnNumber:5},void 0)});Z5.displayName="SidebarProvider";const P0=v.forwardRef(({side:s="left",variant:e="sidebar",collapsible:r="offcanvas",className:a,children:i,...n},o)=>{const{isMobile:l,state:d,openMobile:u,setOpenMobile:c}=ef();return r==="none"?t.jsxDEV("div",{className:Ce("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...n,children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:143,columnNumber:7},void 0):l?t.jsxDEV(jD,{open:u,onOpenChange:c,...n,children:t.jsxDEV(sg,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":NB},side:s,children:t.jsxDEV("div",{className:"flex h-full w-full flex-col",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:167,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:155,columnNumber:7},void 0):t.jsxDEV("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":e,"data-side":s,children:[t.jsxDEV("div",{className:Ce("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:183,columnNumber:7},void 0),t.jsxDEV("div",{className:Ce("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",s==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...n,children:t.jsxDEV("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:207,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:193,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:174,columnNumber:5},void 0)});P0.displayName="Sidebar";const X5=v.forwardRef(({className:s,onClick:e,...r},a)=>{const{toggleSidebar:i}=ef();return t.jsxDEV(F,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ce("h-7 w-7",s),onClick:n=>{e==null||e(n),i()},...r,children:[t.jsxDEV(g6,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:236,columnNumber:9},void 0),t.jsxDEV("span",{className:"sr-only",children:"Toggle Sidebar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:237,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:224,columnNumber:7},void 0)});X5.displayName="SidebarTrigger";const xB=v.forwardRef(({className:s,...e},r)=>{const{toggleSidebar:a}=ef();return t.jsxDEV("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:Ce("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:249,columnNumber:7},void 0)});xB.displayName="SidebarRail";const vB=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("main",{ref:r,className:Ce("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:274,columnNumber:5},void 0));vB.displayName="SidebarInset";const DB=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(ve,{ref:r,"data-sidebar":"input",className:Ce("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:290,columnNumber:7},void 0));DB.displayName="SidebarInput";const eV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"header",className:Ce("flex flex-col gap-2 p-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:305,columnNumber:10},void 0));eV.displayName="SidebarHeader";const sV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"footer",className:Ce("flex flex-col gap-2 p-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:310,columnNumber:10},void 0));sV.displayName="SidebarFooter";const wB=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(ft,{ref:r,"data-sidebar":"separator",className:Ce("mx-2 w-auto bg-sidebar-border",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:317,columnNumber:7},void 0));wB.displayName="SidebarSeparator";const y0=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"content",className:Ce("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:330,columnNumber:5},void 0));y0.displayName="SidebarContent";const tV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"group",className:Ce("relative flex w-full min-w-0 flex-col p-2",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:345,columnNumber:5},void 0));tV.displayName="SidebarGroup";const rV=v.forwardRef(({className:s,asChild:e=!1,...r},a)=>{const i=e?ym:"div";return t.jsxDEV(i,{ref:a,"data-sidebar":"group-label",className:Ce("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:360,columnNumber:7},void 0)});rV.displayName="SidebarGroupLabel";const jB=v.forwardRef(({className:s,asChild:e=!1,...r},a)=>{const i=e?ym:"button";return t.jsxDEV(i,{ref:a,"data-sidebar":"group-action",className:Ce("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:380,columnNumber:7},void 0)});jB.displayName="SidebarGroupAction";const aV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"group-content",className:Ce("w-full text-sm",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:399,columnNumber:5},void 0));aV.displayName="SidebarGroupContent";const iV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("ul",{ref:r,"data-sidebar":"menu",className:Ce("flex w-full min-w-0 flex-col gap-1",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:405,columnNumber:3},void 0));iV.displayName="SidebarMenu";const nV=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("li",{ref:r,"data-sidebar":"menu-item",className:Ce("group/menu-item relative",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:410,columnNumber:3},void 0));nV.displayName="SidebarMenuItem";const AB=Ju("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),oV=v.forwardRef(({asChild:s=!1,isActive:e=!1,variant:r="default",size:a="default",tooltip:i,className:n,...o},l)=>{const d=s?ym:"button",{isMobile:u,state:c}=ef(),b=t.jsxDEV(d,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":e,className:Ce(AB({variant:r,size:a}),n),...o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:448,columnNumber:5},void 0);return i?(typeof i=="string"&&(i={children:i}),t.jsxDEV(ch,{children:[t.jsxDEV(mh,{asChild:!0,children:b},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:470,columnNumber:7},void 0),t.jsxDEV(om,{side:"right",align:"center",hidden:c!=="collapsed"||u,...i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:471,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:469,columnNumber:5},void 0)):b});oV.displayName="SidebarMenuButton";const EB=v.forwardRef(({className:s,asChild:e=!1,showOnHover:r=!1,...a},i)=>{const n=e?ym:"button";return t.jsxDEV(n,{ref:i,"data-sidebar":"menu-action",className:Ce("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:487,columnNumber:5},void 0)});EB.displayName="SidebarMenuAction";const PB=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("div",{ref:r,"data-sidebar":"menu-badge",className:Ce("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:510,columnNumber:5},void 0));PB.displayName="SidebarMenuBadge";const yB=v.forwardRef(({className:s,showIcon:e=!1,...r},a)=>{const i=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return t.jsxDEV("div",{ref:a,"data-sidebar":"menu-skeleton",className:Ce("flex h-8 items-center gap-2 rounded-md px-2",s),...r,children:[e&&t.jsxDEV(Xs,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:546,columnNumber:20},void 0),t.jsxDEV(Xs,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:547,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:540,columnNumber:5},void 0)});yB.displayName="SidebarMenuSkeleton";const OB=v.forwardRef(({className:s,...e},r)=>t.jsxDEV("ul",{ref:r,"data-sidebar":"menu-sub",className:Ce("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:563,columnNumber:5},void 0));OB.displayName="SidebarMenuSub";const WB=v.forwardRef(({...s},e)=>t.jsxDEV("li",{ref:e,...s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:578,columnNumber:3},void 0));WB.displayName="SidebarMenuSubItem";const UB=v.forwardRef(({asChild:s=!1,size:e="md",isActive:r,className:a,...i},n)=>{const o=s?ym:"a";return t.jsxDEV(o,{ref:n,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Ce("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/sidebar.tsx",lineNumber:593,columnNumber:5},void 0)});UB.displayName="SidebarMenuSubButton";const lV=v.forwardRef(({className:s,activeClassName:e,pendingClassName:r,to:a,...i},n)=>t.jsxDEV(lT,{ref:n,to:a,className:({isActive:o,isPending:l})=>Ce(s,o&&e,l&&r),...i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NavLink.tsx",lineNumber:14,columnNumber:7},void 0));lV.displayName="NavLink";function VB(){v.useState(!1);const{currentFirm:s,isLoading:e}=ar();return e||!s?t.jsxDEV("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[t.jsxDEV(fn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:26,columnNumber:9},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:25,columnNumber:7},this):t.jsxDEV("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[t.jsxDEV(fn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:36,columnNumber:7},this),t.jsxDEV("span",{className:"text-sm font-medium",children:s.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/FirmSwitcher.tsx",lineNumber:35,columnNumber:5},this)}const _B=()=>[{label:"Dashboard",items:[{title:"My Workspace",url:"/workspace",icon:aW},{title:"Dashboard",url:"/dashboard",icon:Yj}]},{label:"My Work",items:[{title:"My Procedures",url:"/my-procedures",icon:Gv},{title:"Task Board",url:"/tasks",icon:b6},{title:"Time Tracking",url:"/time-tracking",icon:dt},{title:"Review Queue",url:"/review-queue",icon:pn},{title:"Approvals",url:"/engagements/approvals",icon:Ks}]},{label:"Engagements",items:[{title:"Active Engagements",url:"/engagements",icon:vl},{title:"Templates",url:"/engagements/templates",icon:t6}]},{label:"Audit Execution",items:[{title:"Active Audits",url:"/audits",icon:Qh},{title:"Workpapers",url:"/workpapers",icon:sW},{title:"Findings",url:"/findings",icon:Er},{title:"Evidence Library",url:"/evidence",icon:eW},{title:"Information Requests",url:"/information-requests",icon:qi}]},{label:"Audit Tools",items:[{title:"Audit Universe",url:"/universe",icon:r6},{title:"Risk Assessments",url:"/risks",icon:Lu},{title:"Audit Plans",url:"/plans",icon:Ws},{title:"Program Library",url:"/programs",icon:m6},{title:"Procedure Library",url:"/procedures",icon:K7},{title:"Materiality Calculator",url:"/tools/materiality",icon:Zu},{title:"Sampling Calculator",url:"/tools/sampling",icon:lW},{title:"Analytical Procedures",url:"/tools/analytical-procedures",icon:da},{title:"Confirmation Tracker",url:"/tools/confirmations",icon:Mu}]},{label:"Quality & Review",items:[{title:"QC Dashboard",url:"/quality-control",icon:rA},{title:"Procedure Review",url:"/review-queue",icon:Rk}]},{label:"Analytics",items:[{title:"Audit Analytics",url:"/analytics",icon:Yj},{title:"Program Analytics",url:"/analytics",icon:Ck}]},{label:"Clients",items:[{title:"Client List",url:"/engagements",icon:fn}]},{label:"Resources",items:[{title:"Team Directory",url:"/settings",icon:er},{title:"Scheduler",url:"/engagements",icon:la}]},{label:"Administration",items:[{title:"Admin Dashboard",url:"/admin",icon:rA},{title:"User Management",url:"/admin/users",icon:W6},{title:"Settings",url:"/settings",icon:im}]}],CB=s=>_B();function SB(){var u;const s=W1(),{roles:e,profile:r,signOut:a,isLoading:i}=ar(),{open:n}=ef(),o=CB(),l=c=>c==="/dashboard"?s.pathname==="/dashboard":s.pathname===c||s.pathname.startsWith(c+"/"),d=c=>`hover:bg-muted/50 ${l(c)?"bg-muted text-primary font-medium":""}`;return i?t.jsxDEV(P0,{collapsible:"icon",children:t.jsxDEV(y0,{children:t.jsxDEV("div",{className:"flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:388,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:387,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:386,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:385,columnNumber:7},this):t.jsxDEV(Zh,{delayDuration:0,children:t.jsxDEV(P0,{collapsible:"icon",children:[t.jsxDEV(eV,{className:"border-b border-border px-4 py-3",children:n?t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(VB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:401,columnNumber:15},this),r&&e.length>0&&t.jsxDEV("div",{className:"flex items-center justify-between px-2",children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground truncate",children:[r.first_name," ",r.last_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:404,columnNumber:19},this),t.jsxDEV(IU,{role:e[0]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:407,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:403,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:400,columnNumber:13},this):t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-xs font-semibold text-primary",children:((u=r==null?void 0:r.first_name)==null?void 0:u[0])||"U"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:412,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:398,columnNumber:9},this),t.jsxDEV(y0,{className:n?"":"flex flex-col justify-center min-h-[calc(100vh-4rem)]",children:o.map(c=>t.jsxDEV(tV,{children:[n&&t.jsxDEV(rV,{children:c.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:421,columnNumber:24},this),t.jsxDEV(aV,{children:t.jsxDEV(iV,{children:c.items.map(b=>t.jsxDEV(nV,{children:t.jsxDEV(ch,{children:[t.jsxDEV(mh,{asChild:!0,children:t.jsxDEV(oV,{asChild:!0,className:n?"":"justify-center",children:t.jsxDEV(lV,{to:b.url,end:b.url==="/dashboard",className:d(b.url),children:[t.jsxDEV(b.icon,{className:n?"mr-2 h-4 w-4":"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:434,columnNumber:31},this),n&&t.jsxDEV("span",{children:b.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:435,columnNumber:40},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:429,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:428,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:427,columnNumber:25},this),!n&&t.jsxDEV(om,{side:"right",children:b.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:440,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:426,columnNumber:23},this)},b.title,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:425,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:423,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:422,columnNumber:15},this)]},c.label,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:420,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:418,columnNumber:9},this),t.jsxDEV(sV,{className:"border-t border-border p-4",children:n?t.jsxDEV(F,{variant:"ghost",className:"w-full justify-start",onClick:a,children:t.jsxDEV("span",{className:"text-sm",children:"Sign Out"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:460,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:455,columnNumber:13},this):t.jsxDEV(ch,{children:[t.jsxDEV(mh,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:a,children:[t.jsxDEV("span",{className:"sr-only",children:"Sign Out"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:470,columnNumber:19},this),t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsxDEV("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:471,columnNumber:197},this),t.jsxDEV("polyline",{points:"16 17 21 12 16 7"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:471,columnNumber:248},this),t.jsxDEV("line",{x1:"21",y1:"12",x2:"9",y2:"12"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:471,columnNumber:285},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:471,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:465,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:464,columnNumber:15},this),t.jsxDEV(om,{side:"right",children:"Sign Out"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:474,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:463,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:453,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:397,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppSidebar.tsx",lineNumber:396,columnNumber:5},this)}function TB(s,e){return v.useReducer((r,a)=>e[r][a]??r,s)}var OD="ScrollArea",[dV,Sde]=Gn(OD),[RB,Jn]=dV(OD),uV=v.forwardRef((s,e)=>{const{__scopeScrollArea:r,type:a="hover",dir:i,scrollHideDelay:n=600,...o}=s,[l,d]=v.useState(null),[u,c]=v.useState(null),[b,h]=v.useState(null),[m,f]=v.useState(null),[p,N]=v.useState(null),[g,D]=v.useState(0),[w,A]=v.useState(0),[U,E]=v.useState(!1),[W,y]=v.useState(!1),V=va(e,O=>d(O)),S=S1(i);return de.jsx(RB,{scope:r,type:a,dir:S,scrollHideDelay:n,scrollArea:l,viewport:u,onViewportChange:c,content:b,onContentChange:h,scrollbarX:m,onScrollbarXChange:f,scrollbarXEnabled:U,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:N,scrollbarYEnabled:W,onScrollbarYEnabledChange:y,onCornerWidthChange:D,onCornerHeightChange:A,children:de.jsx(sr.div,{dir:S,...o,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":w+"px",...s.style}})})});uV.displayName=OD;var cV="ScrollAreaViewport",mV=v.forwardRef((s,e)=>{const{__scopeScrollArea:r,children:a,nonce:i,...n}=s,o=Jn(cV,r),l=v.useRef(null),d=va(e,l,o.onViewportChange);return de.jsxs(de.Fragment,{children:[de.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),de.jsx(sr.div,{"data-radix-scroll-area-viewport":"",...n,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...s.style},children:de.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});mV.displayName=cV;var $o="ScrollAreaScrollbar",WD=v.forwardRef((s,e)=>{const{forceMount:r,...a}=s,i=Jn($o,s.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=i,l=s.orientation==="horizontal";return v.useEffect(()=>(l?n(!0):o(!0),()=>{l?n(!1):o(!1)}),[l,n,o]),i.type==="hover"?de.jsx(MB,{...a,ref:e,forceMount:r}):i.type==="scroll"?de.jsx(LB,{...a,ref:e,forceMount:r}):i.type==="auto"?de.jsx(bV,{...a,ref:e,forceMount:r}):i.type==="always"?de.jsx(UD,{...a,ref:e}):null});WD.displayName=$o;var MB=v.forwardRef((s,e)=>{const{forceMount:r,...a}=s,i=Jn($o,s.__scopeScrollArea),[n,o]=v.useState(!1);return v.useEffect(()=>{const l=i.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},c=()=>{d=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",c),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),de.jsx(xo,{present:r||n,children:de.jsx(bV,{"data-state":n?"visible":"hidden",...a,ref:e})})}),LB=v.forwardRef((s,e)=>{const{forceMount:r,...a}=s,i=Jn($o,s.__scopeScrollArea),n=s.orientation==="horizontal",o=rg(()=>d("SCROLL_END"),100),[l,d]=TB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,d]),v.useEffect(()=>{const u=i.viewport,c=n?"scrollLeft":"scrollTop";if(u){let b=u[c];const h=()=>{const m=u[c];b!==m&&(d("SCROLL"),o()),b=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,n,d,o]),de.jsx(xo,{present:r||l!=="hidden",children:de.jsx(UD,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:e,onPointerEnter:Ft(s.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ft(s.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),bV=v.forwardRef((s,e)=>{const r=Jn($o,s.__scopeScrollArea),{forceMount:a,...i}=s,[n,o]=v.useState(!1),l=s.orientation==="horizontal",d=rg(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,c=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:c)}},10);return Nm(r.viewport,d),Nm(r.content,d),de.jsx(xo,{present:a||n,children:de.jsx(UD,{"data-state":n?"visible":"hidden",...i,ref:e})})}),UD=v.forwardRef((s,e)=>{const{orientation:r="vertical",...a}=s,i=Jn($o,s.__scopeScrollArea),n=v.useRef(null),o=v.useRef(0),[l,d]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kV(l.viewport,l.content),c={...a,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:h=>n.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function b(h,m){return $B(h,o.current,l,m)}return r==="horizontal"?de.jsx(IB,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&n.current){const h=i.viewport.scrollLeft,m=kE(h,l,i.dir);n.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=b(h,i.dir))}}):r==="vertical"?de.jsx(FB,{...c,ref:e,onThumbPositionChange:()=>{if(i.viewport&&n.current){const h=i.viewport.scrollTop,m=kE(h,l);n.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=b(h))}}):null}),IB=v.forwardRef((s,e)=>{const{sizes:r,onSizesChange:a,...i}=s,n=Jn($o,s.__scopeScrollArea),[o,l]=v.useState(),d=v.useRef(null),u=va(e,d,n.onScrollbarXChange);return v.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),de.jsx(fV,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tg(r)+"px",...s.style},onThumbPointerDown:c=>s.onThumbPointerDown(c.x),onDragScroll:c=>s.onDragScroll(c.x),onWheelScroll:(c,b)=>{if(n.viewport){const h=n.viewport.scrollLeft+c.deltaX;s.onWheelScroll(h),xV(h,b)&&c.preventDefault()}},onResize:()=>{d.current&&n.viewport&&o&&a({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vN(o.paddingLeft),paddingEnd:vN(o.paddingRight)}})}})}),FB=v.forwardRef((s,e)=>{const{sizes:r,onSizesChange:a,...i}=s,n=Jn($o,s.__scopeScrollArea),[o,l]=v.useState(),d=v.useRef(null),u=va(e,d,n.onScrollbarYChange);return v.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),de.jsx(fV,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tg(r)+"px",...s.style},onThumbPointerDown:c=>s.onThumbPointerDown(c.y),onDragScroll:c=>s.onDragScroll(c.y),onWheelScroll:(c,b)=>{if(n.viewport){const h=n.viewport.scrollTop+c.deltaY;s.onWheelScroll(h),xV(h,b)&&c.preventDefault()}},onResize:()=>{d.current&&n.viewport&&o&&a({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vN(o.paddingTop),paddingEnd:vN(o.paddingBottom)}})}})}),[zB,hV]=dV($o),fV=v.forwardRef((s,e)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:i,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:c,onResize:b,...h}=s,m=Jn($o,r),[f,p]=v.useState(null),N=va(e,V=>p(V)),g=v.useRef(null),D=v.useRef(""),w=m.viewport,A=a.content-a.viewport,U=Vn(c),E=Vn(d),W=rg(b,10);function y(V){if(g.current){const S=V.clientX-g.current.left,O=V.clientY-g.current.top;u({x:S,y:O})}}return v.useEffect(()=>{const V=S=>{const O=S.target;(f==null?void 0:f.contains(O))&&U(S,A)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[w,f,A,U]),v.useEffect(E,[a,E]),Nm(f,W),Nm(m.content,W),de.jsx(zB,{scope:r,scrollbar:f,hasThumb:i,onThumbChange:Vn(n),onThumbPointerUp:Vn(o),onThumbPositionChange:E,onThumbPointerDown:Vn(l),children:de.jsx(sr.div,{...h,ref:N,style:{position:"absolute",...h.style},onPointerDown:Ft(s.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),g.current=f.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),y(V))}),onPointerMove:Ft(s.onPointerMove,y),onPointerUp:Ft(s.onPointerUp,V=>{const S=V.target;S.hasPointerCapture(V.pointerId)&&S.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=D.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),xN="ScrollAreaThumb",pV=v.forwardRef((s,e)=>{const{forceMount:r,...a}=s,i=hV(xN,s.__scopeScrollArea);return de.jsx(xo,{present:r||i.hasThumb,children:de.jsx(BB,{ref:e,...a})})}),BB=v.forwardRef((s,e)=>{const{__scopeScrollArea:r,style:a,...i}=s,n=Jn(xN,r),o=hV(xN,r),{onThumbPositionChange:l}=o,d=va(e,b=>o.onThumbChange(b)),u=v.useRef(void 0),c=rg(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const b=n.viewport;if(b){const h=()=>{if(c(),!u.current){const m=HB(b,l);u.current=m,l()}};return l(),b.addEventListener("scroll",h),()=>b.removeEventListener("scroll",h)}},[n.viewport,c,l]),de.jsx(sr.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ft(s.onPointerDownCapture,b=>{const m=b.target.getBoundingClientRect(),f=b.clientX-m.left,p=b.clientY-m.top;o.onThumbPointerDown({x:f,y:p})}),onPointerUp:Ft(s.onPointerUp,o.onThumbPointerUp)})});pV.displayName=xN;var VD="ScrollAreaCorner",NV=v.forwardRef((s,e)=>{const r=Jn(VD,s.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?de.jsx(qB,{...s,ref:e}):null});NV.displayName=VD;var qB=v.forwardRef((s,e)=>{const{__scopeScrollArea:r,...a}=s,i=Jn(VD,r),[n,o]=v.useState(0),[l,d]=v.useState(0),u=!!(n&&l);return Nm(i.scrollbarX,()=>{var b;const c=((b=i.scrollbarX)==null?void 0:b.offsetHeight)||0;i.onCornerHeightChange(c),d(c)}),Nm(i.scrollbarY,()=>{var b;const c=((b=i.scrollbarY)==null?void 0:b.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?de.jsx(sr.div,{...a,ref:e,style:{width:n,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function vN(s){return s?parseInt(s,10):0}function kV(s,e){const r=s/e;return isNaN(r)?0:r}function tg(s){const e=kV(s.viewport,s.content),r=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,a=(s.scrollbar.size-r)*e;return Math.max(a,18)}function $B(s,e,r,a="ltr"){const i=tg(r),n=i/2,o=e||n,l=i-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,c=r.content-r.viewport,b=a==="ltr"?[0,c]:[c*-1,0];return gV([d,u],b)(s)}function kE(s,e,r="ltr"){const a=tg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=e.scrollbar.size-i,o=e.content-e.viewport,l=n-a,d=r==="ltr"?[0,o]:[o*-1,0],u=CT(s,d);return gV([0,o],[0,l])(u)}function gV(s,e){return r=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(s[1]-s[0]);return e[0]+a*(r-s[0])}}function xV(s,e){return s>0&&s<e}var HB=(s,e=()=>{})=>{let r={left:s.scrollLeft,top:s.scrollTop},a=0;return function i(){const n={left:s.scrollLeft,top:s.scrollTop},o=r.left!==n.left,l=r.top!==n.top;(o||l)&&e(),r=n,a=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(a)};function rg(s,e){const r=Vn(s),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,e)},[r,e])}function Nm(s,e){const r=Vn(e);oh(()=>{let a=0;if(s){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return i.observe(s),()=>{window.cancelAnimationFrame(a),i.unobserve(s)}}},[s,r])}var vV=uV,GB=mV,KB=NV;const Wa=v.forwardRef(({className:s,children:e,...r},a)=>t.jsxDEV(vV,{ref:a,className:Ce("relative overflow-hidden",s),...r,children:[t.jsxDEV(GB,{className:"h-full w-full rounded-[inherit]",children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:11,columnNumber:5},void 0),t.jsxDEV(DV,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:12,columnNumber:5},void 0),t.jsxDEV(KB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:13,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));Wa.displayName=vV.displayName;const DV=v.forwardRef(({className:s,orientation:e="vertical",...r},a)=>t.jsxDEV(WD,{ref:a,orientation:e,className:Ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2 flex-col border-t border-t-transparent p-[1px]",s),...r,children:t.jsxDEV(pV,{className:"relative flex-1 rounded-full bg-muted-foreground/10 hover:bg-muted-foreground/20 transition-colors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:33,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/scroll-area.tsx",lineNumber:22,columnNumber:3},void 0));DV.displayName=WD.displayName;class up{static async listNotifications(e={}){try{const{data:{user:r}}=await le.auth.getUser();if(!r)return[];let a=le.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1}).limit(50);e.read!==void 0&&(a=a.eq("read",e.read)),e.type&&(a=a.eq("type",e.type)),e.projectId&&(a=a.eq("project_id",e.projectId));const{data:i,error:n}=await a;if(n)throw n;return i||[]}catch(r){return console.error("Error listing notifications:",r),[]}}static async markAsRead(e){try{const{error:r}=await le.from("notifications").update({read:!0}).eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Error marking notification as read:",r),!1}}static async markAllAsRead(){try{const{data:{user:e}}=await le.auth.getUser();if(!e)return!1;const{error:r}=await le.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(r)throw r;return!0}catch(e){return console.error("Error marking all notifications as read:",e),!1}}static async deleteNotification(e){try{const{error:r}=await le.from("notifications").delete().eq("id",e);if(r)throw r;return!0}catch(r){return console.error("Error deleting notification:",r),!1}}static async createNotification(e,r,a,i,n){try{const{data:o,error:l}=await le.from("notifications").insert({user_id:e,type:r,title:a,message:i,metadata:n||{},read:!1}).select().single();if(l)throw l;return o}catch(o){return console.error("Error creating notification:",o),null}}static getNotificationIcon(e){return{task_assigned:"",task_completed:"",project_update:"",deliverable_approved:"",risk_escalated:"",meeting_scheduled:"",comment_added:"",mention:"",system:""}[e]||""}}function QB(s={}){const[e,r]=v.useState([]),[a,i]=v.useState(0),[n,o]=v.useState(!0),l=async()=>{o(!0);const b=await up.listNotifications(s);r(b),i(b.filter(h=>!h.read).length),o(!1)};return v.useEffect(()=>{(async()=>{await l();const{data:{user:h}}=await le.auth.getUser();if(!h)return;const m=le.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${h.id}`},()=>{l()}).subscribe();return()=>{le.removeChannel(m)}})()},[JSON.stringify(s)]),{notifications:e,unreadCount:a,isLoading:n,markAsRead:async b=>{await up.markAsRead(b)&&l()},markAllAsRead:async()=>{await up.markAllAsRead()&&l()},deleteNotification:async b=>{await up.deleteNotification(b)&&l()},refresh:l}}function YB(){const{notifications:s,unreadCount:e,markAsRead:r,markAllAsRead:a,deleteNotification:i}=QB({read:!1});return t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"icon",className:"relative",children:[t.jsxDEV(_k,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:23,columnNumber:11},this),e>0&&t.jsxDEV(he,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:e>9?"9+":e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:25,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:22,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:21,columnNumber:7},this),t.jsxDEV(xn,{align:"end",className:"w-80",children:[t.jsxDEV(Xu,{className:"flex items-center justify-between",children:[t.jsxDEV("span",{children:"Notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:36,columnNumber:11},this),e>0&&t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:a,className:"h-auto p-1 text-xs",children:"Mark all read"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:35,columnNumber:9},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:48,columnNumber:9},this),t.jsxDEV(Wa,{className:"h-[400px]",children:s.length===0?t.jsxDEV("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:51,columnNumber:13},this):s.map(n=>t.jsxDEV(fr,{className:`flex flex-col items-start p-3 cursor-pointer ${n.read?"":"bg-accent/50"}`,children:t.jsxDEV("div",{className:"flex items-start justify-between w-full",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-sm",children:n.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:64,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:n.message},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:65,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:mm(new Date(n.created_at),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:68,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:63,columnNumber:19},this),t.jsxDEV("div",{className:"flex gap-1 ml-2",children:[!n.read&&t.jsxDEV(F,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o=>{o.stopPropagation(),r(n.id)},children:t.jsxDEV(Tu,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:83,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:74,columnNumber:23},this),t.jsxDEV(F,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:o=>{o.stopPropagation(),i(n.id)},children:t.jsxDEV(Tn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:95,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:86,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:72,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:62,columnNumber:17},this)},n.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:56,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:34,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/NotificationsDropdown.tsx",lineNumber:20,columnNumber:5},this)}const JB=[{id:"audit",name:"Audit",description:"Audit engagement management",icon:t.jsxDEV(Rk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:34,columnNumber:11},void 0),current:!0},{id:"tax",name:"Tax",description:"Tax preparation and planning",icon:t.jsxDEV(Zu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:41,columnNumber:11},void 0)},{id:"legal",name:"Legal",description:"Legal document management",icon:t.jsxDEV(lW,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:47,columnNumber:11},void 0)},{id:"docs",name:"Documents",description:"Document management system",icon:t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:53,columnNumber:11},void 0)}];function ZB(){return t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"sm",className:"gap-2",children:[t.jsxDEV(a6,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:62,columnNumber:11},this),t.jsxDEV("span",{className:"hidden sm:inline",children:"Apps"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:60,columnNumber:7},this),t.jsxDEV(xn,{align:"start",className:"w-56",children:[t.jsxDEV(Xu,{children:"Obsidian Suite"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:67,columnNumber:9},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:68,columnNumber:9},this),JB.map(s=>t.jsxDEV(fr,{disabled:s.current,className:s.current?"bg-accent":"",children:t.jsxDEV("div",{className:"flex items-center gap-3 w-full",children:[t.jsxDEV("div",{className:"flex-shrink-0",children:s.icon},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:76,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:78,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground truncate",children:s.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:79,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:77,columnNumber:15},this),s.current&&t.jsxDEV("span",{className:"text-xs text-primary",children:"Current"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:84,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:75,columnNumber:13},this)},s.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:70,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:66,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/portal/AppSwitcher.tsx",lineNumber:59,columnNumber:5},this)}function XB(){const[s,e]=v.useState("idle"),[r,a]=v.useState(0),[i,n]=v.useState(""),[o,l]=v.useState(""),d=v.useRef(null),u=v.useRef(null),c=v.useCallback(p=>{const N=Math.floor(p/3600),g=Math.floor(p%3600/60),D=p%60;return`${N.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},[]),b=v.useCallback(()=>{u.current=new Date,e("running"),d.current=setInterval(()=>{a(p=>p+1)},1e3)},[]),h=v.useCallback(()=>{e("paused"),d.current&&(clearInterval(d.current),d.current=null)},[]),m=v.useCallback(()=>{e("running"),d.current=setInterval(()=>{a(p=>p+1)},1e3)},[]),f=v.useCallback(()=>{if(e("idle"),d.current&&(clearInterval(d.current),d.current=null),r>0){const p={id:crypto.randomUUID(),description:i||"Untitled",engagementId:o||void 0,startTime:u.current,endTime:new Date,duration:r,status:"idle"};console.log("Time entry saved:",p)}a(0),n(""),u.current=null},[r,i,o]);return v.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]),t.jsxDEV(B1,{children:[t.jsxDEV(q1,{asChild:!0,children:t.jsxDEV(F,{variant:s==="running"?"default":"ghost",size:"sm",className:s==="running"?"animate-pulse":"",children:[t.jsxDEV(dt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:123,columnNumber:11},this),s==="idle"?"Track Time":t.jsxDEV("span",{className:"font-mono",children:c(r)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:127,columnNumber:13},this),s==="running"&&t.jsxDEV(he,{variant:"secondary",className:"ml-2 h-2 w-2 p-0 rounded-full bg-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:118,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:117,columnNumber:7},this),t.jsxDEV(Uk,{className:"w-80",align:"end",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-3xl font-mono font-bold",children:c(r)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:[s==="idle"&&"Ready to track",s==="running"&&"Timer running",s==="paused"&&"Timer paused"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:136,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-center gap-2",children:[s==="idle"&&t.jsxDEV(F,{onClick:b,size:"sm",children:[t.jsxDEV(Kv,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:150,columnNumber:17},this),"Start"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:149,columnNumber:15},this),s==="running"&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(F,{onClick:h,variant:"outline",size:"sm",children:[t.jsxDEV(nW,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:157,columnNumber:19},this),"Pause"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:156,columnNumber:17},this),t.jsxDEV(F,{onClick:f,variant:"destructive",size:"sm",children:[t.jsxDEV(Yv,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:161,columnNumber:19},this),"Stop"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:155,columnNumber:15},this),s==="paused"&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(F,{onClick:m,size:"sm",children:[t.jsxDEV(Kv,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:169,columnNumber:19},this),"Resume"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:168,columnNumber:17},this),t.jsxDEV(F,{onClick:f,variant:"destructive",size:"sm",children:[t.jsxDEV(Yv,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:173,columnNumber:19},this),"Stop"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:147,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"description",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV(ve,{id:"description",placeholder:"What are you working on?",value:i,onChange:p=>n(p.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:180,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV(is,{value:o,onValueChange:l,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:194,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:193,columnNumber:15},this),t.jsxDEV(as,{children:t.jsxDEV(X,{value:"none",children:"No engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:197,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:190,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:135,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:134,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/time/TimeTrackingWidget.tsx",lineNumber:116,columnNumber:5},this)}function Kt(){const s=Qt(),[e,r]=v.useState(()=>{const i=localStorage.getItem("sidebar-state");return i?JSON.parse(i):!1});return v.useEffect(()=>{localStorage.setItem("sidebar-state",JSON.stringify(e))},[e]),t.jsxDEV(Z5,{open:e,onOpenChange:r,children:t.jsxDEV("div",{className:"flex min-h-screen w-full bg-background",children:[t.jsxDEV(SB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:41,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 flex flex-col",children:[t.jsxDEV("header",{className:"h-16 border-b border-border bg-surface flex items-center justify-between px-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(X5,{className:"text-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:47,columnNumber:15},this),t.jsxDEV("button",{onClick:()=>s("/workspace"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:t.jsxDEV("img",{src:ec,alt:"Obsidian",className:"h-6 w-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:54,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:50,columnNumber:15},this),t.jsxDEV("div",{className:"border-l border-border h-8 mx-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:57,columnNumber:15},this),t.jsxDEV(ZB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:60,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:46,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(XB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:65,columnNumber:15},this),t.jsxDEV(YB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:68,columnNumber:15},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:t.jsxDEV(Mn,{className:"h-10 w-10 border border-border",children:t.jsxDEV(Ln,{className:"bg-secondary text-foreground",children:"AU"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:75,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:74,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:73,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:72,columnNumber:17},this),t.jsxDEV(xn,{className:"w-56",align:"end",children:[t.jsxDEV(Xu,{children:t.jsxDEV("div",{className:"flex flex-col space-y-1",children:[t.jsxDEV("p",{className:"text-sm font-medium leading-none text-foreground",children:"Audit User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:84,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs leading-none text-muted-foreground",children:"Account Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:87,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:83,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:82,columnNumber:19},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:92,columnNumber:19},this),t.jsxDEV(fr,{onClick:()=>s("/workspace"),children:"My Workspace"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:93,columnNumber:19},this),t.jsxDEV(fr,{onClick:()=>s("/settings"),children:"Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:96,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:71,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:45,columnNumber:11},this),t.jsxDEV("main",{className:"flex-1 overflow-auto",children:t.jsxDEV(dT,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:106,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:40,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/AppLayout.tsx",lineNumber:39,columnNumber:5},this)}function eq({open:s,onOpenChange:e,onSuccess:r}){const{user:a,currentFirm:i}=ar(),{toast:n}=Hs(),[o,l]=v.useState(!1),[d,u]=v.useState({entity_code:"",entity_name:"",entity_type:"department",description:"",audit_frequency:"annual",risk_score:0}),c=async b=>{if(b.preventDefault(),!a||!(i!=null&&i.id)){n({variant:"destructive",title:"Authentication required",description:"Please sign in to create an entity"});return}l(!0);try{const{error:h}=await le.from("audit_entities").insert({...d,firm_id:i.id,created_by:a.id,status:"active"});if(h)throw h;n({title:"Entity Created",description:"Audit entity has been successfully created."}),r(),e(!1),u({entity_code:"",entity_name:"",entity_type:"department",description:"",audit_frequency:"annual",risk_score:0})}catch(h){n({title:"Error",description:h.message,variant:"destructive"})}finally{l(!1)}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Add Auditable Entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:100,columnNumber:11},this),t.jsxDEV(Bt,{children:"Create a new entity in the audit universe (department, process, account, or system)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:99,columnNumber:9},this),t.jsxDEV("form",{onSubmit:c,children:[t.jsxDEV("div",{className:"grid gap-4 py-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"entity_code",children:"Entity Code *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:109,columnNumber:17},this),t.jsxDEV(ve,{id:"entity_code",placeholder:"e.g., FIN-001",value:d.entity_code,onChange:b=>u({...d,entity_code:b.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:108,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"entity_type",children:"Entity Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:119,columnNumber:17},this),t.jsxDEV(is,{value:d.entity_type,onValueChange:b=>u({...d,entity_type:b}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:125,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:124,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"department",children:"Department"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:128,columnNumber:21},this),t.jsxDEV(X,{value:"process",children:"Process"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:129,columnNumber:21},this),t.jsxDEV(X,{value:"account",children:"Account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:130,columnNumber:21},this),t.jsxDEV(X,{value:"system",children:"System"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:131,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:120,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:107,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"entity_name",children:"Entity Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:138,columnNumber:15},this),t.jsxDEV(ve,{id:"entity_name",placeholder:"e.g., Finance Department",value:d.entity_name,onChange:b=>u({...d,entity_name:b.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"description",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:149,columnNumber:15},this),t.jsxDEV(Wt,{id:"description",placeholder:"Brief description of the entity...",value:d.description,onChange:b=>u({...d,description:b.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:150,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_frequency",children:"Audit Frequency *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:161,columnNumber:17},this),t.jsxDEV(is,{value:d.audit_frequency,onValueChange:b=>u({...d,audit_frequency:b}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:167,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:166,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"quarterly",children:"Quarterly"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:170,columnNumber:21},this),t.jsxDEV(X,{value:"annual",children:"Annual"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:171,columnNumber:21},this),t.jsxDEV(X,{value:"biannual",children:"Biannual"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:172,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:169,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"risk_score",children:"Initial Risk Score (0-100)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:177,columnNumber:17},this),t.jsxDEV(ve,{id:"risk_score",type:"number",min:"0",max:"100",value:d.risk_score,onChange:b=>u({...d,risk_score:Number(b.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:106,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:190,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:o,children:o?"Creating...":"Create Entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:189,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:98,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/universe/CreateEntityDialog.tsx",lineNumber:97,columnNumber:5},this)}function tc({items:s}){return t.jsxDEV("nav",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:s.map((e,r)=>t.jsxDEV("div",{className:"flex items-center",children:[r>0&&t.jsxDEV(Cd,{className:"h-4 w-4 mx-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/breadcrumbs.tsx",lineNumber:18,columnNumber:25},this),e.href?t.jsxDEV(Ed,{to:e.href,className:"hover:text-foreground transition-colors",children:e.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/breadcrumbs.tsx",lineNumber:20,columnNumber:13},this):t.jsxDEV("span",{className:"text-foreground font-medium",children:e.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/breadcrumbs.tsx",lineNumber:27,columnNumber:13},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/breadcrumbs.tsx",lineNumber:17,columnNumber:9},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/breadcrumbs.tsx",lineNumber:15,columnNumber:5},this)}function sq(){const{currentFirm:s}=ar(),[e,r]=v.useState(""),[a,i]=v.useState(!1),[n,o]=v.useState("all"),{data:l,isLoading:d,refetch:u}=bs({queryKey:["audit-entities",s==null?void 0:s.id,n],queryFn:async()=>{if(!(s!=null&&s.id))return[];let m=le.from("audit_entities").select("*").order("entity_name");n!=="all"&&(m=m.eq("entity_type",n));const{data:f,error:p}=await m;return p?(console.error("[AuditUniverse] Error fetching entities:",p),[]):f||[]}}),c=l==null?void 0:l.filter(m=>m.entity_name.toLowerCase().includes(e.toLowerCase())||m.entity_code.toLowerCase().includes(e.toLowerCase())),b=m=>m>=75?"destructive":m>=50?"default":m>=25?"secondary":"outline",h=[{value:"all",label:"All Types"},{value:"department",label:"Department"},{value:"process",label:"Process"},{value:"account",label:"Account"},{value:"system",label:"System"}];return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Audit Universe"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:66,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Audit Universe"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:73,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage auditable entities and risk profiles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:72,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{onClick:()=>i(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:82,columnNumber:15},this),"Add Entity"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:71,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Entities"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:92,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:91,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:90,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"High Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:100,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:99,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:(l==null?void 0:l.filter(m=>Number(m.risk_score)>=75).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:103,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Due for Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:110,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:109,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:(l==null?void 0:l.filter(m=>m.next_audit_date&&new Date(m.next_audit_date)<=new Date).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:112,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:120,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:119,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(l==null?void 0:l.filter(m=>m.status==="active").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:123,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:122,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:89,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(ue,{children:"Auditable Entities"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:134,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:h.map(m=>t.jsxDEV(F,{variant:n===m.value?"default":"outline",size:"sm",onClick:()=>o(m.value),children:m.label},m.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:138,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:136,columnNumber:15},this),t.jsxDEV("div",{className:"relative w-64",children:[t.jsxDEV(li,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:149,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search entities...",value:e,onChange:m=>r(m.target.value),className:"pl-8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:133,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV(q,{children:d?t.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((m,f)=>t.jsxDEV("div",{className:"h-12 bg-muted rounded animate-pulse"},f,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:164,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:162,columnNumber:13},this):c&&c.length>0?t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Code"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV(Qe,{children:"Entity Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:172,columnNumber:19},this),t.jsxDEV(Qe,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:173,columnNumber:19},this),t.jsxDEV(Qe,{children:"Risk Score"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:174,columnNumber:19},this),t.jsxDEV(Qe,{children:"Audit Frequency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:175,columnNumber:19},this),t.jsxDEV(Qe,{children:"Last Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:176,columnNumber:19},this),t.jsxDEV(Qe,{children:"Next Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:177,columnNumber:19},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:170,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV(Ba,{children:c.map(m=>t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-accent/50",children:[t.jsxDEV(Fe,{className:"font-mono text-sm",children:m.entity_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:184,columnNumber:21},this),t.jsxDEV(Fe,{className:"font-medium",children:m.entity_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:185,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",className:"capitalize",children:m.entity_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:187,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:186,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:b(Number(m.risk_score)),children:Number(m.risk_score).toFixed(0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:193,columnNumber:25},this),Number(m.risk_score)>=75&&t.jsxDEV(Er,{className:"h-4 w-4 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:197,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:192,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:191,columnNumber:21},this),t.jsxDEV(Fe,{className:"capitalize",children:m.audit_frequency},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:201,columnNumber:21},this),t.jsxDEV(Fe,{children:m.last_audit_date?Ds(new Date(m.last_audit_date),"MMM d, yyyy"):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:202,columnNumber:21},this),t.jsxDEV(Fe,{children:m.next_audit_date?t.jsxDEV("span",{className:new Date(m.next_audit_date)<=new Date?"text-red-600 font-semibold":"",children:Ds(new Date(m.next_audit_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:207,columnNumber:25},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:205,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:m.status==="active"?"default":"secondary",className:"capitalize",children:m.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:213,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:212,columnNumber:21},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:183,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:168,columnNumber:13},this):t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(eW,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:223,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg",children:"No entities found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:224,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:"Start by adding your first auditable entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:222,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:160,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:131,columnNumber:7},this),t.jsxDEV(eq,{open:a,onOpenChange:i,onSuccess:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:231,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:65,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditUniverse.tsx",lineNumber:64,columnNumber:5},this)}function tq({open:s,onOpenChange:e,onSuccess:r}){const{currentOrg:a}=vn(),{toast:i}=Hs(),[n,o]=v.useState(!1),{data:l}=bs({queryKey:["audit-entities-dropdown",a==null?void 0:a.id],queryFn:async()=>{if(!a)return[];const{data:f}=await le.from("audit_entities").select("id, entity_name, entity_code").eq("firm_id",a.id).eq("status","active").order("entity_name");return f||[]},enabled:!!a&&s}),[d,u]=v.useState({entity_id:"",likelihood_score:3,impact_score:3,control_effectiveness:3,risk_category:"financial",risk_description:"",mitigation_strategy:""}),c=()=>{const f=d.likelihood_score*d.impact_score*4,p=d.control_effectiveness;return f*(1-(p-1)/5)},b=async f=>{if(f.preventDefault(),!!a){o(!0);try{const{data:{user:p}}=await le.auth.getUser();if(!p)throw new Error("Not authenticated");const{error:N}=await le.from("risk_assessments").insert({...d,organization_id:a.id,assessed_by:p.id,residual_risk:c(),status:"draft"});if(N)throw N;i({title:"Risk Assessment Created",description:"The risk assessment has been successfully created."}),r(),e(!1)}catch(p){i({title:"Error",description:p.message,variant:"destructive"})}finally{o(!1)}}},h=d.likelihood_score*d.impact_score*4,m=c();return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"New Risk Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:114,columnNumber:11},this),t.jsxDEV(Bt,{children:"Assess the likelihood and impact of risks for an entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:113,columnNumber:9},this),t.jsxDEV("form",{onSubmit:b,children:[t.jsxDEV("div",{className:"grid gap-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"entity_id",children:"Entity *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:122,columnNumber:15},this),t.jsxDEV(is,{value:d.entity_id,onValueChange:f=>u({...d,entity_id:f}),required:!0,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select an entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:129,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:128,columnNumber:17},this),t.jsxDEV(as,{children:l==null?void 0:l.map(f=>t.jsxDEV(X,{value:f.id,children:[f.entity_code," - ",f.entity_name]},f.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:133,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:121,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"risk_category",children:"Risk Category *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:142,columnNumber:15},this),t.jsxDEV(is,{value:d.risk_category,onValueChange:f=>u({...d,risk_category:f}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:148,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:147,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"financial",children:"Financial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:151,columnNumber:19},this),t.jsxDEV(X,{value:"operational",children:"Operational"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:152,columnNumber:19},this),t.jsxDEV(X,{value:"compliance",children:"Compliance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:153,columnNumber:19},this),t.jsxDEV(X,{value:"strategic",children:"Strategic"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:154,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:141,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"risk_description",children:"Risk Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV(Wt,{id:"risk_description",placeholder:"Describe the identified risk...",value:d.risk_description,onChange:f=>u({...d,risk_description:f.target.value}),required:!0,rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:159,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"likelihood_score",children:"Likelihood (1-5) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:173,columnNumber:17},this),t.jsxDEV(ve,{id:"likelihood_score",type:"number",min:"1",max:"5",value:d.likelihood_score,onChange:f=>u({...d,likelihood_score:Number(f.target.value)}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:174,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"1=Rare, 5=Almost Certain"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:183,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:172,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"impact_score",children:"Impact (1-5) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:187,columnNumber:17},this),t.jsxDEV(ve,{id:"impact_score",type:"number",min:"1",max:"5",value:d.impact_score,onChange:f=>u({...d,impact_score:Number(f.target.value)}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:188,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"1=Insignificant, 5=Catastrophic"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:186,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"control_effectiveness",children:"Control Effectiveness (1-5) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:201,columnNumber:17},this),t.jsxDEV(ve,{id:"control_effectiveness",type:"number",min:"1",max:"5",value:d.control_effectiveness,onChange:f=>u({...d,control_effectiveness:Number(f.target.value)}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:202,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"1=Poor, 5=Excellent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:171,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[t.jsxDEV("div",{children:[t.jsxDEV(H,{className:"text-sm text-muted-foreground",children:"Inherent Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:217,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold",children:h.toFixed(0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:218,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:216,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(H,{className:"text-sm text-muted-foreground",children:"Residual Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:221,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:m.toFixed(0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:215,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"mitigation_strategy",children:"Mitigation Strategy"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:227,columnNumber:15},this),t.jsxDEV(Wt,{id:"mitigation_strategy",placeholder:"Describe mitigation measures...",value:d.mitigation_strategy,onChange:f=>u({...d,mitigation_strategy:f.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:238,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:n,children:n?"Creating...":"Create Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:237,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:112,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risks/CreateRiskAssessmentDialog.tsx",lineNumber:111,columnNumber:5},this)}function rq(){const{currentFirm:s}=ar(),[e,r]=v.useState(!1),{data:a,isLoading:i,refetch:n}=bs({queryKey:["risk-assessments",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const{data:l,error:d}=await le.from("risk_assessments").select(`
          *,
          entity:audit_entities(entity_name, entity_code)
        `).order("inherent_risk",{ascending:!1});return d?(console.error("[RiskAssessments] Error:",d),[]):l||[]}}),o=l=>l>=75?{label:"Critical",variant:"destructive"}:l>=50?{label:"High",variant:"default"}:l>=25?{label:"Medium",variant:"secondary"}:{label:"Low",variant:"outline"};return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Risk Assessments"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:48,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Risk Assessments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:55,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Evaluate and track entity risks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{onClick:()=>r(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:64,columnNumber:15},this),"New Assessment"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:53,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Assessments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:72,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:71,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Critical Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:80,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:(a==null?void 0:a.filter(l=>Number(l.inherent_risk)>=75).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:84,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:79,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"High Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:91,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:90,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:(a==null?void 0:a.filter(l=>Number(l.inherent_risk)>=50&&Number(l.inherent_risk)<75).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:94,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:89,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:100,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.filter(l=>l.status==="approved").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:104,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:70,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Risk Assessment Register"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:113,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:112,columnNumber:9},this),t.jsxDEV(q,{children:i?t.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((l,d)=>t.jsxDEV("div",{className:"h-12 bg-muted rounded animate-pulse"},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:119,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:117,columnNumber:13},this):a&&a.length>0?t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:126,columnNumber:19},this),t.jsxDEV(Qe,{children:"Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:127,columnNumber:19},this),t.jsxDEV(Qe,{children:"Category"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:128,columnNumber:19},this),t.jsxDEV(Qe,{className:"text-center",children:"Likelihood"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:129,columnNumber:19},this),t.jsxDEV(Qe,{className:"text-center",children:"Impact"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:130,columnNumber:19},this),t.jsxDEV(Qe,{className:"text-center",children:"Inherent Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:131,columnNumber:19},this),t.jsxDEV(Qe,{className:"text-center",children:"Control"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:132,columnNumber:19},this),t.jsxDEV(Qe,{className:"text-center",children:"Residual Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:133,columnNumber:19},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:125,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:124,columnNumber:15},this),t.jsxDEV(Ba,{children:a.map(l=>{var c,b;const d=o(Number(l.inherent_risk)),u=l.residual_risk?o(Number(l.residual_risk)):null;return t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-accent/50",children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:(c=l.entity)==null?void 0:c.entity_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:146,columnNumber:27},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:(b=l.entity)==null?void 0:b.entity_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:147,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:145,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:144,columnNumber:23},this),t.jsxDEV(Fe,{children:Ds(new Date(l.assessment_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:150,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",className:"capitalize",children:l.risk_category||""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:152,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:151,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-center",children:t.jsxDEV(he,{variant:"outline",children:[l.likelihood_score,"/5"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:157,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:156,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-center",children:t.jsxDEV(he,{variant:"outline",children:[l.impact_score,"/5"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:160,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:159,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-center",children:t.jsxDEV(he,{variant:d.variant,children:Number(l.inherent_risk).toFixed(0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:163,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:162,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-center",children:l.control_effectiveness?t.jsxDEV(he,{variant:"outline",children:[l.control_effectiveness,"/5"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:169,columnNumber:27},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:167,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-center",children:u?t.jsxDEV(he,{variant:u.variant,children:Number(l.residual_risk).toFixed(0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:174,columnNumber:27},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:172,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:l.status==="approved"?"default":"secondary",className:"capitalize",children:l.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:180,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:179,columnNumber:23},this)]},l.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:143,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:123,columnNumber:13},this):t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(da,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:194,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg",children:"No risk assessments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:195,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:"Create your first risk assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:111,columnNumber:7},this),t.jsxDEV(tq,{open:e,onOpenChange:r,onSuccess:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:47,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/RiskAssessments.tsx",lineNumber:46,columnNumber:5},this)}function aq({open:s,onOpenChange:e,onSuccess:r}){const{currentOrg:a}=vn(),{toast:i}=Hs(),[n,o]=v.useState(!1),l=new Date().getFullYear(),[d,u]=v.useState({plan_name:"",plan_year:l,plan_period:"Annual",start_date:"",end_date:"",total_budget:"",allocated_hours:"",description:""}),c=async b=>{if(b.preventDefault(),!!a){o(!0);try{const{data:{user:h}}=await le.auth.getUser();if(!h)throw new Error("Not authenticated");const{error:m}=await le.from("audit_plans").insert({plan_name:d.plan_name,plan_year:d.plan_year,plan_period:d.plan_period,start_date:d.start_date,end_date:d.end_date,allocated_hours:d.allocated_hours?Number(d.allocated_hours):null,description:d.description,firm_id:a.id,created_by:h.id,status:"draft"});if(m)throw m;i({title:"Plan Created",description:"Audit plan has been successfully created."}),r(),e(!1),u({plan_name:"",plan_year:l,plan_period:"Annual",start_date:"",end_date:"",total_budget:"",allocated_hours:"",description:""})}catch(h){i({title:"Error",description:h.message,variant:"destructive"})}finally{o(!1)}}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create Audit Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(Bt,{children:"Define annual or quarterly audit plan with budget and resource allocation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:106,columnNumber:9},this),t.jsxDEV("form",{onSubmit:c,children:[t.jsxDEV("div",{className:"grid gap-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"plan_name",children:"Plan Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:115,columnNumber:15},this),t.jsxDEV(ve,{id:"plan_name",placeholder:"e.g., FY 2025 Annual Audit Plan",value:d.plan_name,onChange:b=>u({...d,plan_name:b.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:114,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"plan_year",children:"Plan Year *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:127,columnNumber:17},this),t.jsxDEV(ve,{id:"plan_year",type:"number",min:"2020",max:"2100",value:d.plan_year,onChange:b=>u({...d,plan_year:Number(b.target.value)}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:128,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:126,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"plan_period",children:"Period *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:139,columnNumber:17},this),t.jsxDEV(is,{value:d.plan_period,onValueChange:b=>u({...d,plan_period:b}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:145,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:144,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"Q1",children:"Q1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:148,columnNumber:21},this),t.jsxDEV(X,{value:"Q2",children:"Q2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:149,columnNumber:21},this),t.jsxDEV(X,{value:"Q3",children:"Q3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:150,columnNumber:21},this),t.jsxDEV(X,{value:"Q4",children:"Q4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:151,columnNumber:21},this),t.jsxDEV(X,{value:"Annual",children:"Annual"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:147,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:140,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"start_date",children:"Start Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:160,columnNumber:17},this),t.jsxDEV(ve,{id:"start_date",type:"date",value:d.start_date,onChange:b=>u({...d,start_date:b.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:159,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"end_date",children:"End Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:170,columnNumber:17},this),t.jsxDEV(ve,{id:"end_date",type:"date",value:d.end_date,onChange:b=>u({...d,end_date:b.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:169,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:158,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"total_budget",children:"Total Budget ($)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:183,columnNumber:17},this),t.jsxDEV(ve,{id:"total_budget",type:"number",min:"0",step:"0.01",placeholder:"e.g., 500000",value:d.total_budget,onChange:b=>u({...d,total_budget:b.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:184,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:182,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"allocated_hours",children:"Allocated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:195,columnNumber:17},this),t.jsxDEV(ve,{id:"allocated_hours",type:"number",min:"0",placeholder:"e.g., 2000",value:d.allocated_hours,onChange:b=>u({...d,allocated_hours:b.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:196,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"description",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:208,columnNumber:15},this),t.jsxDEV(Wt,{id:"description",placeholder:"Plan objectives and scope...",value:d.description,onChange:b=>u({...d,description:b.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:113,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:n,children:n?"Creating...":"Create Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:222,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:105,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/plans/CreateAuditPlanDialog.tsx",lineNumber:104,columnNumber:5},this)}function iq(){const{currentFirm:s}=ar(),[e,r]=v.useState(!1),{data:a,isLoading:i,refetch:n}=bs({queryKey:["audit-plans",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return[];const{data:l,error:d}=await le.from("audit_plans").select(`
          *,
          audits:audits(count)
        `).order("plan_year",{ascending:!1});return d?(console.error("[AuditPlans] Error:",d),[]):l||[]}}),o=l=>{switch(l){case"approved":return"default";case"in_progress":return"secondary";case"completed":return"outline";default:return"secondary"}};return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Audit Plans"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:51,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Audit Plans"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:58,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Annual and quarterly audit planning"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:61,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:57,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{onClick:()=>r(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:67,columnNumber:15},this),"New Plan"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:66,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:56,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Plans"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:75,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:79,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:74,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:84,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:83,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.filter(l=>l.status==="in_progress").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:87,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:82,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:94,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.filter(l=>l.status==="approved").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:97,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:92,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:104,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:103,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(l=>l.status==="completed").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:107,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:73,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Audit Plan Register"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:116,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:115,columnNumber:9},this),t.jsxDEV(q,{children:i?t.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((l,d)=>t.jsxDEV("div",{className:"h-12 bg-muted rounded animate-pulse"},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:122,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:120,columnNumber:13},this):a&&a.length>0?t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Plan Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:129,columnNumber:19},this),t.jsxDEV(Qe,{children:"Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:130,columnNumber:19},this),t.jsxDEV(Qe,{children:"Period"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:131,columnNumber:19},this),t.jsxDEV(Qe,{children:"Duration"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:132,columnNumber:19},this),t.jsxDEV(Qe,{children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:133,columnNumber:19},this),t.jsxDEV(Qe,{children:"Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:134,columnNumber:19},this),t.jsxDEV(Qe,{children:"Audits"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:135,columnNumber:19},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:128,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:127,columnNumber:15},this),t.jsxDEV(Ba,{children:a.map(l=>{var d,u;return t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-accent/50",children:[t.jsxDEV(Fe,{className:"font-medium",children:l.plan_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:142,columnNumber:21},this),t.jsxDEV(Fe,{children:l.plan_year},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:143,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",children:l.plan_period},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:145,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:144,columnNumber:21},this),t.jsxDEV(Fe,{children:[Ds(new Date(l.start_date),"MMM d")," - ",Ds(new Date(l.end_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:147,columnNumber:21},this),t.jsxDEV(Fe,{children:l.total_budget?`$${Number(l.total_budget).toLocaleString()}`:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:150,columnNumber:21},this),t.jsxDEV(Fe,{children:[l.allocated_hours||""," hrs"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:153,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"secondary",children:((u=(d=l.audits)==null?void 0:d[0])==null?void 0:u.count)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:155,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:154,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:o(l.status),className:"capitalize",children:l.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:158,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:157,columnNumber:21},this)]},l.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:141,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:126,columnNumber:13},this):t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(la,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:168,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg",children:"No audit plans"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:"Create your first audit plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:114,columnNumber:7},this),t.jsxDEV(aq,{open:e,onOpenChange:r,onSuccess:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditPlans.tsx",lineNumber:49,columnNumber:5},this)}function nq({open:s,onOpenChange:e,onSuccess:r}){const{currentOrg:a}=vn(),{toast:i}=Hs(),[n,o]=v.useState(!1),{data:l}=bs({queryKey:["audit-plans-dropdown",a==null?void 0:a.id],queryFn:async()=>{if(!a)return[];const{data:h}=await le.from("audit_plans").select("id, plan_name, plan_year").eq("firm_id",a.id).order("plan_year",{ascending:!1});return h||[]},enabled:!!a&&s}),{data:d}=bs({queryKey:["audit-entities-dropdown",a==null?void 0:a.id],queryFn:async()=>{if(!a)return[];const{data:h}=await le.from("audit_entities").select("id, entity_name, entity_code").eq("firm_id",a.id).eq("status","active").order("entity_name");return h||[]},enabled:!!a&&s}),[u,c]=v.useState({audit_plan_id:"",audit_number:"",audit_title:"",audit_type:"financial",entity_id:"",objective:"",scope:"",planned_start_date:"",planned_end_date:"",priority:"medium",budget_allocated:"",hours_allocated:""}),b=async h=>{if(h.preventDefault(),!!a){o(!0);try{const{data:{user:m}}=await le.auth.getUser();if(!m)throw new Error("Not authenticated");const{error:f}=await le.from("audits").insert({...u,entity_id:u.entity_id||null,budget_allocated:u.budget_allocated?Number(u.budget_allocated):null,hours_allocated:u.hours_allocated?Number(u.hours_allocated):null,firm_id:a.id,created_by:m.id,lead_auditor_id:m.id,status:"planned"});if(f)throw f;i({title:"Audit Created",description:"The audit engagement has been successfully created."}),r(),e(!1)}catch(m){i({title:"Error",description:m.message,variant:"destructive"})}finally{o(!1)}}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create New Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV(Bt,{children:"Set up a new audit engagement with scope, timeline, and resources"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:126,columnNumber:9},this),t.jsxDEV("form",{onSubmit:b,children:[t.jsxDEV("div",{className:"grid gap-4 py-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_number",children:"Audit Number *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:136,columnNumber:17},this),t.jsxDEV(ve,{id:"audit_number",placeholder:"e.g., AUD-2025-001",value:u.audit_number,onChange:h=>c({...u,audit_number:h.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:135,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_plan_id",children:"Audit Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:146,columnNumber:17},this),t.jsxDEV(is,{value:u.audit_plan_id,onValueChange:h=>c({...u,audit_plan_id:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select a plan (optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:152,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:151,columnNumber:19},this),t.jsxDEV(as,{children:l==null?void 0:l.map(h=>t.jsxDEV(X,{value:h.id,children:[h.plan_year," - ",h.plan_name]},h.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:156,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:154,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:134,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_title",children:"Audit Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:166,columnNumber:15},this),t.jsxDEV(ve,{id:"audit_title",placeholder:"e.g., Financial Statement Audit FY2025",value:u.audit_title,onChange:h=>c({...u,audit_title:h.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:165,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_type",children:"Audit Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:178,columnNumber:17},this),t.jsxDEV(is,{value:u.audit_type,onValueChange:h=>c({...u,audit_type:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:184,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:183,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"financial",children:"Financial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:187,columnNumber:21},this),t.jsxDEV(X,{value:"operational",children:"Operational"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:188,columnNumber:21},this),t.jsxDEV(X,{value:"compliance",children:"Compliance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:189,columnNumber:21},this),t.jsxDEV(X,{value:"it",children:"IT"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:190,columnNumber:21},this),t.jsxDEV(X,{value:"integrated",children:"Integrated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:191,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:179,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:177,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"entity_id",children:"Entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:196,columnNumber:17},this),t.jsxDEV(is,{value:u.entity_id,onValueChange:h=>c({...u,entity_id:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select an entity (optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:202,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:201,columnNumber:19},this),t.jsxDEV(as,{children:d==null?void 0:d.map(h=>t.jsxDEV(X,{value:h.id,children:[h.entity_code," - ",h.entity_name]},h.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:206,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:204,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:176,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"objective",children:"Objective"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:216,columnNumber:15},this),t.jsxDEV(Wt,{id:"objective",placeholder:"Audit objectives...",value:u.objective,onChange:h=>c({...u,objective:h.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:215,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"scope",children:"Scope"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:227,columnNumber:15},this),t.jsxDEV(Wt,{id:"scope",placeholder:"Audit scope and boundaries...",value:u.scope,onChange:h=>c({...u,scope:h.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:226,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"planned_start_date",children:"Planned Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:239,columnNumber:17},this),t.jsxDEV(ve,{id:"planned_start_date",type:"date",value:u.planned_start_date,onChange:h=>c({...u,planned_start_date:h.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:238,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"planned_end_date",children:"Planned End Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:248,columnNumber:17},this),t.jsxDEV(ve,{id:"planned_end_date",type:"date",value:u.planned_end_date,onChange:h=>c({...u,planned_end_date:h.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:249,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:247,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:237,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"priority",children:"Priority *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:260,columnNumber:17},this),t.jsxDEV(is,{value:u.priority,onValueChange:h=>c({...u,priority:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:266,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:265,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:269,columnNumber:21},this),t.jsxDEV(X,{value:"medium",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:270,columnNumber:21},this),t.jsxDEV(X,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:271,columnNumber:21},this),t.jsxDEV(X,{value:"critical",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:272,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:268,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:261,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:259,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"budget_allocated",children:"Budget ($)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV(ve,{id:"budget_allocated",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:u.budget_allocated,onChange:h=>c({...u,budget_allocated:h.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:276,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"hours_allocated",children:"Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:289,columnNumber:17},this),t.jsxDEV(ve,{id:"hours_allocated",type:"number",min:"0",placeholder:"0",value:u.hours_allocated,onChange:h=>c({...u,hours_allocated:h.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:290,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:133,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:302,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:n,children:n?"Creating...":"Create Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:305,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:301,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:132,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:125,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/audits/CreateAuditDialog.tsx",lineNumber:124,columnNumber:5},this)}function oq(){const{currentFirm:s}=ar(),[e,r]=v.useState(""),[a,i]=v.useState(!1),[n,o]=v.useState("all"),{data:l,isLoading:d,refetch:u}=bs({queryKey:["audits-list",s==null?void 0:s.id,n],queryFn:async()=>{if(!(s!=null&&s.id))return[];let f=le.from("audits").select(`
          *,
          entity:audit_entities(entity_name, entity_code),
          plan:audit_plans(plan_name)
        `).order("created_at",{ascending:!1});n!=="all"&&(f=f.eq("status",n));const{data:p,error:N}=await f;return N?(console.error("[ActiveAuditsList] Error:",N),[]):p||[]}}),c=l==null?void 0:l.filter(f=>f.audit_title.toLowerCase().includes(e.toLowerCase())||f.audit_number.toLowerCase().includes(e.toLowerCase())),b=f=>{switch(f){case"planned":return"outline";case"in_preparation":return"secondary";case"fieldwork":return"default";case"reporting":return"default";case"closed":return"outline";default:return"secondary"}},h=f=>{switch(f.status){case"planned":return 10;case"in_preparation":return 25;case"fieldwork":return 60;case"reporting":return 85;case"closed":return 100;default:return 0}},m=[{value:"all",label:"All Status"},{value:"planned",label:"Planned"},{value:"in_preparation",label:"Preparation"},{value:"fieldwork",label:"Fieldwork"},{value:"reporting",label:"Reporting"},{value:"closed",label:"Closed"}];return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Active Audits"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Audits"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:94,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage audit engagements and fieldwork"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{onClick:()=>i(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:103,columnNumber:15},this),"New Audit"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:102,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:92,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:m.slice(1).map(f=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground capitalize",children:f.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:113,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.filter(p=>p.status===f.value).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:117,columnNumber:13},this)]},f.value,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:111,columnNumber:11},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:109,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(ue,{children:"Audit Register"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:129,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:m.map(f=>t.jsxDEV(F,{variant:n===f.value?"default":"outline",size:"sm",onClick:()=>o(f.value),children:f.label},f.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:133,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:131,columnNumber:15},this),t.jsxDEV("div",{className:"relative w-64",children:[t.jsxDEV(li,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:144,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search audits...",value:e,onChange:f=>r(f.target.value),className:"pl-8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:130,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:128,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:127,columnNumber:9},this),t.jsxDEV(q,{children:d?t.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((f,p)=>t.jsxDEV("div",{className:"h-16 bg-muted rounded animate-pulse"},p,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:159,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:157,columnNumber:13},this):c&&c.length>0?t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Audit Number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:166,columnNumber:19},this),t.jsxDEV(Qe,{children:"Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:167,columnNumber:19},this),t.jsxDEV(Qe,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:168,columnNumber:19},this),t.jsxDEV(Qe,{children:"Entity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:169,columnNumber:19},this),t.jsxDEV(Qe,{children:"Timeline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:170,columnNumber:19},this),t.jsxDEV(Qe,{children:"Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:172,columnNumber:19},this),t.jsxDEV(Qe,{children:"Priority"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:173,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:164,columnNumber:15},this),t.jsxDEV(Ba,{children:c.map(f=>t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-accent/50",children:[t.jsxDEV(Fe,{className:"font-mono text-sm",children:f.audit_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:179,columnNumber:21},this),t.jsxDEV(Fe,{className:"font-medium",children:f.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:180,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",className:"capitalize",children:f.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:182,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:181,columnNumber:21},this),t.jsxDEV(Fe,{children:f.entity?t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("div",{className:"font-medium",children:f.entity.entity_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:189,columnNumber:27},this),t.jsxDEV("div",{className:"text-muted-foreground",children:f.entity.entity_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:190,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:188,columnNumber:25},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:186,columnNumber:21},this),t.jsxDEV(Fe,{className:"text-sm",children:[f.planned_start_date&&Ds(new Date(f.planned_start_date),"MMM d"),f.planned_end_date&&` - ${Ds(new Date(f.planned_end_date),"MMM d, yy")}`]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:194,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:t.jsxDEV("span",{className:"text-muted-foreground",children:[h(f),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:201,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:200,columnNumber:25},this),t.jsxDEV(cr,{value:h(f),className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:203,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:199,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:198,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:b(f.status),className:"capitalize",children:f.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:207,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:206,columnNumber:21},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:f.priority==="high"||f.priority==="critical"?"destructive":"outline",className:"capitalize",children:f.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:212,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:211,columnNumber:21},this)]},f.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:178,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:163,columnNumber:13},this):t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Ws,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:222,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg",children:"No audits found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:223,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:"Create your first audit engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:224,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:221,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:126,columnNumber:7},this),t.jsxDEV(nq,{open:a,onOpenChange:i,onSuccess:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:230,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:86,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ActiveAuditsList.tsx",lineNumber:85,columnNumber:5},this)}function lq({open:s,onOpenChange:e,onSuccess:r,procedureContext:a}){const{currentOrg:i}=vn(),{toast:n}=Hs(),[o,l]=v.useState(!1),{data:d}=bs({queryKey:["audits-dropdown",i==null?void 0:i.id],queryFn:async()=>{if(!i)return[];const{data:h}=await le.from("audits").select("id, audit_number, audit_title").eq("firm_id",i.id).in("status",["in_preparation","fieldwork","reporting"]).order("audit_number");return h||[]},enabled:!!i&&s}),[u,c]=v.useState({audit_id:"",finding_number:"",finding_title:"",finding_type:"deficiency",severity:"medium",condition_description:"",criteria:"",cause:"",effect:"",recommendation:"",target_completion_date:""});v.useEffect(()=>{a!=null&&a.auditId&&c(h=>({...h,audit_id:a.auditId||h.audit_id})),a!=null&&a.procedureName&&c(h=>({...h,condition_description:`Finding identified during procedure: ${a.procedureName}

`}))},[a]);const b=async h=>{if(h.preventDefault(),!!i){l(!0);try{const{data:{user:m}}=await le.auth.getUser();if(!m)throw new Error("Not authenticated");const{error:f}=await le.from("audit_findings").insert({...u,firm_id:i.id,identified_by:m.id,status:"open"});if(f)throw f;n({title:"Finding Logged",description:"The audit finding has been successfully logged."}),r(),e(!1)}catch(m){n({title:"Error",description:m.message,variant:"destructive"})}finally{l(!1)}}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Log Audit Finding"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:133,columnNumber:11},this),t.jsxDEV(Bt,{children:"Document a finding using the 5Cs framework: Condition, Criteria, Cause, Consequence (Effect), Corrective action"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV("form",{onSubmit:b,children:[t.jsxDEV("div",{className:"grid gap-4 py-4",children:[(a==null?void 0:a.procedureName)&&t.jsxDEV(jr,{children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:142,columnNumber:17},this),t.jsxDEV(Ar,{children:["Creating finding from procedure: ",t.jsxDEV("strong",{children:a.procedureName},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:144,columnNumber:52},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:143,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:141,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"finding_number",children:"Finding Number *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:150,columnNumber:17},this),t.jsxDEV(ve,{id:"finding_number",placeholder:"e.g., F-2025-001",value:u.finding_number,onChange:h=>c({...u,finding_number:h.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:149,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_id",children:"Audit *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:160,columnNumber:17},this),t.jsxDEV(is,{value:u.audit_id,onValueChange:h=>c({...u,audit_id:h}),required:!0,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:167,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:166,columnNumber:19},this),t.jsxDEV(as,{children:d==null?void 0:d.map(h=>t.jsxDEV(X,{value:h.id,children:[h.audit_number," - ",h.audit_title]},h.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:171,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:169,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"finding_title",children:"Finding Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:181,columnNumber:15},this),t.jsxDEV(ve,{id:"finding_title",placeholder:"Brief description of the finding",value:u.finding_title,onChange:h=>c({...u,finding_title:h.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:182,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:180,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"finding_type",children:"Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:193,columnNumber:17},this),t.jsxDEV(is,{value:u.finding_type,onValueChange:h=>c({...u,finding_type:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:199,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:198,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"deficiency",children:"Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:202,columnNumber:21},this),t.jsxDEV(X,{value:"observation",children:"Observation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:203,columnNumber:21},this),t.jsxDEV(X,{value:"recommendation",children:"Recommendation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:204,columnNumber:21},this),t.jsxDEV(X,{value:"non_compliance",children:"Non-Compliance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:205,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:201,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:194,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:192,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"severity",children:"Severity *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:210,columnNumber:17},this),t.jsxDEV(is,{value:u.severity,onValueChange:h=>c({...u,severity:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:216,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:215,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:219,columnNumber:21},this),t.jsxDEV(X,{value:"medium",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:220,columnNumber:21},this),t.jsxDEV(X,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:221,columnNumber:21},this),t.jsxDEV(X,{value:"critical",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:222,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:218,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:209,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"target_completion_date",children:"Target Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:227,columnNumber:17},this),t.jsxDEV(ve,{id:"target_completion_date",type:"date",value:u.target_completion_date,onChange:h=>c({...u,target_completion_date:h.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:228,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"condition_description",children:"Condition (What was found) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:238,columnNumber:15},this),t.jsxDEV(Wt,{id:"condition_description",placeholder:"Describe what you observed...",value:u.condition_description,onChange:h=>c({...u,condition_description:h.target.value}),required:!0,rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:237,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"criteria",children:"Criteria (What should be)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:250,columnNumber:15},this),t.jsxDEV(Wt,{id:"criteria",placeholder:"Standards, policies, or regulations that apply...",value:u.criteria,onChange:h=>c({...u,criteria:h.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:251,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:249,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"cause",children:"Cause (Why it happened)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:261,columnNumber:15},this),t.jsxDEV(Wt,{id:"cause",placeholder:"Root cause analysis...",value:u.cause,onChange:h=>c({...u,cause:h.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:260,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"effect",children:"Effect (Impact/Consequence)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV(Wt,{id:"effect",placeholder:"Potential or actual impact...",value:u.effect,onChange:h=>c({...u,effect:h.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:273,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:271,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"recommendation",children:"Recommendation (Corrective Action)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:283,columnNumber:15},this),t.jsxDEV(Wt,{id:"recommendation",placeholder:"Suggested remediation steps...",value:u.recommendation,onChange:h=>c({...u,recommendation:h.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:139,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:294,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:o,children:o?"Logging...":"Log Finding"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:297,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:293,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:138,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:131,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/findings/CreateFindingDialog.tsx",lineNumber:130,columnNumber:5},this)}function dq(){const{currentFirm:s}=ar(),[e,r]=Pm(),[a,i]=v.useState(""),[n,o]=v.useState(!1),[l,d]=v.useState("all"),u={procedureId:e.get("procedureId")||void 0,procedureName:e.get("procedureName")||void 0,auditId:e.get("auditId")||void 0};v.useEffect(()=>{e.get("create")==="true"&&(o(!0),e.delete("create"),r(e,{replace:!0}))},[e,r]);const{data:c,isLoading:b,refetch:h}=bs({queryKey:["audit-findings",s==null?void 0:s.id,l],queryFn:async()=>{if(!(s!=null&&s.id))return[];let g=le.from("audit_findings").select(`
          *,
          audit:audits(audit_number, audit_title)
        `).order("identified_date",{ascending:!1});l!=="all"&&(g=g.eq("status",l));const{data:D,error:w}=await g;return w?(console.error("[FindingsManagement] Error:",w),[]):D||[]}}),m=c==null?void 0:c.filter(g=>g.finding_title.toLowerCase().includes(a.toLowerCase())||g.finding_number.toLowerCase().includes(a.toLowerCase())),f=g=>{switch(g){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},p=g=>{switch(g){case"open":return"destructive";case"in_progress":return"default";case"resolved":return"secondary";case"closed":return"outline";default:return"secondary"}},N=[{value:"all",label:"All"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}];return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Findings"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:101,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Findings & Issues"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:108,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Track audit findings and remediation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{onClick:()=>o(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:117,columnNumber:15},this),"Log Finding"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:106,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:129,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:124,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Open"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:134,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:133,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:(c==null?void 0:c.filter(g=>g.status==="open").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:137,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:144,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:143,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:(c==null?void 0:c.filter(g=>g.status==="in_progress").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:147,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:142,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:153,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:(c==null?void 0:c.filter(g=>g.severity==="critical").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:152,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Overdue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:164,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:163,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:(c==null?void 0:c.filter(g=>g.target_completion_date&&new Date(g.target_completion_date)<new Date&&g.status!=="closed").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:123,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(ue,{children:"Findings Register"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:N.map(g=>t.jsxDEV(F,{variant:l===g.value?"default":"outline",size:"sm",onClick:()=>d(g.value),children:g.label},g.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:185,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:183,columnNumber:15},this),t.jsxDEV("div",{className:"relative w-64",children:[t.jsxDEV(li,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:196,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search findings...",value:a,onChange:g=>i(g.target.value),className:"pl-8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:195,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:180,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:179,columnNumber:9},this),t.jsxDEV(q,{children:b?t.jsxDEV("div",{className:"space-y-2",children:[...Array(5)].map((g,D)=>t.jsxDEV("div",{className:"h-16 bg-muted rounded animate-pulse"},D,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:211,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:209,columnNumber:13},this):m&&m.length>0?t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Finding #"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:218,columnNumber:19},this),t.jsxDEV(Qe,{children:"Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:219,columnNumber:19},this),t.jsxDEV(Qe,{children:"Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:220,columnNumber:19},this),t.jsxDEV(Qe,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:221,columnNumber:19},this),t.jsxDEV(Qe,{children:"Severity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:222,columnNumber:19},this),t.jsxDEV(Qe,{children:"Identified"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:223,columnNumber:19},this),t.jsxDEV(Qe,{children:"Target Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:224,columnNumber:19},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:225,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:217,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:216,columnNumber:15},this),t.jsxDEV(Ba,{children:m.map(g=>{const D=g.target_completion_date&&new Date(g.target_completion_date)<new Date&&g.status!=="closed";return t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-accent/50",children:[t.jsxDEV(Fe,{className:"font-mono text-sm",children:g.finding_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:236,columnNumber:23},this),t.jsxDEV(Fe,{className:"font-medium max-w-xs truncate",children:g.finding_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:237,columnNumber:23},this),t.jsxDEV(Fe,{children:g.audit?t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("div",{className:"font-medium",children:g.audit.audit_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:243,columnNumber:29},this),t.jsxDEV("div",{className:"text-muted-foreground truncate max-w-xs",children:g.audit.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:244,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:242,columnNumber:27},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:240,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",className:"capitalize",children:g.finding_type.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:251,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:250,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:f(g.severity),className:"capitalize",children:g.severity},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:256,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:255,columnNumber:23},this),t.jsxDEV(Fe,{children:g.identified_date&&Ds(new Date(g.identified_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:260,columnNumber:23},this),t.jsxDEV(Fe,{children:g.target_completion_date?t.jsxDEV("span",{className:D?"text-red-600 font-semibold":"",children:Ds(new Date(g.target_completion_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:265,columnNumber:27},this):""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:263,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:p(g.status),className:"capitalize",children:g.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:271,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:270,columnNumber:23},this)]},g.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:235,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:215,columnNumber:13},this):t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:282,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg",children:"No findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:283,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:"Log your first audit finding"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:207,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:178,columnNumber:7},this),t.jsxDEV(lq,{open:n,onOpenChange:o,onSuccess:h,procedureContext:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:290,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:100,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/FindingsManagement.tsx",lineNumber:99,columnNumber:5},this)}function _D(s){const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["workpapers",s],queryFn:async()=>{if(!s)return[];const{data:c,error:b}=await le.from("audit_workpapers").select("*").eq("audit_id",s).order("reference_number",{ascending:!0});if(b)throw b;return c},enabled:!!s}),n=Rs({mutationFn:async c=>{const b={audit_id:s,firm_id:"00000000-0000-0000-0000-000000000000",title:c.title||"Untitled",workpaper_type:c.workpaper_type||"analysis",reference_number:c.reference_number||`WP-${Date.now()}`,content:c.content||{},prepared_by:null,prepared_date:new Date().toISOString().split("T")[0],status:"draft"},{data:h,error:m}=await le.from("audit_workpapers").insert(b).select().single();if(m)throw m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["workpapers",s]}),e({title:"Workpaper created",description:"The workpaper has been created successfully."})},onError:c=>{e({title:"Error",description:c.message,variant:"destructive"})}}),o=Rs({mutationFn:async({id:c,updates:b})=>{const{data:h,error:m}=await le.from("audit_workpapers").update(b).eq("id",c).select().single();if(m)throw m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["workpapers",s]}),e({title:"Workpaper updated",description:"The workpaper has been updated successfully."})},onError:c=>{e({title:"Error",description:c.message,variant:"destructive"})}}),l=Rs({mutationFn:async c=>{const{data:b,error:h}=await le.from("audit_workpapers").update({status:"in_review"}).eq("id",c).select().single();if(h)throw h;return b},onSuccess:()=>{r.invalidateQueries({queryKey:["workpapers",s]}),e({title:"Submitted for review",description:"The workpaper has been submitted for review."})}}),d=Rs({mutationFn:async c=>{const{data:b,error:h}=await le.from("audit_workpapers").update({status:"approved",reviewed_by:null,reviewed_date:new Date().toISOString().split("T")[0]}).eq("id",c).select().single();if(h)throw h;return b},onSuccess:()=>{r.invalidateQueries({queryKey:["workpapers",s]}),e({title:"Workpaper approved",description:"The workpaper has been approved."})}}),u=Rs({mutationFn:async({workpaperId:c,reason:b})=>{const{data:h,error:m}=await le.from("audit_workpapers").update({status:"rejected",reviewed_by:null,reviewed_date:new Date().toISOString().split("T")[0],content:{rejection_reason:b}}).eq("id",c).select().single();if(m)throw m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["workpapers",s]}),e({title:"Workpaper rejected",description:"The workpaper has been rejected and returned for revision."})}});return{workpapers:a||[],isLoading:i,createWorkpaper:n.mutate,updateWorkpaper:o.mutate,submitForReview:l.mutate,approveWorkpaper:d.mutate,rejectWorkpaper:u.mutate}}const gE=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function wV({workpaperId:s,onPresenceChange:e}){const[r,a]=v.useState([]),[i,n]=v.useState(null),[o]=v.useState(()=>gE[Math.floor(Math.random()*gE.length)]);v.useEffect(()=>{if(!s)return;let u=!0;return(async()=>{if(!u)return;const b="anonymous-"+Math.random().toString(36).substring(7),h=le.channel(`workpaper:${s}`,{config:{presence:{key:b}}});h.on("presence",{event:"sync"},()=>{const m=h.presenceState(),f=[];Object.keys(m).forEach(p=>{const N=m[p];if(N&&N[0]){const g=N[0];g.user_id&&g.user_name&&g.user_email&&g.color&&f.push(g)}}),a(f),e==null||e(f)}).on("presence",{event:"join"},({newPresences:m})=>{console.log("User joined:",m)}).on("presence",{event:"leave"},({leftPresences:m})=>{console.log("User left:",m)}).subscribe(async m=>{m==="SUBSCRIBED"&&await h.track({user_id:b,user_name:"Anonymous User",user_email:"anonymous@example.com",color:o,last_seen:new Date().toISOString()})}),n(h)})(),()=>{u=!1,i&&le.removeChannel(i)}},[s,o,e]);const l=v.useCallback(async u=>{i&&await i.track({user_id:"anonymous",user_name:"Anonymous User",user_email:"anonymous@example.com",cursor_position:u,color:o,last_seen:new Date().toISOString()})},[i,o]),d=v.useCallback(async(u,c)=>{i&&await i.track({user_id:"anonymous",user_name:"Anonymous User",user_email:"anonymous@example.com",selection:{from:u,to:c},color:o,last_seen:new Date().toISOString()})},[i,o]);return{collaborators:r,myColor:o,updateCursorPosition:l,updateSelection:d}}function si(s){this.content=s}si.prototype={constructor:si,find:function(s){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===s)return e;return-1},get:function(s){var e=this.find(s);return e==-1?void 0:this.content[e+1]},update:function(s,e,r){var a=r&&r!=s?this.remove(r):this,i=a.find(s),n=a.content.slice();return i==-1?n.push(r||s,e):(n[i+1]=e,r&&(n[i]=r)),new si(n)},remove:function(s){var e=this.find(s);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new si(r)},addToStart:function(s,e){return new si([s,e].concat(this.remove(s).content))},addToEnd:function(s,e){var r=this.remove(s).content.slice();return r.push(s,e),new si(r)},addBefore:function(s,e,r){var a=this.remove(e),i=a.content.slice(),n=a.find(s);return i.splice(n==-1?i.length:n,0,e,r),new si(i)},forEach:function(s){for(var e=0;e<this.content.length;e+=2)s(this.content[e],this.content[e+1])},prepend:function(s){return s=si.from(s),s.size?new si(s.content.concat(this.subtract(s).content)):this},append:function(s){return s=si.from(s),s.size?new si(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var e=this;s=si.from(s);for(var r=0;r<s.content.length;r+=2)e=e.remove(s.content[r]);return e},toObject:function(){var s={};return this.forEach(function(e,r){s[e]=r}),s},get size(){return this.content.length>>1}};si.from=function(s){if(s instanceof si)return s;var e=[];if(s)for(var r in s)e.push(r,s[r]);return new si(e)};function jV(s,e,r){for(let a=0;;a++){if(a==s.childCount||a==e.childCount)return s.childCount==e.childCount?null:r;let i=s.child(a),n=e.child(a);if(i==n){r+=i.nodeSize;continue}if(!i.sameMarkup(n))return r;if(i.isText&&i.text!=n.text){for(let o=0;i.text[o]==n.text[o];o++)r++;return r}if(i.content.size||n.content.size){let o=jV(i.content,n.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function AV(s,e,r,a){for(let i=s.childCount,n=e.childCount;;){if(i==0||n==0)return i==n?null:{a:r,b:a};let o=s.child(--i),l=e.child(--n),d=o.nodeSize;if(o==l){r-=d,a-=d;continue}if(!o.sameMarkup(l))return{a:r,b:a};if(o.isText&&o.text!=l.text){let u=0,c=Math.min(o.text.length,l.text.length);for(;u<c&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,a--;return{a:r,b:a}}if(o.content.size||l.content.size){let u=AV(o.content,l.content,r-1,a-1);if(u)return u}r-=d,a-=d}}class ss{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let a=0;a<e.length;a++)this.size+=e[a].nodeSize}nodesBetween(e,r,a,i=0,n){for(let o=0,l=0;l<r;o++){let d=this.content[o],u=l+d.nodeSize;if(u>e&&a(d,i+l,n||null,o)!==!1&&d.content.size){let c=l+1;d.nodesBetween(Math.max(0,e-c),Math.min(d.content.size,r-c),a,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,a,i){let n="",o=!0;return this.nodesBetween(e,r,(l,d)=>{let u=l.isText?l.text.slice(Math.max(e,d)-d,r-d):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&a&&(o?o=!1:n+=a),n+=u},0),n}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,a=e.firstChild,i=this.content.slice(),n=0;for(r.isText&&r.sameMarkup(a)&&(i[i.length-1]=r.withText(r.text+a.text),n=1);n<e.content.length;n++)i.push(e.content[n]);return new ss(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let a=[],i=0;if(r>e)for(let n=0,o=0;o<r;n++){let l=this.content[n],d=o+l.nodeSize;d>e&&((o<e||d>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),a.push(l),i+=l.nodeSize),o=d}return new ss(a,i)}cutByIndex(e,r){return e==r?ss.empty:e==0&&r==this.content.length?this:new ss(this.content.slice(e,r))}replaceChild(e,r){let a=this.content[e];if(a==r)return this;let i=this.content.slice(),n=this.size+r.nodeSize-a.nodeSize;return i[e]=r,new ss(i,n)}addToStart(e){return new ss([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ss(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,a=0;r<this.content.length;r++){let i=this.content[r];e(i,a,r),a+=i.nodeSize}}findDiffStart(e,r=0){return jV(this,e,r)}findDiffEnd(e,r=this.size,a=e.size){return AV(this,e,r,a)}findIndex(e){if(e==0)return cp(0,e);if(e==this.size)return cp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,a=0;;r++){let i=this.child(r),n=a+i.nodeSize;if(n>=e)return n==e?cp(r+1,n):cp(r,a);a=n}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ss.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ss(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ss.empty;let r,a=0;for(let i=0;i<e.length;i++){let n=e[i];a+=n.nodeSize,i&&n.isText&&e[i-1].sameMarkup(n)?(r||(r=e.slice(0,i)),r[r.length-1]=n.withText(r[r.length-1].text+n.text)):r&&r.push(n)}return new ss(r||e,a)}static from(e){if(!e)return ss.empty;if(e instanceof ss)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ss([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ss.empty=new ss([],0);const yx={index:0,offset:0};function cp(s,e){return yx.index=s,yx.offset=e,yx}function DN(s,e){if(s===e)return!0;if(!(s&&typeof s=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(s);if(Array.isArray(e)!=r)return!1;if(r){if(s.length!=e.length)return!1;for(let a=0;a<s.length;a++)if(!DN(s[a],e[a]))return!1}else{for(let a in s)if(!(a in e)||!DN(s[a],e[a]))return!1;for(let a in e)if(!(a in s))return!1}return!0}let Sr=class O0{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,a=!1;for(let i=0;i<e.length;i++){let n=e[i];if(this.eq(n))return e;if(this.type.excludes(n.type))r||(r=e.slice(0,i));else{if(n.type.excludes(this.type))return e;!a&&n.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),a=!0),r&&r.push(n)}}return r||(r=e.slice()),a||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&DN(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let a=e.marks[r.type];if(!a)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=a.create(r.attrs);return a.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++)if(!e[a].eq(r[a]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return O0.none;if(e instanceof O0)return[e];let r=e.slice();return r.sort((a,i)=>a.type.rank-i.type.rank),r}};Sr.none=[];class wN extends Error{}class js{constructor(e,r,a){this.content=e,this.openStart=r,this.openEnd=a}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let a=PV(this.content,e+this.openStart,r);return a&&new js(a,this.openStart,this.openEnd)}removeBetween(e,r){return new js(EV(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return js.empty;let a=r.openStart||0,i=r.openEnd||0;if(typeof a!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new js(ss.fromJSON(e,r.content),a,i)}static maxOpen(e,r=!0){let a=0,i=0;for(let n=e.firstChild;n&&!n.isLeaf&&(r||!n.type.spec.isolating);n=n.firstChild)a++;for(let n=e.lastChild;n&&!n.isLeaf&&(r||!n.type.spec.isolating);n=n.lastChild)i++;return new js(e,a,i)}}js.empty=new js(ss.empty,0,0);function EV(s,e,r){let{index:a,offset:i}=s.findIndex(e),n=s.maybeChild(a),{index:o,offset:l}=s.findIndex(r);if(i==e||n.isText){if(l!=r&&!s.child(o).isText)throw new RangeError("Removing non-flat range");return s.cut(0,e).append(s.cut(r))}if(a!=o)throw new RangeError("Removing non-flat range");return s.replaceChild(a,n.copy(EV(n.content,e-i-1,r-i-1)))}function PV(s,e,r,a){let{index:i,offset:n}=s.findIndex(e),o=s.maybeChild(i);if(n==e||o.isText)return a&&!a.canReplace(i,i,r)?null:s.cut(0,e).append(r).append(s.cut(e));let l=PV(o.content,e-n-1,r,o);return l&&s.replaceChild(i,o.copy(l))}function uq(s,e,r){if(r.openStart>s.depth)throw new wN("Inserted content deeper than insertion position");if(s.depth-r.openStart!=e.depth-r.openEnd)throw new wN("Inconsistent open depths");return yV(s,e,r,0)}function yV(s,e,r,a){let i=s.index(a),n=s.node(a);if(i==e.index(a)&&a<s.depth-r.openStart){let o=yV(s,e,r,a+1);return n.copy(n.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&s.depth==a&&e.depth==a){let o=s.parent,l=o.content;return Uu(o,l.cut(0,s.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=cq(r,s);return Uu(n,WV(s,o,l,e,a))}else return Uu(n,jN(s,e,a))}function OV(s,e){if(!e.type.compatibleContent(s.type))throw new wN("Cannot join "+e.type.name+" onto "+s.type.name)}function W0(s,e,r){let a=s.node(r);return OV(a,e.node(r)),a}function Wu(s,e){let r=e.length-1;r>=0&&s.isText&&s.sameMarkup(e[r])?e[r]=s.withText(e[r].text+s.text):e.push(s)}function Fb(s,e,r,a){let i=(e||s).node(r),n=0,o=e?e.index(r):i.childCount;s&&(n=s.index(r),s.depth>r?n++:s.textOffset&&(Wu(s.nodeAfter,a),n++));for(let l=n;l<o;l++)Wu(i.child(l),a);e&&e.depth==r&&e.textOffset&&Wu(e.nodeBefore,a)}function Uu(s,e){return s.type.checkContent(e),s.copy(e)}function WV(s,e,r,a,i){let n=s.depth>i&&W0(s,e,i+1),o=a.depth>i&&W0(r,a,i+1),l=[];return Fb(null,s,i,l),n&&o&&e.index(i)==r.index(i)?(OV(n,o),Wu(Uu(n,WV(s,e,r,a,i+1)),l)):(n&&Wu(Uu(n,jN(s,e,i+1)),l),Fb(e,r,i,l),o&&Wu(Uu(o,jN(r,a,i+1)),l)),Fb(a,null,i,l),new ss(l)}function jN(s,e,r){let a=[];if(Fb(null,s,r,a),s.depth>r){let i=W0(s,e,r+1);Wu(Uu(i,jN(s,e,r+1)),a)}return Fb(e,null,r,a),new ss(a)}function cq(s,e){let r=e.depth-s.openStart,i=e.node(r).copy(s.content);for(let n=r-1;n>=0;n--)i=e.node(n).copy(ss.from(i));return{start:i.resolveNoCache(s.openStart+r),end:i.resolveNoCache(i.content.size-s.openEnd-r)}}class xh{constructor(e,r,a){this.pos=e,this.path=r,this.parentOffset=a,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let a=this.pos-this.path[this.path.length-1],i=e.child(r);return a?e.child(r).cut(a):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let a=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let n=0;n<e;n++)i+=a.child(n).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Sr.none;if(this.textOffset)return e.child(r).marks;let a=e.maybeChild(r-1),i=e.maybeChild(r);if(!a){let l=a;a=i,i=l}let n=a.marks;for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let a=r.marks,i=e.parent.maybeChild(e.index());for(var n=0;n<a.length;n++)a[n].type.spec.inclusive===!1&&(!i||!a[n].isInSet(i.marks))&&(a=a[n--].removeFromSet(a));return a}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let a=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);a>=0;a--)if(e.pos<=this.end(a)&&(!r||r(this.node(a))))return new AN(this,e,a);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let a=[],i=0,n=r;for(let o=e;;){let{index:l,offset:d}=o.content.findIndex(n),u=n-d;if(a.push(o,l,i+d),!u||(o=o.child(l),o.isText))break;n=u-1,i+=d+1}return new xh(r,a,n)}static resolveCached(e,r){let a=xE.get(e);if(a)for(let n=0;n<a.elts.length;n++){let o=a.elts[n];if(o.pos==r)return o}else xE.set(e,a=new mq);let i=a.elts[a.i]=xh.resolve(e,r);return a.i=(a.i+1)%bq,i}}class mq{constructor(){this.elts=[],this.i=0}}const bq=12,xE=new WeakMap;class AN{constructor(e,r,a){this.$from=e,this.$to=r,this.depth=a}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const hq=Object.create(null);class In{constructor(e,r,a,i=Sr.none){this.type=e,this.attrs=r,this.marks=i,this.content=a||ss.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,a,i=0){this.content.nodesBetween(e,r,a,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,a,i){return this.content.textBetween(e,r,a,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,a){return this.type==e&&DN(this.attrs,r||e.defaultAttrs||hq)&&Sr.sameSet(this.marks,a||Sr.none)}copy(e=null){return e==this.content?this:new In(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new In(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,a=!1){if(e==r)return js.empty;let i=this.resolve(e),n=this.resolve(r),o=a?0:i.sharedDepth(r),l=i.start(o),u=i.node(o).content.cut(i.pos-l,n.pos-l);return new js(u,i.depth-o,n.depth-o)}replace(e,r,a){return uq(this.resolve(e),this.resolve(r),a)}nodeAt(e){for(let r=this;;){let{index:a,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(a),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:a}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:a}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:a}=this.content.findIndex(e);if(a<e)return{node:this.content.child(r),index:r,offset:a};let i=this.content.child(r-1);return{node:i,index:r-1,offset:a-i.nodeSize}}resolve(e){return xh.resolveCached(this,e)}resolveNoCache(e){return xh.resolve(this,e)}rangeHasMark(e,r,a){let i=!1;return r>e&&this.nodesBetween(e,r,n=>(a.isInSet(n.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),UV(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,a=ss.empty,i=0,n=a.childCount){let o=this.contentMatchAt(e).matchFragment(a,i,n),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let d=i;d<n;d++)if(!this.type.allowsMarks(a.child(d).marks))return!1;return!0}canReplaceWith(e,r,a,i){if(i&&!this.type.allowsMarks(i))return!1;let n=this.contentMatchAt(e).matchType(a),o=n&&n.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Sr.none;for(let r=0;r<this.marks.length;r++){let a=this.marks[r];a.type.checkAttrs(a.attrs),e=a.addToSet(e)}if(!Sr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let a;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");a=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,a)}let i=ss.fromJSON(e,r.content),n=e.nodeType(r.type).create(r.attrs,i,a);return n.type.checkAttrs(n.attrs),n}}In.prototype.text=void 0;class EN extends In{constructor(e,r,a,i){if(super(e,r,null,i),!a)throw new RangeError("Empty text nodes are not allowed");this.text=a}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):UV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new EN(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new EN(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function UV(s,e){for(let r=s.length-1;r>=0;r--)e=s[r].type.name+"("+e+")";return e}class zu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let a=new fq(e,r);if(a.next==null)return zu.empty;let i=VV(a);a.next&&a.err("Unexpected trailing text");let n=Dq(vq(i));return wq(n,a),n}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,a=e.childCount){let i=this;for(let n=r;i&&n<a;n++)i=i.matchType(e.child(n).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let a=0;a<e.next.length;a++)if(this.next[r].type==e.next[a].type)return!0;return!1}fillBefore(e,r=!1,a=0){let i=[this];function n(o,l){let d=o.matchFragment(e,a);if(d&&(!r||d.validEnd))return ss.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:b}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(b)==-1){i.push(b);let h=n(b,l.concat(c));if(h)return h}}return null}return n(this,[])}findWrapping(e){for(let a=0;a<this.wrapCache.length;a+=2)if(this.wrapCache[a]==e)return this.wrapCache[a+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),a=[{match:this,type:null,via:null}];for(;a.length;){let i=a.shift(),n=i.match;if(n.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<n.next.length;o++){let{type:l,next:d}=n.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!i.type||d.validEnd)&&(a.push({match:l.contentMatch,type:l,via:i}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(a){e.push(a);for(let i=0;i<a.next.length;i++)e.indexOf(a.next[i].next)==-1&&r(a.next[i].next)}return r(this),e.map((a,i)=>{let n=i+(a.validEnd?"*":" ")+" ";for(let o=0;o<a.next.length;o++)n+=(o?", ":"")+a.next[o].type.name+"->"+e.indexOf(a.next[o].next);return n}).join(`
`)}}zu.empty=new zu(!0);class fq{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function VV(s){let e=[];do e.push(pq(s));while(s.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function pq(s){let e=[];do e.push(Nq(s));while(s.next&&s.next!=")"&&s.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Nq(s){let e=xq(s);for(;;)if(s.eat("+"))e={type:"plus",expr:e};else if(s.eat("*"))e={type:"star",expr:e};else if(s.eat("?"))e={type:"opt",expr:e};else if(s.eat("{"))e=kq(s,e);else break;return e}function vE(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let e=Number(s.next);return s.pos++,e}function kq(s,e){let r=vE(s),a=r;return s.eat(",")&&(s.next!="}"?a=vE(s):a=-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:a,expr:e}}function gq(s,e){let r=s.nodeTypes,a=r[e];if(a)return[a];let i=[];for(let n in r){let o=r[n];o.isInGroup(e)&&i.push(o)}return i.length==0&&s.err("No node type or group '"+e+"' found"),i}function xq(s){if(s.eat("(")){let e=VV(s);return s.eat(")")||s.err("Missing closing paren"),e}else if(/\W/.test(s.next))s.err("Unexpected token '"+s.next+"'");else{let e=gq(s,s.next).map(r=>(s.inline==null?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vq(s){let e=[[]];return i(n(s,0),r()),e;function r(){return e.push([])-1}function a(o,l,d){let u={term:d,to:l};return e[o].push(u),u}function i(o,l){o.forEach(d=>d.to=l)}function n(o,l){if(o.type=="choice")return o.exprs.reduce((d,u)=>d.concat(n(u,l)),[]);if(o.type=="seq")for(let d=0;;d++){let u=n(o.exprs[d],l);if(d==o.exprs.length-1)return u;i(u,l=r())}else if(o.type=="star"){let d=r();return a(l,d),i(n(o.expr,d),d),[a(d)]}else if(o.type=="plus"){let d=r();return i(n(o.expr,l),d),i(n(o.expr,d),d),[a(d)]}else{if(o.type=="opt")return[a(l)].concat(n(o.expr,l));if(o.type=="range"){let d=l;for(let u=0;u<o.min;u++){let c=r();i(n(o.expr,d),c),d=c}if(o.max==-1)i(n(o.expr,d),d);else for(let u=o.min;u<o.max;u++){let c=r();a(d,c),i(n(o.expr,d),c),d=c}return[a(d)]}else{if(o.type=="name")return[a(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function _V(s,e){return e-s}function DE(s,e){let r=[];return a(e),r.sort(_V);function a(i){let n=s[i];if(n.length==1&&!n[0].term)return a(n[0].to);r.push(i);for(let o=0;o<n.length;o++){let{term:l,to:d}=n[o];!l&&r.indexOf(d)==-1&&a(d)}}}function Dq(s){let e=Object.create(null);return r(DE(s,0));function r(a){let i=[];a.forEach(o=>{s[o].forEach(({term:l,to:d})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);DE(s,d).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let n=e[a.join(",")]=new zu(a.indexOf(s.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(_V);n.next.push({type:i[o][0],next:e[l.join(",")]||r(l)})}return n}}function wq(s,e){for(let r=0,a=[s];r<a.length;r++){let i=a[r],n=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:d,next:u}=i.next[l];o.push(d.name),n&&!(d.isText||d.hasRequiredAttrs())&&(n=!1),a.indexOf(u)==-1&&a.push(u)}n&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CV(s){let e=Object.create(null);for(let r in s){let a=s[r];if(!a.hasDefault)return null;e[r]=a.default}return e}function SV(s,e){let r=Object.create(null);for(let a in s){let i=e&&e[a];if(i===void 0){let n=s[a];if(n.hasDefault)i=n.default;else throw new RangeError("No value supplied for attribute "+a)}r[a]=i}return r}function TV(s,e,r,a){for(let i in e)if(!(i in s))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in s){let n=s[i];n.validate&&n.validate(e[i])}}function RV(s,e){let r=Object.create(null);if(e)for(let a in e)r[a]=new Aq(s,a,e[a]);return r}let wE=class MV{constructor(e,r,a){this.name=e,this.schema=r,this.spec=a,this.markSet=null,this.groups=a.group?a.group.split(" "):[],this.attrs=RV(e,a.attrs),this.defaultAttrs=CV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(a.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==zu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:SV(this.attrs,e)}create(e=null,r,a){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new In(this,this.computeAttrs(e),ss.from(r),Sr.setFrom(a))}createChecked(e=null,r,a){return r=ss.from(r),this.checkContent(r),new In(this,this.computeAttrs(e),r,Sr.setFrom(a))}createAndFill(e=null,r,a){if(e=this.computeAttrs(e),r=ss.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),n=i&&i.fillBefore(ss.empty,!0);return n?new In(this,e,r.append(n),Sr.setFrom(a)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let a=0;a<e.childCount;a++)if(!this.allowsMarks(e.child(a).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TV(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let a=0;a<e.length;a++)this.allowsMarkType(e[a].type)?r&&r.push(e[a]):r||(r=e.slice(0,a));return r?r.length?r:Sr.none:e}static compile(e,r){let a=Object.create(null);e.forEach((n,o)=>a[n]=new MV(n,r,o));let i=r.spec.topNode||"doc";if(!a[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!a.text)throw new RangeError("Every schema needs a 'text' type");for(let n in a.text.attrs)throw new RangeError("The text node type should not have attributes");return a}};function jq(s,e,r){let a=r.split("|");return i=>{let n=i===null?"null":typeof i;if(a.indexOf(n)<0)throw new RangeError(`Expected value of type ${a} for attribute ${e} on type ${s}, got ${n}`)}}class Aq{constructor(e,r,a){this.hasDefault=Object.prototype.hasOwnProperty.call(a,"default"),this.default=a.default,this.validate=typeof a.validate=="string"?jq(e,r,a.validate):a.validate}get isRequired(){return!this.hasDefault}}class ag{constructor(e,r,a,i){this.name=e,this.rank=r,this.schema=a,this.spec=i,this.attrs=RV(e,i.attrs),this.excluded=null;let n=CV(this.attrs);this.instance=n?new Sr(this,n):null}create(e=null){return!e&&this.instance?this.instance:new Sr(this,SV(this.attrs,e))}static compile(e,r){let a=Object.create(null),i=0;return e.forEach((n,o)=>a[n]=new ag(n,i++,r,o)),a}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){TV(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class LV{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=si.from(e.nodes),r.marks=si.from(e.marks||{}),this.nodes=wE.compile(this.spec.nodes,this),this.marks=ag.compile(this.spec.marks,this);let a=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let n=this.nodes[i],o=n.spec.content||"",l=n.spec.marks;if(n.contentMatch=a[o]||(a[o]=zu.parse(o,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!n.isInline||!n.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=n}n.markSet=l=="_"?null:l?jE(this,l.split(" ")):l==""||!n.inlineContent?[]:null}for(let i in this.marks){let n=this.marks[i],o=n.spec.excludes;n.excluded=o==null?[n]:o==""?[]:jE(this,o.split(" "))}this.nodeFromJSON=i=>In.fromJSON(this,i),this.markFromJSON=i=>Sr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,a,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof wE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,a,i)}text(e,r){let a=this.nodes.text;return new EN(a,a.defaultAttrs,e,Sr.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function jE(s,e){let r=[];for(let a=0;a<e.length;a++){let i=e[a],n=s.marks[i],o=n;if(n)r.push(n);else for(let l in s.marks){let d=s.marks[l];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=d)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[a]+"'")}return r}function Eq(s){return s.tag!=null}function Pq(s){return s.style!=null}class Nd{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let a=this.matchedStyles=[];r.forEach(i=>{if(Eq(i))this.tags.push(i);else if(Pq(i)){let n=/[^=]*/.exec(i.style)[0];a.indexOf(n)<0&&a.push(n),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let n=e.nodes[i.node];return n.contentMatch.matchType(n)})}parse(e,r={}){let a=new EE(this,r,!1);return a.addAll(e,Sr.none,r.from,r.to),a.finish()}parseSlice(e,r={}){let a=new EE(this,r,!0);return a.addAll(e,Sr.none,r.from,r.to),js.maxOpen(a.finish())}matchTag(e,r,a){for(let i=a?this.tags.indexOf(a)+1:0;i<this.tags.length;i++){let n=this.tags[i];if(Wq(e,n.tag)&&(n.namespace===void 0||e.namespaceURI==n.namespace)&&(!n.context||r.matchesContext(n.context))){if(n.getAttrs){let o=n.getAttrs(e);if(o===!1)continue;n.attrs=o||void 0}return n}}}matchStyle(e,r,a,i){for(let n=i?this.styles.indexOf(i)+1:0;n<this.styles.length;n++){let o=this.styles[n],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!a.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let d=o.getAttrs(r);if(d===!1)continue;o.attrs=d||void 0}return o}}}static schemaRules(e){let r=[];function a(i){let n=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<n)break}r.splice(o,0,i)}for(let i in e.marks){let n=e.marks[i].spec.parseDOM;n&&n.forEach(o=>{a(o=PE(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let n=e.nodes[i].spec.parseDOM;n&&n.forEach(o=>{a(o=PE(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Nd(e,Nd.schemaRules(e)))}}const IV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},yq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},FV={ol:!0,ul:!0},vh=1,U0=2,zb=4;function AE(s,e,r){return e!=null?(e?vh:0)|(e==="full"?U0:0):s&&s.whitespace=="pre"?vh|U0:r&~zb}class mp{constructor(e,r,a,i,n,o){this.type=e,this.attrs=r,this.marks=a,this.solid=i,this.options=o,this.content=[],this.activeMarks=Sr.none,this.match=n||(o&zb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ss.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let a=this.type.contentMatch,i;return(i=a.findWrapping(e.type))?(this.match=a,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vh)){let a=this.content[this.content.length-1],i;if(a&&a.isText&&(i=/[ \t\r\n\u000c]+$/.exec(a.text))){let n=a;a.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-i[0].length))}}let r=ss.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ss.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class EE{constructor(e,r,a){this.parser=e,this.options=r,this.isOpen=a,this.open=0,this.localPreserveWS=!1;let i=r.topNode,n,o=AE(null,r.preserveWhitespace,0)|(a?zb:0);i?n=new mp(i.type,i.attrs,Sr.none,!0,r.topMatch||i.type.contentMatch,o):a?n=new mp(null,null,Sr.none,!0,null,o):n=new mp(e.schema.topNodeType,null,Sr.none,!0,null,o),this.nodes=[n],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let a=e.nodeValue,i=this.top,n=i.options&U0?"full":this.localPreserveWS||(i.options&vh)>0,{schema:o}=this.parser;if(n==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(a)){if(n)if(n==="full")a=a.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(a)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=a.split(/\r?\n|\r/);for(let d=0;d<l.length;d++)d&&this.insertNode(o.linebreakReplacement.create(),r,!0),l[d]&&this.insertNode(o.text(l[d]),r,!/\S/.test(l[d]));a=""}else a=a.replace(/\r?\n|\r/g," ");else if(a=a.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(a)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(a=a.slice(1))}a&&this.insertNode(o.text(a),r,!/\S/.test(a)),this.findInText(e)}else this.findInside(e)}addElement(e,r,a){let i=this.localPreserveWS,n=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;FV.hasOwnProperty(o)&&this.parser.normalizeLists&&Oq(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,a));e:if(d?d.ignore:yq.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let u,c=this.needsBlock;if(IV.hasOwnProperty(o))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),u=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let b=d&&d.skip?r:this.readStyles(e,r);b&&this.addAll(e,b),u&&this.sync(n),this.needsBlock=c}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,d,u,d.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let a=e.style;if(a&&a.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let n=this.parser.matchedStyles[i],o=a.getPropertyValue(n);if(o)for(let l=void 0;;){let d=this.parser.matchStyle(n,o,this,l);if(!d)break;if(d.ignore)return null;if(d.clearMark?r=r.filter(u=>!d.clearMark(u)):r=r.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)l=d;else break}}return r}addElementByRule(e,r,a,i){let n,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),a,e.nodeName=="BR")||this.leafFallback(e,a);else{let d=this.enter(o,r.attrs||null,a,r.preserveWhitespace);d&&(n=!0,a=d)}else{let d=this.parser.schema.marks[r.mark];a=a.concat(d.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,a,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,a,!1));else{let d=e;typeof r.contentElement=="string"?d=e.querySelector(r.contentElement):typeof r.contentElement=="function"?d=r.contentElement(e):r.contentElement&&(d=r.contentElement),this.findAround(e,d,!0),this.addAll(d,a),this.findAround(e,d,!1)}n&&this.sync(l)&&this.open--}addAll(e,r,a,i){let n=a||0;for(let o=a?e.childNodes[a]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++n)this.findAtPoint(e,n),this.addDOM(o,r);this.findAtPoint(e,n)}findPlace(e,r,a){let i,n;for(let o=this.open,l=0;o>=0;o--){let d=this.nodes[o],u=d.findWrapping(e);if(u&&(!i||i.length>u.length+l)&&(i=u,n=d,!u.length))break;if(d.solid){if(a)break;l+=2}}if(!i)return null;this.sync(n);for(let o=0;o<i.length;o++)r=this.enterInner(i[o],null,r,!1);return r}insertNode(e,r,a){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&(r=this.enterInner(n,null,r))}let i=this.findPlace(e,r,a);if(i){this.closeExtra();let n=this.top;n.match&&(n.match=n.match.matchType(e.type));let o=Sr.none;for(let l of i.concat(e.marks))(n.type?n.type.allowsMarkType(l.type):yE(l.type,e.type))&&(o=l.addToSet(o));return n.content.push(e.mark(o)),!0}return!1}enter(e,r,a,i){let n=this.findPlace(e.create(r),a,!1);return n&&(n=this.enterInner(e,r,a,!0,i)),n}enterInner(e,r,a,i=!1,n){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=AE(e,n,o.options);o.options&zb&&o.content.length==0&&(l|=zb);let d=Sr.none;return a=a.filter(u=>(o.type?o.type.allowsMarkType(u.type):yE(u.type,e))?(d=u.addToSet(d),!1):!0),this.nodes.push(new mp(e,r,d,i,null,l)),this.open++,a}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=vh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let a=this.nodes[r].content;for(let i=a.length-1;i>=0;i--)e+=a[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let a=0;a<this.find.length;a++)this.find[a].node==e&&this.find[a].offset==r&&(this.find[a].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,a){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(a?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),a=this.options.context,i=!this.isOpen&&(!a||a.parent.type==this.nodes[0].type),n=-(a?a.depth+1:0)+(i?0:1),o=(l,d)=>{for(;l>=0;l--){let u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;d>=n;d--)if(o(l-1,d))return!0;return!1}else{let c=d>0||d==0&&i?this.nodes[d].type:a&&d>=n?a.node(d-n).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;d--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(a&&a.isTextblock&&a.defaultAttrs)return a}for(let r in this.parser.schema.nodes){let a=this.parser.schema.nodes[r];if(a.isTextblock&&a.defaultAttrs)return a}}}function Oq(s){for(let e=s.firstChild,r=null;e;e=e.nextSibling){let a=e.nodeType==1?e.nodeName.toLowerCase():null;a&&FV.hasOwnProperty(a)&&r?(r.appendChild(e),e=r):a=="li"?r=e:a&&(r=null)}}function Wq(s,e){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,e)}function PE(s){let e={};for(let r in s)e[r]=s[r];return e}function yE(s,e){let r=e.schema.nodes;for(let a in r){let i=r[a];if(!i.allowsMarkType(s))continue;let n=[],o=l=>{n.push(l);for(let d=0;d<l.edgeCount;d++){let{type:u,next:c}=l.edge(d);if(u==e||n.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class rc{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},a){a||(a=Ox(r).createDocumentFragment());let i=a,n=[];return e.forEach(o=>{if(n.length||o.marks.length){let l=0,d=0;for(;l<n.length&&d<o.marks.length;){let u=o.marks[d];if(!this.marks[u.type.name]){d++;continue}if(!u.eq(n[l][0])||u.type.spec.spanning===!1)break;l++,d++}for(;l<n.length;)i=n.pop()[1];for(;d<o.marks.length;){let u=o.marks[d++],c=this.serializeMark(u,o.isInline,r);c&&(n.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),a}serializeNodeInner(e,r){let{dom:a,contentDOM:i}=Hp(Ox(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return a}serializeNode(e,r={}){let a=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let n=this.serializeMark(e.marks[i],e.isInline,r);n&&((n.contentDOM||n.dom).appendChild(a),a=n.dom)}return a}serializeMark(e,r,a={}){let i=this.marks[e.type.name];return i&&Hp(Ox(a),i(e,r),null,e.attrs)}static renderSpec(e,r,a=null,i){return Hp(e,r,a,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new rc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=OE(e.nodes);return r.text||(r.text=a=>a.text),r}static marksFromSchema(e){return OE(e.marks)}}function OE(s){let e={};for(let r in s){let a=s[r].spec.toDOM;a&&(e[r]=a)}return e}function Ox(s){return s.document||window.document}const WE=new WeakMap;function Uq(s){let e=WE.get(s);return e===void 0&&WE.set(s,e=Vq(s)),e}function Vq(s){let e=null;function r(a){if(a&&typeof a=="object")if(Array.isArray(a))if(typeof a[0]=="string")e||(e=[]),e.push(a);else for(let i=0;i<a.length;i++)r(a[i]);else for(let i in a)r(a[i])}return r(s),e}function Hp(s,e,r,a){if(typeof e=="string")return{dom:s.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],n;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(a&&(n=Uq(a))&&n.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let l,d=r?s.createElementNS(r,i):s.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let b in u)if(u[b]!=null){let h=b.indexOf(" ");h>0?d.setAttributeNS(b.slice(0,h),b.slice(h+1),u[b]):b=="style"&&d.style?d.style.cssText=u[b]:d.setAttribute(b,u[b])}}for(let b=c;b<e.length;b++){let h=e[b];if(h===0){if(b<e.length-1||b>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:m,contentDOM:f}=Hp(s,h,r,a);if(d.appendChild(m),f){if(l)throw new RangeError("Multiple content holes");l=f}}}return{dom:d,contentDOM:l}}const zV=65535,BV=Math.pow(2,16);function _q(s,e){return s+e*BV}function UE(s){return s&zV}function Cq(s){return(s-(s&zV))/BV}const qV=1,$V=2,Gp=4,HV=8;class V0{constructor(e,r,a){this.pos=e,this.delInfo=r,this.recover=a}get deleted(){return(this.delInfo&HV)>0}get deletedBefore(){return(this.delInfo&(qV|Gp))>0}get deletedAfter(){return(this.delInfo&($V|Gp))>0}get deletedAcross(){return(this.delInfo&Gp)>0}}class cn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&cn.empty)return cn.empty}recover(e){let r=0,a=UE(e);if(!this.inverted)for(let i=0;i<a;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[a*3]+r+Cq(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,a){let i=0,n=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?i:0);if(d>e)break;let u=this.ranges[l+n],c=this.ranges[l+o],b=d+u;if(e<=b){let h=u?e==d?-1:e==b?1:r:r,m=d+i+(h<0?0:c);if(a)return m;let f=e==(r<0?d:b)?null:_q(l/3,e-d),p=e==d?$V:e==b?qV:Gp;return(r<0?e!=d:e!=b)&&(p|=HV),new V0(m,p,f)}i+=c-u}return a?e+i:new V0(e+i,0,null)}touches(e,r){let a=0,i=UE(r),n=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let d=this.ranges[l]-(this.inverted?a:0);if(d>e)break;let u=this.ranges[l+n],c=d+u;if(e<=c&&l==i*3)return!0;a+=this.ranges[l+o]-u}return!1}forEach(e){let r=this.inverted?2:1,a=this.inverted?1:2;for(let i=0,n=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?n:0),d=o+(this.inverted?0:n),u=this.ranges[i+r],c=this.ranges[i+a];e(l,l+u,d,d+c),n+=c-u}}invert(){return new cn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cn.empty:new cn(e<0?[0,-e,0]:[0,0,e])}}cn.empty=new cn([]);class Dh{constructor(e,r,a=0,i=e?e.length:0){this.mirror=r,this.from=a,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Dh(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,a=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?a+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,a=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?a-i-1:void 0)}}invert(){let e=new Dh;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let a=this.from;a<this.to;a++)e=this._maps[a].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,a){let i=0;for(let n=this.from;n<this.to;n++){let o=this._maps[n],l=o.mapResult(e,r);if(l.recover!=null){let d=this.getMirror(n);if(d!=null&&d>n&&d<this.to){n=d,e=this._maps[d].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return a?e:new V0(e,i,null)}}const Wx=Object.create(null);class xi{getMap(){return cn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let a=Wx[r.stepType];if(!a)throw new RangeError(`No step type ${r.stepType} defined`);return a.fromJSON(e,r)}static jsonID(e,r){if(e in Wx)throw new RangeError("Duplicate use of step JSON ID "+e);return Wx[e]=r,r.prototype.jsonID=e,r}}class Oa{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Oa(e,null)}static fail(e){return new Oa(null,e)}static fromReplace(e,r,a,i){try{return Oa.ok(e.replace(r,a,i))}catch(n){if(n instanceof wN)return Oa.fail(n.message);throw n}}}function CD(s,e,r){let a=[];for(let i=0;i<s.childCount;i++){let n=s.child(i);n.content.size&&(n=n.copy(CD(n.content,e,n))),n.isInline&&(n=e(n,r,i)),a.push(n)}return ss.fromArray(a)}class ud extends xi{constructor(e,r,a){super(),this.from=e,this.to=r,this.mark=a}apply(e){let r=e.slice(this.from,this.to),a=e.resolve(this.from),i=a.node(a.sharedDepth(this.to)),n=new js(CD(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return Oa.fromReplace(e,this.from,this.to,n)}invert(){return new bo(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return r.deleted&&a.deleted||r.pos>=a.pos?null:new ud(r.pos,a.pos,this.mark)}merge(e){return e instanceof ud&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ud(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ud(r.from,r.to,e.markFromJSON(r.mark))}}xi.jsonID("addMark",ud);class bo extends xi{constructor(e,r,a){super(),this.from=e,this.to=r,this.mark=a}apply(e){let r=e.slice(this.from,this.to),a=new js(CD(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Oa.fromReplace(e,this.from,this.to,a)}invert(){return new ud(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return r.deleted&&a.deleted||r.pos>=a.pos?null:new bo(r.pos,a.pos,this.mark)}merge(e){return e instanceof bo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new bo(r.from,r.to,e.markFromJSON(r.mark))}}xi.jsonID("removeMark",bo);class cd extends xi{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Oa.fail("No node at mark step's position");let a=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Oa.fromReplace(e,this.pos,this.pos+1,new js(ss.from(a),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let a=this.mark.addToSet(r.marks);if(a.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(a))return new cd(this.pos,r.marks[i]);return new cd(this.pos,this.mark)}}return new Bu(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new cd(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new cd(r.pos,e.markFromJSON(r.mark))}}xi.jsonID("addNodeMark",cd);class Bu extends xi{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Oa.fail("No node at mark step's position");let a=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Oa.fromReplace(e,this.pos,this.pos+1,new js(ss.from(a),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new cd(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Bu(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Bu(r.pos,e.markFromJSON(r.mark))}}xi.jsonID("removeNodeMark",Bu);class Ka extends xi{constructor(e,r,a,i=!1){super(),this.from=e,this.to=r,this.slice=a,this.structure=i}apply(e){return this.structure&&_0(e,this.from,this.to)?Oa.fail("Structure replace would overwrite content"):Oa.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ka(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),a=e.mapResult(this.to,-1);return r.deletedAcross&&a.deletedAcross?null:new Ka(r.pos,Math.max(r.pos,a.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ka)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?js.empty:new js(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ka(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?js.empty:new js(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ka(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ka(r.from,r.to,js.fromJSON(e,r.slice),!!r.structure)}}xi.jsonID("replace",Ka);class Qa extends xi{constructor(e,r,a,i,n,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=a,this.gapTo=i,this.slice=n,this.insert=o,this.structure=l}apply(e){if(this.structure&&(_0(e,this.from,this.gapFrom)||_0(e,this.gapTo,this.to)))return Oa.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Oa.fail("Gap is not a flat range");let a=this.slice.insertAt(this.insert,r.content);return a?Oa.fromReplace(e,this.from,this.to,a):Oa.fail("Content does not fit in gap")}getMap(){return new cn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Qa(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),a=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),n=this.to==this.gapTo?a.pos:e.map(this.gapTo,1);return r.deletedAcross&&a.deletedAcross||i<r.pos||n>a.pos?null:new Qa(r.pos,a.pos,i,n,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qa(r.from,r.to,r.gapFrom,r.gapTo,js.fromJSON(e,r.slice),r.insert,!!r.structure)}}xi.jsonID("replaceAround",Qa);function _0(s,e,r){let a=s.resolve(e),i=r-e,n=a.depth;for(;i>0&&n>0&&a.indexAfter(n)==a.node(n).childCount;)n--,i--;if(i>0){let o=a.node(n).maybeChild(a.indexAfter(n));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Sq(s,e,r,a){let i=[],n=[],o,l;s.doc.nodesBetween(e,r,(d,u,c)=>{if(!d.isInline)return;let b=d.marks;if(!a.isInSet(b)&&c.type.allowsMarkType(a.type)){let h=Math.max(u,e),m=Math.min(u+d.nodeSize,r),f=a.addToSet(b);for(let p=0;p<b.length;p++)b[p].isInSet(f)||(o&&o.to==h&&o.mark.eq(b[p])?o.to=m:i.push(o=new bo(h,m,b[p])));l&&l.to==h?l.to=m:n.push(l=new ud(h,m,a))}}),i.forEach(d=>s.step(d)),n.forEach(d=>s.step(d))}function Tq(s,e,r,a){let i=[],n=0;s.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;n++;let d=null;if(a instanceof ag){let u=o.marks,c;for(;c=a.isInSet(u);)(d||(d=[])).push(c),u=c.removeFromSet(u)}else a?a.isInSet(o.marks)&&(d=[a]):d=o.marks;if(d&&d.length){let u=Math.min(l+o.nodeSize,r);for(let c=0;c<d.length;c++){let b=d[c],h;for(let m=0;m<i.length;m++){let f=i[m];f.step==n-1&&b.eq(i[m].style)&&(h=f)}h?(h.to=u,h.step=n):i.push({style:b,from:Math.max(l,e),to:u,step:n})}}}),i.forEach(o=>s.step(new bo(o.from,o.to,o.style)))}function SD(s,e,r,a=r.contentMatch,i=!0){let n=s.doc.nodeAt(e),o=[],l=e+1;for(let d=0;d<n.childCount;d++){let u=n.child(d),c=l+u.nodeSize,b=a.matchType(u.type);if(!b)o.push(new Ka(l,c,js.empty));else{a=b;for(let h=0;h<u.marks.length;h++)r.allowsMarkType(u.marks[h].type)||s.step(new bo(l,c,u.marks[h]));if(i&&u.isText&&r.whitespace!="pre"){let h,m=/\r?\n|\r/g,f;for(;h=m.exec(u.text);)f||(f=new js(ss.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Ka(l+h.index,l+h.index+h[0].length,f))}}l=c}if(!a.validEnd){let d=a.fillBefore(ss.empty,!0);s.replace(l,l,new js(d,0,0))}for(let d=o.length-1;d>=0;d--)s.step(o[d])}function Rq(s,e,r){return(e==0||s.canReplace(e,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function _m(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let a=s.depth,i=0,n=0;;--a){let o=s.$from.node(a),l=s.$from.index(a)+i,d=s.$to.indexAfter(a)-n;if(a<s.depth&&o.canReplace(l,d,r))return a;if(a==0||o.type.spec.isolating||!Rq(o,l,d))break;l&&(i=1),d<o.childCount&&(n=1)}return null}function Mq(s,e,r){let{$from:a,$to:i,depth:n}=e,o=a.before(n+1),l=i.after(n+1),d=o,u=l,c=ss.empty,b=0;for(let f=n,p=!1;f>r;f--)p||a.index(f)>0?(p=!0,c=ss.from(a.node(f).copy(c)),b++):d--;let h=ss.empty,m=0;for(let f=n,p=!1;f>r;f--)p||i.after(f+1)<i.end(f)?(p=!0,h=ss.from(i.node(f).copy(h)),m++):u++;s.step(new Qa(d,u,o,l,new js(c.append(h),b,m),c.size-b,!0))}function TD(s,e,r=null,a=s){let i=Lq(s,e),n=i&&Iq(a,e);return n?i.map(VE).concat({type:e,attrs:r}).concat(n.map(VE)):null}function VE(s){return{type:s,attrs:null}}function Lq(s,e){let{parent:r,startIndex:a,endIndex:i}=s,n=r.contentMatchAt(a).findWrapping(e);if(!n)return null;let o=n.length?n[0]:e;return r.canReplaceWith(a,i,o)?n:null}function Iq(s,e){let{parent:r,startIndex:a,endIndex:i}=s,n=r.child(a),o=e.contentMatch.findWrapping(n.type);if(!o)return null;let d=(o.length?o[o.length-1]:e).contentMatch;for(let u=a;d&&u<i;u++)d=d.matchType(r.child(u).type);return!d||!d.validEnd?null:o}function Fq(s,e,r){let a=ss.empty;for(let o=r.length-1;o>=0;o--){if(a.size){let l=r[o].type.contentMatch.matchFragment(a);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}a=ss.from(r[o].type.create(r[o].attrs,a))}let i=e.start,n=e.end;s.step(new Qa(i,n,i,n,new js(a,0,0),r.length,!0))}function zq(s,e,r,a,i){if(!a.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let n=s.steps.length;s.doc.nodesBetween(e,r,(o,l)=>{let d=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(a,d)&&Bq(s.doc,s.mapping.slice(n).map(l),a)){let u=null;if(a.schema.linebreakReplacement){let m=a.whitespace=="pre",f=!!a.contentMatch.matchType(a.schema.linebreakReplacement);m&&!f?u=!1:!m&&f&&(u=!0)}u===!1&&KV(s,o,l,n),SD(s,s.mapping.slice(n).map(l,1),a,void 0,u===null);let c=s.mapping.slice(n),b=c.map(l,1),h=c.map(l+o.nodeSize,1);return s.step(new Qa(b,h,b+1,h-1,new js(ss.from(a.create(d,null,o.marks)),0,0),1,!0)),u===!0&&GV(s,o,l,n),!1}})}function GV(s,e,r,a){e.forEach((i,n)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let d=s.mapping.slice(a).map(r+1+n+o.index);s.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function KV(s,e,r,a){e.forEach((i,n)=>{if(i.type==i.type.schema.linebreakReplacement){let o=s.mapping.slice(a).map(r+1+n);s.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Bq(s,e,r){let a=s.resolve(e),i=a.index();return a.parent.canReplaceWith(i,i+1,r)}function qq(s,e,r,a,i){let n=s.doc.nodeAt(e);if(!n)throw new RangeError("No node at given position");r||(r=n.type);let o=r.create(a,null,i||n.marks);if(n.isLeaf)return s.replaceWith(e,e+n.nodeSize,o);if(!r.validContent(n.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new Qa(e,e+n.nodeSize,e+1,e+n.nodeSize-1,new js(ss.from(o),0,0),1,!0))}function Qc(s,e,r=1,a){let i=s.resolve(e),n=i.depth-r,o=a&&a[a.length-1]||i.parent;if(n<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>n;u--,c--){let b=i.node(u),h=i.index(u);if(b.type.spec.isolating)return!1;let m=b.content.cutByIndex(h,b.childCount),f=a&&a[c+1];f&&(m=m.replaceChild(0,f.type.create(f.attrs)));let p=a&&a[c]||b;if(!b.canReplace(h+1,b.childCount)||!p.type.validContent(m))return!1}let l=i.indexAfter(n),d=a&&a[0];return i.node(n).canReplaceWith(l,l,d?d.type:i.node(n+1).type)}function $q(s,e,r=1,a){let i=s.doc.resolve(e),n=ss.empty,o=ss.empty;for(let l=i.depth,d=i.depth-r,u=r-1;l>d;l--,u--){n=ss.from(i.node(l).copy(n));let c=a&&a[u];o=ss.from(c?c.type.create(c.attrs,o):i.node(l).copy(o))}s.step(new Ka(e,e,new js(n.append(o),r,r),!0))}function Td(s,e){let r=s.resolve(e),a=r.index();return QV(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(a,a+1)}function Hq(s,e){e.content.size||s.type.compatibleContent(e.type);let r=s.contentMatchAt(s.childCount),{linebreakReplacement:a}=s.type.schema;for(let i=0;i<e.childCount;i++){let n=e.child(i),o=n.type==a?s.type.schema.nodes.text:n.type;if(r=r.matchType(o),!r||!s.type.allowsMarks(n.marks))return!1}return r.validEnd}function QV(s,e){return!!(s&&e&&!s.isLeaf&&Hq(s,e))}function ig(s,e,r=-1){let a=s.resolve(e);for(let i=a.depth;;i--){let n,o,l=a.index(i);if(i==a.depth?(n=a.nodeBefore,o=a.nodeAfter):r>0?(n=a.node(i+1),l++,o=a.node(i).maybeChild(l)):(n=a.node(i).maybeChild(l-1),o=a.node(i+1)),n&&!n.isTextblock&&QV(n,o)&&a.node(i).canReplace(l,l+1))return e;if(i==0)break;e=r<0?a.before(i):a.after(i)}}function Gq(s,e,r){let a=null,{linebreakReplacement:i}=s.doc.type.schema,n=s.doc.resolve(e-r),o=n.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",b=!!o.contentMatch.matchType(i);c&&!b?a=!1:!c&&b&&(a=!0)}let l=s.steps.length;if(a===!1){let c=s.doc.resolve(e+r);KV(s,c.node(),c.before(),l)}o.inlineContent&&SD(s,e+r-1,o,n.node().contentMatchAt(n.index()),a==null);let d=s.mapping.slice(l),u=d.map(e-r);if(s.step(new Ka(u,d.map(e+r,-1),js.empty,!0)),a===!0){let c=s.doc.resolve(u);GV(s,c.node(),c.before(),s.steps.length)}return s}function Kq(s,e,r){let a=s.resolve(e);if(a.parent.canReplaceWith(a.index(),a.index(),r))return e;if(a.parentOffset==0)for(let i=a.depth-1;i>=0;i--){let n=a.index(i);if(a.node(i).canReplaceWith(n,n,r))return a.before(i+1);if(n>0)return null}if(a.parentOffset==a.parent.content.size)for(let i=a.depth-1;i>=0;i--){let n=a.indexAfter(i);if(a.node(i).canReplaceWith(n,n,r))return a.after(i+1);if(n<a.node(i).childCount)return null}return null}function YV(s,e,r){let a=s.resolve(e);if(!r.content.size)return e;let i=r.content;for(let n=0;n<r.openStart;n++)i=i.firstChild.content;for(let n=1;n<=(r.openStart==0&&r.size?2:1);n++)for(let o=a.depth;o>=0;o--){let l=o==a.depth?0:a.pos<=(a.start(o+1)+a.end(o+1))/2?-1:1,d=a.index(o)+(l>0?1:0),u=a.node(o),c=!1;if(n==1)c=u.canReplace(d,d,i);else{let b=u.contentMatchAt(d).findWrapping(i.firstChild.type);c=b&&u.canReplaceWith(d,d,b[0])}if(c)return l==0?a.pos:l<0?a.before(o+1):a.after(o+1)}return null}function ng(s,e,r=e,a=js.empty){if(e==r&&!a.size)return null;let i=s.resolve(e),n=s.resolve(r);return JV(i,n,a)?new Ka(e,r,a):new Qq(i,n,a).fit()}function JV(s,e,r){return!r.openStart&&!r.openEnd&&s.start()==e.start()&&s.parent.canReplace(s.index(),e.index(),r.content)}class Qq{constructor(e,r,a){this.$from=e,this.$to=r,this.unplaced=a,this.frontier=[],this.placed=ss.empty;for(let i=0;i<=e.depth;i++){let n=e.node(i);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ss.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,a=this.$from,i=this.close(e<0?this.$to:a.doc.resolve(e));if(!i)return null;let n=this.placed,o=a.depth,l=i.depth;for(;o&&l&&n.childCount==1;)n=n.firstChild.content,o--,l--;let d=new js(n,o,l);return e>-1?new Qa(a.pos,e,this.$to.pos,this.$to.end(),d,r):d.size||a.pos!=this.$to.pos?new Ka(a.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,a=0,i=this.unplaced.openEnd;a<e;a++){let n=r.firstChild;if(r.childCount>1&&(i=0),n.type.spec.isolating&&i<=a){e=a;break}r=n.content}for(let r=1;r<=2;r++)for(let a=r==1?e:this.unplaced.openStart;a>=0;a--){let i,n=null;a?(n=Ux(this.unplaced.content,a-1).firstChild,i=n.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:d,match:u}=this.frontier[l],c,b=null;if(r==1&&(o?u.matchType(o.type)||(b=u.fillBefore(ss.from(o),!1)):n&&d.compatibleContent(n.type)))return{sliceDepth:a,frontierDepth:l,parent:n,inject:b};if(r==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:a,frontierDepth:l,parent:n,wrap:c};if(n&&u.matchType(n.type))break}}}openMore(){let{content:e,openStart:r,openEnd:a}=this.unplaced,i=Ux(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new js(e,r+1,Math.max(a,i.size+r>=e.size-a?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:a}=this.unplaced,i=Ux(e,r);if(i.childCount<=1&&r>0){let n=e.size-r<=r+i.size;this.unplaced=new js(Wb(e,r-1,1),r-1,n?r-1:a)}else this.unplaced=new js(Wb(e,r,1),r,a)}placeNodes({sliceDepth:e,frontierDepth:r,parent:a,inject:i,wrap:n}){for(;this.depth>r;)this.closeFrontierNode();if(n)for(let p=0;p<n.length;p++)this.openFrontierNode(n[p]);let o=this.unplaced,l=a?a.content:o.content,d=o.openStart-e,u=0,c=[],{match:b,type:h}=this.frontier[r];if(i){for(let p=0;p<i.childCount;p++)c.push(i.child(p));b=b.matchFragment(i)}let m=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let p=l.child(u),N=b.matchType(p.type);if(!N)break;u++,(u>1||d==0||p.content.size)&&(b=N,c.push(ZV(p.mark(h.allowedMarks(p.marks)),u==1?d:0,u==l.childCount?m:-1)))}let f=u==l.childCount;f||(m=-1),this.placed=Ub(this.placed,r,ss.from(c)),this.frontier[r].match=b,f&&m<0&&a&&a.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,N=l;p<m;p++){let g=N.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),N=g.content}this.unplaced=f?e==0?js.empty:new js(Wb(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new js(Wb(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Vx(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:a}=this.$to,i=this.$to.after(a);for(;a>1&&i==this.$to.end(--a);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:a,type:i}=this.frontier[r],n=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=Vx(e,r,i,a,n);if(o){for(let l=r-1;l>=0;l--){let{match:d,type:u}=this.frontier[l],c=Vx(e,l,u,d,!0);if(!c||c.childCount)continue e}return{depth:r,fit:o,move:n?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Ub(this.placed,r.depth,r.fit)),e=r.move;for(let a=r.depth+1;a<=e.depth;a++){let i=e.node(a),n=i.type.contentMatch.fillBefore(i.content,!0,e.index(a));this.openFrontierNode(i.type,i.attrs,n)}return e}openFrontierNode(e,r=null,a){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ub(this.placed,this.depth,ss.from(e.create(r,a))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ss.empty,!0);r.childCount&&(this.placed=Ub(this.placed,this.frontier.length,r))}}function Wb(s,e,r){return e==0?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(Wb(s.firstChild.content,e-1,r)))}function Ub(s,e,r){return e==0?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(Ub(s.lastChild.content,e-1,r)))}function Ux(s,e){for(let r=0;r<e;r++)s=s.firstChild.content;return s}function ZV(s,e,r){if(e<=0)return s;let a=s.content;return e>1&&(a=a.replaceChild(0,ZV(a.firstChild,e-1,a.childCount==1?r-1:0))),e>0&&(a=s.type.contentMatch.fillBefore(a).append(a),r<=0&&(a=a.append(s.type.contentMatch.matchFragment(a).fillBefore(ss.empty,!0)))),s.copy(a)}function Vx(s,e,r,a,i){let n=s.node(e),o=i?s.indexAfter(e):s.index(e);if(o==n.childCount&&!r.compatibleContent(n.type))return null;let l=a.fillBefore(n.content,!0,o);return l&&!Yq(r,n.content,o)?l:null}function Yq(s,e,r){for(let a=r;a<e.childCount;a++)if(!s.allowsMarks(e.child(a).marks))return!0;return!1}function Jq(s){return s.spec.defining||s.spec.definingForContent}function Zq(s,e,r,a){if(!a.size)return s.deleteRange(e,r);let i=s.doc.resolve(e),n=s.doc.resolve(r);if(JV(i,n,a))return s.step(new Ka(e,r,a));let o=e3(i,n);o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let h=i.depth,m=i.pos-1;h>0;h--,m--){let f=i.node(h).type.spec;if(f.defining||f.definingAsContext||f.isolating)break;o.indexOf(h)>-1?l=h:i.before(h)==m&&o.splice(1,0,-h)}let d=o.indexOf(l),u=[],c=a.openStart;for(let h=a.content,m=0;;m++){let f=h.firstChild;if(u.push(f),m==a.openStart)break;h=f.content}for(let h=c-1;h>=0;h--){let m=u[h],f=Jq(m.type);if(f&&!m.sameMarkup(i.node(Math.abs(l)-1)))c=h;else if(f||!m.type.isTextblock)break}for(let h=a.openStart;h>=0;h--){let m=(h+c+1)%(a.openStart+1),f=u[m];if(f)for(let p=0;p<o.length;p++){let N=o[(p+d)%o.length],g=!0;N<0&&(g=!1,N=-N);let D=i.node(N-1),w=i.index(N-1);if(D.canReplaceWith(w,w,f.type,f.marks))return s.replace(i.before(N),g?n.after(N):r,new js(XV(a.content,0,a.openStart,m),m,a.openEnd))}}let b=s.steps.length;for(let h=o.length-1;h>=0&&(s.replace(e,r,a),!(s.steps.length>b));h--){let m=o[h];m<0||(e=i.before(m),r=n.after(m))}}function XV(s,e,r,a,i){if(e<r){let n=s.firstChild;s=s.replaceChild(0,n.copy(XV(n.content,e+1,r,a,n)))}if(e>a){let n=i.contentMatchAt(0),o=n.fillBefore(s).append(s);s=o.append(n.matchFragment(o).fillBefore(ss.empty,!0))}return s}function Xq(s,e,r,a){if(!a.isInline&&e==r&&s.doc.resolve(e).parent.content.size){let i=Kq(s.doc,e,a.type);i!=null&&(e=r=i)}s.replaceRange(e,r,new js(ss.from(a),0,0))}function e$(s,e,r){let a=s.doc.resolve(e),i=s.doc.resolve(r),n=e3(a,i);for(let o=0;o<n.length;o++){let l=n[o],d=o==n.length-1;if(d&&l==0||a.node(l).type.contentMatch.validEnd)return s.delete(a.start(l),i.end(l));if(l>0&&(d||a.node(l-1).canReplace(a.index(l-1),i.indexAfter(l-1))))return s.delete(a.before(l),i.after(l))}for(let o=1;o<=a.depth&&o<=i.depth;o++)if(e-a.start(o)==a.depth-o&&r>a.end(o)&&i.end(o)-r!=i.depth-o&&a.start(o-1)==i.start(o-1)&&a.node(o-1).canReplace(a.index(o-1),i.index(o-1)))return s.delete(a.before(o),r);s.delete(e,r)}function e3(s,e){let r=[],a=Math.min(s.depth,e.depth);for(let i=a;i>=0;i--){let n=s.start(i);if(n<s.pos-(s.depth-i)||e.end(i)>e.pos+(e.depth-i)||s.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(n==e.start(i)||i==s.depth&&i==e.depth&&s.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==n-1)&&r.push(i)}return r}class Yc extends xi{constructor(e,r,a){super(),this.pos=e,this.attr=r,this.value=a}apply(e){let r=e.nodeAt(this.pos);if(!r)return Oa.fail("No node at attribute step's position");let a=Object.create(null);for(let n in r.attrs)a[n]=r.attrs[n];a[this.attr]=this.value;let i=r.type.create(a,null,r.marks);return Oa.fromReplace(e,this.pos,this.pos+1,new js(ss.from(i),0,r.isLeaf?0:1))}getMap(){return cn.empty}invert(e){return new Yc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Yc(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Yc(r.pos,r.attr,r.value)}}xi.jsonID("attr",Yc);class wh extends xi{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let a=e.type.create(r,e.content,e.marks);return Oa.ok(a)}getMap(){return cn.empty}invert(e){return new wh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new wh(r.attr,r.value)}}xi.jsonID("docAttr",wh);let km=class extends Error{};km=function s(e){let r=Error.call(this,e);return r.__proto__=s.prototype,r};km.prototype=Object.create(Error.prototype);km.prototype.constructor=km;km.prototype.name="TransformError";class s3{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Dh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new km(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,a=js.empty){let i=ng(this.doc,e,r,a);return i&&this.step(i),this}replaceWith(e,r,a){return this.replace(e,r,new js(ss.from(a),0,0))}delete(e,r){return this.replace(e,r,js.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,a){return Zq(this,e,r,a),this}replaceRangeWith(e,r,a){return Xq(this,e,r,a),this}deleteRange(e,r){return e$(this,e,r),this}lift(e,r){return Mq(this,e,r),this}join(e,r=1){return Gq(this,e,r),this}wrap(e,r){return Fq(this,e,r),this}setBlockType(e,r=e,a,i=null){return zq(this,e,r,a,i),this}setNodeMarkup(e,r,a=null,i){return qq(this,e,r,a,i),this}setNodeAttribute(e,r,a){return this.step(new Yc(e,r,a)),this}setDocAttribute(e,r){return this.step(new wh(e,r)),this}addNodeMark(e,r){return this.step(new cd(e,r)),this}removeNodeMark(e,r){let a=this.doc.nodeAt(e);if(!a)throw new RangeError("No node at position "+e);if(r instanceof Sr)r.isInSet(a.marks)&&this.step(new Bu(e,r));else{let i=a.marks,n,o=[];for(;n=r.isInSet(i);)o.push(new Bu(e,n)),i=n.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,a){return $q(this,e,r,a),this}addMark(e,r,a){return Sq(this,e,r,a),this}removeMark(e,r,a){return Tq(this,e,r,a),this}clearIncompatible(e,r,a){return SD(this,e,r,a),this}}const _x=Object.create(null);class Rt{constructor(e,r,a){this.$anchor=e,this.$head=r,this.ranges=a||[new s$(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=js.empty){let a=r.content.lastChild,i=null;for(let l=0;l<r.openEnd;l++)i=a,a=a.lastChild;let n=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:d,$to:u}=o[l],c=e.mapping.slice(n);e.replaceRange(c.map(d.pos),c.map(u.pos),l?js.empty:r),l==0&&SE(e,n,(a?a.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let a=e.steps.length,i=this.ranges;for(let n=0;n<i.length;n++){let{$from:o,$to:l}=i[n],d=e.mapping.slice(a),u=d.map(o.pos),c=d.map(l.pos);n?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),SE(e,a,r.isInline?-1:1))}}static findFrom(e,r,a=!1){let i=e.parent.inlineContent?new pt(e):Tc(e.node(0),e.parent,e.pos,e.index(),r,a);if(i)return i;for(let n=e.depth-1;n>=0;n--){let o=r<0?Tc(e.node(0),e.node(n),e.before(n+1),e.index(n),r,a):Tc(e.node(0),e.node(n),e.after(n+1),e.index(n)+1,r,a);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Fn(e.node(0))}static atStart(e){return Tc(e,e,0,0,1)||new Fn(e)}static atEnd(e){return Tc(e,e,e.content.size,e.childCount,-1)||new Fn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let a=_x[r.type];if(!a)throw new RangeError(`No selection type ${r.type} defined`);return a.fromJSON(e,r)}static jsonID(e,r){if(e in _x)throw new RangeError("Duplicate use of selection JSON ID "+e);return _x[e]=r,r.prototype.jsonID=e,r}getBookmark(){return pt.between(this.$anchor,this.$head).getBookmark()}}Rt.prototype.visible=!0;class s${constructor(e,r){this.$from=e,this.$to=r}}let _E=!1;function CE(s){!_E&&!s.parent.inlineContent&&(_E=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class pt extends Rt{constructor(e,r=e){CE(e),CE(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let a=e.resolve(r.map(this.head));if(!a.parent.inlineContent)return Rt.near(a);let i=e.resolve(r.map(this.anchor));return new pt(i.parent.inlineContent?i:a,a)}replace(e,r=js.empty){if(super.replace(e,r),r==js.empty){let a=this.$from.marksAcross(this.$to);a&&e.ensureMarks(a)}}eq(e){return e instanceof pt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new og(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,a=r){let i=e.resolve(r);return new this(i,a==r?i:e.resolve(a))}static between(e,r,a){let i=e.pos-r.pos;if((!a||i)&&(a=i>=0?1:-1),!r.parent.inlineContent){let n=Rt.findFrom(r,a,!0)||Rt.findFrom(r,-a,!0);if(n)r=n.$head;else return Rt.near(r,a)}return e.parent.inlineContent||(i==0?e=r:(e=(Rt.findFrom(e,-a,!0)||Rt.findFrom(e,a,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new pt(e,r)}}Rt.jsonID("text",pt);class og{constructor(e,r){this.anchor=e,this.head=r}map(e){return new og(e.map(this.anchor),e.map(this.head))}resolve(e){return pt.between(e.resolve(this.anchor),e.resolve(this.head))}}class et extends Rt{constructor(e){let r=e.nodeAfter,a=e.node(0).resolve(e.pos+r.nodeSize);super(e,a),this.node=r}map(e,r){let{deleted:a,pos:i}=r.mapResult(this.anchor),n=e.resolve(i);return a?Rt.near(n):new et(n)}content(){return new js(ss.from(this.node),0,0)}eq(e){return e instanceof et&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new RD(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new et(e.resolve(r.anchor))}static create(e,r){return new et(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}et.prototype.visible=!1;Rt.jsonID("node",et);class RD{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:a}=e.mapResult(this.anchor);return r?new og(a,a):new RD(a)}resolve(e){let r=e.resolve(this.anchor),a=r.nodeAfter;return a&&et.isSelectable(a)?new et(r):Rt.near(r)}}class Fn extends Rt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=js.empty){if(r==js.empty){e.delete(0,e.doc.content.size);let a=Rt.atStart(e.doc);a.eq(e.selection)||e.setSelection(a)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Fn(e)}map(e){return new Fn(e)}eq(e){return e instanceof Fn}getBookmark(){return t$}}Rt.jsonID("all",Fn);const t$={map(){return this},resolve(s){return new Fn(s)}};function Tc(s,e,r,a,i,n=!1){if(e.inlineContent)return pt.create(s,r);for(let o=a-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!n&&et.isSelectable(l))return et.create(s,r-(i<0?l.nodeSize:0))}else{let d=Tc(s,l,r+i,i<0?l.childCount:0,i,n);if(d)return d}r+=l.nodeSize*i}return null}function SE(s,e,r){let a=s.steps.length-1;if(a<e)return;let i=s.steps[a];if(!(i instanceof Ka||i instanceof Qa))return;let n=s.mapping.maps[a],o;n.forEach((l,d,u,c)=>{o==null&&(o=c)}),s.setSelection(Rt.near(s.doc.resolve(o),r))}const TE=1,bp=2,RE=4;class r$ extends s3{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|TE)&~bp,this.storedMarks=null,this}get selectionSet(){return(this.updated&TE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bp,this}ensureMarks(e){return Sr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bp)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~bp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let a=this.selection;return r&&(e=e.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||Sr.none))),a.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,a){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(a==null&&(a=r),!e)return this.deleteRange(r,a);let n=this.storedMarks;if(!n){let o=this.doc.resolve(r);n=a==r?o.marks():o.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(r,a,i.text(e,n)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Rt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=RE,this}get scrolledIntoView(){return(this.updated&RE)>0}}function ME(s,e){return!e||!s?s:s.bind(e)}class Vb{constructor(e,r,a){this.name=e,this.init=ME(r.init,a),this.apply=ME(r.apply,a)}}const a$=[new Vb("doc",{init(s){return s.doc||s.schema.topNodeType.createAndFill()},apply(s){return s.doc}}),new Vb("selection",{init(s,e){return s.selection||Rt.atStart(e.doc)},apply(s){return s.selection}}),new Vb("storedMarks",{init(s){return s.storedMarks||null},apply(s,e,r,a){return a.selection.$cursor?s.storedMarks:null}}),new Vb("scrollToSelection",{init(){return 0},apply(s,e){return s.scrolledIntoView?e+1:e}})];class Cx{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=a$.slice(),r&&r.forEach(a=>{if(this.pluginsByKey[a.key])throw new RangeError("Adding different instances of a keyed plugin ("+a.key+")");this.plugins.push(a),this.pluginsByKey[a.key]=a,a.spec.state&&this.fields.push(new Vb(a.key,a.spec.state,a))})}}class zc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let a=0;a<this.config.plugins.length;a++)if(a!=r){let i=this.config.plugins[a];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],a=this.applyInner(e),i=null;for(;;){let n=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let d=i?i[o].n:0,u=i?i[o].state:this,c=d<r.length&&l.spec.appendTransaction.call(l,d?r.slice(d):r,u,a);if(c&&a.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let b=0;b<this.config.plugins.length;b++)i.push(b<o?{state:a,n:r.length}:{state:this,n:0})}r.push(c),a=a.applyInner(c),n=!0}i&&(i[o]={state:a,n:r.length})}}if(!n)return{state:a,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new zc(this.config),a=this.config.fields;for(let i=0;i<a.length;i++){let n=a[i];r[n.name]=n.apply(e,this[n.name],this,r)}return r}get tr(){return new r$(this)}static create(e){let r=new Cx(e.doc?e.doc.type.schema:e.schema,e.plugins),a=new zc(r);for(let i=0;i<r.fields.length;i++)a[r.fields[i].name]=r.fields[i].init(e,a);return a}reconfigure(e){let r=new Cx(this.schema,e.plugins),a=r.fields,i=new zc(r);for(let n=0;n<a.length;n++){let o=a[n].name;i[o]=this.hasOwnProperty(o)?this[o]:a[n].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(a=>a.toJSON())),e&&typeof e=="object")for(let a in e){if(a=="doc"||a=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[a],n=i.spec.state;n&&n.toJSON&&(r[a]=n.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,a){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Cx(e.schema,e.plugins),n=new zc(i);return i.fields.forEach(o=>{if(o.name=="doc")n.doc=In.fromJSON(e.schema,r.doc);else if(o.name=="selection")n.selection=Rt.fromJSON(n.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(n.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(a)for(let l in a){let d=a[l],u=d.spec.state;if(d.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){n[o.name]=u.fromJSON.call(d,e,r[l],n);return}}n[o.name]=o.init(e,n)}}),n}}function t3(s,e,r){for(let a in s){let i=s[a];i instanceof Function?i=i.bind(e):a=="handleDOMEvents"&&(i=t3(i,e,{})),r[a]=i}return r}class ea{constructor(e){this.spec=e,this.props={},e.props&&t3(e.props,this,this.props),this.key=e.key?e.key.key:r3("plugin")}getState(e){return e[this.key]}}const Sx=Object.create(null);function r3(s){return s in Sx?s+"$"+ ++Sx[s]:(Sx[s]=0,s+"$")}class Va{constructor(e="key"){this.key=r3(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const i$=(s,e)=>s.selection.empty?!1:(e&&e(s.tr.deleteSelection().scrollIntoView()),!0);function a3(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("backward",s):r.parentOffset>0)?null:r}const n$=(s,e,r)=>{let a=a3(s,r);if(!a)return!1;let i=MD(a);if(!i){let o=a.blockRange(),l=o&&_m(o);return l==null?!1:(e&&e(s.tr.lift(o,l).scrollIntoView()),!0)}let n=i.nodeBefore;if(l3(s,i,e,-1))return!0;if(a.parent.content.size==0&&(gm(n,"end")||et.isSelectable(n)))for(let o=a.depth;;o--){let l=ng(s.doc,a.before(o),a.after(o),js.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=s.tr.step(l);d.setSelection(gm(n,"end")?Rt.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):et.create(d.doc,i.pos-n.nodeSize)),e(d.scrollIntoView())}return!0}if(o==1||a.node(o-1).childCount>1)break}return n.isAtom&&i.depth==a.depth-1?(e&&e(s.tr.delete(i.pos-n.nodeSize,i.pos).scrollIntoView()),!0):!1},o$=(s,e,r)=>{let a=a3(s,r);if(!a)return!1;let i=MD(a);return i?i3(s,i,e):!1},l$=(s,e,r)=>{let a=n3(s,r);if(!a)return!1;let i=LD(a);return i?i3(s,i,e):!1};function i3(s,e,r){let a=e.nodeBefore,i=a,n=e.pos-1;for(;!i.isTextblock;n--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,l=o,d=e.pos+1;for(;!l.isTextblock;d++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=ng(s.doc,n,d,js.empty);if(!u||u.from!=n||u instanceof Ka&&u.slice.size>=d-n)return!1;if(r){let c=s.tr.step(u);c.setSelection(pt.create(c.doc,n)),r(c.scrollIntoView())}return!0}function gm(s,e,r=!1){for(let a=s;a;a=e=="start"?a.firstChild:a.lastChild){if(a.isTextblock)return!0;if(r&&a.childCount!=1)return!1}return!1}const d$=(s,e,r)=>{let{$head:a,empty:i}=s.selection,n=a;if(!i)return!1;if(a.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):a.parentOffset>0)return!1;n=MD(a)}let o=n&&n.nodeBefore;return!o||!et.isSelectable(o)?!1:(e&&e(s.tr.setSelection(et.create(s.doc,n.pos-o.nodeSize)).scrollIntoView()),!0)};function MD(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){if(s.index(e)>0)return s.doc.resolve(s.before(e+1));if(s.node(e).type.spec.isolating)break}return null}function n3(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}const u$=(s,e,r)=>{let a=n3(s,r);if(!a)return!1;let i=LD(a);if(!i)return!1;let n=i.nodeAfter;if(l3(s,i,e,1))return!0;if(a.parent.content.size==0&&(gm(n,"start")||et.isSelectable(n))){let o=ng(s.doc,a.before(),a.after(),js.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=s.tr.step(o);l.setSelection(gm(n,"start")?Rt.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):et.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return n.isAtom&&i.depth==a.depth-1?(e&&e(s.tr.delete(i.pos,i.pos+n.nodeSize).scrollIntoView()),!0):!1},c$=(s,e,r)=>{let{$head:a,empty:i}=s.selection,n=a;if(!i)return!1;if(a.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):a.parentOffset<a.parent.content.size)return!1;n=LD(a)}let o=n&&n.nodeAfter;return!o||!et.isSelectable(o)?!1:(e&&e(s.tr.setSelection(et.create(s.doc,n.pos)).scrollIntoView()),!0)};function LD(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){let r=s.node(e);if(s.index(e)+1<r.childCount)return s.doc.resolve(s.after(e+1));if(r.type.spec.isolating)break}return null}const m$=(s,e)=>{let r=s.selection,a=r instanceof et,i;if(a){if(r.node.isTextblock||!Td(s.doc,r.from))return!1;i=r.from}else if(i=ig(s.doc,r.from,-1),i==null)return!1;if(e){let n=s.tr.join(i);a&&n.setSelection(et.create(n.doc,i-s.doc.resolve(i).nodeBefore.nodeSize)),e(n.scrollIntoView())}return!0},b$=(s,e)=>{let r=s.selection,a;if(r instanceof et){if(r.node.isTextblock||!Td(s.doc,r.to))return!1;a=r.to}else if(a=ig(s.doc,r.to,1),a==null)return!1;return e&&e(s.tr.join(a).scrollIntoView()),!0},h$=(s,e)=>{let{$from:r,$to:a}=s.selection,i=r.blockRange(a),n=i&&_m(i);return n==null?!1:(e&&e(s.tr.lift(i,n).scrollIntoView()),!0)},f$=(s,e)=>{let{$head:r,$anchor:a}=s.selection;return!r.parent.type.spec.code||!r.sameParent(a)?!1:(e&&e(s.tr.insertText(`
`).scrollIntoView()),!0)};function o3(s){for(let e=0;e<s.edgeCount;e++){let{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const p$=(s,e)=>{let{$head:r,$anchor:a}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(a))return!1;let i=r.node(-1),n=r.indexAfter(-1),o=o3(i.contentMatchAt(n));if(!o||!i.canReplaceWith(n,n,o))return!1;if(e){let l=r.after(),d=s.tr.replaceWith(l,l,o.createAndFill());d.setSelection(Rt.near(d.doc.resolve(l),1)),e(d.scrollIntoView())}return!0},N$=(s,e)=>{let r=s.selection,{$from:a,$to:i}=r;if(r instanceof Fn||a.parent.inlineContent||i.parent.inlineContent)return!1;let n=o3(i.parent.contentMatchAt(i.indexAfter()));if(!n||!n.isTextblock)return!1;if(e){let o=(!a.parentOffset&&i.index()<i.parent.childCount?a:i).pos,l=s.tr.insert(o,n.createAndFill());l.setSelection(pt.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},k$=(s,e)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let n=r.before();if(Qc(s.doc,n))return e&&e(s.tr.split(n).scrollIntoView()),!0}let a=r.blockRange(),i=a&&_m(a);return i==null?!1:(e&&e(s.tr.lift(a,i).scrollIntoView()),!0)},g$=(s,e)=>{let{$from:r,to:a}=s.selection,i,n=r.sharedDepth(a);return n==0?!1:(i=r.before(n),e&&e(s.tr.setSelection(et.create(s.doc,i))),!0)};function x$(s,e,r){let a=e.nodeBefore,i=e.nodeAfter,n=e.index();return!a||!i||!a.type.compatibleContent(i.type)?!1:!a.content.size&&e.parent.canReplace(n-1,n)?(r&&r(s.tr.delete(e.pos-a.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(n,n+1)||!(i.isTextblock||Td(s.doc,e.pos))?!1:(r&&r(s.tr.join(e.pos).scrollIntoView()),!0)}function l3(s,e,r,a){let i=e.nodeBefore,n=e.nodeAfter,o,l,d=i.type.spec.isolating||n.type.spec.isolating;if(!d&&x$(s,e,r))return!0;let u=!d&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(n.type))&&l.matchType(o[0]||n.type).validEnd){if(r){let m=e.pos+n.nodeSize,f=ss.empty;for(let g=o.length-1;g>=0;g--)f=ss.from(o[g].create(null,f));f=ss.from(i.copy(f));let p=s.tr.step(new Qa(e.pos-1,m,e.pos,m,new js(f,1,0),o.length,!0)),N=p.doc.resolve(m+2*o.length);N.nodeAfter&&N.nodeAfter.type==i.type&&Td(p.doc,N.pos)&&p.join(N.pos),r(p.scrollIntoView())}return!0}let c=n.type.spec.isolating||a>0&&d?null:Rt.findFrom(e,1),b=c&&c.$from.blockRange(c.$to),h=b&&_m(b);if(h!=null&&h>=e.depth)return r&&r(s.tr.lift(b,h).scrollIntoView()),!0;if(u&&gm(n,"start",!0)&&gm(i,"end")){let m=i,f=[];for(;f.push(m),!m.isTextblock;)m=m.lastChild;let p=n,N=1;for(;!p.isTextblock;p=p.firstChild)N++;if(m.canReplace(m.childCount,m.childCount,p.content)){if(r){let g=ss.empty;for(let w=f.length-1;w>=0;w--)g=ss.from(f[w].copy(g));let D=s.tr.step(new Qa(e.pos-f.length,e.pos+n.nodeSize,e.pos+N,e.pos+n.nodeSize-N,new js(g,f.length,0),0,!0));r(D.scrollIntoView())}return!0}}return!1}function d3(s){return function(e,r){let a=e.selection,i=s<0?a.$from:a.$to,n=i.depth;for(;i.node(n).isInline;){if(!n)return!1;n--}return i.node(n).isTextblock?(r&&r(e.tr.setSelection(pt.create(e.doc,s<0?i.start(n):i.end(n)))),!0):!1}}const v$=d3(-1),D$=d3(1);function w$(s,e=null){return function(r,a){let{$from:i,$to:n}=r.selection,o=i.blockRange(n),l=o&&TD(o,s,e);return l?(a&&a(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function LE(s,e=null){return function(r,a){let i=!1;for(let n=0;n<r.selection.ranges.length&&!i;n++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[n];r.doc.nodesBetween(o,l,(d,u)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(s,e)))if(d.type==s)i=!0;else{let c=r.doc.resolve(u),b=c.index();i=c.parent.canReplaceWith(b,b+1,s)}})}if(!i)return!1;if(a){let n=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:d}}=r.selection.ranges[o];n.setBlockType(l,d,s,e)}a(n.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function j$(s,e=null){return function(r,a){let{$from:i,$to:n}=r.selection,o=i.blockRange(n);if(!o)return!1;let l=a?r.tr:null;return A$(l,o,s,e)?(a&&a(l.scrollIntoView()),!0):!1}}function A$(s,e,r,a=null){let i=!1,n=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=o.resolve(e.start-2);n=new AN(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new AN(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=TD(n,r,a,e);return l?(s&&E$(s,e,l,i,r),!0):!1}function E$(s,e,r,a,i){let n=ss.empty;for(let c=r.length-1;c>=0;c--)n=ss.from(r[c].type.create(r[c].attrs,n));s.step(new Qa(e.start-(a?2:0),e.end,e.start,e.end,new js(n,0,0),r.length,!0));let o=0;for(let c=0;c<r.length;c++)r[c].type==i&&(o=c+1);let l=r.length-o,d=e.start+r.length-(a?2:0),u=e.parent;for(let c=e.startIndex,b=e.endIndex,h=!0;c<b;c++,h=!1)!h&&Qc(s.doc,d,l)&&(s.split(d,l),d+=2*l),d+=u.child(c).nodeSize;return s}function P$(s){return function(e,r){let{$from:a,$to:i}=e.selection,n=a.blockRange(i,o=>o.childCount>0&&o.firstChild.type==s);return n?r?a.node(n.depth-1).type==s?y$(e,r,s,n):O$(e,r,n):!0:!1}}function y$(s,e,r,a){let i=s.tr,n=a.end,o=a.$to.end(a.depth);n<o&&(i.step(new Qa(n-1,o,n,o,new js(ss.from(r.create(null,a.parent.copy())),1,0),1,!0)),a=new AN(i.doc.resolve(a.$from.pos),i.doc.resolve(o),a.depth));const l=_m(a);if(l==null)return!1;i.lift(a,l);let d=i.doc.resolve(i.mapping.map(n,-1)-1);return Td(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),e(i.scrollIntoView()),!0}function O$(s,e,r){let a=s.tr,i=r.parent;for(let m=r.end,f=r.endIndex-1,p=r.startIndex;f>p;f--)m-=i.child(f).nodeSize,a.delete(m-1,m+1);let n=a.doc.resolve(r.start),o=n.nodeAfter;if(a.mapping.map(r.end)!=r.start+n.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,d=r.endIndex==i.childCount,u=n.node(-1),c=n.index(-1);if(!u.canReplace(c+(l?0:1),c+1,o.content.append(d?ss.empty:ss.from(i))))return!1;let b=n.pos,h=b+o.nodeSize;return a.step(new Qa(b-(l?1:0),h+(d?1:0),b+1,h-1,new js((l?ss.empty:ss.from(i.copy(ss.empty))).append(d?ss.empty:ss.from(i.copy(ss.empty))),l?0:1,d?0:1),l?0:1)),e(a.scrollIntoView()),!0}function W$(s){return function(e,r){let{$from:a,$to:i}=e.selection,n=a.blockRange(i,u=>u.childCount>0&&u.firstChild.type==s);if(!n)return!1;let o=n.startIndex;if(o==0)return!1;let l=n.parent,d=l.child(o-1);if(d.type!=s)return!1;if(r){let u=d.lastChild&&d.lastChild.type==l.type,c=ss.from(u?s.create():null),b=new js(ss.from(s.create(null,ss.from(l.type.create(null,c)))),u?3:1,0),h=n.start,m=n.end;r(e.tr.step(new Qa(h-(u?3:1),m,h,m,b,1,!0)).scrollIntoView())}return!0}}const ai=function(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e},xm=function(s){let e=s.assignedSlot||s.parentNode;return e&&e.nodeType==11?e.host:e};let C0=null;const fl=function(s,e,r){let a=C0||(C0=document.createRange());return a.setEnd(s,r??s.nodeValue.length),a.setStart(s,e||0),a},U$=function(){C0=null},qu=function(s,e,r,a){return r&&(IE(s,e,r,a,-1)||IE(s,e,r,a,1))},V$=/^(img|br|input|textarea|hr)$/i;function IE(s,e,r,a,i){for(var n;;){if(s==r&&e==a)return!0;if(e==(i<0?0:_n(s))){let o=s.parentNode;if(!o||o.nodeType!=1||sf(s)||V$.test(s.nodeName)||s.contentEditable=="false")return!1;e=ai(s)+(i<0?0:1),s=o}else if(s.nodeType==1){let o=s.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((n=o.pmViewDesc)===null||n===void 0)&&n.ignoreForSelection)e+=i;else return!1;else s=o,e=i<0?_n(s):0}else return!1}}function _n(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function _$(s,e){for(;;){if(s.nodeType==3&&e)return s;if(s.nodeType==1&&e>0){if(s.contentEditable=="false")return null;s=s.childNodes[e-1],e=_n(s)}else if(s.parentNode&&!sf(s))e=ai(s),s=s.parentNode;else return null}}function C$(s,e){for(;;){if(s.nodeType==3&&e<s.nodeValue.length)return s;if(s.nodeType==1&&e<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[e],e=0}else if(s.parentNode&&!sf(s))e=ai(s)+1,s=s.parentNode;else return null}}function S$(s,e,r){for(let a=e==0,i=e==_n(s);a||i;){if(s==r)return!0;let n=ai(s);if(s=s.parentNode,!s)return!1;a=a&&n==0,i=i&&n==_n(s)}}function sf(s){let e;for(let r=s;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==s||e.contentDOM==s)}const lg=function(s){return s.focusNode&&qu(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function hu(s,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=e,r}function T$(s){let e=s.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function R$(s,e,r){if(s.caretPositionFromPoint)try{let a=s.caretPositionFromPoint(e,r);if(a)return{node:a.offsetNode,offset:Math.min(_n(a.offsetNode),a.offset)}}catch{}if(s.caretRangeFromPoint){let a=s.caretRangeFromPoint(e,r);if(a)return{node:a.startContainer,offset:Math.min(_n(a.startContainer),a.startOffset)}}}const zo=typeof navigator<"u"?navigator:null,FE=typeof document<"u"?document:null,Rd=zo&&zo.userAgent||"",S0=/Edge\/(\d+)/.exec(Rd),u3=/MSIE \d/.exec(Rd),T0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Rd),zi=!!(u3||T0||S0),kd=u3?document.documentMode:T0?+T0[1]:S0?+S0[1]:0,zn=!zi&&/gecko\/(\d+)/i.test(Rd);zn&&+(/Firefox\/(\d+)/.exec(Rd)||[0,0])[1];const R0=!zi&&/Chrome\/(\d+)/.exec(Rd),ki=!!R0,c3=R0?+R0[1]:0,yi=!zi&&!!zo&&/Apple Computer/.test(zo.vendor),vm=yi&&(/Mobile\/\w+/.test(Rd)||!!zo&&zo.maxTouchPoints>2),Wn=vm||(zo?/Mac/.test(zo.platform):!1),M$=zo?/Win/.test(zo.platform):!1,kl=/Android \d/.test(Rd),tf=!!FE&&"webkitFontSmoothing"in FE.documentElement.style,L$=tf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function I$(s){let e=s.defaultView&&s.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function nl(s,e){return typeof s=="number"?s:s[e]}function F$(s){let e=s.getBoundingClientRect(),r=e.width/s.offsetWidth||1,a=e.height/s.offsetHeight||1;return{left:e.left,right:e.left+s.clientWidth*r,top:e.top,bottom:e.top+s.clientHeight*a}}function zE(s,e,r){let a=s.someProp("scrollThreshold")||0,i=s.someProp("scrollMargin")||5,n=s.dom.ownerDocument;for(let o=r||s.dom;o;){if(o.nodeType!=1){o=xm(o);continue}let l=o,d=l==n.body,u=d?I$(n):F$(l),c=0,b=0;if(e.top<u.top+nl(a,"top")?b=-(u.top-e.top+nl(i,"top")):e.bottom>u.bottom-nl(a,"bottom")&&(b=e.bottom-e.top>u.bottom-u.top?e.top+nl(i,"top")-u.top:e.bottom-u.bottom+nl(i,"bottom")),e.left<u.left+nl(a,"left")?c=-(u.left-e.left+nl(i,"left")):e.right>u.right-nl(a,"right")&&(c=e.right-u.right+nl(i,"right")),c||b)if(d)n.defaultView.scrollBy(c,b);else{let m=l.scrollLeft,f=l.scrollTop;b&&(l.scrollTop+=b),c&&(l.scrollLeft+=c);let p=l.scrollLeft-m,N=l.scrollTop-f;e={left:e.left-p,top:e.top-N,right:e.right-p,bottom:e.bottom-N}}let h=d?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:xm(o)}}function z$(s){let e=s.dom.getBoundingClientRect(),r=Math.max(0,e.top),a,i;for(let n=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=s.root.elementFromPoint(n,o);if(!l||l==s.dom||!s.dom.contains(l))continue;let d=l.getBoundingClientRect();if(d.top>=r-20){a=l,i=d.top;break}}return{refDOM:a,refTop:i,stack:m3(s.dom)}}function m3(s){let e=[],r=s.ownerDocument;for(let a=s;a&&(e.push({dom:a,top:a.scrollTop,left:a.scrollLeft}),s!=r);a=xm(a));return e}function B$({refDOM:s,refTop:e,stack:r}){let a=s?s.getBoundingClientRect().top:0;b3(r,a==0?0:a-e)}function b3(s,e){for(let r=0;r<s.length;r++){let{dom:a,top:i,left:n}=s[r];a.scrollTop!=i+e&&(a.scrollTop=i+e),a.scrollLeft!=n&&(a.scrollLeft=n)}}let Ec=null;function q$(s){if(s.setActive)return s.setActive();if(Ec)return s.focus(Ec);let e=m3(s);s.focus(Ec==null?{get preventScroll(){return Ec={preventScroll:!0},!0}}:void 0),Ec||(Ec=!1,b3(e,0))}function h3(s,e){let r,a=2e8,i,n=0,o=e.top,l=e.top,d,u;for(let c=s.firstChild,b=0;c;c=c.nextSibling,b++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=fl(c).getClientRects();else continue;for(let m=0;m<h.length;m++){let f=h[m];if(f.top<=o&&f.bottom>=l){o=Math.max(f.bottom,o),l=Math.min(f.top,l);let p=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(p<a){r=c,a=p,i=p&&r.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,c.nodeType==1&&p&&(n=b+(e.left>=(f.left+f.right)/2?1:0));continue}}else f.top>e.top&&!d&&f.left<=e.left&&f.right>=e.left&&(d=c,u={left:Math.max(f.left,Math.min(f.right,e.left)),top:f.top});!r&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(n=b+1)}}return!r&&d&&(r=d,i=u,a=0),r&&r.nodeType==3?$$(r,i):!r||a&&r.nodeType==1?{node:s,offset:n}:h3(r,i)}function $$(s,e){let r=s.nodeValue.length,a=document.createRange();for(let i=0;i<r;i++){a.setEnd(s,i+1),a.setStart(s,i);let n=Zl(a,1);if(n.top!=n.bottom&&ID(e,n))return{node:s,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:s,offset:0}}function ID(s,e){return s.left>=e.left-1&&s.left<=e.right+1&&s.top>=e.top-1&&s.top<=e.bottom+1}function H$(s,e){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<s.getBoundingClientRect().left?r:s}function G$(s,e,r){let{node:a,offset:i}=h3(e,r),n=-1;if(a.nodeType==1&&!a.firstChild){let o=a.getBoundingClientRect();n=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return s.docView.posFromDOM(a,i,n)}function K$(s,e,r,a){let i=-1;for(let n=e,o=!1;n!=s.dom;){let l=s.docView.nearestDesc(n,!0),d;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((d=l.dom.getBoundingClientRect()).width||d.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&d.left>a.left||d.top>a.top?i=l.posBefore:(!o&&d.right<a.left||d.bottom<a.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?a.top<(d.top+d.bottom)/2:a.left<(d.left+d.right)/2)?l.posBefore:l.posAfter;n=l.dom.parentNode}return i>-1?i:s.docView.posFromDOM(e,r,-1)}function f3(s,e,r){let a=s.childNodes.length;if(a&&r.top<r.bottom)for(let i=Math.max(0,Math.min(a-1,Math.floor(a*(e.top-r.top)/(r.bottom-r.top))-2)),n=i;;){let o=s.childNodes[n];if(o.nodeType==1){let l=o.getClientRects();for(let d=0;d<l.length;d++){let u=l[d];if(ID(e,u))return f3(o,e,u)}}if((n=(n+1)%a)==i)break}return s}function Q$(s,e){let r=s.dom.ownerDocument,a,i=0,n=R$(r,e.left,e.top);n&&({node:a,offset:i}=n);let o=(s.root.elementFromPoint?s.root:r).elementFromPoint(e.left,e.top),l;if(!o||!s.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=s.dom.getBoundingClientRect();if(!ID(e,u)||(o=f3(s.dom,e,u),!o))return null}if(yi)for(let u=o;a&&u;u=xm(u))u.draggable&&(a=void 0);if(o=H$(o,e),a){if(zn&&a.nodeType==1&&(i=Math.min(i,a.childNodes.length),i<a.childNodes.length)){let c=a.childNodes[i],b;c.nodeName=="IMG"&&(b=c.getBoundingClientRect()).right<=e.left&&b.bottom>e.top&&i++}let u;tf&&i&&a.nodeType==1&&(u=a.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,a==s.dom&&i==a.childNodes.length-1&&a.lastChild.nodeType==1&&e.top>a.lastChild.getBoundingClientRect().bottom?l=s.state.doc.content.size:(i==0||a.nodeType!=1||a.childNodes[i-1].nodeName!="BR")&&(l=K$(s,a,i,e))}l==null&&(l=G$(s,o,e));let d=s.docView.nearestDesc(o,!0);return{pos:l,inside:d?d.posAtStart-d.border:-1}}function BE(s){return s.top<s.bottom||s.left<s.right}function Zl(s,e){let r=s.getClientRects();if(r.length){let a=r[e<0?0:r.length-1];if(BE(a))return a}return Array.prototype.find.call(r,BE)||s.getBoundingClientRect()}const Y$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function p3(s,e,r){let{node:a,offset:i,atom:n}=s.docView.domFromPos(e,r<0?-1:1),o=tf||zn;if(a.nodeType==3)if(o&&(Y$.test(a.nodeValue)||(r<0?!i:i==a.nodeValue.length))){let d=Zl(fl(a,i,i),r);if(zn&&i&&/\s/.test(a.nodeValue[i-1])&&i<a.nodeValue.length){let u=Zl(fl(a,i-1,i-1),-1);if(u.top==d.top){let c=Zl(fl(a,i,i+1),-1);if(c.top!=d.top)return xb(c,c.left<u.left)}}return d}else{let d=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==a.nodeValue.length?(d--,c=1):r<0?d--:u++,xb(Zl(fl(a,d,u),c),c<0)}if(!s.state.doc.resolve(e-(n||0)).parent.inlineContent){if(n==null&&i&&(r<0||i==_n(a))){let d=a.childNodes[i-1];if(d.nodeType==1)return Tx(d.getBoundingClientRect(),!1)}if(n==null&&i<_n(a)){let d=a.childNodes[i];if(d.nodeType==1)return Tx(d.getBoundingClientRect(),!0)}return Tx(a.getBoundingClientRect(),r>=0)}if(n==null&&i&&(r<0||i==_n(a))){let d=a.childNodes[i-1],u=d.nodeType==3?fl(d,_n(d)-(o?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(u)return xb(Zl(u,1),!1)}if(n==null&&i<_n(a)){let d=a.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let u=d?d.nodeType==3?fl(d,0,o?0:1):d.nodeType==1?d:null:null;if(u)return xb(Zl(u,-1),!0)}return xb(Zl(a.nodeType==3?fl(a):a,-r),r>=0)}function xb(s,e){if(s.width==0)return s;let r=e?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function Tx(s,e){if(s.height==0)return s;let r=e?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function N3(s,e,r){let a=s.state,i=s.root.activeElement;a!=e&&s.updateState(e),i!=s.dom&&s.focus();try{return r()}finally{a!=e&&s.updateState(a),i!=s.dom&&i&&i.focus()}}function J$(s,e,r){let a=e.selection,i=r=="up"?a.$from:a.$to;return N3(s,e,()=>{let{node:n}=s.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let l=s.docView.nearestDesc(n,!0);if(!l)break;if(l.node.isBlock){n=l.contentDOM||l.dom;break}n=l.dom.parentNode}let o=p3(s,i.pos,1);for(let l=n.firstChild;l;l=l.nextSibling){let d;if(l.nodeType==1)d=l.getClientRects();else if(l.nodeType==3)d=fl(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<d.length;u++){let c=d[u];if(c.bottom>c.top+1&&(r=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const Z$=/[\u0590-\u08ac]/;function X$(s,e,r){let{$head:a}=e.selection;if(!a.parent.isTextblock)return!1;let i=a.parentOffset,n=!i,o=i==a.parent.content.size,l=s.domSelection();return l?!Z$.test(a.parent.textContent)||!l.modify?r=="left"||r=="backward"?n:o:N3(s,e,()=>{let{focusNode:d,focusOffset:u,anchorNode:c,anchorOffset:b}=s.domSelectionRange(),h=l.caretBidiLevel;l.modify("move",r,"character");let m=a.depth?s.docView.domAfterPos(a.before()):s.dom,{focusNode:f,focusOffset:p}=s.domSelectionRange(),N=f&&!m.contains(f.nodeType==1?f:f.parentNode)||d==f&&u==p;try{l.collapse(c,b),d&&(d!=c||u!=b)&&l.extend&&l.extend(d,u)}catch{}return h!=null&&(l.caretBidiLevel=h),N}):a.pos==a.start()||a.pos==a.end()}let qE=null,$E=null,HE=!1;function eH(s,e,r){return qE==e&&$E==r?HE:(qE=e,$E=r,HE=r=="up"||r=="down"?J$(s,e,r):X$(s,e,r))}const Bn=0,GE=1,gu=2,Bo=3;class rf{constructor(e,r,a,i){this.parent=e,this.children=r,this.dom=a,this.contentDOM=i,this.dirty=Bn,a.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,a){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,a=this.posAtStart;;r++){let i=this.children[r];if(i==e)return a;a+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,a){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(a<0){let n,o;if(e==this.contentDOM)n=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((o=n.pmViewDesc)&&o.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(o)+o.size:this.posAtStart}else{let n,o;if(e==this.contentDOM)n=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&!((o=n.pmViewDesc)&&o.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>ai(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let n=e;;n=n.parentNode){if(n==this.dom){i=!1;break}if(n.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let n=e;;n=n.parentNode){if(n==this.dom){i=!0;break}if(n.nextSibling)break}}return i??a>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let a=!0,i=e;i;i=i.parentNode){let n=this.getDesc(i),o;if(n&&(!r||n.node))if(a&&(o=n.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))a=!1;else return n}}getDesc(e){let r=e.pmViewDesc;for(let a=r;a;a=a.parent)if(a==this)return r}posFromDOM(e,r,a){for(let i=e;i;i=i.parentNode){let n=this.getDesc(i);if(n)return n.localPosFromDOM(e,r,a)}return-1}descAt(e){for(let r=0,a=0;r<this.children.length;r++){let i=this.children[r],n=a+i.size;if(a==e&&n!=a){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<n)return i.descAt(e-a-i.border);a=n}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let a=0,i=0;for(let n=0;a<this.children.length;a++){let o=this.children[a],l=n+o.size;if(l>e||o instanceof g3){i=e-n;break}n=l}if(i)return this.children[a].domFromPos(i-this.children[a].border,r);for(let n;a&&!(n=this.children[a-1]).size&&n instanceof k3&&n.side>=0;a--);if(r<=0){let n,o=!0;for(;n=a?this.children[a-1]:null,!(!n||n.dom.parentNode==this.contentDOM);a--,o=!1);return n&&r&&o&&!n.border&&!n.domAtom?n.domFromPos(n.size,r):{node:this.contentDOM,offset:n?ai(n.dom)+1:0}}else{let n,o=!0;for(;n=a<this.children.length?this.children[a]:null,!(!n||n.dom.parentNode==this.contentDOM);a++,o=!1);return n&&o&&!n.border&&!n.domAtom?n.domFromPos(0,r):{node:this.contentDOM,offset:n?ai(n.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,a=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,n=-1;for(let o=a,l=0;;l++){let d=this.children[l],u=o+d.size;if(i==-1&&e<=u){let c=o+d.border;if(e>=c&&r<=u-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,r,c);e=o;for(let b=l;b>0;b--){let h=this.children[b-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=ai(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(u>r||l==this.children.length-1)){r=u;for(let c=l+1;c<this.children.length;c++){let b=this.children[c];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(-1)){n=ai(b.dom);break}r+=b.size}n==-1&&(n=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:n}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:a}=this.domFromPos(e,0);if(r.nodeType!=1||a==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[a]}setSelection(e,r,a,i=!1){let n=Math.min(e,r),o=Math.max(e,r);for(let m=0,f=0;m<this.children.length;m++){let p=this.children[m],N=f+p.size;if(n>f&&o<N)return p.setSelection(e-f-p.border,r-f-p.border,a,i);f=N}let l=this.domFromPos(e,e?-1:1),d=r==e?l:this.domFromPos(r,r?-1:1),u=a.root.getSelection(),c=a.domSelectionRange(),b=!1;if((zn||yi)&&e==r){let{node:m,offset:f}=l;if(m.nodeType==3){if(b=!!(f&&m.nodeValue[f-1]==`
`),b&&f==m.nodeValue.length)for(let p=m,N;p;p=p.parentNode){if(N=p.nextSibling){N.nodeName=="BR"&&(l=d={node:N.parentNode,offset:ai(N)+1});break}let g=p.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let p=m.childNodes[f-1];b=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(zn&&c.focusNode&&c.focusNode!=d.node&&c.focusNode.nodeType==1){let m=c.focusNode.childNodes[c.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||b&&yi)&&qu(l.node,l.offset,c.anchorNode,c.anchorOffset)&&qu(d.node,d.offset,c.focusNode,c.focusOffset))return;let h=!1;if((u.extend||e==r)&&!(b&&zn)){u.collapse(l.node,l.offset);try{e!=r&&u.extend(d.node,d.offset),h=!0}catch{}}if(!h){if(e>r){let f=l;l=d,d=f}let m=document.createRange();m.setEnd(d.node,d.offset),m.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let a=0,i=0;i<this.children.length;i++){let n=this.children[i],o=a+n.size;if(a==o?e<=o&&r>=a:e<o&&r>a){let l=a+n.border,d=o-n.border;if(e>=l&&r<=d){this.dirty=e==a||r==o?gu:GE,e==l&&r==d&&(n.contentLost||n.dom.parentNode!=this.contentDOM)?n.dirty=Bo:n.markDirty(e-l,r-l);return}else n.dirty=n.dom==n.contentDOM&&n.dom.parentNode==this.contentDOM&&!n.children.length?gu:Bo}a=o}this.dirty=gu}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let a=e==1?gu:GE;r.dirty<a&&(r.dirty=a)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class k3 extends rf{constructor(e,r,a,i){let n,o=r.type.toDOM;if(typeof o=="function"&&(o=o(a,()=>{if(!n)return i;if(n.parent)return n.parent.posBeforeChild(n)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,n=this}matchesWidget(e){return this.dirty==Bn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class sH extends rf{constructor(e,r,a,i){super(e,[],r,null),this.textDOM=a,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class $u extends rf{constructor(e,r,a,i,n){super(e,[],a,i),this.mark=r,this.spec=n}static create(e,r,a,i){let n=i.nodeViews[r.type.name],o=n&&n(r,i,a);return(!o||!o.dom)&&(o=rc.renderSpec(document,r.type.spec.toDOM(r,a),null,r.attrs)),new $u(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Bo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Bo&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Bn){let a=this.parent;for(;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=Bn}}slice(e,r,a){let i=$u.create(this.parent,this.mark,!0,a),n=this.children,o=this.size;r<o&&(n=L0(n,r,o,a)),e>0&&(n=L0(n,0,e,a));for(let l=0;l<n.length;l++)n[l].parent=i;return i.children=n,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class gd extends rf{constructor(e,r,a,i,n,o,l,d,u){super(e,[],n,o),this.node=r,this.outerDeco=a,this.innerDeco=i,this.nodeDOM=l}static create(e,r,a,i,n,o){let l=n.nodeViews[r.type.name],d,u=l&&l(r,n,()=>{if(!d)return o;if(d.parent)return d.parent.posBeforeChild(d)},a,i),c=u&&u.dom,b=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:b}=rc.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!b&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let h=c;return c=D3(c,a,r),u?d=new tH(e,r,a,i,c,b||null,h,u,n,o+1):r.isText?new dg(e,r,a,i,c,h,n):new gd(e,r,a,i,c,b||null,h,n,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let a=this.children[r];if(this.dom.contains(a.dom.parentNode)){e.contentElement=a.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ss.empty)}return e}matchesNode(e,r,a){return this.dirty==Bn&&e.eq(this.node)&&PN(r,this.outerDeco)&&a.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let a=this.node.inlineContent,i=r,n=e.composing?this.localCompositionInfo(e,r):null,o=n&&n.pos>-1?n:null,l=n&&n.pos<0,d=new aH(this,o&&o.node,e);oH(this.node,this.innerDeco,(u,c,b)=>{u.spec.marks?d.syncToMarks(u.spec.marks,a,e):u.type.side>=0&&!b&&d.syncToMarks(c==this.node.childCount?Sr.none:this.node.child(c).marks,a,e),d.placeWidget(u,e,i)},(u,c,b,h)=>{d.syncToMarks(u.marks,a,e);let m;d.findNodeMatch(u,c,b,h)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(m=d.findIndexWithChild(n.node))>-1&&d.updateNodeAt(u,c,b,m,e)||d.updateNextNode(u,c,b,e,h,i)||d.addNode(u,c,b,e,i),i+=u.nodeSize}),d.syncToMarks([],a,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==gu)&&(o&&this.protectLocalComposition(e,o),x3(this.contentDOM,this.children,e),vm&&lH(this.dom))}localCompositionInfo(e,r){let{from:a,to:i}=e.state.selection;if(!(e.state.selection instanceof pt)||a<r||i>r+this.node.content.size)return null;let n=e.input.compositionNode;if(!n||!this.dom.contains(n.parentNode))return null;if(this.node.inlineContent){let o=n.nodeValue,l=dH(this.node.content,o,a-r,i-r);return l<0?null:{node:n,pos:l,text:o}}else return{node:n,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:a,text:i}){if(this.getDesc(r))return;let n=r;for(;n.parentNode!=this.contentDOM;n=n.parentNode){for(;n.previousSibling;)n.parentNode.removeChild(n.previousSibling);for(;n.nextSibling;)n.parentNode.removeChild(n.nextSibling);n.pmViewDesc&&(n.pmViewDesc=void 0)}let o=new sH(this,n,r,i);e.input.compositionNodes.push(o),this.children=L0(this.children,a,a+i.length,e,o)}update(e,r,a,i){return this.dirty==Bo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,a,i),!0)}updateInner(e,r,a,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=a,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Bn}updateOuterDeco(e){if(PN(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=v3(this.dom,this.nodeDOM,M0(this.outerDeco,this.node,r),M0(e,this.node,r)),this.dom!=a&&(a.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function KE(s,e,r,a,i){D3(a,e,s);let n=new gd(void 0,s,e,r,a,a,a,i,0);return n.contentDOM&&n.updateChildren(i,0),n}class dg extends gd{constructor(e,r,a,i,n,o,l){super(e,r,a,i,n,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,a,i){return this.dirty==Bo||this.dirty!=Bn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Bn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Bn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,a){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,a)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,a){let i=this.node.cut(e,r),n=document.createTextNode(i.text);return new dg(this.parent,i,this.outerDeco,this.innerDeco,n,n,a)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Bo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class g3 extends rf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Bn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class tH extends gd{constructor(e,r,a,i,n,o,l,d,u,c){super(e,r,a,i,n,o,l,u,c),this.spec=d}update(e,r,a,i){if(this.dirty==Bo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let n=this.spec.update(e,r,a);return n&&this.updateInner(e,r,a,i),n}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,a,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,a,i){this.spec.setSelection?this.spec.setSelection(e,r,a.root):super.setSelection(e,r,a,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function x3(s,e,r){let a=s.firstChild,i=!1;for(let n=0;n<e.length;n++){let o=e[n],l=o.dom;if(l.parentNode==s){for(;l!=a;)a=QE(a),i=!0;a=a.nextSibling}else i=!0,s.insertBefore(l,a);if(o instanceof $u){let d=a?a.previousSibling:s.lastChild;x3(o.contentDOM,o.children,r),a=d?d.nextSibling:s.firstChild}}for(;a;)a=QE(a),i=!0;i&&r.trackWrites==s&&(r.trackWrites=null)}const Bb=function(s){s&&(this.nodeName=s)};Bb.prototype=Object.create(null);const xu=[new Bb];function M0(s,e,r){if(s.length==0)return xu;let a=r?xu[0]:new Bb,i=[a];for(let n=0;n<s.length;n++){let o=s[n].type.attrs;if(o){o.nodeName&&i.push(a=new Bb(o.nodeName));for(let l in o){let d=o[l];d!=null&&(r&&i.length==1&&i.push(a=new Bb(e.isInline?"span":"div")),l=="class"?a.class=(a.class?a.class+" ":"")+d:l=="style"?a.style=(a.style?a.style+";":"")+d:l!="nodeName"&&(a[l]=d))}}}return i}function v3(s,e,r,a){if(r==xu&&a==xu)return e;let i=e;for(let n=0;n<a.length;n++){let o=a[n],l=r[n];if(n){let d;l&&l.nodeName==o.nodeName&&i!=s&&(d=i.parentNode)&&d.nodeName.toLowerCase()==o.nodeName||(d=document.createElement(o.nodeName),d.pmIsDeco=!0,d.appendChild(i),l=xu[0]),i=d}rH(i,l||xu[0],o)}return i}function rH(s,e,r){for(let a in e)a!="class"&&a!="style"&&a!="nodeName"&&!(a in r)&&s.removeAttribute(a);for(let a in r)a!="class"&&a!="style"&&a!="nodeName"&&r[a]!=e[a]&&s.setAttribute(a,r[a]);if(e.class!=r.class){let a=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let n=0;n<a.length;n++)i.indexOf(a[n])==-1&&s.classList.remove(a[n]);for(let n=0;n<i.length;n++)a.indexOf(i[n])==-1&&s.classList.add(i[n]);s.classList.length==0&&s.removeAttribute("class")}if(e.style!=r.style){if(e.style){let a=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=a.exec(e.style);)s.style.removeProperty(i[1])}r.style&&(s.style.cssText+=r.style)}}function D3(s,e,r){return v3(s,s,xu,M0(e,r,s.nodeType!=1))}function PN(s,e){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(e[r].type))return!1;return!0}function QE(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class aH{constructor(e,r,a){this.lock=r,this.view=a,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=iH(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let a=e;a<r;a++)this.top.children[a].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,a){let i=0,n=this.stack.length>>1,o=Math.min(n,e.length);for(;i<o&&(i==n-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<n;)this.destroyRest(),this.top.dirty=Bn,this.index=this.stack.pop(),this.top=this.stack.pop(),n--;for(;n<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let u=this.top.children[d];if(u.matchesMark(e[n])&&!this.isLocked(u.dom)){l=d;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let d=$u.create(this.top,e[n],r,a);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,n++}}findNodeMatch(e,r,a,i){let n=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,a))n=this.top.children.indexOf(o,this.index);else for(let l=this.index,d=Math.min(this.top.children.length,l+5);l<d;l++){let u=this.top.children[l];if(u.matchesNode(e,r,a)&&!this.preMatch.matched.has(u)){n=l;break}}return n<0?!1:(this.destroyBetween(this.index,n),this.index++,!0)}updateNodeAt(e,r,a,i,n){let o=this.top.children[i];return o.dirty==Bo&&o.dom==o.contentDOM&&(o.dirty=gu),o.update(e,r,a,n)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let a=e.pmViewDesc;if(a){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==a)return i}return-1}e=r}}updateNextNode(e,r,a,i,n,o){for(let l=this.index;l<this.top.children.length;l++){let d=this.top.children[l];if(d instanceof gd){let u=this.preMatch.matched.get(d);if(u!=null&&u!=n)return!1;let c=d.dom,b,h=this.isLocked(c)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Bo&&PN(r,d.outerDeco));if(!h&&d.update(e,r,a,i))return this.destroyBetween(this.index,l),d.dom!=c&&(this.changed=!0),this.index++,!0;if(!h&&(b=this.recreateWrapper(d,e,r,a,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=b,b.contentDOM&&(b.dirty=gu,b.updateChildren(i,o+1),b.dirty=Bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,a,i,n,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!PN(a,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=gd.create(this.top,r,a,i,n,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let d of l.children)d.parent=l}return e.destroy(),l}addNode(e,r,a,i,n){let o=gd.create(this.top,e,r,a,i,n);o.contentDOM&&o.updateChildren(i,n+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,a){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let n=new k3(this.top,e,r,a);this.top.children.splice(this.index++,0,n),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof $u;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof dg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((yi||ki)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let a=document.createElement(e);e=="IMG"&&(a.className="ProseMirror-separator",a.alt=""),e=="BR"&&(a.className="ProseMirror-trailingBreak");let i=new g3(this.top,[],a,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function iH(s,e){let r=e,a=r.children.length,i=s.childCount,n=new Map,o=[];e:for(;i>0;){let l;for(;;)if(a){let u=r.children[a-1];if(u instanceof $u)r=u,a=u.children.length;else{l=u,a--;break}}else{if(r==e)break e;a=r.parent.children.indexOf(r),r=r.parent}let d=l.node;if(d){if(d!=s.child(i-1))break;--i,n.set(l,i),o.push(l)}}return{index:i,matched:n,matches:o.reverse()}}function nH(s,e){return s.type.side-e.type.side}function oH(s,e,r,a){let i=e.locals(s),n=0;if(i.length==0){for(let u=0;u<s.childCount;u++){let c=s.child(u);a(c,i,e.forChild(n,c),u),n+=c.nodeSize}return}let o=0,l=[],d=null;for(let u=0;;){let c,b;for(;o<i.length&&i[o].to==n;){let N=i[o++];N.widget&&(c?(b||(b=[c])).push(N):c=N)}if(c)if(b){b.sort(nH);for(let N=0;N<b.length;N++)r(b[N],u,!!d)}else r(c,u,!!d);let h,m;if(d)m=-1,h=d,d=null;else if(u<s.childCount)m=u,h=s.child(u++);else break;for(let N=0;N<l.length;N++)l[N].to<=n&&l.splice(N--,1);for(;o<i.length&&i[o].from<=n&&i[o].to>n;)l.push(i[o++]);let f=n+h.nodeSize;if(h.isText){let N=f;o<i.length&&i[o].from<N&&(N=i[o].from);for(let g=0;g<l.length;g++)l[g].to<N&&(N=l[g].to);N<f&&(d=h.cut(N-n),h=h.cut(0,N-n),f=N,m=-1)}else for(;o<i.length&&i[o].to<f;)o++;let p=h.isInline&&!h.isLeaf?l.filter(N=>!N.inline):l.slice();a(h,p,e.forChild(n,h),m),n=f}}function lH(s){if(s.nodeName=="UL"||s.nodeName=="OL"){let e=s.style.cssText;s.style.cssText=e+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=e}}function dH(s,e,r,a){for(let i=0,n=0;i<s.childCount&&n<=a;){let o=s.child(i++),l=n;if(n+=o.nodeSize,!o.isText)continue;let d=o.text;for(;i<s.childCount;){let u=s.child(i++);if(n+=u.nodeSize,!u.isText)break;d+=u.text}if(n>=r){if(n>=a&&d.slice(a-e.length-l,a-l)==e)return a-e.length;let u=l<a?d.lastIndexOf(e,a-l-1):-1;if(u>=0&&u+e.length+l>=r)return l+u;if(r==a&&d.length>=a+e.length-l&&d.slice(a-l,a-l+e.length)==e)return a}}return-1}function L0(s,e,r,a,i){let n=[];for(let o=0,l=0;o<s.length;o++){let d=s[o],u=l,c=l+=d.size;u>=r||c<=e?n.push(d):(u<e&&n.push(d.slice(0,e-u,a)),i&&(n.push(i),i=void 0),c>r&&n.push(d.slice(r-u,d.size,a)))}return n}function FD(s,e=null){let r=s.domSelectionRange(),a=s.state.doc;if(!r.focusNode)return null;let i=s.docView.nearestDesc(r.focusNode),n=i&&i.size==0,o=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=a.resolve(o),d,u;if(lg(r)){for(d=o;i&&!i.node;)i=i.parent;let b=i.node;if(i&&b.isAtom&&et.isSelectable(b)&&i.parent&&!(b.isInline&&S$(r.focusNode,r.focusOffset,i.dom))){let h=i.posBefore;u=new et(o==h?l:a.resolve(h))}}else{if(r instanceof s.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let b=o,h=o;for(let m=0;m<r.rangeCount;m++){let f=r.getRangeAt(m);b=Math.min(b,s.docView.posFromDOM(f.startContainer,f.startOffset,1)),h=Math.max(h,s.docView.posFromDOM(f.endContainer,f.endOffset,-1))}if(b<0)return null;[d,o]=h==s.state.selection.anchor?[h,b]:[b,h],l=a.resolve(o)}else d=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(d<0)return null}let c=a.resolve(d);if(!u){let b=e=="pointer"||s.state.selection.head<l.pos&&!n?1:-1;u=zD(s,c,l,b)}return u}function w3(s){return s.editable?s.hasFocus():A3(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function gl(s,e=!1){let r=s.state.selection;if(j3(s,r),!!w3(s)){if(!e&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&ki){let a=s.domSelectionRange(),i=s.domObserver.currentSelection;if(a.anchorNode&&i.anchorNode&&qu(a.anchorNode,a.anchorOffset,i.anchorNode,i.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)cH(s);else{let{anchor:a,head:i}=r,n,o;YE&&!(r instanceof pt)&&(r.$from.parent.inlineContent||(n=JE(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=JE(s,r.to))),s.docView.setSelection(a,i,s,e),YE&&(n&&ZE(n),o&&ZE(o)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uH(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const YE=yi||ki&&c3<63;function JE(s,e){let{node:r,offset:a}=s.docView.domFromPos(e,0),i=a<r.childNodes.length?r.childNodes[a]:null,n=a?r.childNodes[a-1]:null;if(yi&&i&&i.contentEditable=="false")return Rx(i);if((!i||i.contentEditable=="false")&&(!n||n.contentEditable=="false")){if(i)return Rx(i);if(n)return Rx(n)}}function Rx(s){return s.contentEditable="true",yi&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function ZE(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function uH(s){let e=s.dom.ownerDocument;e.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),a=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=a||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!w3(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function cH(s){let e=s.domSelection();if(!e)return;let r=s.cursorWrapper.dom,a=r.nodeName=="IMG";a?e.collapse(r.parentNode,ai(r)+1):e.collapse(r,0),!a&&!s.state.selection.visible&&zi&&kd<=11&&(r.disabled=!0,r.disabled=!1)}function j3(s,e){if(e instanceof et){let r=s.docView.descAt(e.from);r!=s.lastSelectedViewDesc&&(XE(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else XE(s)}function XE(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function zD(s,e,r,a){return s.someProp("createSelectionBetween",i=>i(s,e,r))||pt.between(e,r,a)}function eP(s){return s.editable&&!s.hasFocus()?!1:A3(s)}function A3(s){let e=s.domSelectionRange();if(!e.anchorNode)return!1;try{return s.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(s.editable||s.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function mH(s){let e=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return qu(e.node,e.offset,r.anchorNode,r.anchorOffset)}function I0(s,e){let{$anchor:r,$head:a}=s.selection,i=e>0?r.max(a):r.min(a),n=i.parent.inlineContent?i.depth?s.doc.resolve(e>0?i.after():i.before()):null:i;return n&&Rt.findFrom(n,e)}function ed(s,e){return s.dispatch(s.state.tr.setSelection(e).scrollIntoView()),!0}function sP(s,e,r){let a=s.state.selection;if(a instanceof pt)if(r.indexOf("s")>-1){let{$head:i}=a,n=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!n||n.isText||!n.isLeaf)return!1;let o=s.state.doc.resolve(i.pos+n.nodeSize*(e<0?-1:1));return ed(s,new pt(a.$anchor,o))}else if(a.empty){if(s.endOfTextblock(e>0?"forward":"backward")){let i=I0(s.state,e);return i&&i instanceof et?ed(s,i):!1}else if(!(Wn&&r.indexOf("m")>-1)){let i=a.$head,n=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!n||n.isText)return!1;let l=e<0?i.pos-n.nodeSize:i.pos;return n.isAtom||(o=s.docView.descAt(l))&&!o.contentDOM?et.isSelectable(n)?ed(s,new et(e<0?s.state.doc.resolve(i.pos-n.nodeSize):i)):tf?ed(s,new pt(s.state.doc.resolve(e<0?l:l+n.nodeSize))):!1:!1}}else return!1;else{if(a instanceof et&&a.node.isInline)return ed(s,new pt(e>0?a.$to:a.$from));{let i=I0(s.state,e);return i?ed(s,i):!1}}}function yN(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function qb(s,e){let r=s.pmViewDesc;return r&&r.size==0&&(e<0||s.nextSibling||s.nodeName!="BR")}function Pc(s,e){return e<0?bH(s):hH(s)}function bH(s){let e=s.domSelectionRange(),r=e.focusNode,a=e.focusOffset;if(!r)return;let i,n,o=!1;for(zn&&r.nodeType==1&&a<yN(r)&&qb(r.childNodes[a],-1)&&(o=!0);;)if(a>0){if(r.nodeType!=1)break;{let l=r.childNodes[a-1];if(qb(l,-1))i=r,n=--a;else if(l.nodeType==3)r=l,a=r.nodeValue.length;else break}}else{if(E3(r))break;{let l=r.previousSibling;for(;l&&qb(l,-1);)i=r.parentNode,n=ai(l),l=l.previousSibling;if(l)r=l,a=yN(r);else{if(r=r.parentNode,r==s.dom)break;a=0}}}o?F0(s,r,a):i&&F0(s,i,n)}function hH(s){let e=s.domSelectionRange(),r=e.focusNode,a=e.focusOffset;if(!r)return;let i=yN(r),n,o;for(;;)if(a<i){if(r.nodeType!=1)break;let l=r.childNodes[a];if(qb(l,1))n=r,o=++a;else break}else{if(E3(r))break;{let l=r.nextSibling;for(;l&&qb(l,1);)n=l.parentNode,o=ai(l)+1,l=l.nextSibling;if(l)r=l,a=0,i=yN(r);else{if(r=r.parentNode,r==s.dom)break;a=i=0}}}n&&F0(s,n,o)}function E3(s){let e=s.pmViewDesc;return e&&e.node&&e.node.isBlock}function fH(s,e){for(;s&&e==s.childNodes.length&&!sf(s);)e=ai(s)+1,s=s.parentNode;for(;s&&e<s.childNodes.length;){let r=s.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=0}}function pH(s,e){for(;s&&!e&&!sf(s);)e=ai(s),s=s.parentNode;for(;s&&e;){let r=s.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=s.childNodes.length}}function F0(s,e,r){if(e.nodeType!=3){let n,o;(o=fH(e,r))?(e=o,r=0):(n=pH(e,r))&&(e=n,r=n.nodeValue.length)}let a=s.domSelection();if(!a)return;if(lg(a)){let n=document.createRange();n.setEnd(e,r),n.setStart(e,r),a.removeAllRanges(),a.addRange(n)}else a.extend&&a.extend(e,r);s.domObserver.setCurSelection();let{state:i}=s;setTimeout(()=>{s.state==i&&gl(s)},50)}function tP(s,e){let r=s.state.doc.resolve(e);if(!(ki||M$)&&r.parent.inlineContent){let i=s.coordsAtPos(e);if(e>r.start()){let n=s.coordsAtPos(e-1),o=(n.top+n.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(n.left-i.left)>1)return n.left<i.left?"ltr":"rtl"}if(e<r.end()){let n=s.coordsAtPos(e+1),o=(n.top+n.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(n.left-i.left)>1)return n.left>i.left?"ltr":"rtl"}}return getComputedStyle(s.dom).direction=="rtl"?"rtl":"ltr"}function rP(s,e,r){let a=s.state.selection;if(a instanceof pt&&!a.empty||r.indexOf("s")>-1||Wn&&r.indexOf("m")>-1)return!1;let{$from:i,$to:n}=a;if(!i.parent.inlineContent||s.endOfTextblock(e<0?"up":"down")){let o=I0(s.state,e);if(o&&o instanceof et)return ed(s,o)}if(!i.parent.inlineContent){let o=e<0?i:n,l=a instanceof Fn?Rt.near(o,e):Rt.findFrom(o,e);return l?ed(s,l):!1}return!1}function aP(s,e){if(!(s.state.selection instanceof pt))return!0;let{$head:r,$anchor:a,empty:i}=s.state.selection;if(!r.sameParent(a))return!0;if(!i)return!1;if(s.endOfTextblock(e>0?"forward":"backward"))return!0;let n=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(n&&!n.isText){let o=s.state.tr;return e<0?o.delete(r.pos-n.nodeSize,r.pos):o.delete(r.pos,r.pos+n.nodeSize),s.dispatch(o),!0}return!1}function iP(s,e,r){s.domObserver.stop(),e.contentEditable=r,s.domObserver.start()}function NH(s){if(!yi||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let a=e.firstChild;iP(s,a,"true"),setTimeout(()=>iP(s,a,"false"),20)}return!1}function kH(s){let e="";return s.ctrlKey&&(e+="c"),s.metaKey&&(e+="m"),s.altKey&&(e+="a"),s.shiftKey&&(e+="s"),e}function gH(s,e){let r=e.keyCode,a=kH(e);if(r==8||Wn&&r==72&&a=="c")return aP(s,-1)||Pc(s,-1);if(r==46&&!e.shiftKey||Wn&&r==68&&a=="c")return aP(s,1)||Pc(s,1);if(r==13||r==27)return!0;if(r==37||Wn&&r==66&&a=="c"){let i=r==37?tP(s,s.state.selection.from)=="ltr"?-1:1:-1;return sP(s,i,a)||Pc(s,i)}else if(r==39||Wn&&r==70&&a=="c"){let i=r==39?tP(s,s.state.selection.from)=="ltr"?1:-1:1;return sP(s,i,a)||Pc(s,i)}else{if(r==38||Wn&&r==80&&a=="c")return rP(s,-1,a)||Pc(s,-1);if(r==40||Wn&&r==78&&a=="c")return NH(s)||rP(s,1,a)||Pc(s,1);if(a==(Wn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function BD(s,e){s.someProp("transformCopied",m=>{e=m(e,s)});let r=[],{content:a,openStart:i,openEnd:n}=e;for(;i>1&&n>1&&a.childCount==1&&a.firstChild.childCount==1;){i--,n--;let m=a.firstChild;r.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),a=m.content}let o=s.someProp("clipboardSerializer")||rc.fromSchema(s.state.schema),l=V3(),d=l.createElement("div");d.appendChild(o.serializeFragment(a,{document:l}));let u=d.firstChild,c,b=0;for(;u&&u.nodeType==1&&(c=U3[u.nodeName.toLowerCase()]);){for(let m=c.length-1;m>=0;m--){let f=l.createElement(c[m]);for(;d.firstChild;)f.appendChild(d.firstChild);d.appendChild(f),b++}u=d.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${n}${b?` -${b}`:""} ${JSON.stringify(r)}`);let h=s.someProp("clipboardTextSerializer",m=>m(e,s))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:h,slice:e}}function P3(s,e,r,a,i){let n=i.parent.type.spec.code,o,l;if(!r&&!e)return null;let d=!!e&&(a||n||!r);if(d){if(s.someProp("transformPastedText",h=>{e=h(e,n||a,s)}),n)return l=new js(ss.from(s.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",h=>{l=h(l,s,!0)}),l;let b=s.someProp("clipboardTextParser",h=>h(e,i,a,s));if(b)l=b;else{let h=i.marks(),{schema:m}=s.state,f=rc.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(p=>{let N=o.appendChild(document.createElement("p"));p&&N.appendChild(f.serializeNode(m.text(p,h)))})}}else s.someProp("transformPastedHTML",b=>{r=b(r,s)}),o=wH(r),tf&&jH(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let b=+c[3];b>0;b--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(l||(l=(s.someProp("clipboardParser")||s.someProp("domParser")||Nd.fromSchema(s.state.schema)).parseSlice(o,{preserveWhitespace:!!(d||c),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!xH.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)l=AH(nP(l,+c[1],+c[2]),c[4]);else if(l=js.maxOpen(vH(l.content,i),!0),l.openStart||l.openEnd){let b=0,h=0;for(let m=l.content.firstChild;b<l.openStart&&!m.type.spec.isolating;b++,m=m.firstChild);for(let m=l.content.lastChild;h<l.openEnd&&!m.type.spec.isolating;h++,m=m.lastChild);l=nP(l,b,h)}return s.someProp("transformPasted",b=>{l=b(l,s,d)}),l}const xH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vH(s,e){if(s.childCount<2)return s;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),n,o=[];if(s.forEach(l=>{if(!o)return;let d=i.findWrapping(l.type),u;if(!d)return o=null;if(u=o.length&&n.length&&O3(d,n,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=W3(o[o.length-1],n.length));let c=y3(l,d);o.push(c),i=i.matchType(c.type),n=d}}),o)return ss.from(o)}return s}function y3(s,e,r=0){for(let a=e.length-1;a>=r;a--)s=e[a].create(null,ss.from(s));return s}function O3(s,e,r,a,i){if(i<s.length&&i<e.length&&s[i]==e[i]){let n=O3(s,e,r,a.lastChild,i+1);if(n)return a.copy(a.content.replaceChild(a.childCount-1,n));if(a.contentMatchAt(a.childCount).matchType(i==s.length-1?r.type:s[i+1]))return a.copy(a.content.append(ss.from(y3(r,s,i+1))))}}function W3(s,e){if(e==0)return s;let r=s.content.replaceChild(s.childCount-1,W3(s.lastChild,e-1)),a=s.contentMatchAt(s.childCount).fillBefore(ss.empty,!0);return s.copy(r.append(a))}function z0(s,e,r,a,i,n){let o=e<0?s.firstChild:s.lastChild,l=o.content;return s.childCount>1&&(n=0),i<a-1&&(l=z0(l,e,r,a,i+1,n)),i>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,n<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(ss.empty,!0))),s.replaceChild(e<0?0:s.childCount-1,o.copy(l))}function nP(s,e,r){return e<s.openStart&&(s=new js(z0(s.content,-1,e,s.openStart,0,s.openEnd),e,s.openEnd)),r<s.openEnd&&(s=new js(z0(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const U3={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let oP=null;function V3(){return oP||(oP=document.implementation.createHTMLDocument("title"))}let Mx=null;function DH(s){let e=window.trustedTypes;return e?(Mx||(Mx=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Mx.createHTML(s)):s}function wH(s){let e=/^(\s*<meta [^>]*>)*/.exec(s);e&&(s=s.slice(e[0].length));let r=V3().createElement("div"),a=/<([a-z][^>\s]+)/i.exec(s),i;if((i=a&&U3[a[1].toLowerCase()])&&(s=i.map(n=>"<"+n+">").join("")+s+i.map(n=>"</"+n+">").reverse().join("")),r.innerHTML=DH(s),i)for(let n=0;n<i.length;n++)r=r.querySelector(i[n])||r;return r}function jH(s){let e=s.querySelectorAll(ki?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let a=e[r];a.childNodes.length==1&&a.textContent==""&&a.parentNode&&a.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),a)}}function AH(s,e){if(!s.size)return s;let r=s.content.firstChild.type.schema,a;try{a=JSON.parse(e)}catch{return s}let{content:i,openStart:n,openEnd:o}=s;for(let l=a.length-2;l>=0;l-=2){let d=r.nodes[a[l]];if(!d||d.hasRequiredAttrs())break;i=ss.from(d.create(a[l+1],i)),n++,o++}return new js(i,n,o)}const Oi={},Wi={},EH={touchstart:!0,touchmove:!0};class PH{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yH(s){for(let e in Oi){let r=Oi[e];s.dom.addEventListener(e,s.input.eventHandlers[e]=a=>{WH(s,a)&&!qD(s,a)&&(s.editable||!(a.type in Wi))&&r(s,a)},EH[e]?{passive:!0}:void 0)}yi&&s.dom.addEventListener("input",()=>null),B0(s)}function md(s,e){s.input.lastSelectionOrigin=e,s.input.lastSelectionTime=Date.now()}function OH(s){s.domObserver.stop();for(let e in s.input.eventHandlers)s.dom.removeEventListener(e,s.input.eventHandlers[e]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function B0(s){s.someProp("handleDOMEvents",e=>{for(let r in e)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=a=>qD(s,a))})}function qD(s,e){return s.someProp("handleDOMEvents",r=>{let a=r[e.type];return a?a(s,e)||e.defaultPrevented:!1})}function WH(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=s.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function UH(s,e){!qD(s,e)&&Oi[e.type]&&(s.editable||!(e.type in Wi))&&Oi[e.type](s,e)}Wi.keydown=(s,e)=>{let r=e;if(s.input.shiftKey=r.keyCode==16||r.shiftKey,!C3(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!(kl&&ki&&r.keyCode==13)))if(r.keyCode!=229&&s.domObserver.forceFlush(),vm&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let a=Date.now();s.input.lastIOSEnter=a,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==a&&(s.someProp("handleKeyDown",i=>i(s,hu(13,"Enter"))),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",a=>a(s,r))||gH(s,r)?r.preventDefault():md(s,"key")};Wi.keyup=(s,e)=>{e.keyCode==16&&(s.input.shiftKey=!1)};Wi.keypress=(s,e)=>{let r=e;if(C3(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||Wn&&r.metaKey)return;if(s.someProp("handleKeyPress",i=>i(s,r))){r.preventDefault();return}let a=s.state.selection;if(!(a instanceof pt)||!a.$from.sameParent(a.$to)){let i=String.fromCharCode(r.charCode),n=()=>s.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!s.someProp("handleTextInput",o=>o(s,a.$from.pos,a.$to.pos,i,n))&&s.dispatch(n()),r.preventDefault()}};function ug(s){return{left:s.clientX,top:s.clientY}}function VH(s,e){let r=e.x-s.clientX,a=e.y-s.clientY;return r*r+a*a<100}function $D(s,e,r,a,i){if(a==-1)return!1;let n=s.state.doc.resolve(a);for(let o=n.depth+1;o>0;o--)if(s.someProp(e,l=>o>n.depth?l(s,r,n.nodeAfter,n.before(o),i,!0):l(s,r,n.node(o),n.before(o),i,!1)))return!0;return!1}function Jc(s,e,r){if(s.focused||s.focus(),s.state.selection.eq(e))return;let a=s.state.tr.setSelection(e);a.setMeta("pointer",!0),s.dispatch(a)}function _H(s,e){if(e==-1)return!1;let r=s.state.doc.resolve(e),a=r.nodeAfter;return a&&a.isAtom&&et.isSelectable(a)?(Jc(s,new et(r)),!0):!1}function CH(s,e){if(e==-1)return!1;let r=s.state.selection,a,i;r instanceof et&&(a=r.node);let n=s.state.doc.resolve(e);for(let o=n.depth+1;o>0;o--){let l=o>n.depth?n.nodeAfter:n.node(o);if(et.isSelectable(l)){a&&r.$from.depth>0&&o>=r.$from.depth&&n.before(r.$from.depth+1)==r.$from.pos?i=n.before(r.$from.depth):i=n.before(o);break}}return i!=null?(Jc(s,et.create(s.state.doc,i)),!0):!1}function SH(s,e,r,a,i){return $D(s,"handleClickOn",e,r,a)||s.someProp("handleClick",n=>n(s,e,a))||(i?CH(s,r):_H(s,r))}function TH(s,e,r,a){return $D(s,"handleDoubleClickOn",e,r,a)||s.someProp("handleDoubleClick",i=>i(s,e,a))}function RH(s,e,r,a){return $D(s,"handleTripleClickOn",e,r,a)||s.someProp("handleTripleClick",i=>i(s,e,a))||MH(s,r,a)}function MH(s,e,r){if(r.button!=0)return!1;let a=s.state.doc;if(e==-1)return a.inlineContent?(Jc(s,pt.create(a,0,a.content.size)),!0):!1;let i=a.resolve(e);for(let n=i.depth+1;n>0;n--){let o=n>i.depth?i.nodeAfter:i.node(n),l=i.before(n);if(o.inlineContent)Jc(s,pt.create(a,l+1,l+1+o.content.size));else if(et.isSelectable(o))Jc(s,et.create(a,l));else continue;return!0}}function HD(s){return ON(s)}const _3=Wn?"metaKey":"ctrlKey";Oi.mousedown=(s,e)=>{let r=e;s.input.shiftKey=r.shiftKey;let a=HD(s),i=Date.now(),n="singleClick";i-s.input.lastClick.time<500&&VH(r,s.input.lastClick)&&!r[_3]&&s.input.lastClick.button==r.button&&(s.input.lastClick.type=="singleClick"?n="doubleClick":s.input.lastClick.type=="doubleClick"&&(n="tripleClick")),s.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:n,button:r.button};let o=s.posAtCoords(ug(r));o&&(n=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new LH(s,o,r,!!a)):(n=="doubleClick"?TH:RH)(s,o.pos,o.inside,r)?r.preventDefault():md(s,"pointer"))};class LH{constructor(e,r,a,i){this.view=e,this.pos=r,this.event=a,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!a[_3],this.allowDefault=a.shiftKey;let n,o;if(r.inside>-1)n=e.state.doc.nodeAt(r.inside),o=r.inside;else{let c=e.state.doc.resolve(r.pos);n=c.parent,o=c.depth?c.before():0}const l=i?null:a.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:u}=e.state;(a.button==0&&n.type.spec.draggable&&n.type.spec.selectable!==!1||u instanceof et&&u.from<=o&&u.to>o)&&(this.mightDrag={node:n,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),md(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(ug(e))),this.updateAllowDefault(e),this.allowDefault||!r?md(this.view,"pointer"):SH(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||yi&&this.mightDrag&&!this.mightDrag.node.isAtom||ki&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Jc(this.view,Rt.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):md(this.view,"pointer")}move(e){this.updateAllowDefault(e),md(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Oi.touchstart=s=>{s.input.lastTouch=Date.now(),HD(s),md(s,"pointer")};Oi.touchmove=s=>{s.input.lastTouch=Date.now(),md(s,"pointer")};Oi.contextmenu=s=>HD(s);function C3(s,e){return s.composing?!0:yi&&Math.abs(e.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}const IH=kl?5e3:-1;Wi.compositionstart=Wi.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:e}=s,r=e.selection.$to;if(e.selection instanceof pt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(a=>a.type.spec.inclusive===!1)))s.markCursor=s.state.storedMarks||r.marks(),ON(s,!0),s.markCursor=null;else if(ON(s,!e.selection.empty),zn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let a=s.domSelectionRange();for(let i=a.focusNode,n=a.focusOffset;i&&i.nodeType==1&&n!=0;){let o=n<0?i.lastChild:i.childNodes[n-1];if(!o)break;if(o.nodeType==3){let l=s.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,n=-1}}s.input.composing=!0}S3(s,IH)};Wi.compositionend=(s,e)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=e.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,S3(s,20))};function S3(s,e){clearTimeout(s.input.composingTimeout),e>-1&&(s.input.composingTimeout=setTimeout(()=>ON(s),e))}function T3(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=zH());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function FH(s){let e=s.domSelectionRange();if(!e.focusNode)return null;let r=_$(e.focusNode,e.focusOffset),a=C$(e.focusNode,e.focusOffset);if(r&&a&&r!=a){let i=a.pmViewDesc,n=s.domObserver.lastChangedTextNode;if(r==n||a==n)return n;if(!i||!i.isText(a.nodeValue))return a;if(s.input.compositionNode==a){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return a}}return r||a}function zH(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function ON(s,e=!1){if(!(kl&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),T3(s),e||s.docView&&s.docView.dirty){let r=FD(s),a=s.state.selection;return r&&!r.eq(a)?s.dispatch(s.state.tr.setSelection(r)):(s.markCursor||e)&&!a.$from.node(a.$from.sharedDepth(a.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function BH(s,e){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let a=getSelection(),i=document.createRange();i.selectNodeContents(e),s.dom.blur(),a.removeAllRanges(),a.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}const jh=zi&&kd<15||vm&&L$<604;Oi.copy=Wi.cut=(s,e)=>{let r=e,a=s.state.selection,i=r.type=="cut";if(a.empty)return;let n=jh?null:r.clipboardData,o=a.content(),{dom:l,text:d}=BD(s,o);n?(r.preventDefault(),n.clearData(),n.setData("text/html",l.innerHTML),n.setData("text/plain",d)):BH(s,l),i&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qH(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function $H(s,e){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,a=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(a.contentEditable="true"),a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus();let i=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(()=>{s.focus(),a.parentNode&&a.parentNode.removeChild(a),r?Ah(s,a.value,null,i,e):Ah(s,a.textContent,a.innerHTML,i,e)},50)}function Ah(s,e,r,a,i){let n=P3(s,e,r,a,s.state.selection.$from);if(s.someProp("handlePaste",d=>d(s,i,n||js.empty)))return!0;if(!n)return!1;let o=qH(n),l=o?s.state.tr.replaceSelectionWith(o,a):s.state.tr.replaceSelection(n);return s.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function R3(s){let e=s.getData("text/plain")||s.getData("Text");if(e)return e;let r=s.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Wi.paste=(s,e)=>{let r=e;if(s.composing&&!kl)return;let a=jh?null:r.clipboardData,i=s.input.shiftKey&&s.input.lastKeyCode!=45;a&&Ah(s,R3(a),a.getData("text/html"),i,r)?r.preventDefault():$H(s,r)};class M3{constructor(e,r,a){this.slice=e,this.move=r,this.node=a}}const HH=Wn?"altKey":"ctrlKey";function L3(s,e){let r=s.someProp("dragCopies",a=>!a(e));return r??!e[HH]}Oi.dragstart=(s,e)=>{let r=e,a=s.input.mouseDown;if(a&&a.done(),!r.dataTransfer)return;let i=s.state.selection,n=i.empty?null:s.posAtCoords(ug(r)),o;if(!(n&&n.pos>=i.from&&n.pos<=(i instanceof et?i.to-1:i.to))){if(a&&a.mightDrag)o=et.create(s.state.doc,a.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let b=s.docView.nearestDesc(r.target,!0);b&&b.node.type.spec.draggable&&b!=s.docView&&(o=et.create(s.state.doc,b.posBefore))}}let l=(o||s.state.selection).content(),{dom:d,text:u,slice:c}=BD(s,l);(!r.dataTransfer.files.length||!ki||c3>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(jh?"Text":"text/html",d.innerHTML),r.dataTransfer.effectAllowed="copyMove",jh||r.dataTransfer.setData("text/plain",u),s.dragging=new M3(c,L3(s,r),o)};Oi.dragend=s=>{let e=s.dragging;window.setTimeout(()=>{s.dragging==e&&(s.dragging=null)},50)};Wi.dragover=Wi.dragenter=(s,e)=>e.preventDefault();Wi.drop=(s,e)=>{let r=e,a=s.dragging;if(s.dragging=null,!r.dataTransfer)return;let i=s.posAtCoords(ug(r));if(!i)return;let n=s.state.doc.resolve(i.pos),o=a&&a.slice;o?s.someProp("transformPasted",f=>{o=f(o,s,!1)}):o=P3(s,R3(r.dataTransfer),jh?null:r.dataTransfer.getData("text/html"),!1,n);let l=!!(a&&L3(s,r));if(s.someProp("handleDrop",f=>f(s,r,o||js.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let d=o?YV(s.state.doc,n.pos,o):n.pos;d==null&&(d=n.pos);let u=s.state.tr;if(l){let{node:f}=a;f?f.replace(u):u.deleteSelection()}let c=u.mapping.map(d),b=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=u.doc;if(b?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(h))return;let m=u.doc.resolve(c);if(b&&et.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new et(m));else{let f=u.mapping.map(d);u.mapping.maps[u.mapping.maps.length-1].forEach((p,N,g,D)=>f=D),u.setSelection(zD(s,m,u.doc.resolve(f)))}s.focus(),s.dispatch(u.setMeta("uiEvent","drop"))};Oi.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&gl(s)},20))};Oi.blur=(s,e)=>{let r=e;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)};Oi.beforeinput=(s,e)=>{if(ki&&kl&&e.inputType=="deleteContentBackward"){s.domObserver.flushSoon();let{domChangeCount:a}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=a||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",n=>n(s,hu(8,"Backspace")))))return;let{$cursor:i}=s.state.selection;i&&i.pos>0&&s.dispatch(s.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let s in Wi)Oi[s]=Wi[s];function Eh(s,e){if(s==e)return!0;for(let r in s)if(s[r]!==e[r])return!1;for(let r in e)if(!(r in s))return!1;return!0}class WN{constructor(e,r){this.toDOM=e,this.spec=r||Vu,this.side=this.spec.side||0}map(e,r,a,i){let{pos:n,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new gi(n-a,n-a,this)}valid(){return!0}eq(e){return this==e||e instanceof WN&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Eh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class xd{constructor(e,r){this.attrs=e,this.spec=r||Vu}map(e,r,a,i){let n=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-a,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-a;return n>=o?null:new gi(n,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof xd&&Eh(this.attrs,e.attrs)&&Eh(this.spec,e.spec)}static is(e){return e.type instanceof xd}destroy(){}}class GD{constructor(e,r){this.attrs=e,this.spec=r||Vu}map(e,r,a,i){let n=e.mapResult(r.from+i,1);if(n.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=n.pos?null:new gi(n.pos-a,o.pos-a,this)}valid(e,r){let{index:a,offset:i}=e.content.findIndex(r.from),n;return i==r.from&&!(n=e.child(a)).isText&&i+n.nodeSize==r.to}eq(e){return this==e||e instanceof GD&&Eh(this.attrs,e.attrs)&&Eh(this.spec,e.spec)}destroy(){}}class gi{constructor(e,r,a){this.from=e,this.to=r,this.type=a}copy(e,r){return new gi(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,a){return this.type.map(e,this,r,a)}static widget(e,r,a){return new gi(e,e,new WN(r,a))}static inline(e,r,a,i){return new gi(e,r,new xd(a,i))}static node(e,r,a,i){return new gi(e,r,new GD(a,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof xd}get widget(){return this.type instanceof WN}}const Rc=[],Vu={};class Qr{constructor(e,r){this.local=e.length?e:Rc,this.children=r.length?r:Rc}static create(e,r){return r.length?UN(r,e,0,Vu):pi}find(e,r,a){let i=[];return this.findInner(e??0,r??1e9,i,0,a),i}findInner(e,r,a,i,n){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!n||n(l.spec))&&a.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,a,i+l,n)}}map(e,r,a){return this==pi||e.maps.length==0?this:this.mapInner(e,r,0,0,a||Vu)}mapInner(e,r,a,i,n){let o;for(let l=0;l<this.local.length;l++){let d=this.local[l].map(e,a,i);d&&d.type.valid(r,d)?(o||(o=[])).push(d):n.onRemove&&n.onRemove(this.local[l].spec)}return this.children.length?GH(this.children,o||[],e,r,a,i,n):o?new Qr(o.sort(_u),Rc):pi}add(e,r){return r.length?this==pi?Qr.create(e,r):this.addInner(e,r,0):this}addInner(e,r,a){let i,n=0;e.forEach((l,d)=>{let u=d+a,c;if(c=F3(r,l,u)){for(i||(i=this.children.slice());n<i.length&&i[n]<d;)n+=3;i[n]==d?i[n+2]=i[n+2].addInner(l,c,u+1):i.splice(n,0,d,d+l.nodeSize,UN(c,l,u+1,Vu)),n+=3}});let o=I3(n?z3(r):r,-a);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Qr(o.length?this.local.concat(o).sort(_u):this.local,i||this.children)}remove(e){return e.length==0||this==pi?this:this.removeInner(e,0)}removeInner(e,r){let a=this.children,i=this.local;for(let n=0;n<a.length;n+=3){let o,l=a[n]+r,d=a[n+1]+r;for(let c=0,b;c<e.length;c++)(b=e[c])&&b.from>l&&b.to<d&&(e[c]=null,(o||(o=[])).push(b));if(!o)continue;a==this.children&&(a=this.children.slice());let u=a[n+2].removeInner(o,l+1);u!=pi?a[n+2]=u:(a.splice(n,3),n-=3)}if(i.length){for(let n=0,o;n<e.length;n++)if(o=e[n])for(let l=0;l<i.length;l++)i[l].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return a==this.children&&i==this.local?this:i.length||a.length?new Qr(i,a):pi}forChild(e,r){if(this==pi)return this;if(r.isLeaf)return Qr.empty;let a,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(a=this.children[l+2]);break}let n=e+1,o=n+r.content.size;for(let l=0;l<this.local.length;l++){let d=this.local[l];if(d.from<o&&d.to>n&&d.type instanceof xd){let u=Math.max(n,d.from)-n,c=Math.min(o,d.to)-n;u<c&&(i||(i=[])).push(d.copy(u,c))}}if(i){let l=new Qr(i.sort(_u),Rc);return a?new id([l,a]):l}return a||pi}eq(e){if(this==e)return!0;if(!(e instanceof Qr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return KD(this.localsInner(e))}localsInner(e){if(this==pi)return Rc;if(e.inlineContent||!this.local.some(xd.is))return this.local;let r=[];for(let a=0;a<this.local.length;a++)this.local[a].type instanceof xd||r.push(this.local[a]);return r}forEachSet(e){e(this)}}Qr.empty=new Qr([],[]);Qr.removeOverlap=KD;const pi=Qr.empty;class id{constructor(e){this.members=e}map(e,r){const a=this.members.map(i=>i.map(e,r,Vu));return id.from(a)}forChild(e,r){if(r.isLeaf)return Qr.empty;let a=[];for(let i=0;i<this.members.length;i++){let n=this.members[i].forChild(e,r);n!=pi&&(n instanceof id?a=a.concat(n.members):a.push(n))}return id.from(a)}eq(e){if(!(e instanceof id)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,a=!0;for(let i=0;i<this.members.length;i++){let n=this.members[i].localsInner(e);if(n.length)if(!r)r=n;else{a&&(r=r.slice(),a=!1);for(let o=0;o<n.length;o++)r.push(n[o])}}return r?KD(a?r:r.sort(_u)):Rc}static from(e){switch(e.length){case 0:return pi;case 1:return e[0];default:return new id(e.every(r=>r instanceof Qr)?e:e.reduce((r,a)=>r.concat(a instanceof Qr?a:a.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function GH(s,e,r,a,i,n,o){let l=s.slice();for(let u=0,c=n;u<r.maps.length;u++){let b=0;r.maps[u].forEach((h,m,f,p)=>{let N=p-f-(m-h);for(let g=0;g<l.length;g+=3){let D=l[g+1];if(D<0||h>D+c-b)continue;let w=l[g]+c-b;m>=w?l[g+1]=h<=w?-2:-1:h>=c&&N&&(l[g]+=N,l[g+1]+=N)}b+=N}),c=r.maps[u].map(c,-1)}let d=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){d=!0,l[u+1]=-1;continue}let c=r.map(s[u]+n),b=c-i;if(b<0||b>=a.content.size){d=!0;continue}let h=r.map(s[u+1]+n,-1),m=h-i,{index:f,offset:p}=a.content.findIndex(b),N=a.maybeChild(f);if(N&&p==b&&p+N.nodeSize==m){let g=l[u+2].mapInner(r,N,c+1,s[u]+n+1,o);g!=pi?(l[u]=b,l[u+1]=m,l[u+2]=g):(l[u+1]=-2,d=!0)}else d=!0}if(d){let u=KH(l,s,e,r,i,n,o),c=UN(u,a,0,o);e=c.local;for(let b=0;b<l.length;b+=3)l[b+1]<0&&(l.splice(b,3),b-=3);for(let b=0,h=0;b<c.children.length;b+=3){let m=c.children[b];for(;h<l.length&&l[h]<m;)h+=3;l.splice(h,0,c.children[b],c.children[b+1],c.children[b+2])}}return new Qr(e.sort(_u),l)}function I3(s,e){if(!e||!s.length)return s;let r=[];for(let a=0;a<s.length;a++){let i=s[a];r.push(new gi(i.from+e,i.to+e,i.type))}return r}function KH(s,e,r,a,i,n,o){function l(d,u){for(let c=0;c<d.local.length;c++){let b=d.local[c].map(a,i,u);b?r.push(b):o.onRemove&&o.onRemove(d.local[c].spec)}for(let c=0;c<d.children.length;c+=3)l(d.children[c+2],d.children[c]+u+1)}for(let d=0;d<s.length;d+=3)s[d+1]==-1&&l(s[d+2],e[d]+n+1);return r}function F3(s,e,r){if(e.isLeaf)return null;let a=r+e.nodeSize,i=null;for(let n=0,o;n<s.length;n++)(o=s[n])&&o.from>r&&o.to<a&&((i||(i=[])).push(o),s[n]=null);return i}function z3(s){let e=[];for(let r=0;r<s.length;r++)s[r]!=null&&e.push(s[r]);return e}function UN(s,e,r,a){let i=[],n=!1;e.forEach((l,d)=>{let u=F3(s,l,d+r);if(u){n=!0;let c=UN(u,l,r+d+1,a);c!=pi&&i.push(d,d+l.nodeSize,c)}});let o=I3(n?z3(s):s,-r).sort(_u);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(a.onRemove&&a.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Qr(o,i):pi}function _u(s,e){return s.from-e.from||s.to-e.to}function KD(s){let e=s;for(let r=0;r<e.length-1;r++){let a=e[r];if(a.from!=a.to)for(let i=r+1;i<e.length;i++){let n=e[i];if(n.from==a.from){n.to!=a.to&&(e==s&&(e=s.slice()),e[i]=n.copy(n.from,a.to),lP(e,i+1,n.copy(a.to,n.to)));continue}else{n.from<a.to&&(e==s&&(e=s.slice()),e[r]=a.copy(a.from,n.from),lP(e,i,a.copy(n.from,a.to)));break}}}return e}function lP(s,e,r){for(;e<s.length&&_u(r,s[e])>0;)e++;s.splice(e,0,r)}function Lx(s){let e=[];return s.someProp("decorations",r=>{let a=r(s.state);a&&a!=pi&&e.push(a)}),s.cursorWrapper&&e.push(Qr.create(s.state.doc,[s.cursorWrapper.deco])),id.from(e)}const QH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},YH=zi&&kd<=11;class JH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ZH{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new JH,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(a=>{for(let i=0;i<a.length;i++)this.queue.push(a[i]);zi&&kd<=11&&a.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),YH&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,QH)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(eP(this.view)){if(this.suppressingSelectionUpdates)return gl(this.view);if(zi&&kd<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&qu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,a;for(let n=e.focusNode;n;n=xm(n))r.add(n);for(let n=e.anchorNode;n;n=xm(n))if(r.has(n)){a=n;break}let i=a&&this.view.docView.nearestDesc(a);if(i&&i.ignoreMutation({type:"selection",target:a.nodeType==3?a.parentNode:a}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let a=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(a)&&eP(e)&&!this.ignoreSelectionChange(a),n=-1,o=-1,l=!1,d=[];if(e.editable)for(let c=0;c<r.length;c++){let b=this.registerMutation(r[c],d);b&&(n=n<0?b.from:Math.min(b.from,n),o=o<0?b.to:Math.max(b.to,o),b.typeOver&&(l=!0))}if(zn&&d.length){let c=d.filter(b=>b.nodeName=="BR");if(c.length==2){let[b,h]=c;b.parentNode&&b.parentNode.parentNode==h.parentNode?h.remove():b.remove()}else{let{focusNode:b}=this.currentSelection;for(let h of c){let m=h.parentNode;m&&m.nodeName=="LI"&&(!b||sG(e,b)!=m)&&h.remove()}}}let u=null;n<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lg(a)&&(u=FD(e))&&u.eq(Rt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,gl(e),this.currentSelection.set(a),e.scrollToSelection()):(n>-1||i)&&(n>-1&&(e.docView.markDirty(n,o),XH(e)),this.handleDOMChange(n,o,l,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(a)||gl(e),this.currentSelection.set(a))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let a=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(a==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!a||a.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let b=e.addedNodes[c];r.push(b),b.nodeType==3&&(this.lastChangedTextNode=b)}if(a.contentDOM&&a.contentDOM!=a.dom&&!a.contentDOM.contains(e.target))return{from:a.posBefore,to:a.posAfter};let i=e.previousSibling,n=e.nextSibling;if(zi&&kd<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:b,nextSibling:h}=e.addedNodes[c];(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(i=b),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(n=h)}let o=i&&i.parentNode==e.target?ai(i)+1:0,l=a.localPosFromDOM(e.target,o,-1),d=n&&n.parentNode==e.target?ai(n):e.target.childNodes.length,u=a.localPosFromDOM(e.target,d,1);return{from:l,to:u}}else return e.type=="attributes"?{from:a.posAtStart-a.border,to:a.posAtEnd+a.border}:(this.lastChangedTextNode=e.target,{from:a.posAtStart,to:a.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let dP=new WeakMap,uP=!1;function XH(s){if(!dP.has(s)&&(dP.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=zn,uP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),uP=!0}}function cP(s,e){let r=e.startContainer,a=e.startOffset,i=e.endContainer,n=e.endOffset,o=s.domAtPos(s.state.selection.anchor);return qu(o.node,o.offset,i,n)&&([r,a,i,n]=[i,n,r,a]),{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:n}}function eG(s,e){if(e.getComposedRanges){let i=e.getComposedRanges(s.root)[0];if(i)return cP(s,i)}let r;function a(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",a,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",a,!0),r?cP(s,r):null}function sG(s,e){for(let r=e.parentNode;r&&r!=s.dom;r=r.parentNode){let a=s.docView.nearestDesc(r,!0);if(a&&a.node.isBlock)return r}return null}function tG(s,e,r){let{node:a,fromOffset:i,toOffset:n,from:o,to:l}=s.docView.parseRange(e,r),d=s.domSelectionRange(),u,c=d.anchorNode;if(c&&s.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:d.anchorOffset}],lg(d)||u.push({node:d.focusNode,offset:d.focusOffset})),ki&&s.input.lastKeyCode===8)for(let N=n;N>i;N--){let g=a.childNodes[N-1],D=g.pmViewDesc;if(g.nodeName=="BR"&&!D){n=N;break}if(!D||D.size)break}let b=s.state.doc,h=s.someProp("domParser")||Nd.fromSchema(s.state.schema),m=b.resolve(o),f=null,p=h.parse(a,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:n,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:rG,context:m});if(u&&u[0].pos!=null){let N=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=N),f={anchor:N+o,head:g+o}}return{doc:p,sel:f,from:o,to:l}}function rG(s){let e=s.pmViewDesc;if(e)return e.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(yi&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(s.parentNode.lastChild==s||yi&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const aG=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function iG(s,e,r,a,i){let n=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,e<0){let W=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,y=FD(s,W);if(y&&!s.state.selection.eq(y)){if(ki&&kl&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",S=>S(s,hu(13,"Enter"))))return;let V=s.state.tr.setSelection(y);W=="pointer"?V.setMeta("pointer",!0):W=="key"&&V.scrollIntoView(),n&&V.setMeta("composition",n),s.dispatch(V)}return}let o=s.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=s.state.doc.resolve(r).after(l+1);let d=s.state.selection,u=tG(s,e,r),c=s.state.doc,b=c.slice(u.from,u.to),h,m;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(h=s.state.selection.to,m="end"):(h=s.state.selection.from,m="start"),s.input.lastKeyCode=null;let f=lG(b.content,u.doc.content,u.from,h,m);if(f&&s.input.domChangeCount++,(vm&&s.input.lastIOSEnter>Date.now()-225||kl)&&i.some(W=>W.nodeType==1&&!aG.test(W.nodeName))&&(!f||f.endA>=f.endB)&&s.someProp("handleKeyDown",W=>W(s,hu(13,"Enter")))){s.input.lastIOSEnter=0;return}if(!f)if(a&&d instanceof pt&&!d.empty&&d.$head.sameParent(d.$anchor)&&!s.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))f={start:d.from,endA:d.to,endB:d.to};else{if(u.sel){let W=mP(s,s.state.doc,u.sel);if(W&&!W.eq(s.state.selection)){let y=s.state.tr.setSelection(W);n&&y.setMeta("composition",n),s.dispatch(y)}}return}s.state.selection.from<s.state.selection.to&&f.start==f.endB&&s.state.selection instanceof pt&&(f.start>s.state.selection.from&&f.start<=s.state.selection.from+2&&s.state.selection.from>=u.from?f.start=s.state.selection.from:f.endA<s.state.selection.to&&f.endA>=s.state.selection.to-2&&s.state.selection.to<=u.to&&(f.endB+=s.state.selection.to-f.endA,f.endA=s.state.selection.to)),zi&&kd<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>u.from&&u.doc.textBetween(f.start-u.from-1,f.start-u.from+1)==" "&&(f.start--,f.endA--,f.endB--);let p=u.doc.resolveNoCache(f.start-u.from),N=u.doc.resolveNoCache(f.endB-u.from),g=c.resolve(f.start),D=p.sameParent(N)&&p.parent.inlineContent&&g.end()>=f.endA;if((vm&&s.input.lastIOSEnter>Date.now()-225&&(!D||i.some(W=>W.nodeName=="DIV"||W.nodeName=="P"))||!D&&p.pos<u.doc.content.size&&(!p.sameParent(N)||!p.parent.inlineContent)&&p.pos<N.pos&&!/\S/.test(u.doc.textBetween(p.pos,N.pos,"","")))&&s.someProp("handleKeyDown",W=>W(s,hu(13,"Enter")))){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>f.start&&oG(c,f.start,f.endA,p,N)&&s.someProp("handleKeyDown",W=>W(s,hu(8,"Backspace")))){kl&&ki&&s.domObserver.suppressSelectionUpdates();return}ki&&f.endB==f.start&&(s.input.lastChromeDelete=Date.now()),kl&&!D&&p.start()!=N.start()&&N.parentOffset==0&&p.depth==N.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==f.endA&&(f.endB-=2,N=u.doc.resolveNoCache(f.endB-u.from),setTimeout(()=>{s.someProp("handleKeyDown",function(W){return W(s,hu(13,"Enter"))})},20));let w=f.start,A=f.endA,U=W=>{let y=W||s.state.tr.replace(w,A,u.doc.slice(f.start-u.from,f.endB-u.from));if(u.sel){let V=mP(s,y.doc,u.sel);V&&!(ki&&s.composing&&V.empty&&(f.start!=f.endB||s.input.lastChromeDelete<Date.now()-100)&&(V.head==w||V.head==y.mapping.map(A)-1)||zi&&V.empty&&V.head==w)&&y.setSelection(V)}return n&&y.setMeta("composition",n),y.scrollIntoView()},E;if(D)if(p.pos==N.pos){zi&&kd<=11&&p.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>gl(s),20));let W=U(s.state.tr.delete(w,A)),y=c.resolve(f.start).marksAcross(c.resolve(f.endA));y&&W.ensureMarks(y),s.dispatch(W)}else if(f.endA==f.endB&&(E=nG(p.parent.content.cut(p.parentOffset,N.parentOffset),g.parent.content.cut(g.parentOffset,f.endA-g.start())))){let W=U(s.state.tr);E.type=="add"?W.addMark(w,A,E.mark):W.removeMark(w,A,E.mark),s.dispatch(W)}else if(p.parent.child(p.index()).isText&&p.index()==N.index()-(N.textOffset?0:1)){let W=p.parent.textBetween(p.parentOffset,N.parentOffset),y=()=>U(s.state.tr.insertText(W,w,A));s.someProp("handleTextInput",V=>V(s,w,A,W,y))||s.dispatch(y())}else s.dispatch(U());else s.dispatch(U())}function mP(s,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:zD(s,e.resolve(r.anchor),e.resolve(r.head))}function nG(s,e){let r=s.firstChild.marks,a=e.firstChild.marks,i=r,n=a,o,l,d;for(let c=0;c<a.length;c++)i=a[c].removeFromSet(i);for(let c=0;c<r.length;c++)n=r[c].removeFromSet(n);if(i.length==1&&n.length==0)l=i[0],o="add",d=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&n.length==1)l=n[0],o="remove",d=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(d(e.child(c)));if(ss.from(u).eq(s))return{mark:l,type:o}}function oG(s,e,r,a,i){if(r-e<=i.pos-a.pos||Ix(a,!0,!1)<i.pos)return!1;let n=s.resolve(e);if(!a.parent.isTextblock){let l=n.nodeAfter;return l!=null&&r==e+l.nodeSize}if(n.parentOffset<n.parent.content.size||!n.parent.isTextblock)return!1;let o=s.resolve(Ix(n,!0,!0));return!o.parent.isTextblock||o.pos>r||Ix(o,!0,!1)<r?!1:a.parent.content.cut(a.parentOffset).eq(o.parent.content)}function Ix(s,e,r){let a=s.depth,i=e?s.end():s.pos;for(;a>0&&(e||s.indexAfter(a)==s.node(a).childCount);)a--,i++,e=!1;if(r){let n=s.node(a).maybeChild(s.indexAfter(a));for(;n&&!n.isLeaf;)n=n.firstChild,i++}return i}function lG(s,e,r,a,i){let n=s.findDiffStart(e,r);if(n==null)return null;let{a:o,b:l}=s.findDiffEnd(e,r+s.size,r+e.size);if(i=="end"){let d=Math.max(0,n-Math.min(o,l));a-=o+d-n}if(o<n&&s.size<e.size){let d=a<=n&&a>=o?n-a:0;n-=d,n&&n<e.size&&bP(e.textBetween(n-1,n+1))&&(n+=d?1:-1),l=n+(l-o),o=n}else if(l<n){let d=a<=n&&a>=l?n-a:0;n-=d,n&&n<s.size&&bP(s.textBetween(n-1,n+1))&&(n+=d?1:-1),o=n+(o-l),l=n}return{start:n,endA:o,endB:l}}function bP(s){if(s.length!=2)return!1;let e=s.charCodeAt(0),r=s.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class B3{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PH,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(kP),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=pP(this),fP(this),this.nodeViews=NP(this),this.docView=KE(this.state.doc,hP(this),Lx(this),this.dom,this),this.domObserver=new ZH(this,(a,i,n,o)=>iG(this,a,i,n,o)),this.domObserver.start(),yH(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&B0(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kP),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let a in this._props)r[a]=this._props[a];r.state=this.state;for(let a in e)r[a]=e[a];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var a;let i=this.state,n=!1,o=!1;e.storedMarks&&this.composing&&(T3(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let m=NP(this);uG(m,this.nodeViews)&&(this.nodeViews=m,n=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&B0(this),this.editable=pP(this),fP(this);let d=Lx(this),u=hP(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",b=n||!this.docView.matchesNode(e.doc,u,d);(b||!e.selection.eq(i.selection))&&(o=!0);let h=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&z$(this);if(o){this.domObserver.stop();let m=b&&(zi||ki)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&dG(i.selection,e.selection);if(b){let f=ki?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=FH(this)),(n||!this.docView.update(e.doc,u,d,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=KE(e.doc,u,d,this.dom,this)),f&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mH(this))?gl(this,m):(j3(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((a=this.dragging)===null||a===void 0)&&a.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():h&&B$(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof et){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&zE(this,r.getBoundingClientRect(),e)}else zE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let a=this.directPlugins[r];a.spec.view&&this.pluginViews.push(a.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let a=this.state.plugins[r];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let a=this.pluginViews[r];a.update&&a.update(this,e)}}updateDraggedNode(e,r){let a=e.node,i=-1;if(this.state.doc.nodeAt(a.from)==a.node)i=a.from;else{let n=a.from+(this.state.doc.content.size-r.doc.content.size);(n>0&&this.state.doc.nodeAt(n))==a.node&&(i=n)}this.dragging=new M3(e.slice,e.move,i<0?void 0:et.create(this.state.doc,i))}someProp(e,r){let a=this._props&&this._props[e],i;if(a!=null&&(i=r?r(a):a))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=r?r(l):l))return i}let n=this.state.plugins;if(n)for(let o=0;o<n.length;o++){let l=n[o].props[e];if(l!=null&&(i=r?r(l):l))return i}}hasFocus(){if(zi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&q$(this.dom),gl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Q$(this,e)}coordsAtPos(e,r=1){return p3(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,a=-1){let i=this.docView.posFromDOM(e,r,a);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return eH(this,r||this.state,e)}pasteHTML(e,r){return Ah(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Ah(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return BD(this,e)}destroy(){this.docView&&(OH(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Lx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,U$())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return UH(this,e)}domSelectionRange(){let e=this.domSelection();return e?yi&&this.root.nodeType===11&&T$(this.dom.ownerDocument)==this.dom&&eG(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}B3.prototype.dispatch=function(s){let e=this._props.dispatchTransaction;e?e.call(this,s):this.updateState(this.state.apply(s))};function hP(s){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(s.editable),s.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(s.state)),r)for(let a in r)a=="class"?e.class+=" "+r[a]:a=="style"?e.style=(e.style?e.style+";":"")+r[a]:!e[a]&&a!="contenteditable"&&a!="nodeName"&&(e[a]=String(r[a]))}),e.translate||(e.translate="no"),[gi.node(0,s.state.doc.content.size,e)]}function fP(s){if(s.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),s.cursorWrapper={dom:e,deco:gi.widget(s.state.selection.from,e,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function pP(s){return!s.someProp("editable",e=>e(s.state)===!1)}function dG(s,e){let r=Math.min(s.$anchor.sharedDepth(s.head),e.$anchor.sharedDepth(e.head));return s.$anchor.start(r)!=e.$anchor.start(r)}function NP(s){let e=Object.create(null);function r(a){for(let i in a)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=a[i])}return s.someProp("nodeViews",r),s.someProp("markViews",r),e}function uG(s,e){let r=0,a=0;for(let i in s){if(s[i]!=e[i])return!0;r++}for(let i in e)a++;return r!=a}function kP(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},VN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cG=typeof navigator<"u"&&/Mac/.test(navigator.platform),mG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ii=0;ii<10;ii++)Wd[48+ii]=Wd[96+ii]=String(ii);for(var ii=1;ii<=24;ii++)Wd[ii+111]="F"+ii;for(var ii=65;ii<=90;ii++)Wd[ii]=String.fromCharCode(ii+32),VN[ii]=String.fromCharCode(ii);for(var Fx in Wd)VN.hasOwnProperty(Fx)||(VN[Fx]=Wd[Fx]);function bG(s){var e=cG&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||mG&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",r=!e&&s.key||(s.shiftKey?VN:Wd)[s.keyCode]||s.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const hG=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),fG=typeof navigator<"u"&&/Win/.test(navigator.platform);function pG(s){let e=s.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let a,i,n,o;for(let l=0;l<e.length-1;l++){let d=e[l];if(/^(cmd|meta|m)$/i.test(d))o=!0;else if(/^a(lt)?$/i.test(d))a=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))n=!0;else if(/^mod$/i.test(d))hG?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return a&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),n&&(r="Shift-"+r),r}function NG(s){let e=Object.create(null);for(let r in s)e[pG(r)]=s[r];return e}function zx(s,e,r=!0){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),r&&e.shiftKey&&(s="Shift-"+s),s}function kG(s){return new ea({props:{handleKeyDown:q3(s)}})}function q3(s){let e=NG(s);return function(r,a){let i=bG(a),n,o=e[zx(i,a)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(a.shiftKey){let l=e[zx(i,a,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((a.altKey||a.metaKey||a.ctrlKey)&&!(fG&&a.ctrlKey&&a.altKey)&&(n=Wd[a.keyCode])&&n!=i){let l=e[zx(n,a)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}var gG=Object.defineProperty,QD=(s,e)=>{for(var r in e)gG(s,r,{get:e[r],enumerable:!0})};function cg(s){const{state:e,transaction:r}=s;let{selection:a}=r,{doc:i}=r,{storedMarks:n}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return n},get selection(){return a},get doc(){return i},get tr(){return a=r.selection,i=r.doc,n=r.storedMarks,r}}}var mg=class{constructor(s){this.editor=s.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=s.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:s,editor:e,state:r}=this,{view:a}=e,{tr:i}=r,n=this.buildProps(i);return Object.fromEntries(Object.entries(s).map(([o,l])=>[o,(...u)=>{const c=l(...u)(n);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(s,e=!0){const{rawCommands:r,editor:a,state:i}=this,{view:n}=a,o=[],l=!!s,d=s||i.tr,u=()=>(!l&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(d),o.every(b=>b===!0)),c={...Object.fromEntries(Object.entries(r).map(([b,h])=>[b,(...f)=>{const p=this.buildProps(d,e),N=h(...f)(p);return o.push(N),c}])),run:u};return c}createCan(s){const{rawCommands:e,state:r}=this,a=!1,i=s||r.tr,n=this.buildProps(i,a);return{...Object.fromEntries(Object.entries(e).map(([l,d])=>[l,(...u)=>d(...u)({...n,dispatch:void 0})])),chain:()=>this.createChain(i,a)}}buildProps(s,e=!0){const{rawCommands:r,editor:a,state:i}=this,{view:n}=a,o={tr:s,editor:a,view:n,state:cg({state:i,transaction:s}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(s,e),can:()=>this.createCan(s),get commands(){return Object.fromEntries(Object.entries(r).map(([l,d])=>[l,(...u)=>d(...u)(o)]))}};return o}},$3={};QD($3,{blur:()=>xG,clearContent:()=>vG,clearNodes:()=>DG,command:()=>wG,createParagraphNear:()=>jG,cut:()=>AG,deleteCurrentNode:()=>EG,deleteNode:()=>PG,deleteRange:()=>yG,deleteSelection:()=>OG,enter:()=>WG,exitCode:()=>UG,extendMarkRange:()=>VG,first:()=>_G,focus:()=>SG,forEach:()=>TG,insertContent:()=>RG,insertContentAt:()=>IG,joinBackward:()=>BG,joinDown:()=>zG,joinForward:()=>qG,joinItemBackward:()=>$G,joinItemForward:()=>HG,joinTextblockBackward:()=>GG,joinTextblockForward:()=>KG,joinUp:()=>FG,keyboardShortcut:()=>YG,lift:()=>JG,liftEmptyBlock:()=>ZG,liftListItem:()=>XG,newlineInCode:()=>eK,resetAttributes:()=>sK,scrollIntoView:()=>tK,selectAll:()=>rK,selectNodeBackward:()=>aK,selectNodeForward:()=>iK,selectParentNode:()=>nK,selectTextblockEnd:()=>oK,selectTextblockStart:()=>lK,setContent:()=>dK,setMark:()=>PK,setMeta:()=>yK,setNode:()=>OK,setNodeSelection:()=>WK,setTextSelection:()=>UK,sinkListItem:()=>VK,splitBlock:()=>_K,splitListItem:()=>CK,toggleList:()=>SK,toggleMark:()=>TK,toggleNode:()=>RK,toggleWrap:()=>MK,undoInputRule:()=>LK,unsetAllMarks:()=>IK,unsetMark:()=>FK,updateAttributes:()=>zK,wrapIn:()=>BK,wrapInList:()=>qK});var xG=()=>({editor:s,view:e})=>(requestAnimationFrame(()=>{var r;s.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),vG=(s=!0)=>({commands:e})=>e.setContent("",{emitUpdate:s}),DG=()=>({state:s,tr:e,dispatch:r})=>{const{selection:a}=e,{ranges:i}=a;return r&&i.forEach(({$from:n,$to:o})=>{s.doc.nodesBetween(n.pos,o.pos,(l,d)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,b=u.resolve(c.map(d)),h=u.resolve(c.map(d+l.nodeSize)),m=b.blockRange(h);if(!m)return;const f=_m(m);if(l.type.isTextblock){const{defaultType:p}=b.parent.contentMatchAt(b.index());e.setNodeMarkup(m.start,p)}(f||f===0)&&e.lift(m,f)})}),!0},wG=s=>e=>s(e),jG=()=>({state:s,dispatch:e})=>N$(s,e),AG=(s,e)=>({editor:r,tr:a})=>{const{state:i}=r,n=i.doc.slice(s.from,s.to);a.deleteRange(s.from,s.to);const o=a.mapping.map(e);return a.insert(o,n.content),a.setSelection(new pt(a.doc.resolve(Math.max(o-1,0)))),!0},EG=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,a=r.$anchor.node();if(a.content.size>0)return!1;const i=s.selection.$anchor;for(let n=i.depth;n>0;n-=1)if(i.node(n).type===a.type){if(e){const l=i.before(n),d=i.after(n);s.delete(l,d).scrollIntoView()}return!0}return!1};function Ua(s,e){if(typeof s=="string"){if(!e.nodes[s])throw Error(`There is no node type named '${s}'. Maybe you forgot to add the extension?`);return e.nodes[s]}return s}var PG=s=>({tr:e,state:r,dispatch:a})=>{const i=Ua(s,r.schema),n=e.selection.$anchor;for(let o=n.depth;o>0;o-=1)if(n.node(o).type===i){if(a){const d=n.before(o),u=n.after(o);e.delete(d,u).scrollIntoView()}return!0}return!1},yG=s=>({tr:e,dispatch:r})=>{const{from:a,to:i}=s;return r&&e.delete(a,i),!0},OG=()=>({state:s,dispatch:e})=>i$(s,e),WG=()=>({commands:s})=>s.keyboardShortcut("Enter"),UG=()=>({state:s,dispatch:e})=>p$(s,e);function YD(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function _N(s,e,r={strict:!0}){const a=Object.keys(e);return a.length?a.every(i=>r.strict?e[i]===s[i]:YD(e[i])?e[i].test(s[i]):e[i]===s[i]):!0}function H3(s,e,r={}){return s.find(a=>a.type===e&&_N(Object.fromEntries(Object.keys(r).map(i=>[i,a.attrs[i]])),r))}function gP(s,e,r={}){return!!H3(s,e,r)}function JD(s,e,r){var a;if(!s||!e)return;let i=s.parent.childAfter(s.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=s.parent.childBefore(s.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(r=r||((a=i.node.marks[0])==null?void 0:a.attrs),!H3([...i.node.marks],e,r)))return;let o=i.index,l=s.start()+i.offset,d=o+1,u=l+i.node.nodeSize;for(;o>0&&gP([...s.parent.child(o-1).marks],e,r);)o-=1,l-=s.parent.child(o).nodeSize;for(;d<s.parent.childCount&&gP([...s.parent.child(d).marks],e,r);)u+=s.parent.child(d).nodeSize,d+=1;return{from:l,to:u}}function yl(s,e){if(typeof s=="string"){if(!e.marks[s])throw Error(`There is no mark type named '${s}'. Maybe you forgot to add the extension?`);return e.marks[s]}return s}var VG=(s,e={})=>({tr:r,state:a,dispatch:i})=>{const n=yl(s,a.schema),{doc:o,selection:l}=r,{$from:d,from:u,to:c}=l;if(i){const b=JD(d,n,e);if(b&&b.from<=u&&b.to>=c){const h=pt.create(o,b.from,b.to);r.setSelection(h)}}return!0},_G=s=>e=>{const r=typeof s=="function"?s(e):s;for(let a=0;a<r.length;a+=1)if(r[a](e))return!0;return!1};function G3(s){return s instanceof pt}function vu(s=0,e=0,r=0){return Math.min(Math.max(s,e),r)}function K3(s,e=null){if(!e)return null;const r=Rt.atStart(s),a=Rt.atEnd(s);if(e==="start"||e===!0)return r;if(e==="end")return a;const i=r.from,n=a.to;return e==="all"?pt.create(s,vu(0,i,n),vu(s.content.size,i,n)):pt.create(s,vu(e,i,n),vu(e,i,n))}function CG(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ZD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var SG=(s=null,e={})=>({editor:r,view:a,tr:i,dispatch:n})=>{e={scrollIntoView:!0,...e};const o=()=>{(ZD()||CG())&&a.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(a.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(a.hasFocus()&&s===null||s===!1)return!0;if(n&&s===null&&!G3(r.state.selection))return o(),!0;const l=K3(i.doc,s)||r.state.selection,d=r.state.selection.eq(l);return n&&(d||i.setSelection(l),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},TG=(s,e)=>r=>s.every((a,i)=>e(a,{...r,index:i})),RG=(s,e)=>({tr:r,commands:a})=>a.insertContentAt({from:r.selection.from,to:r.selection.to},s,e),Q3=s=>{const e=s.childNodes;for(let r=e.length-1;r>=0;r-=1){const a=e[r];a.nodeType===3&&a.nodeValue&&/^(\n\s\s|\n)$/.test(a.nodeValue)?s.removeChild(a):a.nodeType===1&&Q3(a)}return s};function hp(s){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${s}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return Q3(r)}function Ph(s,e,r){if(s instanceof In||s instanceof ss)return s;r={slice:!0,parseOptions:{},...r};const a=typeof s=="object"&&s!==null,i=typeof s=="string";if(a)try{if(Array.isArray(s)&&s.length>0)return ss.fromArray(s.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(s);return r.errorOnInvalidContent&&o.check(),o}catch(n){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:n});return console.warn("[tiptap warn]: Invalid content.","Passed value:",s,"Error:",n),Ph("",e,r)}if(i){if(r.errorOnInvalidContent){let o=!1,l="";const d=new LV({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?Nd.fromSchema(d).parseSlice(hp(s),r.parseOptions):Nd.fromSchema(d).parse(hp(s),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const n=Nd.fromSchema(e);return r.slice?n.parseSlice(hp(s),r.parseOptions).content:n.parse(hp(s),r.parseOptions)}return Ph("",e,r)}function MG(s,e,r){const a=s.steps.length-1;if(a<e)return;const i=s.steps[a];if(!(i instanceof Ka||i instanceof Qa))return;const n=s.mapping.maps[a];let o=0;n.forEach((l,d,u,c)=>{o===0&&(o=c)}),s.setSelection(Rt.near(s.doc.resolve(o),r))}var LG=s=>!("type"in s),IG=(s,e,r)=>({tr:a,dispatch:i,editor:n})=>{var o;if(i){r={parseOptions:n.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const d=N=>{n.emit("contentError",{editor:n,error:N,disableCollaboration:()=>{"collaboration"in n.storage&&typeof n.storage.collaboration=="object"&&n.storage.collaboration&&(n.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!n.options.enableContentCheck&&n.options.emitContentError)try{Ph(e,n.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(N){d(N)}try{l=Ph(e,n.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:n.options.enableContentCheck})}catch(N){return d(N),!1}let{from:c,to:b}=typeof s=="number"?{from:s,to:s}:{from:s.from,to:s.to},h=!0,m=!0;if((LG(l)?l:[l]).forEach(N=>{N.check(),h=h?N.isText&&N.marks.length===0:!1,m=m?N.isBlock:!1}),c===b&&m){const{parent:N}=a.doc.resolve(c);N.isTextblock&&!N.type.spec.code&&!N.childCount&&(c-=1,b+=1)}let p;if(h){if(Array.isArray(e))p=e.map(N=>N.text||"").join("");else if(e instanceof ss){let N="";e.forEach(g=>{g.text&&(N+=g.text)}),p=N}else typeof e=="object"&&e&&e.text?p=e.text:p=e;a.insertText(p,c,b)}else{p=l;const N=a.doc.resolve(c),g=N.node(),D=N.parentOffset===0,w=g.isText||g.isTextblock,A=g.content.size>0;D&&w&&A&&(c=Math.max(0,c-1)),a.replaceWith(c,b,p)}r.updateSelection&&MG(a,a.steps.length-1,-1),r.applyInputRules&&a.setMeta("applyInputRules",{from:c,text:p}),r.applyPasteRules&&a.setMeta("applyPasteRules",{from:c,text:p})}return!0},FG=()=>({state:s,dispatch:e})=>m$(s,e),zG=()=>({state:s,dispatch:e})=>b$(s,e),BG=()=>({state:s,dispatch:e})=>n$(s,e),qG=()=>({state:s,dispatch:e})=>u$(s,e),$G=()=>({state:s,dispatch:e,tr:r})=>{try{const a=ig(s.doc,s.selection.$from.pos,-1);return a==null?!1:(r.join(a,2),e&&e(r),!0)}catch{return!1}},HG=()=>({state:s,dispatch:e,tr:r})=>{try{const a=ig(s.doc,s.selection.$from.pos,1);return a==null?!1:(r.join(a,2),e&&e(r),!0)}catch{return!1}},GG=()=>({state:s,dispatch:e})=>o$(s,e),KG=()=>({state:s,dispatch:e})=>l$(s,e);function Y3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function QG(s){const e=s.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let a,i,n,o;for(let l=0;l<e.length-1;l+=1){const d=e[l];if(/^(cmd|meta|m)$/i.test(d))o=!0;else if(/^a(lt)?$/i.test(d))a=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))n=!0;else if(/^mod$/i.test(d))ZD()||Y3()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return a&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),n&&(r=`Shift-${r}`),r}var YG=s=>({editor:e,view:r,tr:a,dispatch:i})=>{const n=QG(s).split(/-(?!$)/),o=n.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:n.includes("Alt"),ctrlKey:n.includes("Ctrl"),metaKey:n.includes("Meta"),shiftKey:n.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return d==null||d.steps.forEach(u=>{const c=u.map(a.mapping);c&&i&&a.maybeStep(c)}),!0};function Ud(s,e,r={}){const{from:a,to:i,empty:n}=s.selection,o=e?Ua(e,s.schema):null,l=[];s.doc.nodesBetween(a,i,(b,h)=>{if(b.isText)return;const m=Math.max(a,h),f=Math.min(i,h+b.nodeSize);l.push({node:b,from:m,to:f})});const d=i-a,u=l.filter(b=>o?o.name===b.node.type.name:!0).filter(b=>_N(b.node.attrs,r,{strict:!1}));return n?!!u.length:u.reduce((b,h)=>b+h.to-h.from,0)>=d}var JG=(s,e={})=>({state:r,dispatch:a})=>{const i=Ua(s,r.schema);return Ud(r,i,e)?h$(r,a):!1},ZG=()=>({state:s,dispatch:e})=>k$(s,e),XG=s=>({state:e,dispatch:r})=>{const a=Ua(s,e.schema);return P$(a)(e,r)},eK=()=>({state:s,dispatch:e})=>f$(s,e);function bg(s,e){return e.nodes[s]?"node":e.marks[s]?"mark":null}function xP(s,e){const r=typeof e=="string"?[e]:e;return Object.keys(s).reduce((a,i)=>(r.includes(i)||(a[i]=s[i]),a),{})}var sK=(s,e)=>({tr:r,state:a,dispatch:i})=>{let n=null,o=null;const l=bg(typeof s=="string"?s:s.name,a.schema);return l?(l==="node"&&(n=Ua(s,a.schema)),l==="mark"&&(o=yl(s,a.schema)),i&&r.selection.ranges.forEach(d=>{a.doc.nodesBetween(d.$from.pos,d.$to.pos,(u,c)=>{n&&n===u.type&&r.setNodeMarkup(c,void 0,xP(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(b=>{o===b.type&&r.addMark(c,c+u.nodeSize,o.create(xP(b.attrs,e)))})})}),!0):!1},tK=()=>({tr:s,dispatch:e})=>(e&&s.scrollIntoView(),!0),rK=()=>({tr:s,dispatch:e})=>{if(e){const r=new Fn(s.doc);s.setSelection(r)}return!0},aK=()=>({state:s,dispatch:e})=>d$(s,e),iK=()=>({state:s,dispatch:e})=>c$(s,e),nK=()=>({state:s,dispatch:e})=>g$(s,e),oK=()=>({state:s,dispatch:e})=>D$(s,e),lK=()=>({state:s,dispatch:e})=>v$(s,e);function q0(s,e,r={},a={}){return Ph(s,e,{slice:!1,parseOptions:r,errorOnInvalidContent:a.errorOnInvalidContent})}var dK=(s,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:a={}}={})=>({editor:i,tr:n,dispatch:o,commands:l})=>{const{doc:d}=n;if(a.preserveWhitespace!=="full"){const u=q0(s,i.schema,a,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&n.replaceWith(0,d.content.size,u).setMeta("preventUpdate",!r),!0}return o&&n.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:d.content.size},s,{parseOptions:a,errorOnInvalidContent:e??i.options.enableContentCheck})};function J3(s,e){const r=yl(e,s.schema),{from:a,to:i,empty:n}=s.selection,o=[];n?(s.storedMarks&&o.push(...s.storedMarks),o.push(...s.selection.$head.marks())):s.doc.nodesBetween(a,i,d=>{o.push(...d.marks)});const l=o.find(d=>d.type.name===r.name);return l?{...l.attrs}:{}}function Z3(s,e){const r=new s3(s);return e.forEach(a=>{a.steps.forEach(i=>{r.step(i)})}),r}function uK(s){for(let e=0;e<s.edgeCount;e+=1){const{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function cK(s,e,r){const a=[];return s.nodesBetween(e.from,e.to,(i,n)=>{r(i)&&a.push({node:i,pos:n})}),a}function mK(s,e){for(let r=s.depth;r>0;r-=1){const a=s.node(r);if(e(a))return{pos:r>0?s.before(r):0,start:s.start(r),depth:r,node:a}}}function hg(s){return e=>mK(e.$from,s)}function Js(s,e,r){return s.config[e]===void 0&&s.parent?Js(s.parent,e,r):typeof s.config[e]=="function"?s.config[e].bind({...r,parent:s.parent?Js(s.parent,e,r):null}):s.config[e]}function XD(s){return s.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},a=Js(e,"addExtensions",r);return a?[e,...XD(a())]:e}).flat(10)}function ew(s,e){const r=rc.fromSchema(e).serializeFragment(s),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function X3(s){return typeof s=="function"}function vr(s,e=void 0,...r){return X3(s)?e?s.bind(e)(...r):s(...r):s}function bK(s={}){return Object.keys(s).length===0&&s.constructor===Object}function yh(s){const e=s.filter(i=>i.type==="extension"),r=s.filter(i=>i.type==="node"),a=s.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:a}}function e_(s){const e=[],{nodeExtensions:r,markExtensions:a}=yh(s),i=[...r,...a],n={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},d=Js(o,"addGlobalAttributes",l);if(!d)return;d().forEach(c=>{c.types.forEach(b=>{Object.entries(c.attributes).forEach(([h,m])=>{e.push({type:b,name:h,attribute:{...n,...m}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},d=Js(o,"addAttributes",l);if(!d)return;const u=d();Object.entries(u).forEach(([c,b])=>{const h={...n,...b};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:c,attribute:h})})}),e}function Yr(...s){return s.filter(e=>!!e).reduce((e,r)=>{const a={...e};return Object.entries(r).forEach(([i,n])=>{if(!a[i]){a[i]=n;return}if(i==="class"){const l=n?String(n).split(" "):[],d=a[i]?a[i].split(" "):[],u=l.filter(c=>!d.includes(c));a[i]=[...d,...u].join(" ")}else if(i==="style"){const l=n?n.split(";").map(c=>c.trim()).filter(Boolean):[],d=a[i]?a[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;d.forEach(c=>{const[b,h]=c.split(":").map(m=>m.trim());u.set(b,h)}),l.forEach(c=>{const[b,h]=c.split(":").map(m=>m.trim());u.set(b,h)}),a[i]=Array.from(u.entries()).map(([c,b])=>`${c}: ${b}`).join("; ")}else a[i]=n}),a},{})}function CN(s,e){return e.filter(r=>r.type===s.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(s.attrs)||{}:{[r.name]:s.attrs[r.name]}).reduce((r,a)=>Yr(r,a),{})}function hK(s){return typeof s!="string"?s:s.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(s):s==="true"?!0:s==="false"?!1:s}function vP(s,e){return"style"in s?s:{...s,getAttrs:r=>{const a=s.getAttrs?s.getAttrs(r):s.attrs;if(a===!1)return!1;const i=e.reduce((n,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):hK(r.getAttribute(o.name));return l==null?n:{...n,[o.name]:l}},{});return{...a,...i}}}}function DP(s){return Object.fromEntries(Object.entries(s).filter(([e,r])=>e==="attrs"&&bK(r)?!1:r!=null))}function wP(s){var e,r,a;const i={};return!((e=s==null?void 0:s.attribute)!=null&&e.isRequired)&&((r=s==null?void 0:s.attribute)==null?void 0:r.default)!==void 0&&(i.default=s.attribute.default),((a=s==null?void 0:s.attribute)==null?void 0:a.validate)!==void 0&&(i.validate=s.attribute.validate),[s.name,i]}function fK(s,e){var r;const a=e_(s),{nodeExtensions:i,markExtensions:n}=yh(s),o=(r=i.find(u=>Js(u,"topNode")))==null?void 0:r.name,l=Object.fromEntries(i.map(u=>{const c=a.filter(g=>g.type===u.name),b={name:u.name,options:u.options,storage:u.storage,editor:e},h=s.reduce((g,D)=>{const w=Js(D,"extendNodeSchema",b);return{...g,...w?w(u):{}}},{}),m=DP({...h,content:vr(Js(u,"content",b)),marks:vr(Js(u,"marks",b)),group:vr(Js(u,"group",b)),inline:vr(Js(u,"inline",b)),atom:vr(Js(u,"atom",b)),selectable:vr(Js(u,"selectable",b)),draggable:vr(Js(u,"draggable",b)),code:vr(Js(u,"code",b)),whitespace:vr(Js(u,"whitespace",b)),linebreakReplacement:vr(Js(u,"linebreakReplacement",b)),defining:vr(Js(u,"defining",b)),isolating:vr(Js(u,"isolating",b)),attrs:Object.fromEntries(c.map(wP))}),f=vr(Js(u,"parseHTML",b));f&&(m.parseDOM=f.map(g=>vP(g,c)));const p=Js(u,"renderHTML",b);p&&(m.toDOM=g=>p({node:g,HTMLAttributes:CN(g,c)}));const N=Js(u,"renderText",b);return N&&(m.toText=N),[u.name,m]})),d=Object.fromEntries(n.map(u=>{const c=a.filter(N=>N.type===u.name),b={name:u.name,options:u.options,storage:u.storage,editor:e},h=s.reduce((N,g)=>{const D=Js(g,"extendMarkSchema",b);return{...N,...D?D(u):{}}},{}),m=DP({...h,inclusive:vr(Js(u,"inclusive",b)),excludes:vr(Js(u,"excludes",b)),group:vr(Js(u,"group",b)),spanning:vr(Js(u,"spanning",b)),code:vr(Js(u,"code",b)),attrs:Object.fromEntries(c.map(wP))}),f=vr(Js(u,"parseHTML",b));f&&(m.parseDOM=f.map(N=>vP(N,c)));const p=Js(u,"renderHTML",b);return p&&(m.toDOM=N=>p({mark:N,HTMLAttributes:CN(N,c)})),[u.name,m]}));return new LV({topNode:o,nodes:l,marks:d})}function pK(s){const e=s.filter((r,a)=>s.indexOf(r)!==a);return Array.from(new Set(e))}function sw(s){return s.sort((r,a)=>{const i=Js(r,"priority")||100,n=Js(a,"priority")||100;return i>n?-1:i<n?1:0})}function s_(s){const e=sw(XD(s)),r=pK(e.map(a=>a.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),e}function t_(s,e,r){const{from:a,to:i}=e,{blockSeparator:n=`

`,textSerializers:o={}}=r||{};let l="";return s.nodesBetween(a,i,(d,u,c,b)=>{var h;d.isBlock&&u>a&&(l+=n);const m=o==null?void 0:o[d.type.name];if(m)return c&&(l+=m({node:d,pos:u,parent:c,index:b,range:e})),!1;d.isText&&(l+=(h=d==null?void 0:d.text)==null?void 0:h.slice(Math.max(a,u)-u,i-u))}),l}function NK(s,e){const r={from:0,to:s.content.size};return t_(s,r,e)}function r_(s){return Object.fromEntries(Object.entries(s.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function kK(s,e){const r=Ua(e,s.schema),{from:a,to:i}=s.selection,n=[];s.doc.nodesBetween(a,i,l=>{n.push(l)});const o=n.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function a_(s,e){const r=bg(typeof e=="string"?e:e.name,s.schema);return r==="node"?kK(s,e):r==="mark"?J3(s,e):{}}function gK(s,e=JSON.stringify){const r={};return s.filter(a=>{const i=e(a);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function xK(s){const e=gK(s);return e.length===1?e:e.filter((r,a)=>!e.filter((n,o)=>o!==a).some(n=>r.oldRange.from>=n.oldRange.from&&r.oldRange.to<=n.oldRange.to&&r.newRange.from>=n.newRange.from&&r.newRange.to<=n.newRange.to))}function i_(s){const{mapping:e,steps:r}=s,a=[];return e.maps.forEach((i,n)=>{const o=[];if(i.ranges.length)i.forEach((l,d)=>{o.push({from:l,to:d})});else{const{from:l,to:d}=r[n];if(l===void 0||d===void 0)return;o.push({from:l,to:d})}o.forEach(({from:l,to:d})=>{const u=e.slice(n).map(l,-1),c=e.slice(n).map(d),b=e.invert().map(u,-1),h=e.invert().map(c);a.push({oldRange:{from:b,to:h},newRange:{from:u,to:c}})})}),xK(a)}function tw(s,e,r){const a=[];return s===e?r.resolve(s).marks().forEach(i=>{const n=r.resolve(s),o=JD(n,i.type);o&&a.push({mark:i,...o})}):r.nodesBetween(s,e,(i,n)=>{!i||(i==null?void 0:i.nodeSize)===void 0||a.push(...i.marks.map(o=>({from:n,to:n+i.nodeSize,mark:o})))}),a}var vK=(s,e,r,a=20)=>{const i=s.doc.resolve(r);let n=a,o=null;for(;n>0&&o===null;){const l=i.node(n);(l==null?void 0:l.type.name)===e?o=l:n-=1}return[o,n]};function Bx(s,e){return e.nodes[s]||e.marks[s]||null}function Kp(s,e,r){return Object.fromEntries(Object.entries(r).filter(([a])=>{const i=s.find(n=>n.type===e&&n.name===a);return i?i.attribute.keepOnSplit:!1}))}var DK=(s,e=500)=>{let r="";const a=s.parentOffset;return s.parent.nodesBetween(Math.max(0,a-e),a,(i,n,o,l)=>{var d,u;const c=((u=(d=i.type.spec).toText)==null?void 0:u.call(d,{node:i,pos:n,parent:o,index:l}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,a-n))}),r};function $0(s,e,r={}){const{empty:a,ranges:i}=s.selection,n=e?yl(e,s.schema):null;if(a)return!!(s.storedMarks||s.selection.$from.marks()).filter(b=>n?n.name===b.type.name:!0).find(b=>_N(b.attrs,r,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:b,$to:h})=>{const m=b.pos,f=h.pos;s.doc.nodesBetween(m,f,(p,N)=>{if(!p.isText&&!p.marks.length)return;const g=Math.max(m,N),D=Math.min(f,N+p.nodeSize),w=D-g;o+=w,l.push(...p.marks.map(A=>({mark:A,from:g,to:D})))})}),o===0)return!1;const d=l.filter(b=>n?n.name===b.mark.type.name:!0).filter(b=>_N(b.mark.attrs,r,{strict:!1})).reduce((b,h)=>b+h.to-h.from,0),u=l.filter(b=>n?b.mark.type!==n&&b.mark.type.excludes(n):!0).reduce((b,h)=>b+h.to-h.from,0);return(d>0?d+u:d)>=o}function wK(s,e,r={}){if(!e)return Ud(s,null,r)||$0(s,null,r);const a=bg(e,s.schema);return a==="node"?Ud(s,e,r):a==="mark"?$0(s,e,r):!1}var jK=(s,e)=>{const{$from:r,$to:a,$anchor:i}=s.selection;if(e){const n=hg(l=>l.type.name===e)(s.selection);if(!n)return!1;const o=s.doc.resolve(n.pos+1);return i.pos+1===o.end()}return!(a.parentOffset<a.parent.nodeSize-2||r.pos!==a.pos)},AK=s=>{const{$from:e,$to:r}=s.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function jP(s,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===s.name):e}function AP(s,e){const{nodeExtensions:r}=yh(e),a=r.find(o=>o.name===s);if(!a)return!1;const i={name:a.name,options:a.options,storage:a.storage},n=vr(Js(a,"group",i));return typeof n!="string"?!1:n.split(" ").includes("list")}function fg(s,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var a;if(r){if(s.type.name==="hardBreak")return!0;if(s.isText)return/^\s*$/m.test((a=s.text)!=null?a:"")}if(s.isText)return!s.text;if(s.isAtom||s.isLeaf)return!1;if(s.content.childCount===0)return!0;if(e){let i=!0;return s.content.forEach(n=>{i!==!1&&(fg(n,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function n_(s){return s instanceof et}function EK(s,e,r){var a;const{selection:i}=e;let n=null;if(G3(i)&&(n=i.$cursor),n){const l=(a=s.storedMarks)!=null?a:n.marks();return n.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(u=>u.type.excludes(r)))}const{ranges:o}=i;return o.some(({$from:l,$to:d})=>{let u=l.depth===0?s.doc.inlineContent&&s.doc.type.allowsMarkType(r):!1;return s.doc.nodesBetween(l.pos,d.pos,(c,b,h)=>{if(u)return!1;if(c.isInline){const m=!h||h.type.allowsMarkType(r),f=!!r.isInSet(c.marks)||!c.marks.some(p=>p.type.excludes(r));u=m&&f}return!u}),u})}var PK=(s,e={})=>({tr:r,state:a,dispatch:i})=>{const{selection:n}=r,{empty:o,ranges:l}=n,d=yl(s,a.schema);if(i)if(o){const u=J3(a,d);r.addStoredMark(d.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,b=u.$to.pos;a.doc.nodesBetween(c,b,(h,m)=>{const f=Math.max(m,c),p=Math.min(m+h.nodeSize,b);h.marks.find(g=>g.type===d)?h.marks.forEach(g=>{d===g.type&&r.addMark(f,p,d.create({...g.attrs,...e}))}):r.addMark(f,p,d.create(e))})});return EK(a,r,d)},yK=(s,e)=>({tr:r})=>(r.setMeta(s,e),!0),OK=(s,e={})=>({state:r,dispatch:a,chain:i})=>{const n=Ua(s,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),n.isTextblock?i().command(({commands:l})=>LE(n,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>LE(n,{...o,...e})(l,a)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},WK=s=>({tr:e,dispatch:r})=>{if(r){const{doc:a}=e,i=vu(s,0,a.content.size),n=et.create(a,i);e.setSelection(n)}return!0},UK=s=>({tr:e,dispatch:r})=>{if(r){const{doc:a}=e,{from:i,to:n}=typeof s=="number"?{from:s,to:s}:s,o=pt.atStart(a).from,l=pt.atEnd(a).to,d=vu(i,o,l),u=vu(n,o,l),c=pt.create(a,d,u);e.setSelection(c)}return!0},VK=s=>({state:e,dispatch:r})=>{const a=Ua(s,e.schema);return W$(a)(e,r)};function EP(s,e){const r=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();if(r){const a=r.filter(i=>e==null?void 0:e.includes(i.type.name));s.tr.ensureMarks(a)}}var _K=({keepMarks:s=!0}={})=>({tr:e,state:r,dispatch:a,editor:i})=>{const{selection:n,doc:o}=e,{$from:l,$to:d}=n,u=i.extensionManager.attributes,c=Kp(u,l.node().type.name,l.node().attrs);if(n instanceof et&&n.node.isBlock)return!l.parentOffset||!Qc(o,l.pos)?!1:(a&&(s&&EP(r,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const b=d.parentOffset===d.parent.content.size,h=l.depth===0?void 0:uK(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=b&&h?[{type:h,attrs:c}]:void 0,f=Qc(e.doc,e.mapping.map(l.pos),1,m);if(!m&&!f&&Qc(e.doc,e.mapping.map(l.pos),1,h?[{type:h}]:void 0)&&(f=!0,m=h?[{type:h,attrs:c}]:void 0),a){if(f&&(n instanceof pt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,m),h&&!b&&!l.parentOffset&&l.parent.type!==h)){const p=e.mapping.map(l.before()),N=e.doc.resolve(p);l.node(-1).canReplaceWith(N.index(),N.index()+1,h)&&e.setNodeMarkup(e.mapping.map(l.before()),h)}s&&EP(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return f},CK=(s,e={})=>({tr:r,state:a,dispatch:i,editor:n})=>{var o;const l=Ua(s,a.schema),{$from:d,$to:u}=a.selection,c=a.selection.node;if(c&&c.isBlock||d.depth<2||!d.sameParent(u))return!1;const b=d.node(-1);if(b.type!==l)return!1;const h=n.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==l||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let g=ss.empty;const D=d.index(-1)?1:d.index(-2)?2:3;for(let y=d.depth-D;y>=d.depth-3;y-=1)g=ss.from(d.node(y).copy(g));const w=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,A={...Kp(h,d.node().type.name,d.node().attrs),...e},U=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(A))||void 0;g=g.append(ss.from(l.createAndFill(null,U)||void 0));const E=d.before(d.depth-(D-1));r.replace(E,d.after(-w),new js(g,4-D,0));let W=-1;r.doc.nodesBetween(E,r.doc.content.size,(y,V)=>{if(W>-1)return!1;y.isTextblock&&y.content.size===0&&(W=V+1)}),W>-1&&r.setSelection(pt.near(r.doc.resolve(W))),r.scrollIntoView()}return!0}const m=u.pos===d.end()?b.contentMatchAt(0).defaultType:null,f={...Kp(h,b.type.name,b.attrs),...e},p={...Kp(h,d.node().type.name,d.node().attrs),...e};r.delete(d.pos,u.pos);const N=m?[{type:l,attrs:f},{type:m,attrs:p}]:[{type:l,attrs:f}];if(!Qc(r.doc,d.pos,2))return!1;if(i){const{selection:g,storedMarks:D}=a,{splittableMarks:w}=n.extensionManager,A=D||g.$to.parentOffset&&g.$from.marks();if(r.split(d.pos,2,N).scrollIntoView(),!A||!i)return!0;const U=A.filter(E=>w.includes(E.type.name));r.ensureMarks(U)}return!0},qx=(s,e)=>{const r=hg(o=>o.type===e)(s.selection);if(!r)return!0;const a=s.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(a===void 0)return!0;const i=s.doc.nodeAt(a);return r.node.type===(i==null?void 0:i.type)&&Td(s.doc,r.pos)&&s.join(r.pos),!0},$x=(s,e)=>{const r=hg(o=>o.type===e)(s.selection);if(!r)return!0;const a=s.doc.resolve(r.start).after(r.depth);if(a===void 0)return!0;const i=s.doc.nodeAt(a);return r.node.type===(i==null?void 0:i.type)&&Td(s.doc,a)&&s.join(a),!0},SK=(s,e,r,a={})=>({editor:i,tr:n,state:o,dispatch:l,chain:d,commands:u,can:c})=>{const{extensions:b,splittableMarks:h}=i.extensionManager,m=Ua(s,o.schema),f=Ua(e,o.schema),{selection:p,storedMarks:N}=o,{$from:g,$to:D}=p,w=g.blockRange(D),A=N||p.$to.parentOffset&&p.$from.marks();if(!w)return!1;const U=hg(E=>AP(E.type.name,b))(p);if(w.depth>=1&&U&&w.depth-U.depth<=1){if(U.node.type===m)return u.liftListItem(f);if(AP(U.node.type.name,b)&&m.validContent(U.node.content)&&l)return d().command(()=>(n.setNodeMarkup(U.pos,m),!0)).command(()=>qx(n,m)).command(()=>$x(n,m)).run()}return!r||!A||!l?d().command(()=>c().wrapInList(m,a)?!0:u.clearNodes()).wrapInList(m,a).command(()=>qx(n,m)).command(()=>$x(n,m)).run():d().command(()=>{const E=c().wrapInList(m,a),W=A.filter(y=>h.includes(y.type.name));return n.ensureMarks(W),E?!0:u.clearNodes()}).wrapInList(m,a).command(()=>qx(n,m)).command(()=>$x(n,m)).run()},TK=(s,e={},r={})=>({state:a,commands:i})=>{const{extendEmptyMarkRange:n=!1}=r,o=yl(s,a.schema);return $0(a,o,e)?i.unsetMark(o,{extendEmptyMarkRange:n}):i.setMark(o,e)},RK=(s,e,r={})=>({state:a,commands:i})=>{const n=Ua(s,a.schema),o=Ua(e,a.schema),l=Ud(a,n,r);let d;return a.selection.$anchor.sameParent(a.selection.$head)&&(d=a.selection.$anchor.parent.attrs),l?i.setNode(o,d):i.setNode(n,{...d,...r})},MK=(s,e={})=>({state:r,commands:a})=>{const i=Ua(s,r.schema);return Ud(r,i,e)?a.lift(i):a.wrapIn(i,e)},LK=()=>({state:s,dispatch:e})=>{const r=s.plugins;for(let a=0;a<r.length;a+=1){const i=r[a];let n;if(i.spec.isInputRules&&(n=i.getState(s))){if(e){const o=s.tr,l=n.transform;for(let d=l.steps.length-1;d>=0;d-=1)o.step(l.steps[d].invert(l.docs[d]));if(n.text){const d=o.doc.resolve(n.from).marks();o.replaceWith(n.from,n.to,s.schema.text(n.text,d))}else o.delete(n.from,n.to)}return!0}}return!1},IK=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,{empty:a,ranges:i}=r;return a||e&&i.forEach(n=>{s.removeMark(n.$from.pos,n.$to.pos)}),!0},FK=(s,e={})=>({tr:r,state:a,dispatch:i})=>{var n;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,d=yl(s,a.schema),{$from:u,empty:c,ranges:b}=l;if(!i)return!0;if(c&&o){let{from:h,to:m}=l;const f=(n=u.marks().find(N=>N.type===d))==null?void 0:n.attrs,p=JD(u,d,f);p&&(h=p.from,m=p.to),r.removeMark(h,m,d)}else b.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,d)});return r.removeStoredMark(d),!0},zK=(s,e={})=>({tr:r,state:a,dispatch:i})=>{let n=null,o=null;const l=bg(typeof s=="string"?s:s.name,a.schema);return l?(l==="node"&&(n=Ua(s,a.schema)),l==="mark"&&(o=yl(s,a.schema)),i&&r.selection.ranges.forEach(d=>{const u=d.$from.pos,c=d.$to.pos;let b,h,m,f;r.selection.empty?a.doc.nodesBetween(u,c,(p,N)=>{n&&n===p.type&&(m=Math.max(N,u),f=Math.min(N+p.nodeSize,c),b=N,h=p)}):a.doc.nodesBetween(u,c,(p,N)=>{N<u&&n&&n===p.type&&(m=Math.max(N,u),f=Math.min(N+p.nodeSize,c),b=N,h=p),N>=u&&N<=c&&(n&&n===p.type&&r.setNodeMarkup(N,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(g=>{if(o===g.type){const D=Math.max(N,u),w=Math.min(N+p.nodeSize,c);r.addMark(D,w,o.create({...g.attrs,...e}))}}))}),h&&(b!==void 0&&r.setNodeMarkup(b,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(p=>{o===p.type&&r.addMark(m,f,o.create({...p.attrs,...e}))}))}),!0):!1},BK=(s,e={})=>({state:r,dispatch:a})=>{const i=Ua(s,r.schema);return w$(i,e)(r,a)},qK=(s,e={})=>({state:r,dispatch:a})=>{const i=Ua(s,r.schema);return j$(i,e)(r,a)},$K=class{constructor(){this.callbacks={}}on(s,e){return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s].push(e),this}emit(s,...e){const r=this.callbacks[s];return r&&r.forEach(a=>a.apply(this,e)),this}off(s,e){const r=this.callbacks[s];return r&&(e?this.callbacks[s]=r.filter(a=>a!==e):delete this.callbacks[s]),this}once(s,e){const r=(...a)=>{this.off(s,r),e.apply(this,a)};return this.on(s,r)}removeAllListeners(){this.callbacks={}}},pg=class{constructor(s){var e;this.find=s.find,this.handler=s.handler,this.undoable=(e=s.undoable)!=null?e:!0}},HK=(s,e)=>{if(YD(e))return e.exec(s);const r=e(s);if(!r)return null;const a=[r.text];return a.index=r.index,a.input=s,a.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),a.push(r.replaceWith)),a};function fp(s){var e;const{editor:r,from:a,to:i,text:n,rules:o,plugin:l}=s,{view:d}=r;if(d.composing)return!1;const u=d.state.doc.resolve(a);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(h=>h.type.spec.code))return!1;let c=!1;const b=DK(u)+n;return o.forEach(h=>{if(c)return;const m=HK(b,h.find);if(!m)return;const f=d.state.tr,p=cg({state:d.state,transaction:f}),N={from:a-(m[0].length-n.length),to:i},{commands:g,chain:D,can:w}=new mg({editor:r,state:p});h.handler({state:p,range:N,match:m,commands:g,chain:D,can:w})===null||!f.steps.length||(h.undoable&&f.setMeta(l,{transform:f,from:a,to:i,text:n}),d.dispatch(f),c=!0)}),c}function GK(s){const{editor:e,rules:r}=s,a=new ea({state:{init(){return null},apply(i,n,o){const l=i.getMeta(a);if(l)return l;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:c}=d;typeof c=="string"?c=c:c=ew(ss.from(c),o.schema);const{from:b}=d,h=b+c.length;fp({editor:e,from:b,to:h,text:c,rules:r,plugin:a})}),i.selectionSet||i.docChanged?null:n}},props:{handleTextInput(i,n,o,l){return fp({editor:e,from:n,to:o,text:l,rules:r,plugin:a})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:n}=i.state.selection;n&&fp({editor:e,from:n.pos,to:n.pos,text:"",rules:r,plugin:a})}),!1)},handleKeyDown(i,n){if(n.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?fp({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:a}):!1}},isInputRules:!0});return a}function KK(s){return Object.prototype.toString.call(s).slice(8,-1)}function pp(s){return KK(s)!=="Object"?!1:s.constructor===Object&&Object.getPrototypeOf(s)===Object.prototype}function o_(s,e){const r={...s};return pp(s)&&pp(e)&&Object.keys(e).forEach(a=>{pp(e[a])&&pp(s[a])?r[a]=o_(s[a],e[a]):r[a]=e[a]}),r}var rw=class{constructor(s={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...s},this.name=this.config.name}get options(){return{...vr(Js(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vr(Js(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(s={}){const e=this.extend({...this.config,addOptions:()=>o_(this.options,s)});return e.name=this.name,e.parent=this.parent,e}extend(s={}){const e=new this.constructor({...this.config,...s});return e.parent=this,this.child=e,e.name="name"in s?s.name:e.parent.name,e}},ac=class l_ extends rw{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new l_(r)}static handleExit({editor:e,mark:r}){const{tr:a}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const d=o.find(u=>(u==null?void 0:u.type.name)===r.name);return d&&a.removeStoredMark(d),a.insertText(" ",i.pos),e.view.dispatch(a),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function QK(s){return typeof s=="number"}var YK=class{constructor(s){this.find=s.find,this.handler=s.handler}},JK=(s,e,r)=>{if(YD(e))return[...s.matchAll(e)];const a=e(s,r);return a?a.map(i=>{const n=[i.text];return n.index=i.index,n.input=s,n.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(i.replaceWith)),n}):[]};function ZK(s){const{editor:e,state:r,from:a,to:i,rule:n,pasteEvent:o,dropEvent:l}=s,{commands:d,chain:u,can:c}=new mg({editor:e,state:r}),b=[];return r.doc.nodesBetween(a,i,(m,f)=>{var p,N,g,D,w;if((N=(p=m.type)==null?void 0:p.spec)!=null&&N.code||!(m.isText||m.isTextblock||m.isInline))return;const A=(w=(D=(g=m.content)==null?void 0:g.size)!=null?D:m.nodeSize)!=null?w:0,U=Math.max(a,f),E=Math.min(i,f+A);if(U>=E)return;const W=m.isText?m.text||"":m.textBetween(U-f,E-f,void 0,"");JK(W,n.find,o).forEach(V=>{if(V.index===void 0)return;const S=U+V.index+1,O=S+V[0].length,_={from:r.tr.mapping.map(S),to:r.tr.mapping.map(O)},M=n.handler({state:r,range:_,match:V,commands:d,chain:u,can:c,pasteEvent:o,dropEvent:l});b.push(M)})}),b.every(m=>m!==null)}var Np=null,XK=s=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",s),r};function eQ(s){const{editor:e,rules:r}=s;let a=null,i=!1,n=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const d=({state:c,from:b,to:h,rule:m,pasteEvt:f})=>{const p=c.tr,N=cg({state:c,transaction:p});if(!(!ZK({editor:e,state:N,from:Math.max(b-1,0),to:h.b-1,rule:m,pasteEvent:f,dropEvent:l})||!p.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,p}};return r.map(c=>new ea({view(b){const h=f=>{var p;a=(p=b.dom.parentElement)!=null&&p.contains(f.target)?b.dom.parentElement:null,a&&(Np=e)},m=()=>{Np&&(Np=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(b,h)=>{if(n=a===b.dom.parentElement,l=h,!n){const m=Np;m!=null&&m.isEditable&&setTimeout(()=>{const f=m.state.selection;f&&m.commands.deleteRange({from:f.from,to:f.to})},10)}return!1},paste:(b,h)=>{var m;const f=(m=h.clipboardData)==null?void 0:m.getData("text/html");return o=h,i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(b,h,m)=>{const f=b[0],p=f.getMeta("uiEvent")==="paste"&&!i,N=f.getMeta("uiEvent")==="drop"&&!n,g=f.getMeta("applyPasteRules"),D=!!g;if(!p&&!N&&!D)return;if(D){let{text:U}=g;typeof U=="string"?U=U:U=ew(ss.from(U),m.schema);const{from:E}=g,W=E+U.length,y=XK(U);return d({rule:c,state:m,from:E,to:{b:W},pasteEvt:y})}const w=h.doc.content.findDiffStart(m.doc.content),A=h.doc.content.findDiffEnd(m.doc.content);if(!(!QK(w)||!A||w===A.b))return d({rule:c,state:m,from:w,to:A,pasteEvt:o})}}))}var Ng=class{constructor(s,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=s,this.extensions=s_(s),this.schema=fK(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((s,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Bx(e.name,this.schema)},a=Js(e,"addCommands",r);return a?{...s,...a()}:s},{})}get plugins(){const{editor:s}=this;return sw([...this.extensions].reverse()).flatMap(a=>{const i={name:a.name,options:a.options,storage:this.editor.extensionStorage[a.name],editor:s,type:Bx(a.name,this.schema)},n=[],o=Js(a,"addKeyboardShortcuts",i);let l={};if(a.type==="mark"&&Js(a,"exitable",i)&&(l.ArrowRight=()=>ac.handleExit({editor:s,mark:a})),o){const h=Object.fromEntries(Object.entries(o()).map(([m,f])=>[m,()=>f({editor:s})]));l={...l,...h}}const d=kG(l);n.push(d);const u=Js(a,"addInputRules",i);if(jP(a,s.options.enableInputRules)&&u){const h=u();if(h&&h.length){const m=GK({editor:s,rules:h}),f=Array.isArray(m)?m:[m];n.push(...f)}}const c=Js(a,"addPasteRules",i);if(jP(a,s.options.enablePasteRules)&&c){const h=c();if(h&&h.length){const m=eQ({editor:s,rules:h});n.push(...m)}}const b=Js(a,"addProseMirrorPlugins",i);if(b){const h=b();n.push(...h)}return n})}get attributes(){return e_(this.extensions)}get nodeViews(){const{editor:s}=this,{nodeExtensions:e}=yh(this.extensions);return Object.fromEntries(e.filter(r=>!!Js(r,"addNodeView")).map(r=>{const a=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:Ua(r.name,this.schema)},n=Js(r,"addNodeView",i);if(!n)return[];const o=n();if(!o)return[];const l=(d,u,c,b,h)=>{const m=CN(d,a);return o({node:d,view:u,getPos:c,decorations:b,innerDecorations:h,editor:s,extension:r,HTMLAttributes:m})};return[r.name,l]}))}get markViews(){const{editor:s}=this,{markExtensions:e}=yh(this.extensions);return Object.fromEntries(e.filter(r=>!!Js(r,"addMarkView")).map(r=>{const a=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:yl(r.name,this.schema)},n=Js(r,"addMarkView",i);if(!n)return[];const o=(l,d,u)=>{const c=CN(l,a);return n()({mark:l,view:d,inline:u,editor:s,extension:r,HTMLAttributes:c,updateAttributes:b=>{hQ(l,s,b)}})};return[r.name,o]}))}setupExtensions(){const s=this.extensions;this.editor.extensionStorage=Object.fromEntries(s.map(e=>[e.name,e.storage])),s.forEach(e=>{var r;const a={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Bx(e.name,this.schema)};e.type==="mark"&&((r=vr(Js(e,"keepOnSplit",a)))==null||r)&&this.splittableMarks.push(e.name);const i=Js(e,"onBeforeCreate",a),n=Js(e,"onCreate",a),o=Js(e,"onUpdate",a),l=Js(e,"onSelectionUpdate",a),d=Js(e,"onTransaction",a),u=Js(e,"onFocus",a),c=Js(e,"onBlur",a),b=Js(e,"onDestroy",a);i&&this.editor.on("beforeCreate",i),n&&this.editor.on("create",n),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),d&&this.editor.on("transaction",d),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),b&&this.editor.on("destroy",b)})}};Ng.resolve=s_;Ng.sort=sw;Ng.flatten=XD;var sQ={};QD(sQ,{ClipboardTextSerializer:()=>u_,Commands:()=>c_,Delete:()=>m_,Drop:()=>b_,Editable:()=>h_,FocusEvents:()=>p_,Keymap:()=>N_,Paste:()=>k_,Tabindex:()=>g_,focusEventsPluginKey:()=>f_});var _a=class d_ extends rw{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new d_(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},u_=_a.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ea({key:new Va("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:s}=this,{state:e,schema:r}=s,{doc:a,selection:i}=e,{ranges:n}=i,o=Math.min(...n.map(c=>c.$from.pos)),l=Math.max(...n.map(c=>c.$to.pos)),d=r_(r);return t_(a,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),c_=_a.create({name:"commands",addCommands(){return{...$3}}}),m_=_a.create({name:"delete",onUpdate({transaction:s,appendedTransactions:e}){var r,a,i;const n=()=>{var o,l,d,u;if((u=(d=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:d.call(l,s))!=null?u:s.getMeta("y-sync$"))return;const c=Z3(s.before,[s,...e]);i_(c).forEach(m=>{c.mapping.mapResult(m.oldRange.from).deletedAfter&&c.mapping.mapResult(m.oldRange.to).deletedBefore&&c.before.nodesBetween(m.oldRange.from,m.oldRange.to,(f,p)=>{const N=p+f.nodeSize-2,g=m.oldRange.from<=p&&N<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:f,from:p,to:N,newFrom:c.mapping.map(p),newTo:c.mapping.map(N),deletedRange:m.oldRange,newRange:m.newRange,partial:!g,editor:this.editor,transaction:s,combinedTransform:c})})});const h=c.mapping;c.steps.forEach((m,f)=>{var p,N;if(m instanceof bo){const g=h.slice(f).map(m.from,-1),D=h.slice(f).map(m.to),w=h.invert().map(g,-1),A=h.invert().map(D),U=(p=c.doc.nodeAt(g-1))==null?void 0:p.marks.some(W=>W.eq(m.mark)),E=(N=c.doc.nodeAt(D))==null?void 0:N.marks.some(W=>W.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:w,to:A},newRange:{from:g,to:D},partial:!!(E||U),editor:this.editor,transaction:s,combinedTransform:c})}})};(i=(a=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:a.async)==null||i?setTimeout(n,0):n()}}),b_=_a.create({name:"drop",addProseMirrorPlugins(){return[new ea({key:new Va("tiptapDrop"),props:{handleDrop:(s,e,r,a)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:a})}}})]}}),h_=_a.create({name:"editable",addProseMirrorPlugins(){return[new ea({key:new Va("editable"),props:{editable:()=>this.editor.options.editable}})]}}),f_=new Va("focusEvents"),p_=_a.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:s}=this;return[new ea({key:f_,props:{handleDOMEvents:{focus:(e,r)=>{s.isFocused=!0;const a=s.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(a),!1},blur:(e,r)=>{s.isFocused=!1;const a=s.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(a),!1}}}})]}}),N_=_a.create({name:"keymap",addKeyboardShortcuts(){const s=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:d,doc:u}=l,{empty:c,$anchor:b}=d,{pos:h,parent:m}=b,f=b.parent.isTextblock&&h>0?l.doc.resolve(h-1):b,p=f.parent.type.spec.isolating,N=b.pos-b.parentOffset,g=p&&f.parent.childCount===1?N===b.pos:Rt.atStart(u).from===h;return!c||!m.type.isTextblock||m.textContent.length||!g||g&&b.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),a={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:s,"Mod-Backspace":s,"Shift-Backspace":s,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...a},n={...a,"Ctrl-h":s,"Alt-Backspace":s,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ZD()||Y3()?n:i},addProseMirrorPlugins(){return[new ea({key:new Va("clearDocument"),appendTransaction:(s,e,r)=>{if(s.some(p=>p.getMeta("composition")))return;const a=s.some(p=>p.docChanged)&&!e.doc.eq(r.doc),i=s.some(p=>p.getMeta("preventClearDocument"));if(!a||i)return;const{empty:n,from:o,to:l}=e.selection,d=Rt.atStart(e.doc).from,u=Rt.atEnd(e.doc).to;if(n||!(o===d&&l===u)||!fg(r.doc))return;const h=r.tr,m=cg({state:r,transaction:h}),{commands:f}=new mg({editor:this.editor,state:m});if(f.clearNodes(),!!h.steps.length)return h}})]}}),k_=_a.create({name:"paste",addProseMirrorPlugins(){return[new ea({key:new Va("tiptapPaste"),props:{handlePaste:(s,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),g_=_a.create({name:"tabindex",addProseMirrorPlugins(){return[new ea({key:new Va("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),tQ=class Mc{constructor(e,r,a=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=a,this.resolvedPos=e,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,a=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,a=this.to-1}this.editor.commands.insertContentAt({from:r,to:a},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Mc(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Mc(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Mc(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,a)=>{const i=r.isBlock&&!r.isTextblock,n=r.isAtom&&!r.isText,o=this.pos+a+(n?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const d=new Mc(l,this.editor,i,i?r:null);i&&(d.actualDepth=this.depth+1),e.push(new Mc(l,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let a=null,i=this.parent;for(;i&&!a;){if(i.node.type.name===e)if(Object.keys(r).length>0){const n=i.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const d=o[l];if(n[d]!==r[d])break}}else a=i;i=i.parent}return a}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},a=!1){let i=[];if(!this.children||this.children.length===0)return i;const n=Object.keys(r);return this.children.forEach(o=>{a&&i.length>0||(o.node.type.name===e&&n.every(d=>r[d]===o.node.attrs[d])&&i.push(o),!(a&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,r,a))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},rQ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function aQ(s,e,r){const a=document.querySelector("style[data-tiptap-style]");if(a!==null)return a;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(i),i}var iQ=class extends $K{constructor(s={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:a})=>{throw a},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(s),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:a,slice:i,moved:n})=>this.options.onDrop(a,i,n)),this.on("paste",({event:a,slice:i})=>this.options.onPaste(a,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=K3(e,this.options.autofocus);this.editorState=zc.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(s){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(s),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const s=this.editorView.dom;s!=null&&s.editor&&delete s.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(s){console.warn("Failed to remove CSS element:",s)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=aQ(rQ,this.options.injectNonce))}setOptions(s={}){this.options={...this.options,...s},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(s,e=!0){this.setOptions({editable:s}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:s=>{this.editorState=s},dispatch:s=>{this.dispatchTransaction(s)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(s,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in s)return Reflect.get(s,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(s,e){const r=X3(e)?e(s,[...this.state.plugins]):[...this.state.plugins,s],a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}unregisterPlugin(s){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(s).forEach(i=>{const n=typeof i=="string"?`${i}$`:i.key;r=r.filter(o=>!o.key.startsWith(n))}),e.length===r.length)return;const a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}createExtensionManager(){var s,e;const a=[...this.options.enableCoreExtensions?[h_,u_.configure({blockSeparator:(e=(s=this.options.coreExtensionOptions)==null?void 0:s.clipboardTextSerializer)==null?void 0:e.blockSeparator}),c_,p_,N_,g_,b_,k_,m_].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ng(a,this)}createCommandManager(){this.commandManager=new mg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let s;try{s=q0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),s=q0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return s}createView(s){var e;this.editorView=new B3(s,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(s){this.isCapturingTransaction=!0,s(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(s){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=s;return}s.steps.forEach(u=>{var c;return(c=this.capturedTransaction)==null?void 0:c.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(s),a=!this.state.selection.eq(e.selection),i=r.includes(s),n=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:s,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:s,appendedTransactions:r.slice(1)}),a&&this.emit("selectionUpdate",{editor:this,transaction:s});const o=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),d=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),d&&this.emit("blur",{editor:this,event:d.event,transaction:o}),!(s.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||n.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:s,appendedTransactions:r.slice(1)})}getAttributes(s){return a_(this.state,s)}isActive(s,e){const r=typeof s=="string"?s:null,a=typeof s=="string"?e:s;return wK(this.state,r,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ew(this.state.doc.content,this.schema)}getText(s){const{blockSeparator:e=`

`,textSerializers:r={}}=s||{};return NK(this.state.doc,{blockSeparator:e,textSerializers:{...r_(this.schema),...r}})}get isEmpty(){return fg(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var s,e;return(e=(s=this.editorView)==null?void 0:s.isDestroyed)!=null?e:!0}$node(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(s,e))||null}$nodes(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(s,e))||null}$pos(s){const e=this.state.doc.resolve(s);return new tQ(e,this)}get $doc(){return this.$pos(0)}};function Dm(s){return new pg({find:s.find,handler:({state:e,range:r,match:a})=>{const i=vr(s.getAttributes,void 0,a);if(i===!1||i===null)return null;const{tr:n}=e,o=a[a.length-1],l=a[0];if(o){const d=l.search(/\S/),u=r.from+l.indexOf(o),c=u+o.length;if(tw(r.from,r.to,e.doc).filter(m=>m.mark.type.excluded.find(p=>p===s.type&&p!==m.mark.type)).filter(m=>m.to>u).length)return null;c<r.to&&n.delete(c,r.to),u>r.from&&n.delete(r.from+d,u);const h=r.from+d+o.length;n.addMark(r.from+d,h,s.type.create(i||{})),n.removeStoredMark(s.type)}},undoable:s.undoable})}function nQ(s){return new pg({find:s.find,handler:({state:e,range:r,match:a})=>{const i=vr(s.getAttributes,void 0,a)||{},{tr:n}=e,o=r.from;let l=r.to;const d=s.type.create(i);if(a[1]){const u=a[0].lastIndexOf(a[1]);let c=o+u;c>l?c=l:l=c+a[1].length;const b=a[0][a[0].length-1];n.insertText(b,o+a[0].length-1),n.replaceWith(c,l,d)}else if(a[0]){const u=s.type.isInline?o:o-1;n.insert(u,s.type.create(i)).delete(n.mapping.map(o),n.mapping.map(l))}n.scrollIntoView()},undoable:s.undoable})}function H0(s){return new pg({find:s.find,handler:({state:e,range:r,match:a})=>{const i=e.doc.resolve(r.from),n=vr(s.getAttributes,void 0,a)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),s.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,s.type,n)},undoable:s.undoable})}function wm(s){return new pg({find:s.find,handler:({state:e,range:r,match:a,chain:i})=>{const n=vr(s.getAttributes,void 0,a)||{},o=e.tr.delete(r.from,r.to),d=o.doc.resolve(r.from).blockRange(),u=d&&TD(d,s.type,n);if(!u)return null;if(o.wrap(d,u),s.keepMarks&&s.editor){const{selection:b,storedMarks:h}=e,{splittableMarks:m}=s.editor.extensionManager,f=h||b.$to.parentOffset&&b.$from.marks();if(f){const p=f.filter(N=>m.includes(N.type.name));o.ensureMarks(p)}}if(s.keepAttributes){const b=s.type.name==="bulletList"||s.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(b,n).run()}const c=o.doc.resolve(r.from-1).nodeBefore;c&&c.type===s.type&&Td(o.doc,r.from-1)&&(!s.joinPredicate||s.joinPredicate(a,c))&&o.join(r.from-1)},undoable:s.undoable})}function oQ(s,e){const{selection:r}=s,{$from:a}=r;if(r instanceof et){const n=a.index();return a.parent.canReplaceWith(n,n+1,e)}let i=a.depth;for(;i>=0;){const n=a.index(i);if(a.node(i).contentMatchAt(n).matchType(e))return!0;i-=1}return!1}function lQ(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var dQ={};QD(dQ,{createAtomBlockMarkdownSpec:()=>uQ,createBlockMarkdownSpec:()=>cQ,createInlineMarkdownSpec:()=>x_,parseAttributes:()=>aw,parseIndentedBlocks:()=>G0,renderNestedMarkdownContent:()=>nw,serializeAttributes:()=>iw});function aw(s){if(!(s!=null&&s.trim()))return{};const e={},r=[],a=s.replace(/["']([^"']*)["']/g,u=>(r.push(u),`__QUOTED_${r.length-1}__`)),i=a.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const u=i.map(c=>c.trim().slice(1));e.class=u.join(" ")}const n=a.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);n&&(e.id=n[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(a.matchAll(o)).forEach(([,u,c])=>{var b;const h=parseInt(((b=c.match(/__QUOTED_(\d+)__/))==null?void 0:b[1])||"0",10),m=r[h];m&&(e[u]=m.slice(1,-1))});const d=a.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(c=>{c.match(/^[a-zA-Z][\w-]*$/)&&(e[c]=!0)}),e}function iw(s){if(!s||Object.keys(s).length===0)return"";const e=[];return s.class&&String(s.class).split(/\s+/).filter(Boolean).forEach(a=>e.push(`.${a}`)),s.id&&e.push(`#${s.id}`),Object.entries(s).forEach(([r,a])=>{r==="class"||r==="id"||(a===!0?e.push(r):a!==!1&&a!=null&&e.push(`${r}="${String(a)}"`))}),e.join(" ")}function uQ(s){const{nodeName:e,name:r,parseAttributes:a=aw,serializeAttributes:i=iw,defaultAttributes:n={},requiredAttributes:o=[],allowedAttributes:l}=s,d=r||e,u=c=>{if(!l)return c;const b={};return l.forEach(h=>{h in c&&(b[h]=c[h])}),b};return{parseMarkdown:(c,b)=>{const h={...n,...c.attributes};return b.createNode(e,h,[])},markdownTokenizer:{name:e,level:"block",start(c){var b;const h=new RegExp(`^:::${d}(?:\\s|$)`,"m"),m=(b=c.match(h))==null?void 0:b.index;return m!==void 0?m:-1},tokenize(c,b,h){const m=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),f=c.match(m);if(!f)return;const p=f[1]||"",N=a(p);if(!o.find(D=>!(D in N)))return{type:e,raw:f[0],attributes:N}}},renderMarkdown:c=>{const b=u(c.attrs||{}),h=i(b),m=h?` {${h}}`:"";return`:::${d}${m} :::`}}}function cQ(s){const{nodeName:e,name:r,getContent:a,parseAttributes:i=aw,serializeAttributes:n=iw,defaultAttributes:o={},content:l="block",allowedAttributes:d}=s,u=r||e,c=b=>{if(!d)return b;const h={};return d.forEach(m=>{m in b&&(h[m]=b[m])}),h};return{parseMarkdown:(b,h)=>{let m;if(a){const p=a(b);m=typeof p=="string"?[{type:"text",text:p}]:p}else l==="block"?m=h.parseChildren(b.tokens||[]):m=h.parseInline(b.tokens||[]);const f={...o,...b.attributes};return h.createNode(e,f,m)},markdownTokenizer:{name:e,level:"block",start(b){var h;const m=new RegExp(`^:::${u}`,"m"),f=(h=b.match(m))==null?void 0:h.index;return f!==void 0?f:-1},tokenize(b,h,m){var f;const p=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),N=b.match(p);if(!N)return;const[g,D=""]=N,w=i(D);let A=1;const U=g.length;let E="";const W=/^:::([\w-]*)(\s.*)?/gm,y=b.slice(U);for(W.lastIndex=0;;){const V=W.exec(y);if(V===null)break;const S=V.index,O=V[1];if(!((f=V[2])!=null&&f.endsWith(":::"))){if(O)A+=1;else if(A-=1,A===0){const _=y.slice(0,S);E=_.trim();const M=b.slice(0,U+S+V[0].length);let R=[];if(E)if(l==="block")for(R=m.blockTokens(_),R.forEach(Q=>{Q.text&&(!Q.tokens||Q.tokens.length===0)&&(Q.tokens=m.inlineTokens(Q.text))});R.length>0;){const Q=R[R.length-1];if(Q.type==="paragraph"&&(!Q.text||Q.text.trim()===""))R.pop();else break}else R=m.inlineTokens(E);return{type:e,raw:M,attributes:w,content:E,tokens:R}}}}}},renderMarkdown:(b,h)=>{const m=c(b.attrs||{}),f=n(m),p=f?` {${f}}`:"",N=h.renderChildren(b.content||[],`

`);return`:::${u}${p}

${N}

:::`}}}function mQ(s){if(!s.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let a=r.exec(s);for(;a!==null;){const[,i,n,o]=a;e[i]=n||o,a=r.exec(s)}return e}function bQ(s){return Object.entries(s).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function x_(s){const{nodeName:e,name:r,getContent:a,parseAttributes:i=mQ,serializeAttributes:n=bQ,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:d}=s,u=r||e,c=h=>{if(!d)return h;const m={};return d.forEach(f=>{f in h&&(m[f]=h[f])}),m},b=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,m)=>{const f={...o,...h.attributes};if(l)return m.createNode(e,f);const p=a?a(h):h.content||"";return p?m.createNode(e,f,[m.createTextNode(p)]):m.createNode(e,f,[])},markdownTokenizer:{name:e,level:"inline",start(h){const m=l?new RegExp(`\\[${b}\\s*[^\\]]*\\]`):new RegExp(`\\[${b}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${b}\\]`),f=h.match(m),p=f==null?void 0:f.index;return p!==void 0?p:-1},tokenize(h,m,f){const p=l?new RegExp(`^\\[${b}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${b}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${b}\\]`),N=h.match(p);if(!N)return;let g="",D="";if(l){const[,A]=N;D=A}else{const[,A,U]=N;D=A,g=U||""}const w=i(D.trim());return{type:e,raw:N[0],content:g.trim(),attributes:w}}},renderMarkdown:h=>{let m="";a?m=a(h):h.content&&h.content.length>0&&(m=h.content.filter(g=>g.type==="text").map(g=>g.text).join(""));const f=c(h.attrs||{}),p=n(f),N=p?` ${p}`:"";return l?`[${u}${N}]`:`[${u}${N}]${m}[/${u}]`}}}function G0(s,e,r){var a,i,n,o;const l=s.split(`
`),d=[];let u="",c=0;const b=e.baseIndentSize||2;for(;c<l.length;){const h=l[c],m=h.match(e.itemPattern);if(!m){if(d.length>0)break;if(h.trim()===""){c+=1;continue}else return}const f=e.extractItemData(m),{indentLevel:p,mainContent:N}=f;u=`${u}${h}
`;const g=[N];for(c+=1;c<l.length;){const U=l[c];if(U.trim()===""){const W=l.slice(c+1).findIndex(S=>S.trim()!=="");if(W===-1)break;if((((i=(a=l[c+1+W].match(/^(\s*)/))==null?void 0:a[1])==null?void 0:i.length)||0)>p){g.push(U),u=`${u}${U}
`,c+=1;continue}else break}if((((o=(n=U.match(/^(\s*)/))==null?void 0:n[1])==null?void 0:o.length)||0)>p)g.push(U),u=`${u}${U}
`,c+=1;else break}let D;const w=g.slice(1);if(w.length>0){const U=w.map(E=>E.slice(p+b)).join(`
`);U.trim()&&(e.customNestedParser?D=e.customNestedParser(U):D=r.blockTokens(U))}const A=e.createToken(f,D);d.push(A)}if(d.length!==0)return{items:d,raw:u.trim()}}function nw(s,e,r,a){if(!s||!Array.isArray(s.content))return"";const i=typeof r=="function"?r(a):r,[n,...o]=s.content,l=e.renderChildren([n]),d=[`${i}${l}`];return o&&o.length>0&&o.forEach(u=>{const c=e.renderChildren([u]);if(c){const b=c.split(`
`).map(h=>h?e.indent(h):"").join(`
`);d.push(b)}}),d.join(`
`)}function hQ(s,e,r={}){const{state:a}=e,{doc:i,tr:n}=a,o=s;i.descendants((l,d)=>{const u=n.mapping.map(d),c=n.mapping.map(d)+l.nodeSize;let b=null;if(l.marks.forEach(m=>{if(m!==o)return!1;b=m}),!b)return;let h=!1;if(Object.keys(r).forEach(m=>{r[m]!==b.attrs[m]&&(h=!0)}),h){const m=s.type.create({...s.attrs,...r});n.removeMark(u,c,s.type),n.addMark(u,c,m)}}),n.docChanged&&e.view.dispatch(n)}var Hi=class v_ extends rw{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new v_(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Hu(s){return new YK({find:s.find,handler:({state:e,range:r,match:a,pasteEvent:i})=>{const n=vr(s.getAttributes,void 0,a,i);if(n===!1||n===null)return null;const{tr:o}=e,l=a[a.length-1],d=a[0];let u=r.to;if(l){const c=d.search(/\S/),b=r.from+d.indexOf(l),h=b+l.length;if(tw(r.from,r.to,e.doc).filter(f=>f.mark.type.excluded.find(N=>N===s.type&&N!==f.mark.type)).filter(f=>f.to>b).length)return null;h<r.to&&o.delete(h,r.to),b>r.from&&o.delete(r.from+c,b),u=r.from+c+l.length,o.addMark(r.from+c,u,s.type.create(n||{})),o.removeStoredMark(s.type)}}})}var fQ=function s(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,i,n;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(i=a;i--!==0;)if(!s(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!s(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(a=e.length,a!=r.length)return!1;for(i=a;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),a=n.length,a!==Object.keys(r).length)return!1;for(i=a;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[i]))return!1;for(i=a;i--!==0;){var o=n[i];if(!(o==="_owner"&&e.$$typeof)&&!s(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const pQ=O1(fQ);var D_={exports:{}},w_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function s(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=v,r=Bk,a=typeof Object.is=="function"?Object.is:s,i=r.useSyncExternalStore,n=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;w_.useSyncExternalStoreWithSelector=function(u,c,b,h,m){var f=n(null);if(f.current===null){var p={hasValue:!1,value:null};f.current=p}else p=f.current;f=l(function(){function g(E){if(!D){if(D=!0,w=E,E=h(E),m!==void 0&&p.hasValue){var W=p.value;if(m(W,E))return A=W}return A=E}if(W=A,a(w,E))return W;var y=h(E);return m!==void 0&&m(W,y)?(w=E,W):(w=E,A=y)}var D=!1,w,A,U=b===void 0?null:b;return[function(){return g(c())},U===null?void 0:function(){return g(U())}]},[c,b,h,m]);var N=i(u,f[0],f[1]);return o(function(){p.hasValue=!0,p.value=N},[N]),d(N),N},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();D_.exports=w_;var NQ=D_.exports,kQ=(...s)=>e=>{s.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},gQ=({contentComponent:s})=>{const e=Bk.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getServerSnapshot);return de.jsx(de.Fragment,{children:Object.values(e)})};function xQ(){const s=new Set;let e={};return{subscribe(r){return s.add(r),()=>{s.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,a){e={...e,[r]:Qy.createPortal(a.reactElement,a.element,r)},s.forEach(i=>i())},removeRenderer(r){const a={...e};delete a[r],e=a,s.forEach(i=>i())}}}var vQ=class extends Ge.Component{constructor(s){var e;super(s),this.editorContentRef=Ge.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=s.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const s=this.props.editor;if(s&&!s.isDestroyed&&s.options.element){if(s.contentComponent)return;const e=this.editorContentRef.current;e.append(s.view.dom),s.setOptions({element:e}),s.contentComponent=xQ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=s.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),s.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var s;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((s=e.view.dom)!=null&&s.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:s,innerRef:e,...r}=this.props;return de.jsxs(de.Fragment,{children:[de.jsx("div",{ref:kQ(e,this.editorContentRef),...r}),(s==null?void 0:s.contentComponent)&&de.jsx(gQ,{contentComponent:s.contentComponent})]})}},DQ=v.forwardRef((s,e)=>{const r=Ge.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[s.editor]);return Ge.createElement(vQ,{key:r,innerRef:e,...s})}),wQ=Ge.memo(DQ),jQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,AQ=class{constructor(s){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=s,this.lastSnapshot={editor:s,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(s){return this.subscribers.add(s),()=>{this.subscribers.delete(s)}}watch(s){if(this.editor=s,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(a=>a())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function EQ(s){var e;const[r]=v.useState(()=>new AQ(s.editor)),a=NQ.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,s.selector,(e=s.equalityFn)!=null?e:pQ);return jQ(()=>r.watch(s.editor),[s.editor,r]),v.useDebugValue(a),a}var PQ=!0,K0=typeof window>"u",yQ=K0||!!(typeof window<"u"&&window.next),OQ=class j_{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0){if(K0||yQ)throw new Error("Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.");return this.createEditor()}if(this.options.current.immediatelyRender&&K0&&PQ)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...a)=>{var i,n;return(n=(i=this.options.current).onBeforeCreate)==null?void 0:n.call(i,...a)},onBlur:(...a)=>{var i,n;return(n=(i=this.options.current).onBlur)==null?void 0:n.call(i,...a)},onCreate:(...a)=>{var i,n;return(n=(i=this.options.current).onCreate)==null?void 0:n.call(i,...a)},onDestroy:(...a)=>{var i,n;return(n=(i=this.options.current).onDestroy)==null?void 0:n.call(i,...a)},onFocus:(...a)=>{var i,n;return(n=(i=this.options.current).onFocus)==null?void 0:n.call(i,...a)},onSelectionUpdate:(...a)=>{var i,n;return(n=(i=this.options.current).onSelectionUpdate)==null?void 0:n.call(i,...a)},onTransaction:(...a)=>{var i,n;return(n=(i=this.options.current).onTransaction)==null?void 0:n.call(i,...a)},onUpdate:(...a)=>{var i,n;return(n=(i=this.options.current).onUpdate)==null?void 0:n.call(i,...a)},onContentError:(...a)=>{var i,n;return(n=(i=this.options.current).onContentError)==null?void 0:n.call(i,...a)},onDrop:(...a)=>{var i,n;return(n=(i=this.options.current).onDrop)==null?void 0:n.call(i,...a)},onPaste:(...a)=>{var i,n;return(n=(i=this.options.current).onPaste)==null?void 0:n.call(i,...a)},onDelete:(...a)=>{var i,n;return(n=(i=this.options.current).onDelete)==null?void 0:n.call(i,...a)}};return new iQ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(a=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(a)?!0:a==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((i,n)=>{var o;return i===((o=r.extensions)==null?void 0:o[n])}):e[a]===r[a])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?j_.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((a,i)=>a===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function WQ(s={},e=[]){const r=v.useRef(s);r.current=s;const[a]=v.useState(()=>new OQ(r)),i=Bk.useSyncExternalStore(a.subscribe,a.getEditor,a.getServerSnapshot);return v.useDebugValue(i),v.useEffect(a.onRender(e)),EQ({editor:i,selector:({transactionNumber:n})=>s.shouldRerenderOnTransaction===!1||s.shouldRerenderOnTransaction===void 0?null:s.immediatelyRender&&n===0?0:n+1}),i}var UQ=v.createContext({editor:null});UQ.Consumer;var VQ=v.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),_Q=()=>v.useContext(VQ);Ge.forwardRef((s,e)=>{const{onDragStart:r}=_Q(),a=s.as||"div";return de.jsx(a,{...s,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...s.style}})});Ge.createContext({markViewContentRef:()=>{}});var SN=(s,e)=>{if(s==="slot")return 0;if(s instanceof Function)return s(e);const{children:r,...a}=e??{};if(s==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[s,a,r]},CQ=/^\s*>\s$/,SQ=Hi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:s}){return SN("blockquote",{...Yr(this.options.HTMLAttributes,s),children:SN("slot",{})})},parseMarkdown:(s,e)=>e.createNode("blockquote",void 0,e.parseChildren(s.tokens||[])),renderMarkdown:(s,e)=>{if(!s.content)return"";const r=">",a=[];return s.content.forEach(i=>{const l=e.renderChildren([i]).split(`
`).map(d=>d.trim()===""?r:`${r} ${d}`);a.push(l.join(`
`))}),a.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:s})=>s.wrapIn(this.name),toggleBlockquote:()=>({commands:s})=>s.toggleWrap(this.name),unsetBlockquote:()=>({commands:s})=>s.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wm({find:CQ,type:this.type})]}}),TQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,RQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,MQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,LQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,IQ=ac.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:s=>s.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:s=>s.type.name===this.name},{style:"font-weight",getAttrs:s=>/^(bold(er)?|[5-9]\d{2,})$/.test(s)&&null}]},renderHTML({HTMLAttributes:s}){return SN("strong",{...Yr(this.options.HTMLAttributes,s),children:SN("slot",{})})},markdownTokenName:"strong",parseMarkdown:(s,e)=>e.applyMark("bold",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`**${e.renderChildren(s)}**`,addCommands(){return{setBold:()=>({commands:s})=>s.setMark(this.name),toggleBold:()=>({commands:s})=>s.toggleMark(this.name),unsetBold:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Dm({find:TQ,type:this.type}),Dm({find:MQ,type:this.type})]},addPasteRules(){return[Hu({find:RQ,type:this.type}),Hu({find:LQ,type:this.type})]}}),FQ=/(^|[^`])`([^`]+)`(?!`)$/,zQ=/(^|[^`])`([^`]+)`(?!`)/g,BQ=ac.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:s}){return["code",Yr(this.options.HTMLAttributes,s),0]},markdownTokenName:"codespan",parseMarkdown:(s,e)=>e.applyMark("code",[{type:"text",text:s.text||""}]),renderMarkdown:(s,e)=>s.content?`\`${e.renderChildren(s.content)}\``:"",addCommands(){return{setCode:()=>({commands:s})=>s.setMark(this.name),toggleCode:()=>({commands:s})=>s.toggleMark(this.name),unsetCode:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Dm({find:FQ,type:this.type})]},addPasteRules(){return[Hu({find:zQ,type:this.type})]}}),Hx=4,qQ=/^```([a-z]+)?[\s\n]$/,$Q=/^~~~([a-z]+)?[\s\n]$/,HQ=Hi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Hx,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:s=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const n=[...((e=s.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return n||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:s,HTMLAttributes:e}){return["pre",Yr(this.options.HTMLAttributes,e),["code",{class:s.attrs.language?this.options.languageClassPrefix+s.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(s,e)=>{var r;return((r=s.raw)==null?void 0:r.startsWith("```"))===!1&&s.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:s.lang||null},s.text?[e.createTextNode(s.text)]:[])},renderMarkdown:(s,e)=>{var r;let a="";const i=((r=s.attrs)==null?void 0:r.language)||"";return s.content?a=[`\`\`\`${i}`,e.renderChildren(s.content),"```"].join(`
`):a=`\`\`\`${i}

\`\`\``,a},addCommands(){return{setCodeBlock:s=>({commands:e})=>e.setNode(this.name,s),toggleCodeBlock:s=>({commands:e})=>e.toggleNode(this.name,"paragraph",s)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:s,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!s||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Hx,{state:a}=s,{selection:i}=a,{$from:n,empty:o}=i;if(n.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?s.commands.insertContent(l):s.commands.command(({tr:d})=>{const{from:u,to:c}=i,m=a.doc.textBetween(u,c,`
`,`
`).split(`
`).map(f=>l+f).join(`
`);return d.replaceWith(u,c,a.schema.text(m)),!0})},"Shift-Tab":({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Hx,{state:a}=s,{selection:i}=a,{$from:n,empty:o}=i;return n.parent.type!==this.type?!1:o?s.commands.command(({tr:l})=>{var d;const{pos:u}=n,c=n.start(),b=n.end(),m=a.doc.textBetween(c,b,`
`,`
`).split(`
`);let f=0,p=0;const N=u-c;for(let E=0;E<m.length;E+=1){if(p+m[E].length>=N){f=E;break}p+=m[E].length+1}const D=((d=m[f].match(/^ */))==null?void 0:d[0])||"",w=Math.min(D.length,r);if(w===0)return!0;let A=c;for(let E=0;E<f;E+=1)A+=m[E].length+1;return l.delete(A,A+w),u-A<=w&&l.setSelection(pt.create(l.doc,A)),!0}):s.commands.command(({tr:l})=>{const{from:d,to:u}=i,h=a.doc.textBetween(d,u,`
`,`
`).split(`
`).map(m=>{var f;const p=((f=m.match(/^ */))==null?void 0:f[0])||"",N=Math.min(p.length,r);return m.slice(N)}).join(`
`);return l.replaceWith(d,u,a.schema.text(h)),!0})},Enter:({editor:s})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=s,{selection:r}=e,{$from:a,empty:i}=r;if(!i||a.parent.type!==this.type)return!1;const n=a.parentOffset===a.parent.nodeSize-2,o=a.parent.textContent.endsWith(`

`);return!n||!o?!1:s.chain().command(({tr:l})=>(l.delete(a.pos-2,a.pos),!0)).exitCode().run()},ArrowDown:({editor:s})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=s,{selection:r,doc:a}=e,{$from:i,empty:n}=r;if(!n||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:a.nodeAt(l)?s.commands.command(({tr:u})=>(u.setSelection(Rt.near(a.resolve(l))),!0)):s.commands.exitCode()}}},addInputRules(){return[H0({find:qQ,type:this.type,getAttributes:s=>({language:s[1]})}),H0({find:$Q,type:this.type,getAttributes:s=>({language:s[1]})})]},addProseMirrorPlugins(){return[new ea({key:new Va("codeBlockVSCodeHandler"),props:{handlePaste:(s,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),a=e.clipboardData.getData("vscode-editor-data"),i=a?JSON.parse(a):void 0,n=i==null?void 0:i.mode;if(!r||!n)return!1;const{tr:o,schema:l}=s.state,d=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:n},d)),o.selection.$from.parent.type!==this.type&&o.setSelection(pt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),s.dispatch(o),!0}}})]}}),GQ=Hi.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`

`):""}),KQ=Hi.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:s}){return["br",Yr(this.options.HTMLAttributes,s)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:s,chain:e,state:r,editor:a})=>s.first([()=>s.exitCode(),()=>s.command(()=>{const{selection:i,storedMarks:n}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=a.extensionManager,d=n||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&d&&o){const b=d.filter(h=>l.includes(h.type.name));u.ensureMarks(b)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),QQ=Hi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(s=>({tag:`h${s}`,attrs:{level:s}}))},renderHTML({node:s,HTMLAttributes:e}){return[`h${this.options.levels.includes(s.attrs.level)?s.attrs.level:this.options.levels[0]}`,Yr(this.options.HTMLAttributes,e),0]},parseMarkdown:(s,e)=>e.createNode("heading",{level:s.depth||1},e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>{var r;const a=(r=s.attrs)!=null&&r.level?parseInt(s.attrs.level,10):1,i="#".repeat(a);return s.content?`${i} ${e.renderChildren(s.content)}`:""},addCommands(){return{setHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.setNode(this.name,s):!1,toggleHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.toggleNode(this.name,"paragraph",s):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((s,e)=>({...s,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(s=>H0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${s}})\\s$`),type:this.type,getAttributes:{level:s}}))}}),YQ=Hi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:s}){return["hr",Yr(this.options.HTMLAttributes,s)]},markdownTokenName:"hr",parseMarkdown:(s,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:s,state:e})=>{if(!oQ(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:a}=r,i=s();return n_(r)?i.insertContentAt(a.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:n,tr:o,dispatch:l})=>{if(l){const{$to:d}=o.selection,u=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(pt.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(et.create(o.doc,d.pos)):o.setSelection(pt.create(o.doc,d.pos));else{const c=n.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,b=c==null?void 0:c.create();b&&(o.insert(u,b),o.setSelection(pt.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nQ({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),JQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ZQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,XQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,eY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,sY=ac.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:s=>s.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:s=>s.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:s}){return["em",Yr(this.options.HTMLAttributes,s),0]},addCommands(){return{setItalic:()=>({commands:s})=>s.setMark(this.name),toggleItalic:()=>({commands:s})=>s.toggleMark(this.name),unsetItalic:()=>({commands:s})=>s.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(s,e)=>e.applyMark("italic",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`*${e.renderChildren(s)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Dm({find:JQ,type:this.type}),Dm({find:XQ,type:this.type})]},addPasteRules(){return[Hu({find:ZQ,type:this.type}),Hu({find:eY,type:this.type})]}});const tY="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",rY="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Q0="numeric",Y0="ascii",J0="alpha",$b="asciinumeric",_b="alphanumeric",Z0="domain",A_="emoji",aY="scheme",iY="slashscheme",Gx="whitespace";function nY(s,e){return s in e||(e[s]=[]),e[s]}function Du(s,e,r){e[Q0]&&(e[$b]=!0,e[_b]=!0),e[Y0]&&(e[$b]=!0,e[J0]=!0),e[$b]&&(e[_b]=!0),e[J0]&&(e[_b]=!0),e[_b]&&(e[Z0]=!0),e[A_]&&(e[Z0]=!0);for(const a in e){const i=nY(a,r);i.indexOf(s)<0&&i.push(s)}}function oY(s,e){const r={};for(const a in e)e[a].indexOf(s)>=0&&(r[a]=!0);return r}function Mi(s=null){this.j={},this.jr=[],this.jd=null,this.t=s}Mi.groups={};Mi.prototype={accepts(){return!!this.t},go(s){const e=this,r=e.j[s];if(r)return r;for(let a=0;a<e.jr.length;a++){const i=e.jr[a][0],n=e.jr[a][1];if(n&&i.test(s))return n}return e.jd},has(s,e=!1){return e?s in this.j:!!this.go(s)},ta(s,e,r,a){for(let i=0;i<s.length;i++)this.tt(s[i],e,r,a)},tr(s,e,r,a){a=a||Mi.groups;let i;return e&&e.j?i=e:(i=new Mi(e),r&&a&&Du(e,r,a)),this.jr.push([s,i]),i},ts(s,e,r,a){let i=this;const n=s.length;if(!n)return i;for(let o=0;o<n-1;o++)i=i.tt(s[o]);return i.tt(s[n-1],e,r,a)},tt(s,e,r,a){a=a||Mi.groups;const i=this;if(e&&e.j)return i.j[s]=e,e;const n=e;let o,l=i.go(s);if(l?(o=new Mi,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Mi,n){if(a)if(o.t&&typeof o.t=="string"){const d=Object.assign(oY(o.t,a),r);Du(n,d,a)}else r&&Du(n,r,a);o.t=n}return i.j[s]=o,o}};const Tt=(s,e,r,a,i)=>s.ta(e,r,a,i),aa=(s,e,r,a,i)=>s.tr(e,r,a,i),PP=(s,e,r,a,i)=>s.ts(e,r,a,i),ds=(s,e,r,a,i)=>s.tt(e,r,a,i),bl="WORD",X0="UWORD",E_="ASCIINUMERICAL",P_="ALPHANUMERICAL",Oh="LOCALHOST",e1="TLD",s1="UTLD",Qp="SCHEME",Lc="SLASH_SCHEME",ow="NUM",t1="WS",lw="NL",Hb="OPENBRACE",Gb="CLOSEBRACE",TN="OPENBRACKET",RN="CLOSEBRACKET",MN="OPENPAREN",LN="CLOSEPAREN",IN="OPENANGLEBRACKET",FN="CLOSEANGLEBRACKET",zN="FULLWIDTHLEFTPAREN",BN="FULLWIDTHRIGHTPAREN",qN="LEFTCORNERBRACKET",$N="RIGHTCORNERBRACKET",HN="LEFTWHITECORNERBRACKET",GN="RIGHTWHITECORNERBRACKET",KN="FULLWIDTHLESSTHAN",QN="FULLWIDTHGREATERTHAN",YN="AMPERSAND",JN="APOSTROPHE",ZN="ASTERISK",sd="AT",XN="BACKSLASH",ek="BACKTICK",sk="CARET",nd="COLON",dw="COMMA",tk="DOLLAR",Oo="DOT",rk="EQUALS",uw="EXCLAMATION",On="HYPHEN",Kb="PERCENT",ak="PIPE",ik="PLUS",nk="POUND",Qb="QUERY",cw="QUOTE",y_="FULLWIDTHMIDDLEDOT",mw="SEMI",Wo="SLASH",Yb="TILDE",ok="UNDERSCORE",O_="EMOJI",lk="SYM";var W_=Object.freeze({__proto__:null,ALPHANUMERICAL:P_,AMPERSAND:YN,APOSTROPHE:JN,ASCIINUMERICAL:E_,ASTERISK:ZN,AT:sd,BACKSLASH:XN,BACKTICK:ek,CARET:sk,CLOSEANGLEBRACKET:FN,CLOSEBRACE:Gb,CLOSEBRACKET:RN,CLOSEPAREN:LN,COLON:nd,COMMA:dw,DOLLAR:tk,DOT:Oo,EMOJI:O_,EQUALS:rk,EXCLAMATION:uw,FULLWIDTHGREATERTHAN:QN,FULLWIDTHLEFTPAREN:zN,FULLWIDTHLESSTHAN:KN,FULLWIDTHMIDDLEDOT:y_,FULLWIDTHRIGHTPAREN:BN,HYPHEN:On,LEFTCORNERBRACKET:qN,LEFTWHITECORNERBRACKET:HN,LOCALHOST:Oh,NL:lw,NUM:ow,OPENANGLEBRACKET:IN,OPENBRACE:Hb,OPENBRACKET:TN,OPENPAREN:MN,PERCENT:Kb,PIPE:ak,PLUS:ik,POUND:nk,QUERY:Qb,QUOTE:cw,RIGHTCORNERBRACKET:$N,RIGHTWHITECORNERBRACKET:GN,SCHEME:Qp,SEMI:mw,SLASH:Wo,SLASH_SCHEME:Lc,SYM:lk,TILDE:Yb,TLD:e1,UNDERSCORE:ok,UTLD:s1,UWORD:X0,WORD:bl,WS:t1});const ol=/[a-z]/,vb=new RegExp("\\p{L}","u"),Kx=new RegExp("\\p{Emoji}","u"),ll=/\d/,Qx=/\s/,yP="\r",Yx=`
`,lY="",dY="",Jx="";let kp=null,gp=null;function uY(s=[]){const e={};Mi.groups=e;const r=new Mi;kp==null&&(kp=OP(tY)),gp==null&&(gp=OP(rY)),ds(r,"'",JN),ds(r,"{",Hb),ds(r,"}",Gb),ds(r,"[",TN),ds(r,"]",RN),ds(r,"(",MN),ds(r,")",LN),ds(r,"<",IN),ds(r,">",FN),ds(r,"",zN),ds(r,"",BN),ds(r,"",qN),ds(r,"",$N),ds(r,"",HN),ds(r,"",GN),ds(r,"",KN),ds(r,"",QN),ds(r,"&",YN),ds(r,"*",ZN),ds(r,"@",sd),ds(r,"`",ek),ds(r,"^",sk),ds(r,":",nd),ds(r,",",dw),ds(r,"$",tk),ds(r,".",Oo),ds(r,"=",rk),ds(r,"!",uw),ds(r,"-",On),ds(r,"%",Kb),ds(r,"|",ak),ds(r,"+",ik),ds(r,"#",nk),ds(r,"?",Qb),ds(r,'"',cw),ds(r,"/",Wo),ds(r,";",mw),ds(r,"~",Yb),ds(r,"_",ok),ds(r,"\\",XN),ds(r,"",y_);const a=aa(r,ll,ow,{[Q0]:!0});aa(a,ll,a);const i=aa(a,ol,E_,{[$b]:!0}),n=aa(a,vb,P_,{[_b]:!0}),o=aa(r,ol,bl,{[Y0]:!0});aa(o,ll,i),aa(o,ol,o),aa(i,ll,i),aa(i,ol,i);const l=aa(r,vb,X0,{[J0]:!0});aa(l,ol),aa(l,ll,n),aa(l,vb,l),aa(n,ll,n),aa(n,ol),aa(n,vb,n);const d=ds(r,Yx,lw,{[Gx]:!0}),u=ds(r,yP,t1,{[Gx]:!0}),c=aa(r,Qx,t1,{[Gx]:!0});ds(r,Jx,c),ds(u,Yx,d),ds(u,Jx,c),aa(u,Qx,c),ds(c,yP),ds(c,Yx),aa(c,Qx,c),ds(c,Jx,c);const b=aa(r,Kx,O_,{[A_]:!0});ds(b,"#"),aa(b,Kx,b),ds(b,lY,b);const h=ds(b,dY);ds(h,"#"),aa(h,Kx,b);const m=[[ol,o],[ll,i]],f=[[ol,null],[vb,l],[ll,n]];for(let p=0;p<kp.length;p++)Ql(r,kp[p],e1,bl,m);for(let p=0;p<gp.length;p++)Ql(r,gp[p],s1,X0,f);Du(e1,{tld:!0,ascii:!0},e),Du(s1,{utld:!0,alpha:!0},e),Ql(r,"file",Qp,bl,m),Ql(r,"mailto",Qp,bl,m),Ql(r,"http",Lc,bl,m),Ql(r,"https",Lc,bl,m),Ql(r,"ftp",Lc,bl,m),Ql(r,"ftps",Lc,bl,m),Du(Qp,{scheme:!0,ascii:!0},e),Du(Lc,{slashscheme:!0,ascii:!0},e),s=s.sort((p,N)=>p[0]>N[0]?1:-1);for(let p=0;p<s.length;p++){const N=s[p][0],D=s[p][1]?{[aY]:!0}:{[iY]:!0};N.indexOf("-")>=0?D[Z0]=!0:ol.test(N)?ll.test(N)?D[$b]=!0:D[Y0]=!0:D[Q0]=!0,PP(r,N,N,D)}return PP(r,"localhost",Oh,{ascii:!0}),r.jd=new Mi(lk),{start:r,tokens:Object.assign({groups:e},W_)}}function U_(s,e){const r=cY(e.replace(/[A-Z]/g,l=>l.toLowerCase())),a=r.length,i=[];let n=0,o=0;for(;o<a;){let l=s,d=null,u=0,c=null,b=-1,h=-1;for(;o<a&&(d=l.go(r[o]));)l=d,l.accepts()?(b=0,h=0,c=l):b>=0&&(b+=r[o].length,h++),u+=r[o].length,n+=r[o].length,o++;n-=b,o-=h,u-=b,i.push({t:c.t,v:e.slice(n-u,n),s:n-u,e:n})}return i}function cY(s){const e=[],r=s.length;let a=0;for(;a<r;){let i=s.charCodeAt(a),n,o=i<55296||i>56319||a+1===r||(n=s.charCodeAt(a+1))<56320||n>57343?s[a]:s.slice(a,a+2);e.push(o),a+=o.length}return e}function Ql(s,e,r,a,i){let n;const o=e.length;for(let l=0;l<o-1;l++){const d=e[l];s.j[d]?n=s.j[d]:(n=new Mi(a),n.jr=i.slice(),s.j[d]=n),s=n}return n=new Mi(r),n.jr=i.slice(),s.j[e[o-1]]=n,n}function OP(s){const e=[],r=[];let a=0,i="0123456789";for(;a<s.length;){let n=0;for(;i.indexOf(s[a+n])>=0;)n++;if(n>0){e.push(r.join(""));for(let o=parseInt(s.substring(a,a+n),10);o>0;o--)r.pop();a+=n}else r.push(s[a]),a++}return e}const Wh={defaultProtocol:"http",events:null,format:WP,formatHref:WP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function bw(s,e=null){let r=Object.assign({},Wh);s&&(r=Object.assign(r,s instanceof bw?s.o:s));const a=r.ignoreTags,i=[];for(let n=0;n<a.length;n++)i.push(a[n].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}bw.prototype={o:Wh,ignoreTags:[],defaultRender(s){return s},check(s){return this.get("validate",s.toString(),s)},get(s,e,r){const a=e!=null;let i=this.o[s];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Wh[s],typeof i=="function"&&a&&(i=i(e,r))):typeof i=="function"&&a&&(i=i(e,r.t,r)),i)},getObj(s,e,r){let a=this.o[s];return typeof a=="function"&&e!=null&&(a=a(e,r.t,r)),a},render(s){const e=s.render(this);return(this.get("render",null,s)||this.defaultRender)(e,s.t,s)}};function WP(s){return s}function V_(s,e){this.t="token",this.v=s,this.tk=e}V_.prototype={isLink:!1,toString(){return this.v},toHref(s){return this.toString()},toFormattedString(s){const e=this.toString(),r=s.get("truncate",e,this),a=s.get("format",e,this);return r&&a.length>r?a.substring(0,r)+"":a},toFormattedHref(s){return s.get("formatHref",this.toHref(s.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(s=Wh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(s),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(s){return{type:this.t,value:this.toFormattedString(s),isLink:this.isLink,href:this.toFormattedHref(s),start:this.startIndex(),end:this.endIndex()}},validate(s){return s.get("validate",this.toString(),this)},render(s){const e=this,r=this.toHref(s.get("defaultProtocol")),a=s.get("formatHref",r,this),i=s.get("tagName",r,e),n=this.toFormattedString(s),o={},l=s.get("className",r,e),d=s.get("target",r,e),u=s.get("rel",r,e),c=s.getObj("attributes",r,e),b=s.getObj("events",r,e);return o.href=a,l&&(o.class=l),d&&(o.target=d),u&&(o.rel=u),c&&Object.assign(o,c),{tagName:i,attributes:o,content:n,eventListeners:b}}};function kg(s,e){class r extends V_{constructor(i,n){super(i,n),this.t=s}}for(const a in e)r.prototype[a]=e[a];return r.t=s,r}const UP=kg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),VP=kg("text"),mY=kg("nl"),xp=kg("url",{isLink:!0,toHref(s=Wh.defaultProtocol){return this.hasProtocol()?this.v:`${s}://${this.v}`},hasProtocol(){const s=this.tk;return s.length>=2&&s[0].t!==Oh&&s[1].t===nd}}),yn=s=>new Mi(s);function bY({groups:s}){const e=s.domain.concat([YN,ZN,sd,XN,ek,sk,tk,rk,On,ow,Kb,ak,ik,nk,Wo,lk,Yb,ok]),r=[JN,nd,dw,Oo,uw,Kb,Qb,cw,mw,IN,FN,Hb,Gb,RN,TN,MN,LN,zN,BN,qN,$N,HN,GN,KN,QN],a=[YN,JN,ZN,XN,ek,sk,tk,rk,On,Hb,Gb,Kb,ak,ik,nk,Qb,Wo,lk,Yb,ok],i=yn(),n=ds(i,Yb);Tt(n,a,n),Tt(n,s.domain,n);const o=yn(),l=yn(),d=yn();Tt(i,s.domain,o),Tt(i,s.scheme,l),Tt(i,s.slashscheme,d),Tt(o,a,n),Tt(o,s.domain,o);const u=ds(o,sd);ds(n,sd,u),ds(l,sd,u),ds(d,sd,u);const c=ds(n,Oo);Tt(c,a,n),Tt(c,s.domain,n);const b=yn();Tt(u,s.domain,b),Tt(b,s.domain,b);const h=ds(b,Oo);Tt(h,s.domain,b);const m=yn(UP);Tt(h,s.tld,m),Tt(h,s.utld,m),ds(u,Oh,m);const f=ds(b,On);ds(f,On,f),Tt(f,s.domain,b),Tt(m,s.domain,b),ds(m,Oo,h),ds(m,On,f);const p=ds(m,nd);Tt(p,s.numeric,UP);const N=ds(o,On),g=ds(o,Oo);ds(N,On,N),Tt(N,s.domain,o),Tt(g,a,n),Tt(g,s.domain,o);const D=yn(xp);Tt(g,s.tld,D),Tt(g,s.utld,D),Tt(D,s.domain,o),Tt(D,a,n),ds(D,Oo,g),ds(D,On,N),ds(D,sd,u);const w=ds(D,nd),A=yn(xp);Tt(w,s.numeric,A);const U=yn(xp),E=yn();Tt(U,e,U),Tt(U,r,E),Tt(E,e,U),Tt(E,r,E),ds(D,Wo,U),ds(A,Wo,U);const W=ds(l,nd),y=ds(d,nd),V=ds(y,Wo),S=ds(V,Wo);Tt(l,s.domain,o),ds(l,Oo,g),ds(l,On,N),Tt(d,s.domain,o),ds(d,Oo,g),ds(d,On,N),Tt(W,s.domain,U),ds(W,Wo,U),ds(W,Qb,U),Tt(S,s.domain,U),Tt(S,e,U),ds(S,Wo,U);const O=[[Hb,Gb],[TN,RN],[MN,LN],[IN,FN],[zN,BN],[qN,$N],[HN,GN],[KN,QN]];for(let _=0;_<O.length;_++){const[M,R]=O[_],Q=ds(U,M);ds(E,M,Q),ds(Q,R,U);const ne=yn(xp);Tt(Q,e,ne);const ie=yn();Tt(Q,r),Tt(ne,e,ne),Tt(ne,r,ie),Tt(ie,e,ne),Tt(ie,r,ie),ds(ne,R,U),ds(ie,R,U)}return ds(i,Oh,D),ds(i,lw,mY),{start:i,tokens:W_}}function hY(s,e,r){let a=r.length,i=0,n=[],o=[];for(;i<a;){let l=s,d=null,u=null,c=0,b=null,h=-1;for(;i<a&&!(d=l.go(r[i].t));)o.push(r[i++]);for(;i<a&&(u=d||l.go(r[i].t));)d=null,l=u,l.accepts()?(h=0,b=l):h>=0&&h++,i++,c++;if(h<0)i-=c,i<a&&(o.push(r[i]),i++);else{o.length>0&&(n.push(Zx(VP,e,o)),o=[]),i-=h,c-=h;const m=b.t,f=r.slice(i-c,i);n.push(Zx(m,e,f))}}return o.length>0&&n.push(Zx(VP,e,o)),n}function Zx(s,e,r){const a=r[0].s,i=r[r.length-1].e,n=e.slice(a,i);return new s(n,r)}const fY=typeof console<"u"&&console&&console.warn||(()=>{}),pY="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Br={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function NY(){return Mi.groups={},Br.scanner=null,Br.parser=null,Br.tokenQueue=[],Br.pluginQueue=[],Br.customSchemes=[],Br.initialized=!1,Br}function _P(s,e=!1){if(Br.initialized&&fY(`linkifyjs: already initialized - will not register custom scheme "${s}" ${pY}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(s))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Br.customSchemes.push([s,e])}function kY(){Br.scanner=uY(Br.customSchemes);for(let s=0;s<Br.tokenQueue.length;s++)Br.tokenQueue[s][1]({scanner:Br.scanner});Br.parser=bY(Br.scanner.tokens);for(let s=0;s<Br.pluginQueue.length;s++)Br.pluginQueue[s][1]({scanner:Br.scanner,parser:Br.parser});return Br.initialized=!0,Br}function hw(s){return Br.initialized||kY(),hY(Br.parser.start,s,U_(Br.scanner.start,s))}hw.scan=U_;function __(s,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const a=new bw(r),i=hw(s),n=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&a.check(l)&&n.push(l.toFormattedObject(a))}return n}var fw="[\0- -\u2029]",gY=new RegExp(fw),xY=new RegExp(`${fw}$`),vY=new RegExp(fw,"g");function DY(s){return s.length===1?s[0].isLink:s.length===3&&s[1].isLink?["()","[]"].includes(s[0].value+s[2].value):!1}function wY(s){return new ea({key:new Va("autolink"),appendTransaction:(e,r,a)=>{const i=e.some(u=>u.docChanged)&&!r.doc.eq(a.doc),n=e.some(u=>u.getMeta("preventAutolink"));if(!i||n)return;const{tr:o}=a,l=Z3(r.doc,[...e]);if(i_(l).forEach(({newRange:u})=>{const c=cK(a.doc,u,m=>m.isTextblock);let b,h;if(c.length>1)b=c[0],h=a.doc.textBetween(b.pos,b.pos+b.node.nodeSize,void 0," ");else if(c.length){const m=a.doc.textBetween(u.from,u.to," "," ");if(!xY.test(m))return;b=c[0],h=a.doc.textBetween(b.pos,u.to,void 0," ")}if(b&&h){const m=h.split(gY).filter(Boolean);if(m.length<=0)return!1;const f=m[m.length-1],p=b.pos+h.lastIndexOf(f);if(!f)return!1;const N=hw(f).map(g=>g.toObject(s.defaultProtocol));if(!DY(N))return!1;N.filter(g=>g.isLink).map(g=>({...g,from:p+g.start+1,to:p+g.end+1})).filter(g=>a.schema.marks.code?!a.doc.rangeHasMark(g.from,g.to,a.schema.marks.code):!0).filter(g=>s.validate(g.value)).filter(g=>s.shouldAutoLink(g.value)).forEach(g=>{tw(g.from,g.to,a.doc).some(D=>D.mark.type===s.type)||o.addMark(g.from,g.to,s.type.create({href:g.href}))})}}),!!o.steps.length)return o}})}function jY(s){return new ea({key:new Va("handleClickLink"),props:{handleClick:(e,r,a)=>{var i,n;if(a.button!==0||!e.editable)return!1;let o=null;if(a.target instanceof HTMLAnchorElement)o=a.target;else{let c=a.target;const b=[];for(;c.nodeName!=="DIV";)b.push(c),c=c.parentNode;o=b.find(h=>h.nodeName==="A")}if(!o)return!1;const l=a_(e.state,s.type.name),d=(i=o==null?void 0:o.href)!=null?i:l.href,u=(n=o==null?void 0:o.target)!=null?n:l.target;return s.enableClickSelection&&s.editor.commands.extendMarkRange(s.type.name),o&&d?(window.open(d,u),!0):!1}}})}function AY(s){return new ea({key:new Va("handlePasteLink"),props:{handlePaste:(e,r,a)=>{const{shouldAutoLink:i}=s,{state:n}=e,{selection:o}=n,{empty:l}=o;if(l)return!1;let d="";a.content.forEach(c=>{d+=c.textContent});const u=__(d,{defaultProtocol:s.defaultProtocol}).find(c=>c.isLink&&c.value===d);return!d||!u||i!==void 0&&!i(u.href)?!1:s.editor.commands.setMark(s.type,{href:u.href})}}})}function lu(s,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(a=>{const i=typeof a=="string"?a:a.scheme;i&&r.push(i)}),!s||s.replace(vY,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var EY=ac.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(s=>{if(typeof s=="string"){_P(s);return}_P(s.scheme,s.optionalSlashes)})},onDestroy(){NY()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(s,e)=>!!lu(s,e.protocols),validate:s=>!!s,shouldAutoLink:s=>!!s}},addAttributes(){return{href:{default:null,parseHTML(s){return s.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:s=>{const e=s.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!lu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:s}){return this.options.isAllowedUri(s.href,{defaultValidate:e=>!!lu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Yr(this.options.HTMLAttributes,s),0]:["a",Yr(this.options.HTMLAttributes,{...s,href:""}),0]},markdownTokenName:"link",parseMarkdown:(s,e)=>e.applyMark("link",e.parseInline(s.tokens||[]),{href:s.href,title:s.title||null}),renderMarkdown:(s,e)=>{var r;const a=((r=s.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(s)}](${a})`},addCommands(){return{setLink:s=>({chain:e})=>{const{href:r}=s;return this.options.isAllowedUri(r,{defaultValidate:a=>!!lu(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,s).setMeta("preventAutolink",!0).run():!1},toggleLink:s=>({chain:e})=>{const{href:r}=s||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:a=>!!lu(a,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,s,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:s})=>s().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Hu({find:s=>{const e=[];if(s){const{protocols:r,defaultProtocol:a}=this.options,i=__(s).filter(n=>n.isLink&&this.options.isAllowedUri(n.value,{defaultValidate:o=>!!lu(o,r),protocols:r,defaultProtocol:a}));i.length&&i.forEach(n=>{this.options.shouldAutoLink(n.value)&&e.push({text:n.value,data:{href:n.href},index:n.start})})}return e},type:this.type,getAttributes:s=>{var e;return{href:(e=s.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const s=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&s.push(wY({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:a=>this.options.isAllowedUri(a,{defaultValidate:i=>!!lu(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&s.push(jY({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&s.push(AY({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),s}}),PY=Object.defineProperty,yY=(s,e)=>{for(var r in e)PY(s,r,{get:e[r],enumerable:!0})},OY="listItem",CP="textStyle",SP=/^\s*([-+*])\s$/,C_=Hi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:s}){return["ul",Yr(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>s.type!=="list"||s.ordered?[]:{type:"bulletList",content:s.items?e.parseChildren(s.items):[]},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OY,this.editor.getAttributes(CP)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let s=wm({find:SP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(s=wm({find:SP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(CP),editor:this.editor})),[s]}}),S_=Hi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:s}){return["li",Yr(this.options.HTMLAttributes,s),0]},markdownTokenName:"list_item",parseMarkdown:(s,e)=>{if(s.type!=="list_item")return[];let r=[];if(s.tokens&&s.tokens.length>0)if(s.tokens.some(i=>i.type==="paragraph"))r=e.parseChildren(s.tokens);else{const i=s.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(i.tokens)}],s.tokens.length>1){const o=s.tokens.slice(1),l=e.parseChildren(o);r.push(...l)}}else r=e.parseChildren(s.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(s,e,r)=>nw(s,e,a=>a.parentType==="bulletList"?"- ":a.parentType==="orderedList"?`${a.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),WY={};yY(WY,{findListItemPos:()=>af,getNextListDepth:()=>pw,handleBackspace:()=>r1,handleDelete:()=>a1,hasListBefore:()=>T_,hasListItemAfter:()=>UY,hasListItemBefore:()=>R_,listItemHasSubList:()=>M_,nextListIsDeeper:()=>L_,nextListIsHigher:()=>I_});var af=(s,e)=>{const{$from:r}=e.selection,a=Ua(s,e.schema);let i=null,n=r.depth,o=r.pos,l=null;for(;n>0&&l===null;)i=r.node(n),i.type===a?l=n:(n-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},pw=(s,e)=>{const r=af(s,e);if(!r)return!1;const[,a]=vK(e,s,r.$pos.pos+4);return a},T_=(s,e,r)=>{const{$anchor:a}=s.selection,i=Math.max(0,a.pos-2),n=s.doc.resolve(i).node();return!(!n||!r.includes(n.type.name))},R_=(s,e)=>{var r;const{$anchor:a}=e.selection,i=e.doc.resolve(a.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==s)},M_=(s,e,r)=>{if(!r)return!1;const a=Ua(s,e.schema);let i=!1;return r.descendants(n=>{n.type===a&&(i=!0)}),i},r1=(s,e,r)=>{if(s.commands.undoInputRule())return!0;if(s.state.selection.from!==s.state.selection.to)return!1;if(!Ud(s.state,e)&&T_(s.state,e,r)){const{$anchor:l}=s.state.selection,d=s.state.doc.resolve(l.before()-1),u=[];d.node().descendants((h,m)=>{h.type.name===e&&u.push({node:h,pos:m})});const c=u.at(-1);if(!c)return!1;const b=s.state.doc.resolve(d.start()+c.pos+1);return s.chain().cut({from:l.start()-1,to:l.end()+1},b.end()).joinForward().run()}if(!Ud(s.state,e)||!AK(s.state))return!1;const a=af(e,s.state);if(!a)return!1;const n=s.state.doc.resolve(a.$pos.pos-2).node(a.depth),o=M_(e,s.state,n);return R_(e,s.state)&&!o?s.commands.joinItemBackward():s.chain().liftListItem(e).run()},L_=(s,e)=>{const r=pw(s,e),a=af(s,e);return!a||!r?!1:r>a.depth},I_=(s,e)=>{const r=pw(s,e),a=af(s,e);return!a||!r?!1:r<a.depth},a1=(s,e)=>{if(!Ud(s.state,e)||!jK(s.state,e))return!1;const{selection:r}=s.state,{$from:a,$to:i}=r;return!r.empty&&a.sameParent(i)?!1:L_(e,s.state)?s.chain().focus(s.state.selection.from+4).lift(e).joinBackward().run():I_(e,s.state)?s.chain().joinForward().joinBackward().run():s.commands.joinItemForward()},UY=(s,e)=>{var r;const{$anchor:a}=e.selection,i=e.doc.resolve(a.pos-a.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==s)},F_=_a.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&a1(s,r)&&(e=!0)}),e},"Mod-Delete":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&a1(s,r)&&(e=!0)}),e},Backspace:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:a})=>{s.state.schema.nodes[r]!==void 0&&r1(s,r,a)&&(e=!0)}),e},"Mod-Backspace":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:a})=>{s.state.schema.nodes[r]!==void 0&&r1(s,r,a)&&(e=!0)}),e}}}}),TP=/^(\s*)(\d+)\.\s+(.*)$/,VY=/^\s/;function _Y(s){const e=[];let r=0,a=0;for(;r<s.length;){const i=s[r],n=i.match(TP);if(!n)break;const[,o,l,d]=n,u=o.length;let c=d,b=r+1;const h=[i];for(;b<s.length;){const m=s[b];if(m.match(TP))break;if(m.trim()==="")h.push(m),c+=`
`,b+=1;else if(m.match(VY))h.push(m),c+=`
${m.slice(u+2)}`,b+=1;else break}e.push({indent:u,number:parseInt(l,10),content:c.trim(),raw:h.join(`
`)}),a=b,r=b}return[e,a]}function z_(s,e,r){var a;const i=[];let n=0;for(;n<s.length;){const o=s[n];if(o.indent===e){const l=o.content.split(`
`),d=((a=l[0])==null?void 0:a.trim())||"",u=[];d&&u.push({type:"paragraph",raw:d,tokens:r.inlineTokens(d)});const c=l.slice(1).join(`
`).trim();if(c){const m=r.blockTokens(c);u.push(...m)}let b=n+1;const h=[];for(;b<s.length&&s[b].indent>e;)h.push(s[b]),b+=1;if(h.length>0){const m=Math.min(...h.map(p=>p.indent)),f=z_(h,m,r);u.push({type:"list",ordered:!0,start:h[0].number,items:f,raw:h.map(p=>p.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:u}),n=b}else n+=1}return i}function CY(s,e){return s.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const a=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")a.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const n=e.parseChildren([i]);a.push({type:"paragraph",content:n})}else{const n=e.parseChildren([i]);n.length>0&&a.push(...n)}}),{type:"listItem",content:a}})}var SY="listItem",RP="textStyle",MP=/^(\d+)\.\s$/,B_=Hi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:s=>s.hasAttribute("start")?parseInt(s.getAttribute("start")||"",10):1},type:{default:null,parseHTML:s=>s.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:s}){const{start:e,...r}=s;return e===1?["ol",Yr(this.options.HTMLAttributes,r),0]:["ol",Yr(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>{if(s.type!=="list"||!s.ordered)return[];const r=s.start||1,a=s.items?CY(s.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:a}:{type:"orderedList",content:a}},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:s=>{const e=s.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(s,e,r)=>{var a;const i=s.split(`
`),[n,o]=_Y(i);if(n.length===0)return;const l=z_(n,0,r);return l.length===0?void 0:{type:"list",ordered:!0,start:((a=n[0])==null?void 0:a.number)||1,items:l,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SY,this.editor.getAttributes(RP)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let s=wm({find:MP,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(s=wm({find:MP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(RP)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[s]}}),TY=/^\s*(\[([( |x])?\])\s$/,RY=Hi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:s=>{const e=s.getAttribute("data-checked");return e===""||e==="true"},renderHTML:s=>({"data-checked":s.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:s,HTMLAttributes:e}){return["li",Yr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:s.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(s,e)=>{const r=[];if(s.tokens&&s.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(s.tokens))):s.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:s.text})])):r.push(e.createNode("paragraph",{},[])),s.nestedTokens&&s.nestedTokens.length>0){const a=e.parseChildren(s.nestedTokens);r.push(...a)}return e.createNode("taskItem",{checked:s.checked||!1},r)},renderMarkdown:(s,e)=>{var r;const i=`- [${(r=s.attrs)!=null&&r.checked?"x":" "}] `;return nw(s,e,i)},addKeyboardShortcuts(){const s={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...s,Tab:()=>this.editor.commands.sinkListItem(this.name)}:s},addNodeView(){return({node:s,HTMLAttributes:e,getPos:r,editor:a})=>{const i=document.createElement("li"),n=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),d=document.createElement("div"),u=c=>{var b,h;l.ariaLabel=((h=(b=this.options.a11y)==null?void 0:b.checkboxLabel)==null?void 0:h.call(b,c,l.checked))||`Task item checkbox for ${c.textContent||"empty task item"}`};return u(s),n.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",c=>c.preventDefault()),l.addEventListener("change",c=>{if(!a.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:b}=c.target;a.isEditable&&typeof r=="function"&&a.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const m=r();if(typeof m!="number")return!1;const f=h.doc.nodeAt(m);return h.setNodeMarkup(m,void 0,{...f==null?void 0:f.attrs,checked:b}),!0}).run(),!a.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(s,b)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,b])=>{i.setAttribute(c,b)}),i.dataset.checked=s.attrs.checked,l.checked=s.attrs.checked,n.append(l,o),i.append(n,d),Object.entries(e).forEach(([c,b])=>{i.setAttribute(c,b)}),{dom:i,contentDOM:d,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,l.checked=c.attrs.checked,u(c),!0)}}},addInputRules(){return[wm({find:TY,type:this.type,getAttributes:s=>({checked:s[s.length-1]==="x"})})]}}),MY=Hi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:s}){return["ul",Yr(this.options.HTMLAttributes,s,{"data-type":this.name}),0]},parseMarkdown:(s,e)=>e.createNode("taskList",{},e.parseChildren(s.items||[])),renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(s){var e;const r=(e=s.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(s,e,r){const a=n=>{const o=G0(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,d)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:d}),customNestedParser:a},r);return o?[{type:"taskList",raw:o.raw,items:o.items}]:r.blockTokens(n)},i=G0(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:n=>({indentLevel:n[1].length,mainContent:n[4],checked:n[3].toLowerCase()==="x"}),createToken:(n,o)=>({type:"taskItem",raw:"",mainContent:n.mainContent,indentLevel:n.indentLevel,checked:n.checked,text:n.mainContent,tokens:r.inlineTokens(n.mainContent),nestedTokens:o}),customNestedParser:a},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:s})=>s.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});_a.create({name:"listKit",addExtensions(){const s=[];return this.options.bulletList!==!1&&s.push(C_.configure(this.options.bulletList)),this.options.listItem!==!1&&s.push(S_.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(F_.configure(this.options.listKeymap)),this.options.orderedList!==!1&&s.push(B_.configure(this.options.orderedList)),this.options.taskItem!==!1&&s.push(RY.configure(this.options.taskItem)),this.options.taskList!==!1&&s.push(MY.configure(this.options.taskList)),s}});var LY=Hi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:s}){return["p",Yr(this.options.HTMLAttributes,s),0]},parseMarkdown:(s,e)=>{const r=s.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(s,e)=>!s||!Array.isArray(s.content)?"":e.renderChildren(s.content),addCommands(){return{setParagraph:()=>({commands:s})=>s.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),IY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,FY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,zY=ac.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["s",Yr(this.options.HTMLAttributes,s),0]},markdownTokenName:"del",parseMarkdown:(s,e)=>e.applyMark("strike",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`~~${e.renderChildren(s)}~~`,addCommands(){return{setStrike:()=>({commands:s})=>s.setMark(this.name),toggleStrike:()=>({commands:s})=>s.toggleMark(this.name),unsetStrike:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Dm({find:IY,type:this.type})]},addPasteRules(){return[Hu({find:FY,type:this.type})]}}),BY=Hi.create({name:"text",group:"inline",parseMarkdown:s=>({type:"text",text:s.text||""}),renderMarkdown:s=>s.text||""}),qY=ac.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["u",Yr(this.options.HTMLAttributes,s),0]},parseMarkdown(s,e){return e.applyMark(this.name||"underline",e.parseInline(s.tokens||[]))},renderMarkdown(s,e){return`++${e.renderChildren(s)}++`},markdownTokenizer:{name:"underline",level:"inline",start(s){return s.indexOf("++")},tokenize(s,e,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(s);if(!i)return;const n=i[2].trim();return{type:"underline",raw:i[0],text:n,tokens:r.inlineTokens(n)}}},addCommands(){return{setUnderline:()=>({commands:s})=>s.setMark(this.name),toggleUnderline:()=>({commands:s})=>s.toggleMark(this.name),unsetUnderline:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function $Y(s={}){return new ea({view(e){return new HY(e,s)}})}class HY{constructor(e,r){var a;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(a=r.width)!==null&&a!==void 0?a:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let n=o=>{this[i](o)};return e.dom.addEventListener(i,n),{name:i,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,a,i=this.editorView.dom,n=i.getBoundingClientRect(),o=n.width/i.offsetWidth,l=n.height/i.offsetHeight;if(r){let b=e.nodeBefore,h=e.nodeAfter;if(b||h){let m=this.editorView.nodeDOM(this.cursorPos-(b?b.nodeSize:0));if(m){let f=m.getBoundingClientRect(),p=b?f.bottom:f.top;b&&h&&(p=(p+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let N=this.width/2*l;a={left:f.left,right:f.right,top:p-N,bottom:p+N}}}}if(!a){let b=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;a={left:b.left-h,right:b.left+h,top:b.top,bottom:b.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,c;if(!d||d==document.body&&getComputedStyle(d).position=="static")u=-pageXOffset,c=-pageYOffset;else{let b=d.getBoundingClientRect(),h=b.width/d.offsetWidth,m=b.height/d.offsetHeight;u=b.left-d.scrollLeft*h,c=b.top-d.scrollTop*m}this.element.style.left=(a.left-u)/o+"px",this.element.style.top=(a.top-c)/l+"px",this.element.style.width=(a.right-a.left)/o+"px",this.element.style.height=(a.bottom-a.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),a=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=a&&a.type.spec.disableDropCursor,n=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!n){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=YV(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class oa extends Rt{constructor(e){super(e,e)}map(e,r){let a=e.resolve(r.map(this.head));return oa.valid(a)?new oa(a):Rt.near(a)}content(){return js.empty}eq(e){return e instanceof oa&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new oa(e.resolve(r.pos))}getBookmark(){return new Nw(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!GY(e)||!KY(e))return!1;let a=r.type.spec.allowGapCursor;if(a!=null)return a;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,a=!1){e:for(;;){if(!a&&oa.valid(e))return e;let i=e.pos,n=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){n=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=r;let d=e.doc.resolve(i);if(oa.valid(d))return d}for(;;){let o=r>0?n.firstChild:n.lastChild;if(!o){if(n.isAtom&&!n.isText&&!et.isSelectable(n)){e=e.doc.resolve(i+n.nodeSize*r),a=!1;continue e}break}n=o,i+=r;let l=e.doc.resolve(i);if(oa.valid(l))return l}return null}}}oa.prototype.visible=!1;oa.findFrom=oa.findGapCursorFrom;Rt.jsonID("gapcursor",oa);class Nw{constructor(e){this.pos=e}map(e){return new Nw(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return oa.valid(r)?new oa(r):Rt.near(r)}}function q_(s){return s.isAtom||s.spec.isolating||s.spec.createGapCursor}function GY(s){for(let e=s.depth;e>=0;e--){let r=s.index(e),a=s.node(e);if(r==0){if(a.type.spec.isolating)return!0;continue}for(let i=a.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||q_(i.type))return!0;if(i.inlineContent)return!1}}return!0}function KY(s){for(let e=s.depth;e>=0;e--){let r=s.indexAfter(e),a=s.node(e);if(r==a.childCount){if(a.type.spec.isolating)return!0;continue}for(let i=a.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||q_(i.type))return!0;if(i.inlineContent)return!1}}return!0}function QY(){return new ea({props:{decorations:XY,createSelectionBetween(s,e,r){return e.pos==r.pos&&oa.valid(r)?new oa(r):null},handleClick:JY,handleKeyDown:YY,handleDOMEvents:{beforeinput:ZY}}})}const YY=q3({ArrowLeft:vp("horiz",-1),ArrowRight:vp("horiz",1),ArrowUp:vp("vert",-1),ArrowDown:vp("vert",1)});function vp(s,e){const r=s=="vert"?e>0?"down":"up":e>0?"right":"left";return function(a,i,n){let o=a.selection,l=e>0?o.$to:o.$from,d=o.empty;if(o instanceof pt){if(!n.endOfTextblock(r)||l.depth==0)return!1;d=!1,l=a.doc.resolve(e>0?l.after():l.before())}let u=oa.findGapCursorFrom(l,e,d);return u?(i&&i(a.tr.setSelection(new oa(u))),!0):!1}}function JY(s,e,r){if(!s||!s.editable)return!1;let a=s.state.doc.resolve(e);if(!oa.valid(a))return!1;let i=s.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&et.isSelectable(s.state.doc.nodeAt(i.inside))?!1:(s.dispatch(s.state.tr.setSelection(new oa(a))),!0)}function ZY(s,e){if(e.inputType!="insertCompositionText"||!(s.state.selection instanceof oa))return!1;let{$from:r}=s.state.selection,a=r.parent.contentMatchAt(r.index()).findWrapping(s.state.schema.nodes.text);if(!a)return!1;let i=ss.empty;for(let o=a.length-1;o>=0;o--)i=ss.from(a[o].createAndFill(null,i));let n=s.state.tr.replace(r.pos,r.pos,new js(i,0,0));return n.setSelection(pt.near(n.doc.resolve(r.pos+1))),s.dispatch(n),!1}function XY(s){if(!(s.selection instanceof oa))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qr.create(s.doc,[gi.widget(s.selection.head,e,{key:"gapcursor"})])}var dk=200,Ya=function(){};Ya.prototype.append=function(e){return e.length?(e=Ya.from(e),!this.length&&e||e.length<dk&&this.leafAppend(e)||this.length<dk&&e.leafPrepend(this)||this.appendInner(e)):this};Ya.prototype.prepend=function(e){return e.length?Ya.from(e).append(this):this};Ya.prototype.appendInner=function(e){return new eJ(this,e)};Ya.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ya.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ya.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ya.prototype.forEach=function(e,r,a){r===void 0&&(r=0),a===void 0&&(a=this.length),r<=a?this.forEachInner(e,r,a,0):this.forEachInvertedInner(e,r,a,0)};Ya.prototype.map=function(e,r,a){r===void 0&&(r=0),a===void 0&&(a=this.length);var i=[];return this.forEach(function(n,o){return i.push(e(n,o))},r,a),i};Ya.from=function(e){return e instanceof Ya?e:e&&e.length?new $_(e):Ya.empty};var $_=function(s){function e(a){s.call(this),this.values=a}s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,n){return i==0&&n==this.length?this:new e(this.values.slice(i,n))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,n,o,l){for(var d=n;d<o;d++)if(i(this.values[d],l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,n,o,l){for(var d=n-1;d>=o;d--)if(i(this.values[d],l+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=dk)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=dk)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Ya);Ya.empty=new $_([]);var eJ=function(s){function e(r,a){s.call(this),this.left=r,this.right=a,this.length=r.length+a.length,this.depth=Math.max(r.depth,a.depth)+1}return s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(a){return a<this.left.length?this.left.get(a):this.right.get(a-this.left.length)},e.prototype.forEachInner=function(a,i,n,o){var l=this.left.length;if(i<l&&this.left.forEachInner(a,i,Math.min(n,l),o)===!1||n>l&&this.right.forEachInner(a,Math.max(i-l,0),Math.min(this.length,n)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(a,i,n,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(a,i-l,Math.max(n,l)-l,o+l)===!1||n<l&&this.left.forEachInvertedInner(a,Math.min(i,l),n,o)===!1)return!1},e.prototype.sliceInner=function(a,i){if(a==0&&i==this.length)return this;var n=this.left.length;return i<=n?this.left.slice(a,i):a>=n?this.right.slice(a-n,i-n):this.left.slice(a,n).append(this.right.slice(0,i-n))},e.prototype.leafAppend=function(a){var i=this.right.leafAppend(a);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(a){var i=this.left.leafPrepend(a);if(i)return new e(i,this.right)},e.prototype.appendInner=function(a){return this.left.depth>=Math.max(this.right.depth,a.depth)+1?new e(this.left,new e(this.right,a)):new e(this,a)},e}(Ya);const sJ=500;class lo{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}let i,n;r&&(i=this.remapping(a,this.items.length),n=i.maps.length);let o=e.tr,l,d,u=[],c=[];return this.items.forEach((b,h)=>{if(!b.step){i||(i=this.remapping(a,h+1),n=i.maps.length),n--,c.push(b);return}if(i){c.push(new Uo(b.map));let m=b.step.map(i.slice(n)),f;m&&o.maybeStep(m).doc&&(f=o.mapping.maps[o.mapping.maps.length-1],u.push(new Uo(f,void 0,void 0,u.length+c.length))),n--,f&&i.appendMap(f,n)}else o.maybeStep(b.step);if(b.selection)return l=i?b.selection.map(i.slice(n)):b.selection,d=new lo(this.items.slice(0,a).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:o,selection:l}}addTransform(e,r,a,i){let n=[],o=this.eventCount,l=this.items,d=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let b=e.steps[c].invert(e.docs[c]),h=new Uo(e.mapping.maps[c],b,r),m;(m=d&&d.merge(h))&&(h=m,c?n.pop():l=l.slice(0,l.length-1)),n.push(h),r&&(o++,r=void 0),i||(d=h)}let u=o-a.depth;return u>rJ&&(l=tJ(l,u),o-=u),new lo(l.append(n),o)}remapping(e,r){let a=new Dh;return this.items.forEach((i,n)=>{let o=i.mirrorOffset!=null&&n-i.mirrorOffset>=e?a.maps.length-i.mirrorOffset:void 0;a.appendMap(i.map,o)},e,r),a}addMaps(e){return this.eventCount==0?this:new lo(this.items.append(e.map(r=>new Uo(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let a=[],i=Math.max(0,this.items.length-r),n=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(h=>{h.selection&&l--},i);let d=r;this.items.forEach(h=>{let m=n.getMirror(--d);if(m==null)return;o=Math.min(o,m);let f=n.maps[m];if(h.step){let p=e.steps[m].invert(e.docs[m]),N=h.selection&&h.selection.map(n.slice(d+1,m));N&&l++,a.push(new Uo(f,p,N))}else a.push(new Uo(f))},i);let u=[];for(let h=r;h<o;h++)u.push(new Uo(n.maps[h]));let c=this.items.slice(0,i).append(u).append(a),b=new lo(c,l);return b.emptyItemCount()>sJ&&(b=b.compress(this.items.length-a.length)),b}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),a=r.maps.length,i=[],n=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&n++;else if(o.step){let d=o.step.map(r.slice(a)),u=d&&d.getMap();if(a--,u&&r.appendMap(u,a),d){let c=o.selection&&o.selection.map(r.slice(a));c&&n++;let b=new Uo(u.invert(),d,c),h,m=i.length-1;(h=i.length&&i[m].merge(b))?i[m]=h:i.push(b)}}else o.map&&a--},this.items.length,0),new lo(Ya.from(i.reverse()),n)}}lo.empty=new lo(Ya.empty,0);function tJ(s,e){let r;return s.forEach((a,i)=>{if(a.selection&&e--==0)return r=i,!1}),s.slice(r)}class Uo{constructor(e,r,a,i){this.map=e,this.step=r,this.selection=a,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Uo(r.getMap().invert(),r,this.selection)}}}class td{constructor(e,r,a,i,n){this.done=e,this.undone=r,this.prevRanges=a,this.prevTime=i,this.prevComposition=n}}const rJ=20;function aJ(s,e,r,a){let i=r.getMeta(Cu),n;if(i)return i.historyState;r.getMeta(oJ)&&(s=new td(s.done,s.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return s;if(o&&o.getMeta(Cu))return o.getMeta(Cu).redo?new td(s.done.addTransform(r,void 0,a,Yp(e)),s.undone,LP(r.mapping.maps),s.prevTime,s.prevComposition):new td(s.done,s.undone.addTransform(r,void 0,a,Yp(e)),null,s.prevTime,s.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),d=s.prevTime==0||!o&&s.prevComposition!=l&&(s.prevTime<(r.time||0)-a.newGroupDelay||!iJ(r,s.prevRanges)),u=o?Xx(s.prevRanges,r.mapping):LP(r.mapping.maps);return new td(s.done.addTransform(r,d?e.selection.getBookmark():void 0,a,Yp(e)),lo.empty,u,r.time,l??s.prevComposition)}else return(n=r.getMeta("rebased"))?new td(s.done.rebased(r,n),s.undone.rebased(r,n),Xx(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new td(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Xx(s.prevRanges,r.mapping),s.prevTime,s.prevComposition)}function iJ(s,e){if(!e)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((a,i)=>{for(let n=0;n<e.length;n+=2)a<=e[n+1]&&i>=e[n]&&(r=!0)}),r}function LP(s){let e=[];for(let r=s.length-1;r>=0&&e.length==0;r--)s[r].forEach((a,i,n,o)=>e.push(n,o));return e}function Xx(s,e){if(!s)return null;let r=[];for(let a=0;a<s.length;a+=2){let i=e.map(s[a],1),n=e.map(s[a+1],-1);i<=n&&r.push(i,n)}return r}function nJ(s,e,r){let a=Yp(e),i=Cu.get(e).spec.config,n=(r?s.undone:s.done).popEvent(e,a);if(!n)return null;let o=n.selection.resolve(n.transform.doc),l=(r?s.done:s.undone).addTransform(n.transform,e.selection.getBookmark(),i,a),d=new td(r?l:n.remaining,r?n.remaining:l,null,0,-1);return n.transform.setSelection(o).setMeta(Cu,{redo:r,historyState:d})}let ev=!1,IP=null;function Yp(s){let e=s.plugins;if(IP!=e){ev=!1,IP=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){ev=!0;break}}return ev}const Cu=new Va("history"),oJ=new Va("closeHistory");function lJ(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new ea({key:Cu,state:{init(){return new td(lo.empty,lo.empty,null,0,-1)},apply(e,r,a){return aJ(r,a,e,s)}},config:s,props:{handleDOMEvents:{beforeinput(e,r){let a=r.inputType,i=a=="historyUndo"?G_:a=="historyRedo"?K_:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function H_(s,e){return(r,a)=>{let i=Cu.getState(r);if(!i||(s?i.undone:i.done).eventCount==0)return!1;if(a){let n=nJ(i,r,s);n&&a(e?n.scrollIntoView():n)}return!0}}const G_=H_(!1,!0),K_=H_(!0,!0);_a.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:s=>s.length,wordCounter:s=>s.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc;if(((s==null?void 0:s.mode)||this.options.mode)==="textSize"){const a=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(a)}return e.nodeSize},this.storage.words=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let s=!1;return[new ea({key:new Va("characterCount"),appendTransaction:(e,r,a)=>{if(s)return;const i=this.options.limit;if(i==null||i===0){s=!0;return}const n=this.storage.characters({node:a.doc});if(n>i){const o=n-i,l=0,d=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=a.tr.deleteRange(l,d);return s=!0,u}s=!0},filterTransaction:(e,r)=>{const a=this.options.limit;if(!e.docChanged||a===0||a===null||a===void 0)return!0;const i=this.storage.characters({node:r.doc}),n=this.storage.characters({node:e.doc});if(n<=a||i>a&&n>a&&n<=i)return!0;if(i>a&&n>a&&n>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,d=n-a,u=l-d,c=l;return e.deleteRange(u,c),!(this.storage.characters({node:e.doc})>a)}})]}});var dJ=_a.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$Y(this.options)]}});_a.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ea({key:new Va("focus"),props:{decorations:({doc:s,selection:e})=>{const{isEditable:r,isFocused:a}=this.editor,{anchor:i}=e,n=[];if(!r||!a)return Qr.create(s,[]);let o=0;this.options.mode==="deepest"&&s.descendants((d,u)=>{if(d.isText)return;if(!(i>=u&&i<=u+d.nodeSize-1))return!1;o+=1});let l=0;return s.descendants((d,u)=>{if(d.isText||!(i>=u&&i<=u+d.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";n.push(gi.node(u,u+d.nodeSize,{class:this.options.className}))}),Qr.create(s,n)}}})]}});var uJ=_a.create({name:"gapCursor",addProseMirrorPlugins(){return[QY()]},extendNodeSchema(s){var e;const r={name:s.name,options:s.options,storage:s.storage};return{allowGapCursor:(e=vr(Js(s,"allowGapCursor",r)))!=null?e:null}}}),cJ=_a.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ea({key:new Va("placeholder"),props:{decorations:({doc:s,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:a}=e,i=[];if(!r)return null;const n=this.editor.isEmpty;return s.descendants((o,l)=>{const d=a>=l&&a<=l+o.nodeSize,u=!o.isLeaf&&fg(o);if((d||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];n&&c.push(this.options.emptyEditorClass);const b=gi.node(l,l+o.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:d}):this.options.placeholder});i.push(b)}return this.options.includeChildren}),Qr.create(s,i)}}})]}});_a.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:s,options:e}=this;return[new ea({key:new Va("selection"),props:{decorations(r){return r.selection.empty||s.isFocused||!s.isEditable||n_(r.selection)||s.view.dragging?null:Qr.create(r.doc,[gi.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function FP({types:s,node:e}){return e&&Array.isArray(s)&&s.includes(e.type)||(e==null?void 0:e.type)===s}var mJ=_a.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var s;const e=new Va(this.name),r=((s=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:s.name)||this.options.node||"paragraph",a=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new ea({key:e,appendTransaction:(i,n,o)=>{const{doc:l,tr:d,schema:u}=o,c=e.getState(o),b=l.content.size,h=u.nodes[r];if(c)return d.insert(b,h.create())},state:{init:(i,n)=>{const o=n.tr.doc.lastChild;return!FP({node:o,types:a})},apply:(i,n)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return n;const o=i.doc.lastChild;return!FP({node:o,types:a})}}})]}}),bJ=_a.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:s,dispatch:e})=>G_(s,e),redo:()=>({state:s,dispatch:e})=>K_(s,e)}},addProseMirrorPlugins(){return[lJ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),hJ=_a.create({name:"starterKit",addExtensions(){var s,e,r,a;const i=[];return this.options.bold!==!1&&i.push(IQ.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(SQ.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(C_.configure(this.options.bulletList)),this.options.code!==!1&&i.push(BQ.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(HQ.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(GQ.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(dJ.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(uJ.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(KQ.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(QQ.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(bJ.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(YQ.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(sY.configure(this.options.italic)),this.options.listItem!==!1&&i.push(S_.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(F_.configure((s=this.options)==null?void 0:s.listKeymap)),this.options.link!==!1&&i.push(EY.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(B_.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(LY.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(zY.configure(this.options.strike)),this.options.text!==!1&&i.push(BY.configure(this.options.text)),this.options.underline!==!1&&i.push(qY.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(mJ.configure((a=this.options)==null?void 0:a.trailingNode)),i}}),fJ=hJ,pJ=cJ;function NJ(s){var e;const{char:r,allowSpaces:a,allowToIncludeChar:i,allowedPrefixes:n,startOfLine:o,$position:l}=s,d=a&&!i,u=lQ(r),c=new RegExp(`\\s${u}$`),b=o?"^":"",h=i?"":u,m=d?new RegExp(`${b}${u}.*?(?=\\s${h}|$)`,"gm"):new RegExp(`${b}(?:^)?${u}[^\\s${h}]*`,"gm"),f=((e=l.nodeBefore)==null?void 0:e.isText)&&l.nodeBefore.text;if(!f)return null;const p=l.pos-f.length,N=Array.from(f.matchAll(m)).pop();if(!N||N.input===void 0||N.index===void 0)return null;const g=N.input.slice(Math.max(0,N.index-1),N.index),D=new RegExp(`^[${n==null?void 0:n.join("")}\0]?$`).test(g);if(n!==null&&!D)return null;const w=p+N.index;let A=w+N[0].length;return d&&c.test(f.slice(A-1,A+1))&&(N[0]+=" ",A+=1),w<l.pos&&A>=l.pos?{range:{from:w,to:A},query:N[0].slice(r.length),text:N[0]}:null}var kJ=new Va("suggestion");function gJ({pluginKey:s=kJ,editor:e,char:r="@",allowSpaces:a=!1,allowToIncludeChar:i=!1,allowedPrefixes:n=[" "],startOfLine:o=!1,decorationTag:l="span",decorationClass:d="suggestion",decorationContent:u="",decorationEmptyClass:c="is-empty",command:b=()=>null,items:h=()=>[],render:m=()=>({}),allow:f=()=>!0,findSuggestionMatch:p=NJ}){let N;const g=m==null?void 0:m(),D=()=>{const E=e.state.selection.$anchor.pos,W=e.view.coordsAtPos(E),{top:y,right:V,bottom:S,left:O}=W;try{return new DOMRect(O,y,V-O,S-y)}catch{return null}},w=(E,W)=>W?()=>{const y=s.getState(e.state),V=y==null?void 0:y.decorationId,S=E.dom.querySelector(`[data-decoration-id="${V}"]`);return(S==null?void 0:S.getBoundingClientRect())||null}:D;function A(E,W){var y;try{const S=s.getState(E.state),O=S!=null&&S.decorationId?E.dom.querySelector(`[data-decoration-id="${S.decorationId}"]`):null,_={editor:e,range:(S==null?void 0:S.range)||{from:0,to:0},query:(S==null?void 0:S.query)||null,text:(S==null?void 0:S.text)||null,items:[],command:M=>b({editor:e,range:(S==null?void 0:S.range)||{from:0,to:0},props:M}),decorationNode:O,clientRect:w(E,O)};(y=g==null?void 0:g.onExit)==null||y.call(g,_)}catch{}const V=E.state.tr.setMeta(W,{exit:!0});E.dispatch(V)}const U=new ea({key:s,view(){return{update:async(E,W)=>{var y,V,S,O,_,M,R;const Q=(y=this.key)==null?void 0:y.getState(W),ne=(V=this.key)==null?void 0:V.getState(E.state),ie=Q.active&&ne.active&&Q.range.from!==ne.range.from,Z=!Q.active&&ne.active,Ne=Q.active&&!ne.active,_e=!Z&&!Ne&&Q.query!==ne.query,fe=Z||ie&&_e,T=_e||ie,G=Ne||ie&&_e;if(!fe&&!T&&!G)return;const J=G&&!fe?Q:ne,ce=E.dom.querySelector(`[data-decoration-id="${J.decorationId}"]`);N={editor:e,range:J.range,query:J.query,text:J.text,items:[],command:ke=>b({editor:e,range:J.range,props:ke}),decorationNode:ce,clientRect:w(E,ce)},fe&&((S=g==null?void 0:g.onBeforeStart)==null||S.call(g,N)),T&&((O=g==null?void 0:g.onBeforeUpdate)==null||O.call(g,N)),(T||fe)&&(N.items=await h({editor:e,query:J.query})),G&&((_=g==null?void 0:g.onExit)==null||_.call(g,N)),T&&((M=g==null?void 0:g.onUpdate)==null||M.call(g,N)),fe&&((R=g==null?void 0:g.onStart)==null||R.call(g,N))},destroy:()=>{var E;N&&((E=g==null?void 0:g.onExit)==null||E.call(g,N))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(E,W,y,V){const{isEditable:S}=e,{composing:O}=e.view,{selection:_}=E,{empty:M,from:R}=_,Q={...W},ne=E.getMeta(s);if(ne&&ne.exit)return Q.active=!1,Q.decorationId=null,Q.range={from:0,to:0},Q.query=null,Q.text=null,Q;if(Q.composing=O,S&&(M||e.view.composing)){(R<W.range.from||R>W.range.to)&&!O&&!W.composing&&(Q.active=!1);const ie=p({char:r,allowSpaces:a,allowToIncludeChar:i,allowedPrefixes:n,startOfLine:o,$position:_.$from}),Z=`id_${Math.floor(Math.random()*4294967295)}`;ie&&f({editor:e,state:V,range:ie.range,isActive:W.active})?(Q.active=!0,Q.decorationId=W.decorationId?W.decorationId:Z,Q.range=ie.range,Q.query=ie.query,Q.text=ie.text):Q.active=!1}else Q.active=!1;return Q.active||(Q.decorationId=null,Q.range={from:0,to:0},Q.query=null,Q.text=null),Q}},props:{handleKeyDown(E,W){var y,V,S,O;const{active:_,range:M}=U.getState(E.state);if(!_)return!1;if(W.key==="Escape"||W.key==="Esc"){const Q=U.getState(E.state),ne=(y=N==null?void 0:N.decorationNode)!=null?y:null,ie=ne??(Q!=null&&Q.decorationId?E.dom.querySelector(`[data-decoration-id="${Q.decorationId}"]`):null);if(((V=g==null?void 0:g.onKeyDown)==null?void 0:V.call(g,{view:E,event:W,range:Q.range}))||!1)return!0;const Ne={editor:e,range:Q.range,query:Q.query,text:Q.text,items:[],command:_e=>b({editor:e,range:Q.range,props:_e}),decorationNode:ie,clientRect:ie?()=>ie.getBoundingClientRect()||null:null};return(S=g==null?void 0:g.onExit)==null||S.call(g,Ne),A(E,s),!0}return((O=g==null?void 0:g.onKeyDown)==null?void 0:O.call(g,{view:E,event:W,range:M}))||!1},decorations(E){const{active:W,range:y,decorationId:V,query:S}=U.getState(E);if(!W)return null;const O=!(S!=null&&S.length),_=[d];return O&&_.push(c),Qr.create(E.doc,[gi.inline(y.from,y.to,{nodeName:l,class:_.join(" "),"data-decoration-id":V,"data-decoration-content":u})])}}});return U}function xJ({editor:s,overrideSuggestionOptions:e,extensionName:r,char:a="@"}){const i=new Va;return{editor:s,char:a,pluginKey:i,command:({editor:n,range:o,props:l})=>{var d,u,c;const b=n.view.state.selection.$to.nodeAfter;((d=b==null?void 0:b.text)==null?void 0:d.startsWith(" "))&&(o.to+=1),n.chain().focus().insertContentAt(o,[{type:r,attrs:{...l,mentionSuggestionChar:a}},{type:"text",text:" "}]).run(),(c=(u=n.view.dom.ownerDocument.defaultView)==null?void 0:u.getSelection())==null||c.collapseToEnd()},allow:({state:n,range:o})=>{const l=n.doc.resolve(o.from),d=n.schema.nodes[r];return!!l.parent.type.contentMatch.matchType(d)},...e}}function Q_(s){return(s.options.suggestions.length?s.options.suggestions:[s.options.suggestion]).map(e=>xJ({editor:s.editor,overrideSuggestionOptions:e,extensionName:s.name,char:e.char}))}function zP(s,e){const r=Q_(s),a=r.find(i=>i.char===e);return a||(r.length?r[0]:null)}var vJ=Hi.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({node:s,suggestion:e}){var r,a;return`${(r=e==null?void 0:e.char)!=null?r:"@"}${(a=s.attrs.label)!=null?a:s.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:s,node:e,suggestion:r}){var a,i;return["span",Yr(this.HTMLAttributes,s.HTMLAttributes),`${(a=r==null?void 0:r.char)!=null?a:"@"}${(i=e.attrs.label)!=null?i:e.attrs.id}`]},suggestions:[],suggestion:{}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:s=>s.getAttribute("data-id"),renderHTML:s=>s.id?{"data-id":s.id}:{}},label:{default:null,parseHTML:s=>s.getAttribute("data-label"),renderHTML:s=>s.label?{"data-label":s.label}:{}},mentionSuggestionChar:{default:"@",parseHTML:s=>s.getAttribute("data-mention-suggestion-char"),renderHTML:s=>({"data-mention-suggestion-char":s.mentionSuggestionChar})}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:s,HTMLAttributes:e}){const r=zP(this,s.attrs.mentionSuggestionChar);if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",Yr({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:s,suggestion:r})];const a={...this.options};a.HTMLAttributes=Yr({"data-type":this.name},this.options.HTMLAttributes,e);const i=this.options.renderHTML({options:a,node:s,suggestion:r});return typeof i=="string"?["span",Yr({"data-type":this.name},this.options.HTMLAttributes,e),i]:i},...x_({nodeName:"mention",name:"@",selfClosing:!0,allowedAttributes:["id","label"]}),renderText({node:s}){const e={options:this.options,node:s,suggestion:zP(this,s.attrs.mentionSuggestionChar)};return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel(e)):this.options.renderText(e)},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:s,state:e})=>{let r=!1;const{selection:a}=e,{empty:i,anchor:n}=a;if(!i)return!1;let o=new In,l=0;return e.doc.nodesBetween(n-1,n,(d,u)=>{if(d.type.name===this.name)return r=!0,o=d,l=u,!1}),r&&s.insertText(this.options.deleteTriggerWithBackspace?"":o.attrs.mentionSuggestionChar,l,l+o.nodeSize),r})}},addProseMirrorPlugins(){return Q_(this).map(gJ)}}),DJ=vJ;function wJ({collaborators:s,maxVisible:e=5}){const r=s.slice(0,e),a=Math.max(0,s.length-e);return s.length===0?null:t.jsxDEV(Zh,{children:t.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[t.jsxDEV(er,{className:"w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:25,columnNumber:9},this),t.jsxDEV("div",{className:"flex -space-x-2",children:[r.map(i=>t.jsxDEV(ch,{children:[t.jsxDEV(mh,{asChild:!0,children:t.jsxDEV("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center",style:{borderColor:i.color,backgroundColor:"hsl(var(--background))"},children:t.jsxDEV("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium",style:{backgroundColor:i.color+"20",color:i.color},children:i.user_name.substring(0,2).toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:37,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:30,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:29,columnNumber:15},this),t.jsxDEV(om,{children:t.jsxDEV("div",{className:"text-xs",children:[t.jsxDEV("p",{className:"font-medium",children:i.user_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:50,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:i.user_email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:51,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Active now"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:52,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:49,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:48,columnNumber:15},this)]},i.user_id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:28,columnNumber:13},this)),a>0&&t.jsxDEV(Mn,{className:"w-8 h-8 border-2 border-background",children:t.jsxDEV(Ln,{className:"text-xs font-medium bg-muted text-muted-foreground",children:["+",a]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:61,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:26,columnNumber:9},this),t.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:s.length===1?"1 editor":`${s.length} editors`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:67,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/CollaboratorPresence.tsx",lineNumber:23,columnNumber:5},this)}function kw({content:s,onChange:e,placeholder:r="Start writing...",editable:a=!0,collaborators:i=[],onCursorChange:n,onSelectionChange:o}){const l=[],d=v.useMemo(()=>({items:({query:b})=>l.filter(h=>h.full_name.toLowerCase().includes(b.toLowerCase())||h.email.toLowerCase().includes(b.toLowerCase())).slice(0,5),render:()=>{let b,h;return{onStart:m=>{b=document.createElement("div"),b.className="bg-popover border border-border rounded-lg shadow-lg overflow-hidden",(()=>{const{items:p,command:N}=m;if(p.length===0){b.innerHTML=`
                  <div class="px-3 py-2 text-sm text-muted-foreground">
                    No results found
                  </div>
                `;return}b.innerHTML=p.map((D,w)=>`
                  <button
                    class="w-full px-3 py-2 text-left text-sm hover:bg-accent transition-colors flex items-center gap-2 ${w===m.selectedIndex?"bg-accent":""}"
                    data-index="${w}"
                  >
                    <div class="w-8 h-8 rounded-full bg-primary/20 text-primary flex items-center justify-center text-xs font-medium">
                      ${D.full_name.substring(0,2).toUpperCase()}
                    </div>
                    <div>
                      <div class="font-medium">${D.full_name}</div>
                      <div class="text-xs text-muted-foreground">${D.email}</div>
                    </div>
                  </button>
                `).join(""),b.querySelectorAll("button").forEach((D,w)=>{D.addEventListener("click",()=>N(p[w]))})})(),h=document.body.appendChild(b),m.clientRect=m.clientRect||(()=>m.view.dom.getBoundingClientRect())},onUpdate(m){const{items:f,command:p}=m;if(f.length===0){b.innerHTML=`
                <div class="px-3 py-2 text-sm text-muted-foreground">
                  No results found
                </div>
              `;return}b.innerHTML=f.map((g,D)=>`
                <button
                  class="w-full px-3 py-2 text-left text-sm hover:bg-accent transition-colors flex items-center gap-2 ${D===m.selectedIndex?"bg-accent":""}"
                  data-index="${D}"
                >
                  <div class="w-8 h-8 rounded-full bg-primary/20 text-primary flex items-center justify-center text-xs font-medium">
                    ${g.full_name.substring(0,2).toUpperCase()}
                  </div>
                  <div>
                    <div class="font-medium">${g.full_name}</div>
                    <div class="text-xs text-muted-foreground">${g.email}</div>
                  </div>
                </button>
              `).join(""),b.querySelectorAll("button").forEach((g,D)=>{g.addEventListener("click",()=>p(f[D]))})},onKeyDown(m){return m.event.key==="Escape"?(h.remove(),!0):!1},onExit(){h==null||h.remove()}}}}),[l]),u=v.useCallback(({editor:b})=>{const{from:h,to:m}=b.state.selection;h!==m&&o&&o(h,m),n&&n(h)},[n,o]),c=WQ({extensions:[fJ,pJ.configure({placeholder:r}),DJ.configure({HTMLAttributes:{class:"mention bg-primary/20 text-primary px-1 rounded font-medium"},suggestion:d})],content:s,editable:a,onUpdate:({editor:b})=>{e(b.getHTML())},onSelectionUpdate:u,editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[300px] p-4"}}});return c?t.jsxDEV("div",{className:"border border-border rounded-lg overflow-hidden bg-background",children:[a&&t.jsxDEV("div",{className:"border-b border-border bg-muted/30 p-2 flex flex-wrap items-center gap-2",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-1 flex-1",children:[t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleBold().run(),className:Ce(c.isActive("bold")&&"bg-primary/20"),children:t.jsxDEV(G7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:212,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleItalic().run(),className:Ce(c.isActive("italic")&&"bg-primary/20"),children:t.jsxDEV(u6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:226,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:220,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleCode().run(),className:Ce(c.isActive("code")&&"bg-primary/20"),children:t.jsxDEV(Z7,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:228,columnNumber:11},this),t.jsxDEV("div",{className:"w-px h-6 bg-border mx-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:237,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleHeading({level:1}).run(),className:Ce(c.isActive("heading",{level:1})&&"bg-primary/20"),children:t.jsxDEV(n6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:245,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:239,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleHeading({level:2}).run(),className:Ce(c.isActive("heading",{level:2})&&"bg-primary/20"),children:t.jsxDEV(o6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:247,columnNumber:11},this),t.jsxDEV("div",{className:"w-px h-6 bg-border mx-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:256,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleBulletList().run(),className:Ce(c.isActive("bulletList")&&"bg-primary/20"),children:t.jsxDEV(iW,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:264,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:258,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleOrderedList().run(),className:Ce(c.isActive("orderedList")&&"bg-primary/20"),children:t.jsxDEV(f6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:272,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:266,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().toggleBlockquote().run(),className:Ce(c.isActive("blockquote")&&"bg-primary/20"),children:t.jsxDEV(w6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:280,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:274,columnNumber:11},this),t.jsxDEV("div",{className:"w-px h-6 bg-border mx-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:283,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().undo().run(),disabled:!c.can().undo(),children:t.jsxDEV(O6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:291,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:285,columnNumber:11},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>c.chain().focus().redo().run(),disabled:!c.can().redo(),children:t.jsxDEV(j6,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:293,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:211,columnNumber:11},this),i.length>0&&t.jsxDEV(wJ,{collaborators:i,maxVisible:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:304,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:210,columnNumber:9},this),t.jsxDEV(wQ,{editor:c,className:"prose-headings:text-foreground prose-p:text-foreground prose-strong:text-foreground prose-code:text-foreground prose-blockquote:text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:309,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/RichTextEditor.tsx",lineNumber:208,columnNumber:5},this):null}const jJ=[{id:"1",name:"Financial Statement Analysis",description:"Template for analyzing financial statements and key ratios",type:"financial",content:`<h2>Financial Statement Analysis</h2>
<h3>Objective</h3>
<p>Analyze the accuracy and completeness of financial statements.</p>
<h3>Procedures</h3>
<ul>
<li>Review balance sheet for accuracy</li>
<li>Verify income statement classifications</li>
<li>Analyze cash flow statement</li>
<li>Calculate and assess key financial ratios</li>
</ul>
<h3>Findings</h3>
<p>[Document findings here]</p>
<h3>Conclusion</h3>
<p>[Document conclusion here]</p>`},{id:"2",name:"Internal Controls Testing",description:"Template for documenting internal control tests",type:"controls",content:`<h2>Internal Controls Testing</h2>
<h3>Control Description</h3>
<p>[Describe the control being tested]</p>
<h3>Test Procedures</h3>
<ol>
<li>Identify control objectives</li>
<li>Select sample transactions</li>
<li>Test control effectiveness</li>
<li>Document exceptions</li>
</ol>
<h3>Sample Selection</h3>
<p>Sample size: [X]<br>Sampling method: [Method]</p>
<h3>Results</h3>
<p>[Document test results]</p>
<h3>Exceptions</h3>
<p>[Document any exceptions found]</p>`},{id:"3",name:"Revenue Recognition Review",description:"Template for revenue recognition audit procedures",type:"revenue",content:`<h2>Revenue Recognition Review</h2>
<h3>Scope</h3>
<p>Review revenue recognition policies and practices for compliance with applicable standards.</p>
<h3>Procedures Performed</h3>
<ul>
<li>Review revenue recognition policy</li>
<li>Test timing of revenue recognition</li>
<li>Verify supporting documentation</li>
<li>Assess collectibility</li>
</ul>
<h3>Sample Details</h3>
<p>[Document sample selection]</p>
<h3>Observations</h3>
<p>[Document observations]</p>`},{id:"4",name:"IT General Controls",description:"Template for IT general controls assessment",type:"it",content:`<h2>IT General Controls Assessment</h2>
<h3>Scope</h3>
<p>Assess IT general controls including access management, change management, and system operations.</p>
<h3>Controls Tested</h3>
<ul>
<li>Access controls and user management</li>
<li>Change management procedures</li>
<li>Backup and recovery</li>
<li>System monitoring</li>
</ul>
<h3>Test Results</h3>
<p>[Document results for each control area]</p>
<h3>Recommendations</h3>
<p>[Document recommendations]</p>`},{id:"5",name:"Substantive Testing",description:"Template for substantive audit procedures",type:"substantive",content:`<h2>Substantive Testing</h2>
<h3>Account/Area</h3>
<p>[Specify account or area being tested]</p>
<h3>Assertion</h3>
<p>[Existence | Completeness | Accuracy | Valuation | Rights/Obligations]</p>
<h3>Procedures</h3>
<ol>
<li>[Procedure 1]</li>
<li>[Procedure 2]</li>
<li>[Procedure 3]</li>
</ol>
<h3>Evidence Obtained</h3>
<p>[Document evidence]</p>
<h3>Conclusion</h3>
<p>[State conclusion on assertion]</p>`}];function Y_({onSelectTemplate:s}){return t.jsxDEV(Pt,{children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",size:"sm",children:[t.jsxDEV(Ws,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:136,columnNumber:11},this),"Use Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:135,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:134,columnNumber:7},this),t.jsxDEV(Dt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Workpaper Templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:142,columnNumber:11},this),t.jsxDEV(Bt,{children:"Choose a template to get started quickly with pre-formatted structure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:141,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:jJ.map(e=>t.jsxDEV(B,{className:"border-border hover:border-primary/50 transition-colors",children:[t.jsxDEV(oe,{className:"pb-3",children:[t.jsxDEV(ue,{className:"text-base flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:153,columnNumber:19},this),e.name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:152,columnNumber:17},this),t.jsxDEV(Ke,{className:"text-xs",children:e.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:156,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:151,columnNumber:15},this),t.jsxDEV(q,{children:t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full",onClick:()=>s(e),children:[t.jsxDEV(vt,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:165,columnNumber:19},this),"Use Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:159,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:158,columnNumber:15},this)]},e.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:150,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:140,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperTemplates.tsx",lineNumber:133,columnNumber:5},this)}const AJ={draft:{label:"Draft",color:"bg-muted text-muted-foreground"},in_review:{label:"In Review",color:"bg-warning/20 text-warning border-warning"},approved:{label:"Approved",color:"bg-success/20 text-success border-success"},rejected:{label:"Rejected",color:"bg-destructive/20 text-destructive border-destructive"}};function J_({workpaper:s,onSubmitForReview:e,onApprove:r,onReject:a,canReview:i}){var b;const[n,o]=v.useState(!1),[l,d]=v.useState(""),u=()=>{l.trim()&&(a(l),o(!1),d(""))},c=AJ[s.status];return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(B,{className:"border-border",children:[t.jsxDEV(oe,{className:"pb-4",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(ue,{className:"text-base",children:"Review Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:60,columnNumber:13},this),t.jsxDEV(he,{variant:"outline",className:c.color,children:c.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:61,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:59,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:58,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Prepared By:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:70,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:s.prepared_by?"User":"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:71,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:69,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Prepared Date:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:76,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:s.prepared_date},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:77,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:75,columnNumber:13},this),s.reviewed_by&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Reviewed By:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:82,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:"Reviewer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:83,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:81,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Reviewed Date:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:86,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:s.reviewed_date},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:87,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:68,columnNumber:11},this),t.jsxDEV("div",{className:"border-t border-border pt-4",children:[s.status==="draft"&&t.jsxDEV(F,{className:"w-full",onClick:e,children:[t.jsxDEV(qi,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:100,columnNumber:17},this),"Submit for Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:96,columnNumber:15},this),s.status==="in_review"&&i&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(F,{className:"w-full",variant:"default",onClick:r,children:[t.jsxDEV(Ni,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:113,columnNumber:19},this),"Approve Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:108,columnNumber:17},this),t.jsxDEV(F,{className:"w-full",variant:"destructive",onClick:()=>o(!0),children:[t.jsxDEV(Ru,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:121,columnNumber:19},this),"Reject & Return"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:107,columnNumber:15},this),s.status==="in_review"&&!i&&t.jsxDEV("div",{className:"text-center p-4 bg-warning/10 border border-warning/30 rounded-lg",children:[t.jsxDEV(Rk,{className:"w-8 h-8 text-warning mx-auto mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:130,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm font-medium text-warning",children:"Awaiting Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:131,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"This workpaper has been submitted for review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:129,columnNumber:15},this),s.status==="approved"&&t.jsxDEV("div",{className:"text-center p-4 bg-success/10 border border-success/30 rounded-lg",children:[t.jsxDEV(Ni,{className:"w-8 h-8 text-success mx-auto mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:143,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm font-medium text-success",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:144,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"This workpaper has been reviewed and approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:142,columnNumber:15},this),s.status==="rejected"&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"text-center p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:[t.jsxDEV(Ru,{className:"w-8 h-8 text-destructive mx-auto mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:157,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm font-medium text-destructive",children:"Rejected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:158,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Revisions required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:161,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:156,columnNumber:17},this),((b=s.content)==null?void 0:b.rejection_reason)&&t.jsxDEV("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Rejection Reason:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:167,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm",children:s.content.rejection_reason},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:166,columnNumber:19},this),t.jsxDEV(F,{className:"w-full",onClick:e,children:[t.jsxDEV(qi,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:177,columnNumber:19},this),"Resubmit for Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:173,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:57,columnNumber:7},this),t.jsxDEV(wD,{open:n,onOpenChange:o,children:t.jsxDEV(Kk,{children:[t.jsxDEV(Qk,{children:[t.jsxDEV(Jk,{children:"Reject Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:190,columnNumber:13},this),t.jsxDEV(Zk,{children:"Please provide a reason for rejecting this workpaper. This will help the preparer understand what needs to be revised."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:189,columnNumber:11},this),t.jsxDEV("div",{className:"py-4",children:[t.jsxDEV(H,{htmlFor:"rejection-reason",children:"Rejection Reason"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:196,columnNumber:13},this),t.jsxDEV(Wt,{id:"rejection-reason",value:l,onChange:h=>d(h.target.value),placeholder:"Describe what needs to be corrected or improved...",className:"mt-2",rows:4},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:195,columnNumber:11},this),t.jsxDEV(Yk,{children:[t.jsxDEV(eg,{children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:207,columnNumber:13},this),t.jsxDEV(Xk,{onClick:u,disabled:!l.trim(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Reject Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:208,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:206,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:187,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/workpapers/WorkpaperReviewPanel.tsx",lineNumber:56,columnNumber:5},this)}function EJ(){const{auditId:s}=Al(),e=Qt(),{currentOrg:r}=vn(),{workpapers:a,isLoading:i,createWorkpaper:n,updateWorkpaper:o,submitForReview:l,approveWorkpaper:d,rejectWorkpaper:u}=_D(s||""),[c,b]=v.useState(null),[h,m]=v.useState(""),[f,p]=v.useState(!1),[N,g]=v.useState(""),[D,w]=v.useState(!1),{collaborators:A,updateCursorPosition:U,updateSelection:E}=wV({workpaperId:(c==null?void 0:c.id)||""}),[W,y]=v.useState({title:"",workpaper_type:"analysis",reference_number:""});v.useEffect(()=>{r||e("/portal")},[r,e]),v.useEffect(()=>{var ne;c&&g(((ne=c.content)==null?void 0:ne.html)||"")},[c]);const V=ne=>{g(ne),w(!0)},S=()=>{c&&(o({id:c.id,updates:{content:{html:N}}}),w(!1))},O=()=>{const ne=W.reference_number||`WP-${Date.now()}`;n({...W,reference_number:ne,content:{html:""}}),y({title:"",workpaper_type:"analysis",reference_number:""}),p(!1)},_=ne=>{g(ne.content),w(!0),p(!1)},R=a.filter(ne=>ne.title.toLowerCase().includes(h.toLowerCase())||ne.reference_number.toLowerCase().includes(h.toLowerCase())).reduce((ne,ie)=>{const Z=ie.workpaper_type||"general";return ne[Z]||(ne[Z]=[]),ne[Z].push(ie),ne},{}),Q=ne=>{const ie={draft:{label:"Draft",className:"bg-muted"},in_review:{label:"In Review",className:"bg-warning/20 text-warning border-warning"},approved:{label:"Approved",className:"bg-success/20 text-success border-success"},rejected:{label:"Rejected",className:"bg-destructive/20 text-destructive border-destructive"}},Z=ie[ne]||ie.draft;return t.jsxDEV(he,{variant:"outline",className:Z.className,children:Z.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:145,columnNumber:12},this)};return!r||!s?null:t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Audit Overview",href:"/audit-overview"},{label:"Workpapers"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:155,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>e("/audit-overview"),children:t.jsxDEV(hn,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:171,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:166,columnNumber:15},this),t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Audit Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:165,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Document audit procedures, findings, and evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:164,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Y_,{onSelectTemplate:_},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:183,columnNumber:13},this),t.jsxDEV(Pt,{open:f,onOpenChange:p,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:187,columnNumber:19},this),"New Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:186,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:185,columnNumber:15},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create New Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:193,columnNumber:19},this),t.jsxDEV(Bt,{children:"Add a new workpaper to document your audit procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:194,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:192,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"title",children:"Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:200,columnNumber:21},this),t.jsxDEV(ve,{id:"title",value:W.title,onChange:ne=>y({...W,title:ne.target.value}),placeholder:"e.g., Revenue Recognition Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:199,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"type",children:"Workpaper Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:211,columnNumber:21},this),t.jsxDEV(is,{value:W.workpaper_type,onValueChange:ne=>y({...W,workpaper_type:ne}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:219,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:218,columnNumber:23},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"analysis",children:"Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:222,columnNumber:25},this),t.jsxDEV(X,{value:"testing",children:"Testing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:223,columnNumber:25},this),t.jsxDEV(X,{value:"documentation",children:"Documentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:224,columnNumber:25},this),t.jsxDEV(X,{value:"review",children:"Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:225,columnNumber:25},this),t.jsxDEV(X,{value:"reconciliation",children:"Reconciliation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:226,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:221,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:212,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:210,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"reference",children:"Reference Number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:231,columnNumber:21},this),t.jsxDEV(ve,{id:"reference",value:W.reference_number,onChange:ne=>y({...W,reference_number:ne.target.value}),placeholder:"Auto-generated if left empty"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:232,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:230,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:198,columnNumber:17},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>p(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:243,columnNumber:19},this),t.jsxDEV(F,{onClick:O,disabled:!W.title,children:"Create Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:249,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:242,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:163,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxDEV("div",{className:"lg:col-span-1 space-y-4",children:t.jsxDEV(B,{className:"border-border",children:[t.jsxDEV(oe,{className:"pb-3",children:[t.jsxDEV(ue,{className:"text-base",children:"Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:266,columnNumber:17},this),t.jsxDEV("div",{className:"relative mt-2",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:268,columnNumber:19},this),t.jsxDEV(ve,{placeholder:"Search workpapers...",value:h,onChange:ne=>m(ne.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:269,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:267,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:265,columnNumber:15},this),t.jsxDEV(q,{className:"max-h-[calc(100vh-300px)] overflow-y-auto",children:i?t.jsxDEV("div",{className:"space-y-3",children:[1,2,3,4].map(ne=>t.jsxDEV(Xs,{className:"h-20 w-full"},ne,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:281,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:279,columnNumber:19},this):Object.entries(R).length===0?t.jsxDEV("div",{className:"text-center py-8",children:[t.jsxDEV(Ws,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:286,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No workpapers yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:287,columnNumber:21},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Create your first workpaper to get started"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:285,columnNumber:19},this):t.jsxDEV("div",{className:"space-y-4",children:Object.entries(R).map(([ne,ie])=>t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground uppercase tracking-wider px-2",children:[t.jsxDEV(tW,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:299,columnNumber:27},this),ne]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:298,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-1",children:ie.map(Z=>t.jsxDEV("button",{onClick:()=>b(Z),className:`w-full text-left p-3 rounded-lg border transition-colors ${(c==null?void 0:c.id)===Z.id?"bg-primary/10 border-primary":"bg-card border-border hover:bg-muted/50"}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-1",children:[t.jsxDEV("p",{className:"text-sm font-medium line-clamp-1",children:Z.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:314,columnNumber:33},this),Q(Z.status)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:313,columnNumber:31},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:Z.reference_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:319,columnNumber:31},this)]},Z.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:304,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:302,columnNumber:25},this)]},ne,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:297,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:295,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:277,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:264,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:263,columnNumber:11},this),t.jsxDEV("div",{className:"lg:col-span-2",children:c?t.jsxDEV(B,{className:"border-border",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"text-lg",children:c.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:340,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:c.reference_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:341,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:339,columnNumber:21},this),t.jsxDEV(F,{onClick:S,disabled:!D,children:[t.jsxDEV(po,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:349,columnNumber:23},this),"Save"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:345,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:338,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:337,columnNumber:17},this),t.jsxDEV(q,{children:t.jsxDEV(kw,{content:N,onChange:V,editable:c.status!=="approved",collaborators:A,onCursorChange:U,onSelectionChange:E},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:355,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:354,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:336,columnNumber:15},this):t.jsxDEV(B,{className:"border-border h-[600px] flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV(Ws,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:368,columnNumber:19},this),t.jsxDEV("p",{className:"text-lg font-medium",children:"No Workpaper Selected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:369,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a workpaper from the list or create a new one"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:370,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:367,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:366,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:334,columnNumber:11},this),t.jsxDEV("div",{className:"lg:col-span-1",children:c?t.jsxDEV(J_,{workpaper:c,onSubmitForReview:()=>l(c.id),onApprove:()=>d(c.id),onReject:ne=>u({workpaperId:c.id,reason:ne}),canReview:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:381,columnNumber:15},this):t.jsxDEV(B,{className:"border-border",children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-base",children:"Review Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:393,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:392,columnNumber:17},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Select a workpaper to view review status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:396,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:395,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:391,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:379,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:154,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/AuditWorkpapers.tsx",lineNumber:153,columnNumber:5},this)}function PJ(){const s=Qt(),{data:e,isLoading:r}=bs({queryKey:["audits"],queryFn:async()=>{const{data:n,error:o}=await le.from("audits").select("*").order("start_date",{ascending:!1});return o?(console.error("[WorkpapersLanding] Error:",o),[]):n||[]}}),{data:a}=bs({queryKey:["workpaper-counts"],queryFn:async()=>{if(!e)return{};const n={};for(const o of e){const{count:l,error:d}=await le.from("audit_workpapers").select("*",{count:"exact",head:!0}).eq("audit_id",o.id);!d&&l!==null&&(n[o.id]=l)}return n},enabled:!!e&&e.length>0});v.useEffect(()=>{e&&e.length===1&&s(`/audits/${e[0].id}/workpapers`)},[e,s]);const i=n=>{const o={planning:{label:"Planning",className:"bg-info/20 text-info border-info"},fieldwork:{label:"Fieldwork",className:"bg-warning/20 text-warning border-warning"},reporting:{label:"Reporting",className:"bg-primary/20 text-primary border-primary"},completed:{label:"Completed",className:"bg-success/20 text-success border-success"}},l=o[n]||o.planning;return t.jsxDEV(he,{variant:"outline",className:l.className,children:l.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:71,columnNumber:12},this)};return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(tc,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Workpapers"}]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:77,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Audit Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:85,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Select an audit to view and manage workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:84,columnNumber:9},this),r?t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(n=>t.jsxDEV(Xs,{className:"h-48 w-full"},n,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:96,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:94,columnNumber:11},this):!e||e.length===0?t.jsxDEV(B,{className:"border-border",children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-16 text-center",children:[t.jsxDEV(Ws,{className:"w-16 h-16 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:102,columnNumber:15},this),t.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No Audits Yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:103,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:"Create an audit first to start documenting procedures and findings in workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:104,columnNumber:15},this),t.jsxDEV(F,{onClick:()=>s("/audit-overview"),children:"Go to Audit Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:101,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:100,columnNumber:11},this):t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>t.jsxDEV(B,{className:"border-border hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>s(`/audits/${n.id}/workpapers`),children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxDEV(ue,{className:"text-lg line-clamp-2 group-hover:text-primary transition-colors",children:n.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:122,columnNumber:21},this),i(n.status)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:121,columnNumber:19},this),t.jsxDEV(Ke,{className:"line-clamp-2",children:n.objective||"No objective specified"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:127,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:120,columnNumber:17},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsxDEV(la,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:134,columnNumber:23},this),t.jsxDEV("span",{children:[new Date(n.actual_start_date).toLocaleDateString()," - ",new Date(n.actual_end_date).toLocaleDateString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:135,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:133,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsxDEV(Ws,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:140,columnNumber:23},this),t.jsxDEV("span",{children:[(a==null?void 0:a[n.id])||0," workpaper",((a==null?void 0:a[n.id])||0)!==1?"s":""]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:141,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:139,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:132,columnNumber:19},this),t.jsxDEV(F,{className:"w-full group/btn",variant:"outline",children:["View Workpapers",t.jsxDEV(xl,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:147,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:131,columnNumber:17},this)]},n.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:115,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:76,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpapersLanding.tsx",lineNumber:75,columnNumber:5},this)}function yJ(){const{id:s}=Al(),e=Qt(),[r]=Pm(),a=r.get("procedure"),i=r.get("audit")||"temp-audit-id",n=s==="new",{workpapers:o,isLoading:l,createWorkpaper:d,updateWorkpaper:u,submitForReview:c,approveWorkpaper:b,rejectWorkpaper:h}=_D(i),{data:m,isLoading:f}=bs({queryKey:["workpaper",s],queryFn:async()=>{if(!s||s==="new")return null;const{data:Z,error:Ne}=await le.from("audit_workpapers").select("*").eq("id",s).single();if(Ne)throw Ne;return Z},enabled:!n&&!!s}),{collaborators:p,updateCursorPosition:N,updateSelection:g}=wV({workpaperId:s||""}),D=n?l:f,[w,A]=v.useState(""),[U,E]=v.useState(""),[W,y]=v.useState("testing"),[V,S]=v.useState({type:"doc",content:[{type:"paragraph"}]}),[O,_]=v.useState(n);v.useEffect(()=>{m&&(A(m.title),E(m.reference_number),y(m.workpaper_type||"testing"),S(m.content||{type:"doc",content:[{type:"paragraph"}]}))},[m]);const M=async()=>{if(!w||!U){ri.error("Title and reference number are required");return}const Z={title:w,reference_number:U,workpaper_type:W,content:V,procedure_id:a||void 0};n?d(Z,{onSuccess:Ne=>{ri.success("Workpaper created"),e(`/workpapers/${Ne.id}`)}}):s&&u({id:s,updates:Z})},R=()=>{s&&c(s)},Q=()=>{s&&b(s)},ne=Z=>{s&&h({workpaperId:s,reason:Z})},ie=Z=>{A(Z.template_name),y(Z.workpaper_type),S(Z.content),_(!1),ri.success("Template applied")};return D?t.jsxDEV("div",{className:"container mx-auto p-6",children:t.jsxDEV("div",{children:"Loading workpaper..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:124,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:123,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>e("/audit/workpapers"),children:t.jsxDEV(hn,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:135,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:134,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:n?"New Workpaper":m==null?void 0:m.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:138,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:[!n&&(m==null?void 0:m.reference_number)&&t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:m.reference_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:141,columnNumber:17},this),(m==null?void 0:m.status)&&t.jsxDEV(he,{children:[m.status==="draft"&&"Draft",m.status==="in_review"&&"In Review",m.status==="approved"&&"Approved"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:144,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:133,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[(m==null?void 0:m.status)==="draft"&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(F,{variant:"outline",onClick:M,children:[t.jsxDEV(po,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:157,columnNumber:17},this),"Save Draft"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:156,columnNumber:15},this),t.jsxDEV(F,{onClick:R,children:[t.jsxDEV(qi,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:161,columnNumber:17},this),"Submit for Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:155,columnNumber:13},this),n&&t.jsxDEV(F,{onClick:M,children:[t.jsxDEV(po,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:168,columnNumber:15},this),"Create Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:153,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:132,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:O?"templates":"editor",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"editor",children:"Editor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:177,columnNumber:11},this),t.jsxDEV($e,{value:"templates",children:"Templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:178,columnNumber:11},this),!n&&t.jsxDEV($e,{value:"review",children:"Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:179,columnNumber:22},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:176,columnNumber:9},this),t.jsxDEV(es,{value:"templates",children:t.jsxDEV(Y_,{onSelectTemplate:ie},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:182,columnNumber:9},this),t.jsxDEV(es,{value:"editor",className:"space-y-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Workpaper Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxDEV("div",{children:[t.jsxDEV(H,{children:"Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:195,columnNumber:19},this),t.jsxDEV(ve,{value:w,onChange:Z=>A(Z.target.value),placeholder:"Enter workpaper title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV(H,{children:"Reference Number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:203,columnNumber:19},this),t.jsxDEV(ve,{value:U,onChange:Z=>E(Z.target.value),placeholder:"e.g., WP-001"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:204,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:202,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:193,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Content"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:216,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV(kw,{content:V,onChange:S,editable:(m==null?void 0:m.status)!=="approved",collaborators:p,onCursorChange:N,onSelectionChange:(Z,Ne)=>g(Z,Ne)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:220,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:186,columnNumber:9},this),!n&&t.jsxDEV(es,{value:"review",children:t.jsxDEV(J_,{workpaper:m,onSubmitForReview:R,onApprove:Q,onReject:ne,canReview:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:234,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:233,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:175,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/WorkpaperEditor.tsx",lineNumber:130,columnNumber:5},this)}const Z_=()=>{const{toast:s}=Hs(),e=Lr(),{data:r,isLoading:a}=bs({queryKey:["program-templates"],queryFn:async()=>{const{data:l,error:d}=await le.from("audit_program_templates").select(`
          *,
          program_procedures(count)
        `).eq("is_active",!0).order("template_name");if(d)throw d;return(l||[]).map(u=>{var c,b;return{...u,procedure_count:((b=(c=u.program_procedures)==null?void 0:c[0])==null?void 0:b.count)||0}})}}),i=Rs({mutationFn:async l=>{const{data:d,error:u}=await le.from("audit_program_templates").insert([l]).select().single();if(u)throw u;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["program-templates"]}),s({title:"Program template created",description:"The program template has been created successfully."})},onError:l=>{s({title:"Error creating template",description:l.message,variant:"destructive"})}}),n=Rs({mutationFn:async({id:l,...d})=>{const{data:u,error:c}=await le.from("audit_program_templates").update(d).eq("id",l).select().single();if(c)throw c;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["program-templates"]}),s({title:"Program template updated",description:"The program template has been updated successfully."})},onError:l=>{s({title:"Error updating template",description:l.message,variant:"destructive"})}}),o=Rs({mutationFn:async l=>{const{error:d}=await le.from("audit_program_templates").update({is_active:!1}).eq("id",l);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["program-templates"]}),s({title:"Program template archived",description:"The program template has been archived."})},onError:l=>{s({title:"Error archiving template",description:l.message,variant:"destructive"})}});return{templates:r,isLoading:a,createTemplate:i.mutate,updateTemplate:n.mutate,deleteTemplate:o.mutate}};function OJ(){for(var s=arguments.length,e=new Array(s),r=0;r<s;r++)e[r]=arguments[r];return v.useMemo(()=>a=>{e.forEach(i=>i(a))},e)}const gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cm(s){const e=Object.prototype.toString.call(s);return e==="[object Window]"||e==="[object global]"}function gw(s){return"nodeType"in s}function Gi(s){var e,r;return s?Cm(s)?s:gw(s)&&(e=(r=s.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function xw(s){const{Document:e}=Gi(s);return s instanceof e}function nf(s){return Cm(s)?!1:s instanceof Gi(s).HTMLElement}function X_(s){return s instanceof Gi(s).SVGElement}function Sm(s){return s?Cm(s)?s.document:gw(s)?xw(s)?s:nf(s)||X_(s)?s.ownerDocument:document:document:document}const qo=gg?v.useLayoutEffect:v.useEffect;function vw(s){const e=v.useRef(s);return qo(()=>{e.current=s}),v.useCallback(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e.current==null?void 0:e.current(...a)},[])}function WJ(){const s=v.useRef(null),e=v.useCallback((a,i)=>{s.current=setInterval(a,i)},[]),r=v.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[e,r]}function Uh(s,e){e===void 0&&(e=[s]);const r=v.useRef(s);return qo(()=>{r.current!==s&&(r.current=s)},e),r}function of(s,e){const r=v.useRef();return v.useMemo(()=>{const a=s(r.current);return r.current=a,a},[...e])}function uk(s){const e=vw(s),r=v.useRef(null),a=v.useCallback(i=>{i!==r.current&&(e==null||e(i,r.current)),r.current=i},[]);return[r,a]}function i1(s){const e=v.useRef();return v.useEffect(()=>{e.current=s},[s]),e.current}let sv={};function lf(s,e){return v.useMemo(()=>{if(e)return e;const r=sv[s]==null?0:sv[s]+1;return sv[s]=r,s+"-"+r},[s,e])}function e4(s){return function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((n,o)=>{const l=Object.entries(o);for(const[d,u]of l){const c=n[d];c!=null&&(n[d]=c+s*u)}return n},{...e})}}const Zc=e4(1),Vh=e4(-1);function UJ(s){return"clientX"in s&&"clientY"in s}function Dw(s){if(!s)return!1;const{KeyboardEvent:e}=Gi(s.target);return e&&s instanceof e}function VJ(s){if(!s)return!1;const{TouchEvent:e}=Gi(s.target);return e&&s instanceof e}function n1(s){if(VJ(s)){if(s.touches&&s.touches.length){const{clientX:e,clientY:r}=s.touches[0];return{x:e,y:r}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:e,clientY:r}=s.changedTouches[0];return{x:e,y:r}}}return UJ(s)?{x:s.clientX,y:s.clientY}:null}const _h=Object.freeze({Translate:{toString(s){if(!s)return;const{x:e,y:r}=s;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:e,scaleY:r}=s;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(s){if(s)return[_h.Translate.toString(s),_h.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:e,duration:r,easing:a}=s;return e+" "+r+"ms "+a}}}),BP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _J(s){return s.matches(BP)?s:s.querySelector(BP)}const CJ={display:"none"};function SJ(s){let{id:e,value:r}=s;return Ge.createElement("div",{id:e,style:CJ},r)}function TJ(s){let{id:e,announcement:r,ariaLiveType:a="assertive"}=s;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ge.createElement("div",{id:e,style:i,role:"status","aria-live":a,"aria-atomic":!0},r)}function RJ(){const[s,e]=v.useState("");return{announce:v.useCallback(a=>{a!=null&&e(a)},[]),announcement:s}}const s4=v.createContext(null);function MJ(s){const e=v.useContext(s4);v.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(s)},[s,e])}function LJ(){const[s]=v.useState(()=>new Set),e=v.useCallback(a=>(s.add(a),()=>s.delete(a)),[s]);return[v.useCallback(a=>{let{type:i,event:n}=a;s.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,n)})},[s]),e]}const IJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},FJ={onDragStart(s){let{active:e}=s;return"Picked up draggable item "+e.id+"."},onDragOver(s){let{active:e,over:r}=s;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(s){let{active:e,over:r}=s;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(s){let{active:e}=s;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function zJ(s){let{announcements:e=FJ,container:r,hiddenTextDescribedById:a,screenReaderInstructions:i=IJ}=s;const{announce:n,announcement:o}=RJ(),l=lf("DndLiveRegion"),[d,u]=v.useState(!1);if(v.useEffect(()=>{u(!0)},[]),MJ(v.useMemo(()=>({onDragStart(b){let{active:h}=b;n(e.onDragStart({active:h}))},onDragMove(b){let{active:h,over:m}=b;e.onDragMove&&n(e.onDragMove({active:h,over:m}))},onDragOver(b){let{active:h,over:m}=b;n(e.onDragOver({active:h,over:m}))},onDragEnd(b){let{active:h,over:m}=b;n(e.onDragEnd({active:h,over:m}))},onDragCancel(b){let{active:h,over:m}=b;n(e.onDragCancel({active:h,over:m}))}}),[n,e])),!d)return null;const c=Ge.createElement(Ge.Fragment,null,Ge.createElement(SJ,{id:a,value:i.draggable}),Ge.createElement(TJ,{id:l,announcement:o}));return r?Nu.createPortal(c,r):c}var Ia;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(Ia||(Ia={}));function ck(){}function qP(s,e){return v.useMemo(()=>({sensor:s,options:e??{}}),[s,e])}function BJ(){for(var s=arguments.length,e=new Array(s),r=0;r<s;r++)e[r]=arguments[r];return v.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const No=Object.freeze({x:0,y:0});function t4(s,e){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function r4(s,e){let{data:{value:r}}=s,{data:{value:a}}=e;return r-a}function qJ(s,e){let{data:{value:r}}=s,{data:{value:a}}=e;return a-r}function $P(s){let{left:e,top:r,height:a,width:i}=s;return[{x:e,y:r},{x:e+i,y:r},{x:e,y:r+a},{x:e+i,y:r+a}]}function a4(s,e){if(!s||s.length===0)return null;const[r]=s;return r[e]}function HP(s,e,r){return e===void 0&&(e=s.left),r===void 0&&(r=s.top),{x:e+s.width*.5,y:r+s.height*.5}}const $J=s=>{let{collisionRect:e,droppableRects:r,droppableContainers:a}=s;const i=HP(e,e.left,e.top),n=[];for(const o of a){const{id:l}=o,d=r.get(l);if(d){const u=t4(HP(d),i);n.push({id:l,data:{droppableContainer:o,value:u}})}}return n.sort(r4)},HJ=s=>{let{collisionRect:e,droppableRects:r,droppableContainers:a}=s;const i=$P(e),n=[];for(const o of a){const{id:l}=o,d=r.get(l);if(d){const u=$P(d),c=i.reduce((h,m,f)=>h+t4(u[f],m),0),b=Number((c/4).toFixed(4));n.push({id:l,data:{droppableContainer:o,value:b}})}}return n.sort(r4)};function GJ(s,e){const r=Math.max(e.top,s.top),a=Math.max(e.left,s.left),i=Math.min(e.left+e.width,s.left+s.width),n=Math.min(e.top+e.height,s.top+s.height),o=i-a,l=n-r;if(a<i&&r<n){const d=e.width*e.height,u=s.width*s.height,c=o*l,b=c/(d+u-c);return Number(b.toFixed(4))}return 0}const KJ=s=>{let{collisionRect:e,droppableRects:r,droppableContainers:a}=s;const i=[];for(const n of a){const{id:o}=n,l=r.get(o);if(l){const d=GJ(l,e);d>0&&i.push({id:o,data:{droppableContainer:n,value:d}})}}return i.sort(qJ)};function QJ(s,e,r){return{...s,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function i4(s,e){return s&&e?{x:s.left-e.left,y:s.top-e.top}:No}function YJ(s){return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return i.reduce((o,l)=>({...o,top:o.top+s*l.y,bottom:o.bottom+s*l.y,left:o.left+s*l.x,right:o.right+s*l.x}),{...r})}}const JJ=YJ(1);function ZJ(s){if(s.startsWith("matrix3d(")){const e=s.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(s.startsWith("matrix(")){const e=s.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function XJ(s,e,r){const a=ZJ(e);if(!a)return s;const{scaleX:i,scaleY:n,x:o,y:l}=a,d=s.left-o-(1-i)*parseFloat(r),u=s.top-l-(1-n)*parseFloat(r.slice(r.indexOf(" ")+1)),c=i?s.width/i:s.width,b=n?s.height/n:s.height;return{width:c,height:b,top:u,right:d+c,bottom:u+b,left:d}}const eZ={ignoreTransform:!1};function Tm(s,e){e===void 0&&(e=eZ);let r=s.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=Gi(s).getComputedStyle(s);u&&(r=XJ(r,u,c))}const{top:a,left:i,width:n,height:o,bottom:l,right:d}=r;return{top:a,left:i,width:n,height:o,bottom:l,right:d}}function GP(s){return Tm(s,{ignoreTransform:!0})}function sZ(s){const e=s.innerWidth,r=s.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function tZ(s,e){return e===void 0&&(e=Gi(s).getComputedStyle(s)),e.position==="fixed"}function rZ(s,e){e===void 0&&(e=Gi(s).getComputedStyle(s));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const n=e[i];return typeof n=="string"?r.test(n):!1})}function xg(s,e){const r=[];function a(i){if(e!=null&&r.length>=e||!i)return r;if(xw(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!nf(i)||X_(i)||r.includes(i))return r;const n=Gi(s).getComputedStyle(i);return i!==s&&rZ(i,n)&&r.push(i),tZ(i,n)?r:a(i.parentNode)}return s?a(s):r}function n4(s){const[e]=xg(s,1);return e??null}function tv(s){return!gg||!s?null:Cm(s)?s:gw(s)?xw(s)||s===Sm(s).scrollingElement?window:nf(s)?s:null:null}function o4(s){return Cm(s)?s.scrollX:s.scrollLeft}function l4(s){return Cm(s)?s.scrollY:s.scrollTop}function o1(s){return{x:o4(s),y:l4(s)}}var Ha;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(Ha||(Ha={}));function d4(s){return!gg||!s?!1:s===document.scrollingElement}function u4(s){const e={x:0,y:0},r=d4(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},a={x:s.scrollWidth-r.width,y:s.scrollHeight-r.height},i=s.scrollTop<=e.y,n=s.scrollLeft<=e.x,o=s.scrollTop>=a.y,l=s.scrollLeft>=a.x;return{isTop:i,isLeft:n,isBottom:o,isRight:l,maxScroll:a,minScroll:e}}const aZ={x:.2,y:.2};function iZ(s,e,r,a,i){let{top:n,left:o,right:l,bottom:d}=r;a===void 0&&(a=10),i===void 0&&(i=aZ);const{isTop:u,isBottom:c,isLeft:b,isRight:h}=u4(s),m={x:0,y:0},f={x:0,y:0},p={height:e.height*i.y,width:e.width*i.x};return!u&&n<=e.top+p.height?(m.y=Ha.Backward,f.y=a*Math.abs((e.top+p.height-n)/p.height)):!c&&d>=e.bottom-p.height&&(m.y=Ha.Forward,f.y=a*Math.abs((e.bottom-p.height-d)/p.height)),!h&&l>=e.right-p.width?(m.x=Ha.Forward,f.x=a*Math.abs((e.right-p.width-l)/p.width)):!b&&o<=e.left+p.width&&(m.x=Ha.Backward,f.x=a*Math.abs((e.left+p.width-o)/p.width)),{direction:m,speed:f}}function nZ(s){if(s===document.scrollingElement){const{innerWidth:n,innerHeight:o}=window;return{top:0,left:0,right:n,bottom:o,width:n,height:o}}const{top:e,left:r,right:a,bottom:i}=s.getBoundingClientRect();return{top:e,left:r,right:a,bottom:i,width:s.clientWidth,height:s.clientHeight}}function c4(s){return s.reduce((e,r)=>Zc(e,o1(r)),No)}function oZ(s){return s.reduce((e,r)=>e+o4(r),0)}function lZ(s){return s.reduce((e,r)=>e+l4(r),0)}function dZ(s,e){if(e===void 0&&(e=Tm),!s)return;const{top:r,left:a,bottom:i,right:n}=e(s);n4(s)&&(i<=0||n<=0||r>=window.innerHeight||a>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const uZ=[["x",["left","right"],oZ],["y",["top","bottom"],lZ]];class ww{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=xg(r),i=c4(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[n,o,l]of uZ)for(const d of o)Object.defineProperty(this,d,{get:()=>{const u=l(a),c=i[n]-u;return this.rect[d]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=e}add(e,r,a){var i;(i=this.target)==null||i.addEventListener(e,r,a),this.listeners.push([e,r,a])}}function cZ(s){const{EventTarget:e}=Gi(s);return s instanceof e?s:Sm(s)}function rv(s,e){const r=Math.abs(s.x),a=Math.abs(s.y);return typeof e=="number"?Math.sqrt(r**2+a**2)>e:"x"in e&&"y"in e?r>e.x&&a>e.y:"x"in e?r>e.x:"y"in e?a>e.y:!1}var Un;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(Un||(Un={}));function KP(s){s.preventDefault()}function mZ(s){s.stopPropagation()}var Jt;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(Jt||(Jt={}));const m4={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter,Jt.Tab]},bZ=(s,e)=>{let{currentCoordinates:r}=e;switch(s.code){case Jt.Right:return{...r,x:r.x+25};case Jt.Left:return{...r,x:r.x-25};case Jt.Down:return{...r,y:r.y+25};case Jt.Up:return{...r,y:r.y-25}}};class jw{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Jb(Sm(r)),this.windowListeners=new Jb(Gi(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,a=e.node.current;a&&dZ(a),r(No)}handleKeyDown(e){if(Dw(e)){const{active:r,context:a,options:i}=this.props,{keyboardCodes:n=m4,coordinateGetter:o=bZ,scrollBehavior:l="smooth"}=i,{code:d}=e;if(n.end.includes(d)){this.handleEnd(e);return}if(n.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:u}=a.current,c=u?{x:u.left,y:u.top}:No;this.referenceCoordinates||(this.referenceCoordinates=c);const b=o(e,{active:r,context:a.current,currentCoordinates:c});if(b){const h=Vh(b,c),m={x:0,y:0},{scrollableAncestors:f}=a.current;for(const p of f){const N=e.code,{isTop:g,isRight:D,isLeft:w,isBottom:A,maxScroll:U,minScroll:E}=u4(p),W=nZ(p),y={x:Math.min(N===Jt.Right?W.right-W.width/2:W.right,Math.max(N===Jt.Right?W.left:W.left+W.width/2,b.x)),y:Math.min(N===Jt.Down?W.bottom-W.height/2:W.bottom,Math.max(N===Jt.Down?W.top:W.top+W.height/2,b.y))},V=N===Jt.Right&&!D||N===Jt.Left&&!w,S=N===Jt.Down&&!A||N===Jt.Up&&!g;if(V&&y.x!==b.x){const O=p.scrollLeft+h.x,_=N===Jt.Right&&O<=U.x||N===Jt.Left&&O>=E.x;if(_&&!h.y){p.scrollTo({left:O,behavior:l});return}_?m.x=p.scrollLeft-O:m.x=N===Jt.Right?p.scrollLeft-U.x:p.scrollLeft-E.x,m.x&&p.scrollBy({left:-m.x,behavior:l});break}else if(S&&y.y!==b.y){const O=p.scrollTop+h.y,_=N===Jt.Down&&O<=U.y||N===Jt.Up&&O>=E.y;if(_&&!h.x){p.scrollTo({top:O,behavior:l});return}_?m.y=p.scrollTop-O:m.y=N===Jt.Down?p.scrollTop-U.y:p.scrollTop-E.y,m.y&&p.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(e,Zc(Vh(b,this.referenceCoordinates),m))}}}handleMove(e,r){const{onMove:a}=this.props;e.preventDefault(),a(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jw.activators=[{eventName:"onKeyDown",handler:(s,e,r)=>{let{keyboardCodes:a=m4,onActivation:i}=e,{active:n}=r;const{code:o}=s.nativeEvent;if(a.start.includes(o)){const l=n.activatorNode.current;return l&&s.target!==l?!1:(s.preventDefault(),i==null||i({event:s.nativeEvent}),!0)}return!1}}];function QP(s){return!!(s&&"distance"in s)}function YP(s){return!!(s&&"delay"in s)}class Aw{constructor(e,r,a){var i;a===void 0&&(a=cZ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:n}=e,{target:o}=n;this.props=e,this.events=r,this.document=Sm(o),this.documentListeners=new Jb(this.document),this.listeners=new Jb(a),this.windowListeners=new Jb(Gi(o)),this.initialCoordinates=(i=n1(n))!=null?i:No,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.DragStart,KP),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),this.windowListeners.add(Un.ContextMenu,KP),this.documentListeners.add(Un.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(YP(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(QP(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:a,onPending:i}=this.props;i(a,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Un.Click,mZ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Un.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:a,initialCoordinates:i,props:n}=this,{onMove:o,options:{activationConstraint:l}}=n;if(!i)return;const d=(r=n1(e))!=null?r:No,u=Vh(i,d);if(!a&&l){if(QP(l)){if(l.tolerance!=null&&rv(u,l.tolerance))return this.handleCancel();if(rv(u,l.distance))return this.handleStart()}if(YP(l)&&rv(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),o(d)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hZ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ew extends Aw{constructor(e){const{event:r}=e,a=Sm(r.target);super(e,hZ,a)}}Ew.activators=[{eventName:"onPointerDown",handler:(s,e)=>{let{nativeEvent:r}=s,{onActivation:a}=e;return!r.isPrimary||r.button!==0?!1:(a==null||a({event:r}),!0)}}];const fZ={move:{name:"mousemove"},end:{name:"mouseup"}};var l1;(function(s){s[s.RightClick=2]="RightClick"})(l1||(l1={}));class pZ extends Aw{constructor(e){super(e,fZ,Sm(e.event.target))}}pZ.activators=[{eventName:"onMouseDown",handler:(s,e)=>{let{nativeEvent:r}=s,{onActivation:a}=e;return r.button===l1.RightClick?!1:(a==null||a({event:r}),!0)}}];const av={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class NZ extends Aw{constructor(e){super(e,av)}static setup(){return window.addEventListener(av.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(av.move.name,e)};function e(){}}}NZ.activators=[{eventName:"onTouchStart",handler:(s,e)=>{let{nativeEvent:r}=s,{onActivation:a}=e;const{touches:i}=r;return i.length>1?!1:(a==null||a({event:r}),!0)}}];var Zb;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(Zb||(Zb={}));var mk;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(mk||(mk={}));function kZ(s){let{acceleration:e,activator:r=Zb.Pointer,canScroll:a,draggingRect:i,enabled:n,interval:o=5,order:l=mk.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:c,delta:b,threshold:h}=s;const m=xZ({delta:b,disabled:!n}),[f,p]=WJ(),N=v.useRef({x:0,y:0}),g=v.useRef({x:0,y:0}),D=v.useMemo(()=>{switch(r){case Zb.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Zb.DraggableRect:return i}},[r,i,d]),w=v.useRef(null),A=v.useCallback(()=>{const E=w.current;if(!E)return;const W=N.current.x*g.current.x,y=N.current.y*g.current.y;E.scrollBy(W,y)},[]),U=v.useMemo(()=>l===mk.TreeOrder?[...u].reverse():u,[l,u]);v.useEffect(()=>{if(!n||!u.length||!D){p();return}for(const E of U){if((a==null?void 0:a(E))===!1)continue;const W=u.indexOf(E),y=c[W];if(!y)continue;const{direction:V,speed:S}=iZ(E,y,D,e,h);for(const O of["x","y"])m[O][V[O]]||(S[O]=0,V[O]=0);if(S.x>0||S.y>0){p(),w.current=E,f(A,o),N.current=S,g.current=V;return}}N.current={x:0,y:0},g.current={x:0,y:0},p()},[e,A,a,p,n,o,JSON.stringify(D),JSON.stringify(m),f,u,U,c,JSON.stringify(h)])}const gZ={x:{[Ha.Backward]:!1,[Ha.Forward]:!1},y:{[Ha.Backward]:!1,[Ha.Forward]:!1}};function xZ(s){let{delta:e,disabled:r}=s;const a=i1(e);return of(i=>{if(r||!a||!i)return gZ;const n={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[Ha.Backward]:i.x[Ha.Backward]||n.x===-1,[Ha.Forward]:i.x[Ha.Forward]||n.x===1},y:{[Ha.Backward]:i.y[Ha.Backward]||n.y===-1,[Ha.Forward]:i.y[Ha.Forward]||n.y===1}}},[r,e,a])}function vZ(s,e){const r=e!=null?s.get(e):void 0,a=r?r.node.current:null;return of(i=>{var n;return e==null?null:(n=a??i)!=null?n:null},[a,e])}function DZ(s,e){return v.useMemo(()=>s.reduce((r,a)=>{const{sensor:i}=a,n=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,a)}));return[...r,...n]},[]),[s,e])}var Ch;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(Ch||(Ch={}));var d1;(function(s){s.Optimized="optimized"})(d1||(d1={}));const JP=new Map;function wZ(s,e){let{dragging:r,dependencies:a,config:i}=e;const[n,o]=v.useState(null),{frequency:l,measure:d,strategy:u}=i,c=v.useRef(s),b=N(),h=Uh(b),m=v.useCallback(function(g){g===void 0&&(g=[]),!h.current&&o(D=>D===null?g:D.concat(g.filter(w=>!D.includes(w))))},[h]),f=v.useRef(null),p=of(g=>{if(b&&!r)return JP;if(!g||g===JP||c.current!==s||n!=null){const D=new Map;for(let w of s){if(!w)continue;if(n&&n.length>0&&!n.includes(w.id)&&w.rect.current){D.set(w.id,w.rect.current);continue}const A=w.node.current,U=A?new ww(d(A),A):null;w.rect.current=U,U&&D.set(w.id,U)}return D}return g},[s,n,r,b,d]);return v.useEffect(()=>{c.current=s},[s]),v.useEffect(()=>{b||m()},[r,b]),v.useEffect(()=>{n&&n.length>0&&o(null)},[JSON.stringify(n)]),v.useEffect(()=>{b||typeof l!="number"||f.current!==null||(f.current=setTimeout(()=>{m(),f.current=null},l))},[l,b,m,...a]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:n!=null};function N(){switch(u){case Ch.Always:return!1;case Ch.BeforeDragging:return r;default:return!r}}}function b4(s,e){return of(r=>s?r||(typeof e=="function"?e(s):s):null,[e,s])}function jZ(s,e){return b4(s,e)}function AZ(s){let{callback:e,disabled:r}=s;const a=vw(e),i=v.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:n}=window;return new n(a)},[a,r]);return v.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function vg(s){let{callback:e,disabled:r}=s;const a=vw(e),i=v.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:n}=window;return new n(a)},[r]);return v.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function EZ(s){return new ww(Tm(s),s)}function ZP(s,e,r){e===void 0&&(e=EZ);const[a,i]=v.useState(null);function n(){i(d=>{if(!s)return null;if(s.isConnected===!1){var u;return(u=d??r)!=null?u:null}const c=e(s);return JSON.stringify(d)===JSON.stringify(c)?d:c})}const o=AZ({callback(d){if(s)for(const u of d){const{type:c,target:b}=u;if(c==="childList"&&b instanceof HTMLElement&&b.contains(s)){n();break}}}}),l=vg({callback:n});return qo(()=>{n(),s?(l==null||l.observe(s),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[s]),a}function PZ(s){const e=b4(s);return i4(s,e)}const XP=[];function yZ(s){const e=v.useRef(s),r=of(a=>s?a&&a!==XP&&s&&e.current&&s.parentNode===e.current.parentNode?a:xg(s):XP,[s]);return v.useEffect(()=>{e.current=s},[s]),r}function OZ(s){const[e,r]=v.useState(null),a=v.useRef(s),i=v.useCallback(n=>{const o=tv(n.target);o&&r(l=>l?(l.set(o,o1(o)),new Map(l)):null)},[]);return v.useEffect(()=>{const n=a.current;if(s!==n){o(n);const l=s.map(d=>{const u=tv(d);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,o1(u)]):null}).filter(d=>d!=null);r(l.length?new Map(l):null),a.current=s}return()=>{o(s),o(n)};function o(l){l.forEach(d=>{const u=tv(d);u==null||u.removeEventListener("scroll",i)})}},[i,s]),v.useMemo(()=>s.length?e?Array.from(e.values()).reduce((n,o)=>Zc(n,o),No):c4(s):No,[s,e])}function e2(s,e){e===void 0&&(e=[]);const r=v.useRef(null);return v.useEffect(()=>{r.current=null},e),v.useEffect(()=>{const a=s!==No;a&&!r.current&&(r.current=s),!a&&r.current&&(r.current=null)},[s]),r.current?Vh(s,r.current):No}function WZ(s){v.useEffect(()=>{if(!gg)return;const e=s.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of e)r==null||r()}},s.map(e=>{let{sensor:r}=e;return r}))}function UZ(s,e){return v.useMemo(()=>s.reduce((r,a)=>{let{eventName:i,handler:n}=a;return r[i]=o=>{n(o,e)},r},{}),[s,e])}function h4(s){return v.useMemo(()=>s?sZ(s):null,[s])}const s2=[];function VZ(s,e){e===void 0&&(e=Tm);const[r]=s,a=h4(r?Gi(r):null),[i,n]=v.useState(s2);function o(){n(()=>s.length?s.map(d=>d4(d)?a:new ww(e(d),d)):s2)}const l=vg({callback:o});return qo(()=>{l==null||l.disconnect(),o(),s.forEach(d=>l==null?void 0:l.observe(d))},[s]),i}function _Z(s){if(!s)return null;if(s.children.length>1)return s;const e=s.children[0];return nf(e)?e:s}function CZ(s){let{measure:e}=s;const[r,a]=v.useState(null),i=v.useCallback(u=>{for(const{target:c}of u)if(nf(c)){a(b=>{const h=e(c);return b?{...b,width:h.width,height:h.height}:h});break}},[e]),n=vg({callback:i}),o=v.useCallback(u=>{const c=_Z(u);n==null||n.disconnect(),c&&(n==null||n.observe(c)),a(c?e(c):null)},[e,n]),[l,d]=uk(o);return v.useMemo(()=>({nodeRef:l,rect:r,setRef:d}),[r,l,d])}const SZ=[{sensor:Ew,options:{}},{sensor:jw,options:{}}],TZ={current:{}},Jp={draggable:{measure:GP},droppable:{measure:GP,strategy:Ch.WhileDragging,frequency:d1.Optimized},dragOverlay:{measure:Tm}};class Xb extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,a;return(r=(a=this.get(e))==null?void 0:a.node.current)!=null?r:void 0}}const RZ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Xb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ck},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jp,measureDroppableContainers:ck,windowRect:null,measuringScheduled:!1},MZ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ck,draggableNodes:new Map,over:null,measureDroppableContainers:ck},Dg=v.createContext(MZ),f4=v.createContext(RZ);function LZ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Xb}}}function IZ(s,e){switch(e.type){case Ia.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ia.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:e.coordinates.x-s.draggable.initialCoordinates.x,y:e.coordinates.y-s.draggable.initialCoordinates.y}}};case Ia.DragEnd:case Ia.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ia.RegisterDroppable:{const{element:r}=e,{id:a}=r,i=new Xb(s.droppable.containers);return i.set(a,r),{...s,droppable:{...s.droppable,containers:i}}}case Ia.SetDroppableDisabled:{const{id:r,key:a,disabled:i}=e,n=s.droppable.containers.get(r);if(!n||a!==n.key)return s;const o=new Xb(s.droppable.containers);return o.set(r,{...n,disabled:i}),{...s,droppable:{...s.droppable,containers:o}}}case Ia.UnregisterDroppable:{const{id:r,key:a}=e,i=s.droppable.containers.get(r);if(!i||a!==i.key)return s;const n=new Xb(s.droppable.containers);return n.delete(r),{...s,droppable:{...s.droppable,containers:n}}}default:return s}}function FZ(s){let{disabled:e}=s;const{active:r,activatorEvent:a,draggableNodes:i}=v.useContext(Dg),n=i1(a),o=i1(r==null?void 0:r.id);return v.useEffect(()=>{if(!e&&!a&&n&&o!=null){if(!Dw(n)||document.activeElement===n.target)return;const l=i.get(o);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[d.current,u.current]){if(!c)continue;const b=_J(c);if(b){b.focus();break}}})}},[a,e,i,o,n]),null}function zZ(s,e){let{transform:r,...a}=e;return s!=null&&s.length?s.reduce((i,n)=>n({transform:i,...a}),r):r}function BZ(s){return v.useMemo(()=>({draggable:{...Jp.draggable,...s==null?void 0:s.draggable},droppable:{...Jp.droppable,...s==null?void 0:s.droppable},dragOverlay:{...Jp.dragOverlay,...s==null?void 0:s.dragOverlay}}),[s==null?void 0:s.draggable,s==null?void 0:s.droppable,s==null?void 0:s.dragOverlay])}function qZ(s){let{activeNode:e,measure:r,initialRect:a,config:i=!0}=s;const n=v.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;qo(()=>{if(!o&&!l||!e){n.current=!1;return}if(n.current||!a)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=r(u),b=i4(c,a);if(o||(b.x=0),l||(b.y=0),n.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const h=n4(u);h&&h.scrollBy({top:b.y,left:b.x})}},[e,o,l,a,r])}const p4=v.createContext({...No,scaleX:1,scaleY:1});var rd;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(rd||(rd={}));const $Z=v.memo(function(e){var r,a,i,n;let{id:o,accessibility:l,autoScroll:d=!0,children:u,sensors:c=SZ,collisionDetection:b=KJ,measuring:h,modifiers:m,...f}=e;const p=v.useReducer(IZ,void 0,LZ),[N,g]=p,[D,w]=LJ(),[A,U]=v.useState(rd.Uninitialized),E=A===rd.Initialized,{draggable:{active:W,nodes:y,translate:V},droppable:{containers:S}}=N,O=W!=null?y.get(W):null,_=v.useRef({initial:null,translated:null}),M=v.useMemo(()=>{var rt;return W!=null?{id:W,data:(rt=O==null?void 0:O.data)!=null?rt:TZ,rect:_}:null},[W,O]),R=v.useRef(null),[Q,ne]=v.useState(null),[ie,Z]=v.useState(null),Ne=Uh(f,Object.values(f)),_e=lf("DndDescribedBy",o),fe=v.useMemo(()=>S.getEnabled(),[S]),T=BZ(h),{droppableRects:G,measureDroppableContainers:J,measuringScheduled:ce}=wZ(fe,{dragging:E,dependencies:[V.x,V.y],config:T.droppable}),ke=vZ(y,W),we=v.useMemo(()=>ie?n1(ie):null,[ie]),We=mr(),Oe=jZ(ke,T.draggable.measure);qZ({activeNode:W!=null?y.get(W):null,config:We.layoutShiftCompensation,initialRect:Oe,measure:T.draggable.measure});const ye=ZP(ke,T.draggable.measure,Oe),De=ZP(ke?ke.parentElement:null),Ye=v.useRef({activatorEvent:null,active:null,activeNode:ke,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ls=S.getNodeFor((r=Ye.current.over)==null?void 0:r.id),pe=CZ({measure:T.dragOverlay.measure}),ee=(a=pe.nodeRef.current)!=null?a:ke,Ms=E?(i=pe.rect)!=null?i:ye:null,st=!!(pe.nodeRef.current&&pe.rect),Ps=PZ(st?null:ye),Je=h4(ee?Gi(ee):null),se=yZ(E?ls??ke:null),be=VZ(se),Ee=zZ(m,{transform:{x:V.x-Ps.x,y:V.y-Ps.y,scaleX:1,scaleY:1},activatorEvent:ie,active:M,activeNodeRect:ye,containerNodeRect:De,draggingNodeRect:Ms,over:Ye.current.over,overlayNodeRect:pe.rect,scrollableAncestors:se,scrollableAncestorRects:be,windowRect:Je}),Se=we?Zc(we,V):null,He=OZ(se),Te=e2(He),qe=e2(He,[ye]),ks=Zc(Ee,Te),hs=Ms?JJ(Ms,Ee):null,fs=M&&hs?b({active:M,collisionRect:hs,droppableRects:G,droppableContainers:fe,pointerCoordinates:Se}):null,ys=a4(fs,"id"),[ps,$t]=v.useState(null),wt=st?Ee:Zc(Ee,qe),gs=QJ(wt,(n=ps==null?void 0:ps.rect)!=null?n:null,ye),Zs=v.useRef(null),yt=v.useCallback((rt,xs)=>{let{sensor:it,options:Us}=xs;if(R.current==null)return;const _s=y.get(R.current);if(!_s)return;const at=rt.nativeEvent,Ht=new it({active:R.current,activeNode:_s,event:at,options:Us,context:Ye,onAbort(Mt){if(!y.get(Mt))return;const{onDragAbort:Lt}=Ne.current,tr={id:Mt};Lt==null||Lt(tr),D({type:"onDragAbort",event:tr})},onPending(Mt,yr,Lt,tr){if(!y.get(Mt))return;const{onDragPending:me}=Ne.current,ze={id:Mt,constraint:yr,initialCoordinates:Lt,offset:tr};me==null||me(ze),D({type:"onDragPending",event:ze})},onStart(Mt){const yr=R.current;if(yr==null)return;const Lt=y.get(yr);if(!Lt)return;const{onDragStart:tr}=Ne.current,br={activatorEvent:at,active:{id:yr,data:Lt.data,rect:_}};Nu.unstable_batchedUpdates(()=>{tr==null||tr(br),U(rd.Initializing),g({type:Ia.DragStart,initialCoordinates:Mt,active:yr}),D({type:"onDragStart",event:br}),ne(Zs.current),Z(at)})},onMove(Mt){g({type:Ia.DragMove,coordinates:Mt})},onEnd:vs(Ia.DragEnd),onCancel:vs(Ia.DragCancel)});Zs.current=Ht;function vs(Mt){return async function(){const{active:Lt,collisions:tr,over:br,scrollAdjustedTranslate:me}=Ye.current;let ze=null;if(Lt&&me){const{cancelDrop:cs}=Ne.current;ze={activatorEvent:at,active:Lt,collisions:tr,delta:me,over:br},Mt===Ia.DragEnd&&typeof cs=="function"&&await Promise.resolve(cs(ze))&&(Mt=Ia.DragCancel)}R.current=null,Nu.unstable_batchedUpdates(()=>{g({type:Mt}),U(rd.Uninitialized),$t(null),ne(null),Z(null),Zs.current=null;const cs=Mt===Ia.DragEnd?"onDragEnd":"onDragCancel";if(ze){const Is=Ne.current[cs];Is==null||Is(ze),D({type:cs,event:ze})}})}}},[y]),zs=v.useCallback((rt,xs)=>(it,Us)=>{const _s=it.nativeEvent,at=y.get(Us);if(R.current!==null||!at||_s.dndKit||_s.defaultPrevented)return;const Ht={active:at};rt(it,xs.options,Ht)===!0&&(_s.dndKit={capturedBy:xs.sensor},R.current=Us,yt(it,xs))},[y,yt]),bt=DZ(c,zs);WZ(c),qo(()=>{ye&&A===rd.Initializing&&U(rd.Initialized)},[ye,A]),v.useEffect(()=>{const{onDragMove:rt}=Ne.current,{active:xs,activatorEvent:it,collisions:Us,over:_s}=Ye.current;if(!xs||!it)return;const at={active:xs,activatorEvent:it,collisions:Us,delta:{x:ks.x,y:ks.y},over:_s};Nu.unstable_batchedUpdates(()=>{rt==null||rt(at),D({type:"onDragMove",event:at})})},[ks.x,ks.y]),v.useEffect(()=>{const{active:rt,activatorEvent:xs,collisions:it,droppableContainers:Us,scrollAdjustedTranslate:_s}=Ye.current;if(!rt||R.current==null||!xs||!_s)return;const{onDragOver:at}=Ne.current,Ht=Us.get(ys),vs=Ht&&Ht.rect.current?{id:Ht.id,rect:Ht.rect.current,data:Ht.data,disabled:Ht.disabled}:null,Mt={active:rt,activatorEvent:xs,collisions:it,delta:{x:_s.x,y:_s.y},over:vs};Nu.unstable_batchedUpdates(()=>{$t(vs),at==null||at(Mt),D({type:"onDragOver",event:Mt})})},[ys]),qo(()=>{Ye.current={activatorEvent:ie,active:M,activeNode:ke,collisionRect:hs,collisions:fs,droppableRects:G,draggableNodes:y,draggingNode:ee,draggingNodeRect:Ms,droppableContainers:S,over:ps,scrollableAncestors:se,scrollAdjustedTranslate:ks},_.current={initial:Ms,translated:hs}},[M,ke,fs,hs,y,ee,Ms,G,S,ps,se,ks]),kZ({...We,delta:V,draggingRect:hs,pointerCoordinates:Se,scrollableAncestors:se,scrollableAncestorRects:be});const tt=v.useMemo(()=>({active:M,activeNode:ke,activeNodeRect:ye,activatorEvent:ie,collisions:fs,containerNodeRect:De,dragOverlay:pe,draggableNodes:y,droppableContainers:S,droppableRects:G,over:ps,measureDroppableContainers:J,scrollableAncestors:se,scrollableAncestorRects:be,measuringConfiguration:T,measuringScheduled:ce,windowRect:Je}),[M,ke,ye,ie,fs,De,pe,y,S,G,ps,J,se,be,T,ce,Je]),Nr=v.useMemo(()=>({activatorEvent:ie,activators:bt,active:M,activeNodeRect:ye,ariaDescribedById:{draggable:_e},dispatch:g,draggableNodes:y,over:ps,measureDroppableContainers:J}),[ie,bt,M,ye,g,_e,y,ps,J]);return Ge.createElement(s4.Provider,{value:w},Ge.createElement(Dg.Provider,{value:Nr},Ge.createElement(f4.Provider,{value:tt},Ge.createElement(p4.Provider,{value:gs},u)),Ge.createElement(FZ,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ge.createElement(zJ,{...l,hiddenTextDescribedById:_e}));function mr(){const rt=(Q==null?void 0:Q.autoScrollEnabled)===!1,xs=typeof d=="object"?d.enabled===!1:d===!1,it=E&&!rt&&!xs;return typeof d=="object"?{...d,enabled:it}:{enabled:it}}}),HZ=v.createContext(null),t2="button",GZ="Draggable";function KZ(s){let{id:e,data:r,disabled:a=!1,attributes:i}=s;const n=lf(GZ),{activators:o,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:c,draggableNodes:b,over:h}=v.useContext(Dg),{role:m=t2,roleDescription:f="draggable",tabIndex:p=0}=i??{},N=(d==null?void 0:d.id)===e,g=v.useContext(N?p4:HZ),[D,w]=uk(),[A,U]=uk(),E=UZ(o,e),W=Uh(r);qo(()=>(b.set(e,{id:e,key:n,node:D,activatorNode:A,data:W}),()=>{const V=b.get(e);V&&V.key===n&&b.delete(e)}),[b,e]);const y=v.useMemo(()=>({role:m,tabIndex:p,"aria-disabled":a,"aria-pressed":N&&m===t2?!0:void 0,"aria-roledescription":f,"aria-describedby":c.draggable}),[a,m,p,N,f,c.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:y,isDragging:N,listeners:a?void 0:E,node:D,over:h,setNodeRef:w,setActivatorNodeRef:U,transform:g}}function QZ(){return v.useContext(f4)}const YZ="Droppable",JZ={timeout:25};function ZZ(s){let{data:e,disabled:r=!1,id:a,resizeObserverConfig:i}=s;const n=lf(YZ),{active:o,dispatch:l,over:d,measureDroppableContainers:u}=v.useContext(Dg),c=v.useRef({disabled:r}),b=v.useRef(!1),h=v.useRef(null),m=v.useRef(null),{disabled:f,updateMeasurementsFor:p,timeout:N}={...JZ,...i},g=Uh(p??a),D=v.useCallback(()=>{if(!b.current){b.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),m.current=null},N)},[N]),w=vg({callback:D,disabled:f||!o}),A=v.useCallback((y,V)=>{w&&(V&&(w.unobserve(V),b.current=!1),y&&w.observe(y))},[w]),[U,E]=uk(A),W=Uh(e);return v.useEffect(()=>{!w||!U.current||(w.disconnect(),b.current=!1,w.observe(U.current))},[U,w]),v.useEffect(()=>(l({type:Ia.RegisterDroppable,element:{id:a,key:n,disabled:r,node:U,rect:h,data:W}}),()=>l({type:Ia.UnregisterDroppable,key:n,id:a})),[a]),v.useEffect(()=>{r!==c.current.disabled&&(l({type:Ia.SetDroppableDisabled,id:a,key:n,disabled:r}),c.current.disabled=r)},[a,n,r,l]),{active:o,rect:h,isOver:(d==null?void 0:d.id)===a,node:U,over:d,setNodeRef:E}}function Pw(s,e,r){const a=s.slice();return a.splice(r<0?a.length+r:r,0,a.splice(e,1)[0]),a}function XZ(s,e){return s.reduce((r,a,i)=>{const n=e.get(a);return n&&(r[i]=n),r},Array(s.length))}function Dp(s){return s!==null&&s>=0}function eX(s,e){if(s===e)return!0;if(s.length!==e.length)return!1;for(let r=0;r<s.length;r++)if(s[r]!==e[r])return!1;return!0}function sX(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const N4=s=>{let{rects:e,activeIndex:r,overIndex:a,index:i}=s;const n=Pw(e,a,r),o=e[i],l=n[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},wp={scaleX:1,scaleY:1},tX=s=>{var e;let{activeIndex:r,activeNodeRect:a,index:i,rects:n,overIndex:o}=s;const l=(e=n[r])!=null?e:a;if(!l)return null;if(i===r){const u=n[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...wp}:null}const d=rX(n,i,r);return i>r&&i<=o?{x:0,y:-l.height-d,...wp}:i<r&&i>=o?{x:0,y:l.height+d,...wp}:{x:0,y:0,...wp}};function rX(s,e,r){const a=s[e],i=s[e-1],n=s[e+1];return a?r<e?i?a.top-(i.top+i.height):n?n.top-(a.top+a.height):0:n?n.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const k4="Sortable",g4=Ge.createContext({activeIndex:-1,containerId:k4,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:N4,disabled:{draggable:!1,droppable:!1}});function aX(s){let{children:e,id:r,items:a,strategy:i=N4,disabled:n=!1}=s;const{active:o,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:c}=QZ(),b=lf(k4,r),h=l.rect!==null,m=v.useMemo(()=>a.map(E=>typeof E=="object"&&"id"in E?E.id:E),[a]),f=o!=null,p=o?m.indexOf(o.id):-1,N=u?m.indexOf(u.id):-1,g=v.useRef(m),D=!eX(m,g.current),w=N!==-1&&p===-1||D,A=sX(n);qo(()=>{D&&f&&c(m)},[D,m,f,c]),v.useEffect(()=>{g.current=m},[m]);const U=v.useMemo(()=>({activeIndex:p,containerId:b,disabled:A,disableTransforms:w,items:m,overIndex:N,useDragOverlay:h,sortedRects:XZ(m,d),strategy:i}),[p,b,A.draggable,A.droppable,w,m,N,d,h,i]);return Ge.createElement(g4.Provider,{value:U},e)}const iX=s=>{let{id:e,items:r,activeIndex:a,overIndex:i}=s;return Pw(r,a,i).indexOf(e)},nX=s=>{let{containerId:e,isSorting:r,wasDragging:a,index:i,items:n,newIndex:o,previousItems:l,previousContainerId:d,transition:u}=s;return!u||!a||l!==n&&i===o?!1:r?!0:o!==i&&e===d},oX={duration:200,easing:"ease"},x4="transform",lX=_h.Transition.toString({property:x4,duration:0,easing:"linear"}),dX={roleDescription:"sortable"};function uX(s){let{disabled:e,index:r,node:a,rect:i}=s;const[n,o]=v.useState(null),l=v.useRef(r);return qo(()=>{if(!e&&r!==l.current&&a.current){const d=i.current;if(d){const u=Tm(a.current,{ignoreTransform:!0}),c={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(c.x||c.y)&&o(c)}}r!==l.current&&(l.current=r)},[e,r,a,i]),v.useEffect(()=>{n&&o(null)},[n]),n}function cX(s){let{animateLayoutChanges:e=nX,attributes:r,disabled:a,data:i,getNewIndex:n=iX,id:o,strategy:l,resizeObserverConfig:d,transition:u=oX}=s;const{items:c,containerId:b,activeIndex:h,disabled:m,disableTransforms:f,sortedRects:p,overIndex:N,useDragOverlay:g,strategy:D}=v.useContext(g4),w=mX(a,m),A=c.indexOf(o),U=v.useMemo(()=>({sortable:{containerId:b,index:A,items:c},...i}),[b,i,A,c]),E=v.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:W,node:y,isOver:V,setNodeRef:S}=ZZ({id:o,data:U,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...d}}),{active:O,activatorEvent:_,activeNodeRect:M,attributes:R,setNodeRef:Q,listeners:ne,isDragging:ie,over:Z,setActivatorNodeRef:Ne,transform:_e}=KZ({id:o,data:U,attributes:{...dX,...r},disabled:w.draggable}),fe=OJ(S,Q),T=!!O,G=T&&!f&&Dp(h)&&Dp(N),J=!g&&ie,ce=J&&G?_e:null,we=G?ce??(l??D)({rects:p,activeNodeRect:M,activeIndex:h,overIndex:N,index:A}):null,We=Dp(h)&&Dp(N)?n({id:o,items:c,activeIndex:h,overIndex:N}):A,Oe=O==null?void 0:O.id,ye=v.useRef({activeId:Oe,items:c,newIndex:We,containerId:b}),De=c!==ye.current.items,Ye=e({active:O,containerId:b,isDragging:ie,isSorting:T,id:o,index:A,items:c,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:u,wasDragging:ye.current.activeId!=null}),ls=uX({disabled:!Ye,index:A,node:y,rect:W});return v.useEffect(()=>{T&&ye.current.newIndex!==We&&(ye.current.newIndex=We),b!==ye.current.containerId&&(ye.current.containerId=b),c!==ye.current.items&&(ye.current.items=c)},[T,We,b,c]),v.useEffect(()=>{if(Oe===ye.current.activeId)return;if(Oe!=null&&ye.current.activeId==null){ye.current.activeId=Oe;return}const ee=setTimeout(()=>{ye.current.activeId=Oe},50);return()=>clearTimeout(ee)},[Oe]),{active:O,activeIndex:h,attributes:R,data:U,rect:W,index:A,newIndex:We,items:c,isOver:V,isSorting:T,isDragging:ie,listeners:ne,node:y,overIndex:N,over:Z,setNodeRef:fe,setActivatorNodeRef:Ne,setDroppableNodeRef:S,setDraggableNodeRef:Q,transform:ls??we,transition:pe()};function pe(){if(ls||De&&ye.current.newIndex===A)return lX;if(!(J&&!Dw(_)||!u)&&(T||Ye))return _h.Transition.toString({...u,property:x4})}}function mX(s,e){var r,a;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(r=s==null?void 0:s.draggable)!=null?r:e.draggable,droppable:(a=s==null?void 0:s.droppable)!=null?a:e.droppable}}function bk(s){if(!s)return!1;const e=s.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const bX=[Jt.Down,Jt.Right,Jt.Up,Jt.Left],hX=(s,e)=>{let{context:{active:r,collisionRect:a,droppableRects:i,droppableContainers:n,over:o,scrollableAncestors:l}}=e;if(bX.includes(s.code)){if(s.preventDefault(),!r||!a)return;const d=[];n.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const h=i.get(b.id);if(h)switch(s.code){case Jt.Down:a.top<h.top&&d.push(b);break;case Jt.Up:a.top>h.top&&d.push(b);break;case Jt.Left:a.left>h.left&&d.push(b);break;case Jt.Right:a.left<h.left&&d.push(b);break}});const u=HJ({active:r,collisionRect:a,droppableRects:i,droppableContainers:d,pointerCoordinates:null});let c=a4(u,"id");if(c===(o==null?void 0:o.id)&&u.length>1&&(c=u[1].id),c!=null){const b=n.get(r.id),h=n.get(c),m=h?i.get(h.id):null,f=h==null?void 0:h.node.current;if(f&&m&&b&&h){const N=xg(f).some((E,W)=>l[W]!==E),g=v4(b,h),D=fX(b,h),w=N||!g?{x:0,y:0}:{x:D?a.width-m.width:0,y:D?a.height-m.height:0},A={x:m.left,y:m.top};return w.x&&w.y?A:Vh(A,w)}}}};function v4(s,e){return!bk(s)||!bk(e)?!1:s.data.current.sortable.containerId===e.data.current.sortable.containerId}function fX(s,e){return!bk(s)||!bk(e)||!v4(s,e)?!1:s.data.current.sortable.index<e.data.current.sortable.index}const yw=()=>{const{toast:s}=Hs(),e=Lr(),{data:r,isLoading:a}=bs({queryKey:["audit-procedures"],queryFn:async()=>{const{data:l,error:d}=await le.from("audit_procedures").select("*").eq("is_active",!0).order("procedure_code");if(d)throw d;return l||[]}}),i=Rs({mutationFn:async l=>{const{data:d,error:u}=await le.from("audit_procedures").insert([l]).select().single();if(u)throw u;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["audit-procedures"]}),s({title:"Procedure created",description:"The audit procedure has been created successfully."})},onError:l=>{s({title:"Error creating procedure",description:l.message,variant:"destructive"})}}),n=Rs({mutationFn:async({id:l,...d})=>{const{data:u,error:c}=await le.from("audit_procedures").update(d).eq("id",l).select().single();if(c)throw c;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["audit-procedures"]}),s({title:"Procedure updated",description:"The audit procedure has been updated successfully."})},onError:l=>{s({title:"Error updating procedure",description:l.message,variant:"destructive"})}}),o=Rs({mutationFn:async l=>{const{error:d}=await le.from("audit_procedures").update({is_active:!1}).eq("id",l);if(d)throw d},onSuccess:()=>{e.invalidateQueries({queryKey:["audit-procedures"]}),s({title:"Procedure archived",description:"The audit procedure has been archived."})},onError:l=>{s({title:"Error archiving procedure",description:l.message,variant:"destructive"})}});return{procedures:r,isLoading:a,createProcedure:i.mutate,updateProcedure:n.mutate,deleteProcedure:o.mutate}};function pX({procedure:s,onRemove:e}){const{attributes:r,listeners:a,setNodeRef:i,transform:n,transition:o,isDragging:l}=cX({id:s.id}),d={transform:_h.Transform.toString(n),transition:o,opacity:l?.5:1};return t.jsxDEV("div",{ref:i,style:d,className:"flex items-center gap-3 p-3 bg-background border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxDEV("button",{...r,...a,className:"cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",children:t.jsxDEV(i6,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:50,columnNumber:7},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-medium",children:s.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:55,columnNumber:11},this),t.jsxDEV(he,{variant:"outline",className:"text-xs",children:s.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:54,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:58,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[s.estimated_hours&&t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:62,columnNumber:15},this),s.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:61,columnNumber:13},this),s.requiresReview&&t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(Ks,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:68,columnNumber:15},this),"Requires Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:53,columnNumber:7},this),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:e,children:t.jsxDEV(qn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:45,columnNumber:5},this)}function NX({open:s,onOpenChange:e,engagementId:r,onSuccess:a}){const{procedures:i=[],isLoading:n}=yw(),[o,l]=v.useState(1),[d,u]=v.useState(""),[c,b]=v.useState(""),[h,m]=v.useState("all"),[f,p]=v.useState(""),[N,g]=v.useState([]),D=BJ(qP(Ew),qP(jw,{coordinateGetter:hX})),w=Array.from(new Set(i.map(_=>_.category))),A=i.filter(_=>{const M=!N.find(ne=>ne.id===_.id),R=h==="all"||_.category===h,Q=_.procedure_name.toLowerCase().includes(f.toLowerCase())||_.procedure_code.toLowerCase().includes(f.toLowerCase());return M&&R&&Q}),U=_=>{const{active:M,over:R}=_;R&&M.id!==R.id&&g(Q=>{const ne=Q.findIndex(Z=>Z.id===M.id),ie=Q.findIndex(Z=>Z.id===R.id);return Pw(Q,ne,ie)})},E=_=>{g([...N,{id:_.id,procedure_code:_.procedure_code,procedure_name:_.procedure_name,category:_.category,estimated_hours:_.estimated_hours,requiresReview:!0}])},W=_=>{g(N.filter(M=>M.id!==_))},y=()=>{if(o===1&&(!d||!c)){ri.error("Please provide program name and description");return}if(o===2&&N.length===0){ri.error("Please select at least one procedure");return}l(o+1)},V=()=>{l(o-1)},S=async()=>{try{ri.success("Program created successfully"),a==null||a(),e(!1),l(1),u(""),b(""),g([])}catch{ri.error("Failed to create program")}},O=N.reduce((_,M)=>_+(M.estimated_hours||0),0);return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-5xl max-h-[90vh] flex flex-col",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Build Audit Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:175,columnNumber:11},this),t.jsxDEV(Bt,{children:["Step ",o," of 3: ",o===1?"Program Details":o===2?"Select & Order Procedures":"Review & Configure"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:174,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 overflow-hidden",children:[o===1&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV(H,{htmlFor:"programName",children:"Program Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:186,columnNumber:17},this),t.jsxDEV(ve,{id:"programName",placeholder:"e.g., SOC 2 Type II Audit Program",value:d,onChange:_=>u(_.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:185,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(H,{htmlFor:"programDescription",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:195,columnNumber:17},this),t.jsxDEV(Wt,{id:"programDescription",placeholder:"Describe the purpose and scope of this audit program...",value:c,onChange:_=>b(_.target.value),rows:4},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:196,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:194,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(H,{children:"Program Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:205,columnNumber:17},this),t.jsxDEV(is,{defaultValue:"compliance",children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:208,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:207,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"compliance",children:"Compliance Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:211,columnNumber:21},this),t.jsxDEV(X,{value:"financial",children:"Financial Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:212,columnNumber:21},this),t.jsxDEV(X,{value:"operational",children:"Operational Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:213,columnNumber:21},this),t.jsxDEV(X,{value:"it",children:"IT Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:214,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:206,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:184,columnNumber:13},this),o===2&&t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 h-[500px]",children:[t.jsxDEV("div",{className:"flex flex-col",children:[t.jsxDEV("h3",{className:"font-semibold mb-3",children:"Available Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:226,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2 mb-3",children:[t.jsxDEV(ve,{placeholder:"Search procedures...",value:f,onChange:_=>p(_.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:228,columnNumber:19},this),t.jsxDEV(is,{value:h,onValueChange:m,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"All Categories"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:235,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:234,columnNumber:21},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Categories"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:238,columnNumber:23},this),w.map(_=>t.jsxDEV(X,{value:_,children:_},_,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:240,columnNumber:25},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:237,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:227,columnNumber:17},this),t.jsxDEV(Wa,{className:"flex-1 border rounded-lg p-2",children:t.jsxDEV("div",{className:"space-y-2",children:n?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading procedures..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:248,columnNumber:23},this):A.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No procedures available"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:250,columnNumber:23},this):A.map(_=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-medium text-sm",children:_.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:259,columnNumber:31},this),t.jsxDEV(he,{variant:"outline",className:"text-xs",children:_.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:260,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:258,columnNumber:29},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:_.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:262,columnNumber:29},this),_.estimated_hours&&t.jsxDEV("span",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:265,columnNumber:33},this),_.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:264,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:257,columnNumber:27},this),t.jsxDEV(F,{size:"sm",variant:"ghost",onClick:()=>E(_),children:t.jsxDEV(vt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:275,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:270,columnNumber:27},this)]},_.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:253,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:246,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:225,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col",children:[t.jsxDEV("h3",{className:"font-semibold mb-3",children:["Program Procedures (",N.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:286,columnNumber:17},this),t.jsxDEV("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:t.jsxDEV("div",{className:"text-sm space-y-1",children:[t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Total Procedures:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:292,columnNumber:23},this),t.jsxDEV("span",{className:"font-medium",children:N.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:293,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:291,columnNumber:21},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Est. Total Hours:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:296,columnNumber:23},this),t.jsxDEV("span",{className:"font-medium",children:[O,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:297,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:290,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:289,columnNumber:17},this),t.jsxDEV(Wa,{className:"flex-1 border rounded-lg p-2",children:N.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(vt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:304,columnNumber:23},this),t.jsxDEV("p",{children:"Drag procedures here or click + to add"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:305,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:303,columnNumber:21},this):t.jsxDEV($Z,{sensors:D,collisionDetection:$J,onDragEnd:U,children:t.jsxDEV(aX,{items:N.map(_=>_.id),strategy:tX,children:t.jsxDEV("div",{className:"space-y-2",children:N.map(_=>t.jsxDEV(pX,{procedure:_,onRemove:()=>W(_.id)},_.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:312,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:310,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:309,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:308,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:223,columnNumber:13},this),o===3&&t.jsxDEV(Wa,{className:"h-[500px]",children:t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Program Summary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:332,columnNumber:19},this),t.jsxDEV("div",{className:"p-4 border rounded-lg space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Name:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:335,columnNumber:23},this),t.jsxDEV("p",{className:"font-medium",children:d},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:334,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Description:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:339,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm",children:c},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:340,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:338,columnNumber:21},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:342,columnNumber:21},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Procedures:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:345,columnNumber:25},this),t.jsxDEV("p",{className:"font-semibold text-lg",children:N.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:346,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:344,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Est. Hours:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:349,columnNumber:25},this),t.jsxDEV("p",{className:"font-semibold text-lg",children:[O,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:350,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:348,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Require Review:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:353,columnNumber:25},this),t.jsxDEV("p",{className:"font-semibold text-lg",children:N.filter(_=>_.requiresReview).length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:354,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:352,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:343,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:"Procedure Configuration"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:363,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:N.map((_,M)=>t.jsxDEV("div",{className:"p-4 border rounded-lg space-y-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",children:M+1},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:370,columnNumber:31},this),t.jsxDEV("span",{className:"font-medium",children:_.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:371,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:369,columnNumber:29},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:_.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:373,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:368,columnNumber:27},this),t.jsxDEV(he,{variant:"outline",className:"text-xs",children:_.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:375,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:367,columnNumber:25},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxDEV("div",{children:[t.jsxDEV(H,{className:"text-xs",children:"Default Assignee Role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:379,columnNumber:29},this),t.jsxDEV(is,{defaultValue:"staff_auditor",children:[t.jsxDEV(rs,{className:"h-8 text-xs",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:382,columnNumber:33},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:381,columnNumber:31},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"senior_auditor",children:"Senior Auditor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:385,columnNumber:33},this),t.jsxDEV(X,{value:"staff_auditor",children:"Staff Auditor"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:386,columnNumber:33},this),t.jsxDEV(X,{value:"engagement_manager",children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:387,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:384,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:380,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:378,columnNumber:27},this),t.jsxDEV("div",{children:[t.jsxDEV(H,{className:"text-xs",children:"Est. Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:392,columnNumber:29},this),t.jsxDEV(ve,{type:"number",defaultValue:_.estimated_hours||0,className:"h-8 text-xs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:393,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:391,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:377,columnNumber:25},this)]},_.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:366,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:364,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:362,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:330,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:329,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:181,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[t.jsxDEV("div",{className:"flex gap-2",children:o>1&&t.jsxDEV(F,{variant:"outline",onClick:V,children:"Back"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:412,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:410,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:418,columnNumber:13},this),o<3?t.jsxDEV(F,{onClick:y,children:"Next"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:422,columnNumber:15},this):t.jsxDEV(F,{onClick:S,children:"Create Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:426,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:417,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:409,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:173,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProgramBuilderWizard.tsx",lineNumber:172,columnNumber:5},this)}function kX(){var b,h,m,f,p;const s=Qt(),{templates:e,isLoading:r}=Z_(),[a,i]=v.useState(""),[n,o]=v.useState(!1),l=(e==null?void 0:e.filter(N=>N.is_standard))||[],d=(e==null?void 0:e.filter(N=>!N.is_standard))||[],u=N=>a?N==null?void 0:N.filter(g=>{var D;return g.template_name.toLowerCase().includes(a.toLowerCase())||g.audit_type.toLowerCase().includes(a.toLowerCase())||((D=g.industry)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))}):N,c=({program:N})=>t.jsxDEV(B,{className:"hover:border-primary transition-colors",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-1 flex-1",children:[t.jsxDEV(ue,{className:"text-lg",children:N.template_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:37,columnNumber:13},this),t.jsxDEV(Ke,{children:N.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:36,columnNumber:11},this),N.is_standard&&t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:"Standard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:41,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:35,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:34,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[t.jsxDEV(he,{variant:"outline",children:N.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:48,columnNumber:13},this),N.industry&&t.jsxDEV(he,{variant:"outline",children:N.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:50,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:47,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:55,columnNumber:15},this),t.jsxDEV("span",{children:[N.procedure_count||0," procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:54,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:45,columnNumber:7},this),t.jsxDEV(lm,{className:"gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>s(`/programs/${N.id}`),children:[t.jsxDEV(pn,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:68,columnNumber:11},this),"View Details"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:62,columnNumber:9},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:t.jsxDEV($1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:61,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:33,columnNumber:5},this);return r?t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:81,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:80,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Program Library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:91,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Browse and manage audit program templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:90,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>o(!0),children:[t.jsxDEV(U6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:98,columnNumber:13},this),"Build Program"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:97,columnNumber:11},this),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:102,columnNumber:13},this),"Create Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:89,columnNumber:7},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV("div",{className:"relative flex-1 max-w-md",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:110,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search programs...",value:a,onChange:N=>i(N.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:109,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:108,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"standard",className:"space-y-6",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"standard",children:["Standard Programs (",l.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:122,columnNumber:11},this),t.jsxDEV($e,{value:"custom",children:["Custom Programs (",d.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV($e,{value:"all",children:["All Programs (",(e==null?void 0:e.length)||0,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:121,columnNumber:9},this),t.jsxDEV(es,{value:"standard",className:"space-y-4",children:((b=u(l))==null?void 0:b.length)===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ws,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:137,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No standard programs found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:138,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:136,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:135,columnNumber:13},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(h=u(l))==null?void 0:h.map(N=>t.jsxDEV(c,{program:N},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:144,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:133,columnNumber:9},this),t.jsxDEV(es,{value:"custom",className:"space-y-4",children:((m=u(d))==null?void 0:m.length)===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ws,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:154,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No custom programs yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:155,columnNumber:17},this),t.jsxDEV(F,{className:"mt-4",children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:157,columnNumber:19},this),"Create Custom Program"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:156,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:153,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:152,columnNumber:13},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(f=u(d))==null?void 0:f.map(N=>t.jsxDEV(c,{program:N},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:165,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:163,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:150,columnNumber:9},this),t.jsxDEV(es,{value:"all",className:"space-y-4",children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(p=u(e))==null?void 0:p.map(N=>t.jsxDEV(c,{program:N},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:174,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:172,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:120,columnNumber:7},this),t.jsxDEV(NX,{open:n,onOpenChange:o,engagementId:"demo-engagement",onSuccess:()=>{}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:181,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramLibrary.tsx",lineNumber:88,columnNumber:5},this)}function gX(){var d;const{id:s}=Al(),e=Qt(),{data:r,isLoading:a}=bs({queryKey:["program-detail",s],queryFn:async()=>{const{data:u,error:c}=await le.from("audit_program_templates").select(`
          *,
          program_procedures(
            *,
            audit_procedures(*)
          )
        `).eq("id",s).single();if(c)throw c;return u},enabled:!!s});if(a)return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:39,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:40,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:38,columnNumber:7},this);if(!r)return t.jsxDEV("div",{className:"container mx-auto p-6",children:t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ys,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:50,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Program not found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:51,columnNumber:13},this),t.jsxDEV(F,{className:"mt-4",onClick:()=>e("/audit/programs"),children:"Back to Library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:52,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:49,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:47,columnNumber:7},this);const i=((d=r.program_procedures)==null?void 0:d.map(u=>({...u.audit_procedures,sequence_order:u.sequence_order,is_required:u.is_required,default_assigned_role:u.default_assigned_role})))||[],n=i.reduce((u,c)=>u+(c.estimated_hours||0),0),o=i.reduce((u,c)=>{const b=c.category||"other";return u[b]||(u[b]=[]),u[b].push(c),u},{}),l=u=>{switch(u){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}};return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(F,{variant:"outline",size:"icon",onClick:()=>e("/audit/programs"),children:t.jsxDEV(hn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:95,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:r.template_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:100,columnNumber:13},this),r.is_standard&&t.jsxDEV(he,{variant:"secondary",children:"Standard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:99,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:r.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(F,{children:"Use This Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:107,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:94,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Audit Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:112,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV(he,{variant:"outline",children:r.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:111,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm",children:r.industry||"N/A"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Total Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:129,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:128,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:133,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:i.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:132,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:127,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Estimated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:139,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:144,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:138,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:110,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"procedures",className:"space-y-6",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"procedures",children:["Procedures (",i.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:153,columnNumber:11},this),t.jsxDEV($e,{value:"overview",children:"Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:152,columnNumber:9},this),t.jsxDEV(es,{value:"procedures",className:"space-y-6",children:Object.entries(o).map(([u,c])=>t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"text-lg font-semibold capitalize",children:[u.replace("_"," ")," (",c.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 gap-3",children:c.map(b=>t.jsxDEV(B,{children:t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV(he,{variant:"outline",className:"font-mono text-xs",children:b.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:170,columnNumber:29},this),t.jsxDEV(he,{variant:l(b.risk_level),children:b.risk_level.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:173,columnNumber:29},this),b.is_required&&t.jsxDEV(he,{variant:"secondary",children:"Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:177,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:169,columnNumber:27},this),t.jsxDEV(ue,{className:"text-base",children:b.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:180,columnNumber:27},this),t.jsxDEV(Ke,{className:"mt-1",children:b.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:181,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:168,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:184,columnNumber:27},this),t.jsxDEV("span",{children:[b.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:185,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:183,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:167,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:166,columnNumber:21},this)},b.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:165,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:163,columnNumber:15},this)]},u,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:159,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:157,columnNumber:9},this),t.jsxDEV(es,{value:"overview",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Program Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:199,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:198,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:203,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:202,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"When to Use"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:207,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["This program is designed for ",r.audit_type," audits in the ",r.industry||"general"," industry."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:201,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:197,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:196,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:151,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramDetail.tsx",lineNumber:93,columnNumber:5},this)}function xX({procedure:s,open:e,onOpenChange:r,onEdit:a}){if(!s)return null;const i=o=>{switch(o){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},n=()=>{if(!s.instructions)return null;try{if(typeof s.instructions=="object"&&s.instructions.type==="doc"){const o=s.instructions.content||[];return t.jsxDEV("div",{className:"space-y-2",children:o.map((l,d)=>{var u,c,b;if(l.type==="paragraph")return t.jsxDEV("p",{className:"text-sm",children:((u=l.content)==null?void 0:u.map(h=>h.text).join(""))||""},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:55,columnNumber:19},this);if(l.type==="heading"){const m=`h${((c=l.attrs)==null?void 0:c.level)||1}`;return t.jsxDEV(m,{className:"font-semibold",children:((b=l.content)==null?void 0:b.map(f=>f.text).join(""))||""},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:64,columnNumber:19},this)}return null})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:51,columnNumber:11},this)}return t.jsxDEV("p",{className:"text-sm",children:String(s.instructions)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:76,columnNumber:14},this)}catch{return t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Instructions not available"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:78,columnNumber:14},this)}};return t.jsxDEV(Pt,{open:e,onOpenChange:r,children:t.jsxDEV(Dt,{className:"max-w-3xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-2 flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",className:"font-mono text-xs",children:s.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:89,columnNumber:17},this),t.jsxDEV(he,{variant:i(s.risk_level),children:[s.risk_level.toUpperCase()," RISK"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:92,columnNumber:17},this),t.jsxDEV(he,{variant:"secondary",children:s.category.replace("_"," ").toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:88,columnNumber:15},this),t.jsxDEV(St,{className:"text-2xl",children:s.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:99,columnNumber:15},this),s.objective&&t.jsxDEV(Bt,{className:"text-base",children:s.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:101,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:87,columnNumber:13},this),a&&t.jsxDEV(F,{variant:"outline",size:"sm",onClick:a,children:[t.jsxDEV(Yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:108,columnNumber:17},this),"Edit"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:85,columnNumber:9},this),t.jsxDEV(Wa,{className:"max-h-[60vh] pr-4",children:t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/50",children:[t.jsxDEV(dt,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:120,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Estimated Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:122,columnNumber:19},this),t.jsxDEV("p",{className:"text-lg font-semibold",children:[s.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:123,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:119,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/50",children:[t.jsxDEV(Lu,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:127,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:129,columnNumber:19},this),t.jsxDEV("p",{className:"text-lg font-semibold capitalize",children:s.procedure_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:130,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:128,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:118,columnNumber:13},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:142,columnNumber:17},this),"Step-by-Step Instructions"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:141,columnNumber:15},this),t.jsxDEV("div",{className:"prose prose-sm max-w-none",children:n()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:145,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:140,columnNumber:13},this),s.sample_size_guidance&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:153,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[t.jsxDEV(Lu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:156,columnNumber:21},this),"Sample Size Guidance"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:155,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.sample_size_guidance},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:159,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:154,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:152,columnNumber:15},this),s.evidence_requirements&&Array.isArray(s.evidence_requirements)&&s.evidence_requirements.length>0&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:169,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:172,columnNumber:21},this),"Evidence Requirements"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV("ul",{className:"space-y-2",children:s.evidence_requirements.map((o,l)=>t.jsxDEV("li",{className:"flex items-start gap-2 text-sm",children:[t.jsxDEV(Ks,{className:"h-4 w-4 mt-0.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:178,columnNumber:25},this),t.jsxDEV("span",{children:typeof o=="string"?o:o.description||"Evidence item"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:179,columnNumber:25},this)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:177,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:175,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:168,columnNumber:15},this),s.expected_outcomes&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:190,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:193,columnNumber:21},this),"Expected Outcomes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:192,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.expected_outcomes},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:196,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:191,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:189,columnNumber:15},this),s.control_objectives&&Array.isArray(s.control_objectives)&&s.control_objectives.length>0&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:206,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-semibold mb-3",children:"Control Objectives"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:208,columnNumber:19},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:s.control_objectives.map((o,l)=>t.jsxDEV(he,{variant:"outline",children:typeof o=="string"?o:o.code||"Objective"},l,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:211,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:209,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:205,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:116,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:115,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:84,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureDetailDialog.tsx",lineNumber:83,columnNumber:5},this)}var df=s=>s.type==="checkbox",wu=s=>s instanceof Date,Ai=s=>s==null;const D4=s=>typeof s=="object";var xa=s=>!Ai(s)&&!Array.isArray(s)&&D4(s)&&!wu(s),vX=s=>xa(s)&&s.target?df(s.target)?s.target.checked:s.target.value:s,DX=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,wX=(s,e)=>s.has(DX(e)),jX=s=>{const e=s.constructor&&s.constructor.prototype;return xa(e)&&e.hasOwnProperty("isPrototypeOf")},Ow=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qa(s){let e;const r=Array.isArray(s),a=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(!(Ow&&(s instanceof Blob||a))&&(r||xa(s)))if(e=r?[]:{},!r&&!jX(s))e=s;else for(const i in s)s.hasOwnProperty(i)&&(e[i]=qa(s[i]));else return s;return e}var wg=s=>/^\w*$/.test(s),ya=s=>s===void 0,Ww=s=>Array.isArray(s)?s.filter(Boolean):[],Uw=s=>Ww(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Ts=(s,e,r)=>{if(!e||!xa(s))return r;const a=(wg(e)?[e]:Uw(e)).reduce((i,n)=>Ai(i)?i:i[n],s);return ya(a)||a===s?ya(s[e])?r:s[e]:a},Vo=s=>typeof s=="boolean",Gr=(s,e,r)=>{let a=-1;const i=wg(e)?[e]:Uw(e),n=i.length,o=n-1;for(;++a<n;){const l=i[a];let d=r;if(a!==o){const u=s[l];d=xa(u)||Array.isArray(u)?u:isNaN(+i[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;s[l]=d,s=s[l]}};const r2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},uo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AX=Ge.createContext(null);AX.displayName="HookFormContext";var EX=(s,e,r,a=!0)=>{const i={defaultValues:e._defaultValues};for(const n in s)Object.defineProperty(i,n,{get:()=>{const o=n;return e._proxyFormState[o]!==uo.all&&(e._proxyFormState[o]=!a||uo.all),s[o]}});return i};const PX=typeof window<"u"?Ge.useLayoutEffect:Ge.useEffect;var So=s=>typeof s=="string",yX=(s,e,r,a,i)=>So(s)?(a&&e.watch.add(s),Ts(r,s,i)):Array.isArray(s)?s.map(n=>(a&&e.watch.add(n),Ts(r,n))):(a&&(e.watchAll=!0),r),u1=s=>Ai(s)||!D4(s);function od(s,e,r=new WeakSet){if(u1(s)||u1(e))return s===e;if(wu(s)&&wu(e))return s.getTime()===e.getTime();const a=Object.keys(s),i=Object.keys(e);if(a.length!==i.length)return!1;if(r.has(s)||r.has(e))return!0;r.add(s),r.add(e);for(const n of a){const o=s[n];if(!i.includes(n))return!1;if(n!=="ref"){const l=e[n];if(wu(o)&&wu(l)||xa(o)&&xa(l)||Array.isArray(o)&&Array.isArray(l)?!od(o,l,r):o!==l)return!1}}return!0}var OX=(s,e,r,a,i)=>e?{...r[s],types:{...r[s]&&r[s].types?r[s].types:{},[a]:i||!0}}:{},eh=s=>Array.isArray(s)?s:[s],a2=()=>{let s=[];return{get observers(){return s},next:i=>{for(const n of s)n.next&&n.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(n=>n!==i)}}),unsubscribe:()=>{s=[]}}},Ti=s=>xa(s)&&!Object.keys(s).length,Vw=s=>s.type==="file",co=s=>typeof s=="function",hk=s=>{if(!Ow)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},w4=s=>s.type==="select-multiple",_w=s=>s.type==="radio",WX=s=>_w(s)||df(s),iv=s=>hk(s)&&s.isConnected;function UX(s,e){const r=e.slice(0,-1).length;let a=0;for(;a<r;)s=ya(s)?a++:s[e[a++]];return s}function VX(s){for(const e in s)if(s.hasOwnProperty(e)&&!ya(s[e]))return!1;return!0}function Ea(s,e){const r=Array.isArray(e)?e:wg(e)?[e]:Uw(e),a=r.length===1?s:UX(s,r),i=r.length-1,n=r[i];return a&&delete a[n],i!==0&&(xa(a)&&Ti(a)||Array.isArray(a)&&VX(a))&&Ea(s,r.slice(0,-1)),s}var j4=s=>{for(const e in s)if(co(s[e]))return!0;return!1};function fk(s,e={}){const r=Array.isArray(s);if(xa(s)||r)for(const a in s)Array.isArray(s[a])||xa(s[a])&&!j4(s[a])?(e[a]=Array.isArray(s[a])?[]:{},fk(s[a],e[a])):Ai(s[a])||(e[a]=!0);return e}function A4(s,e,r){const a=Array.isArray(s);if(xa(s)||a)for(const i in s)Array.isArray(s[i])||xa(s[i])&&!j4(s[i])?ya(e)||u1(r[i])?r[i]=Array.isArray(s[i])?fk(s[i],[]):{...fk(s[i])}:A4(s[i],Ai(e)?{}:e[i],r[i]):r[i]=!od(s[i],e[i]);return r}var Db=(s,e)=>A4(s,e,fk(e));const i2={value:!1,isValid:!1},n2={value:!0,isValid:!0};var E4=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!ya(s[0].attributes.value)?ya(s[0].value)||s[0].value===""?n2:{value:s[0].value,isValid:!0}:n2:i2}return i2},P4=(s,{valueAsNumber:e,valueAsDate:r,setValueAs:a})=>ya(s)?s:e?s===""?NaN:s&&+s:r&&So(s)?new Date(s):a?a(s):s;const o2={isValid:!1,value:null};var y4=s=>Array.isArray(s)?s.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,o2):o2;function l2(s){const e=s.ref;return Vw(e)?e.files:_w(e)?y4(s.refs).value:w4(e)?[...e.selectedOptions].map(({value:r})=>r):df(e)?E4(s.refs).value:P4(ya(e.value)?s.ref.value:e.value,s)}var _X=(s,e,r,a)=>{const i={};for(const n of s){const o=Ts(e,n);o&&Gr(i,n,o._f)}return{criteriaMode:r,names:[...s],fields:i,shouldUseNativeValidation:a}},pk=s=>s instanceof RegExp,wb=s=>ya(s)?s:pk(s)?s.source:xa(s)?pk(s.value)?s.value.source:s.value:s,d2=s=>({isOnSubmit:!s||s===uo.onSubmit,isOnBlur:s===uo.onBlur,isOnChange:s===uo.onChange,isOnAll:s===uo.all,isOnTouch:s===uo.onTouched});const u2="AsyncFunction";var CX=s=>!!s&&!!s.validate&&!!(co(s.validate)&&s.validate.constructor.name===u2||xa(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===u2)),SX=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),c2=(s,e,r)=>!r&&(e.watchAll||e.watch.has(s)||[...e.watch].some(a=>s.startsWith(a)&&/^\.\w+/.test(s.slice(a.length))));const sh=(s,e,r,a)=>{for(const i of r||Object.keys(s)){const n=Ts(s,i);if(n){const{_f:o,...l}=n;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!a)return!0;if(o.ref&&e(o.ref,o.name)&&!a)return!0;if(sh(l,e))break}else if(xa(l)&&sh(l,e))break}}};function m2(s,e,r){const a=Ts(s,r);if(a||wg(r))return{error:a,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),o=Ts(e,n),l=Ts(s,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(l&&l.type)return{name:n,error:l};if(l&&l.root&&l.root.type)return{name:`${n}.root`,error:l.root};i.pop()}return{name:r}}var TX=(s,e,r,a)=>{r(s);const{name:i,...n}=s;return Ti(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(o=>e[o]===(!a||uo.all))},RX=(s,e,r)=>!s||!e||s===e||eh(s).some(a=>a&&(r?a===e:a.startsWith(e)||e.startsWith(a))),MX=(s,e,r,a,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||s):(r?a.isOnBlur:i.isOnBlur)?!s:(r?a.isOnChange:i.isOnChange)?s:!0,LX=(s,e)=>!Ww(Ts(s,e)).length&&Ea(s,e),IX=(s,e,r)=>{const a=eh(Ts(s,r));return Gr(a,"root",e[r]),Gr(s,r,a),s},Zp=s=>So(s);function b2(s,e,r="validate"){if(Zp(s)||Array.isArray(s)&&s.every(Zp)||Vo(s)&&!s)return{type:r,message:Zp(s)?s:"",ref:e}}var yc=s=>xa(s)&&!pk(s)?s:{value:s,message:""},h2=async(s,e,r,a,i,n)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:c,min:b,max:h,pattern:m,validate:f,name:p,valueAsNumber:N,mount:g}=s._f,D=Ts(r,p);if(!g||e.has(p))return{};const w=l?l[0]:o,A=_=>{i&&w.reportValidity&&(w.setCustomValidity(Vo(_)?"":_||""),w.reportValidity())},U={},E=_w(o),W=df(o),y=E||W,V=(N||Vw(o))&&ya(o.value)&&ya(D)||hk(o)&&o.value===""||D===""||Array.isArray(D)&&!D.length,S=OX.bind(null,p,a,U),O=(_,M,R,Q=dl.maxLength,ne=dl.minLength)=>{const ie=_?M:R;U[p]={type:_?Q:ne,message:ie,ref:o,...S(_?Q:ne,ie)}};if(n?!Array.isArray(D)||!D.length:d&&(!y&&(V||Ai(D))||Vo(D)&&!D||W&&!E4(l).isValid||E&&!y4(l).isValid)){const{value:_,message:M}=Zp(d)?{value:!!d,message:d}:yc(d);if(_&&(U[p]={type:dl.required,message:M,ref:w,...S(dl.required,M)},!a))return A(M),U}if(!V&&(!Ai(b)||!Ai(h))){let _,M;const R=yc(h),Q=yc(b);if(!Ai(D)&&!isNaN(D)){const ne=o.valueAsNumber||D&&+D;Ai(R.value)||(_=ne>R.value),Ai(Q.value)||(M=ne<Q.value)}else{const ne=o.valueAsDate||new Date(D),ie=_e=>new Date(new Date().toDateString()+" "+_e),Z=o.type=="time",Ne=o.type=="week";So(R.value)&&D&&(_=Z?ie(D)>ie(R.value):Ne?D>R.value:ne>new Date(R.value)),So(Q.value)&&D&&(M=Z?ie(D)<ie(Q.value):Ne?D<Q.value:ne<new Date(Q.value))}if((_||M)&&(O(!!_,R.message,Q.message,dl.max,dl.min),!a))return A(U[p].message),U}if((u||c)&&!V&&(So(D)||n&&Array.isArray(D))){const _=yc(u),M=yc(c),R=!Ai(_.value)&&D.length>+_.value,Q=!Ai(M.value)&&D.length<+M.value;if((R||Q)&&(O(R,_.message,M.message),!a))return A(U[p].message),U}if(m&&!V&&So(D)){const{value:_,message:M}=yc(m);if(pk(_)&&!D.match(_)&&(U[p]={type:dl.pattern,message:M,ref:o,...S(dl.pattern,M)},!a))return A(M),U}if(f){if(co(f)){const _=await f(D,r),M=b2(_,w);if(M&&(U[p]={...M,...S(dl.validate,M.message)},!a))return A(M.message),U}else if(xa(f)){let _={};for(const M in f){if(!Ti(_)&&!a)break;const R=b2(await f[M](D,r),w,M);R&&(_={...R,...S(M,R.message)},A(R.message),a&&(U[p]=_))}if(!Ti(_)&&(U[p]={ref:w,..._},!a))return U}}return A(!0),U};const FX={mode:uo.onSubmit,reValidateMode:uo.onChange,shouldFocusError:!0};function zX(s={}){let e={...FX,...s},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:co(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},i=xa(e.defaultValues)||xa(e.values)?qa(e.defaultValues||e.values)||{}:{},n=e.shouldUnregister?{}:qa(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...c};const h={array:a2(),state:a2()},m=e.criteriaMode===uo.all,f=se=>be=>{clearTimeout(u),u=setTimeout(se,be)},p=async se=>{if(!e.disabled&&(c.isValid||b.isValid||se)){const be=e.resolver?Ti((await W()).errors):await V(a,!0);be!==r.isValid&&h.state.next({isValid:be})}},N=(se,be)=>{!e.disabled&&(c.isValidating||c.validatingFields||b.isValidating||b.validatingFields)&&((se||Array.from(l.mount)).forEach(Ee=>{Ee&&(be?Gr(r.validatingFields,Ee,be):Ea(r.validatingFields,Ee))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ti(r.validatingFields)}))},g=(se,be=[],Ee,Se,He=!0,Te=!0)=>{if(Se&&Ee&&!e.disabled){if(o.action=!0,Te&&Array.isArray(Ts(a,se))){const qe=Ee(Ts(a,se),Se.argA,Se.argB);He&&Gr(a,se,qe)}if(Te&&Array.isArray(Ts(r.errors,se))){const qe=Ee(Ts(r.errors,se),Se.argA,Se.argB);He&&Gr(r.errors,se,qe),LX(r.errors,se)}if((c.touchedFields||b.touchedFields)&&Te&&Array.isArray(Ts(r.touchedFields,se))){const qe=Ee(Ts(r.touchedFields,se),Se.argA,Se.argB);He&&Gr(r.touchedFields,se,qe)}(c.dirtyFields||b.dirtyFields)&&(r.dirtyFields=Db(i,n)),h.state.next({name:se,isDirty:O(se,be),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gr(n,se,be)},D=(se,be)=>{Gr(r.errors,se,be),h.state.next({errors:r.errors})},w=se=>{r.errors=se,h.state.next({errors:r.errors,isValid:!1})},A=(se,be,Ee,Se)=>{const He=Ts(a,se);if(He){const Te=Ts(n,se,ya(Ee)?Ts(i,se):Ee);ya(Te)||Se&&Se.defaultChecked||be?Gr(n,se,be?Te:l2(He._f)):R(se,Te),o.mount&&p()}},U=(se,be,Ee,Se,He)=>{let Te=!1,qe=!1;const ks={name:se};if(!e.disabled){if(!Ee||Se){(c.isDirty||b.isDirty)&&(qe=r.isDirty,r.isDirty=ks.isDirty=O(),Te=qe!==ks.isDirty);const hs=od(Ts(i,se),be);qe=!!Ts(r.dirtyFields,se),hs?Ea(r.dirtyFields,se):Gr(r.dirtyFields,se,!0),ks.dirtyFields=r.dirtyFields,Te=Te||(c.dirtyFields||b.dirtyFields)&&qe!==!hs}if(Ee){const hs=Ts(r.touchedFields,se);hs||(Gr(r.touchedFields,se,Ee),ks.touchedFields=r.touchedFields,Te=Te||(c.touchedFields||b.touchedFields)&&hs!==Ee)}Te&&He&&h.state.next(ks)}return Te?ks:{}},E=(se,be,Ee,Se)=>{const He=Ts(r.errors,se),Te=(c.isValid||b.isValid)&&Vo(be)&&r.isValid!==be;if(e.delayError&&Ee?(d=f(()=>D(se,Ee)),d(e.delayError)):(clearTimeout(u),d=null,Ee?Gr(r.errors,se,Ee):Ea(r.errors,se)),(Ee?!od(He,Ee):He)||!Ti(Se)||Te){const qe={...Se,...Te&&Vo(be)?{isValid:be}:{},errors:r.errors,name:se};r={...r,...qe},h.state.next(qe)}},W=async se=>{N(se,!0);const be=await e.resolver(n,e.context,_X(se||l.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return N(se),be},y=async se=>{const{errors:be}=await W(se);if(se)for(const Ee of se){const Se=Ts(be,Ee);Se?Gr(r.errors,Ee,Se):Ea(r.errors,Ee)}else r.errors=be;return be},V=async(se,be,Ee={valid:!0})=>{for(const Se in se){const He=se[Se];if(He){const{_f:Te,...qe}=He;if(Te){const ks=l.array.has(Te.name),hs=He._f&&CX(He._f);hs&&c.validatingFields&&N([Se],!0);const fs=await h2(He,l.disabled,n,m,e.shouldUseNativeValidation&&!be,ks);if(hs&&c.validatingFields&&N([Se]),fs[Te.name]&&(Ee.valid=!1,be))break;!be&&(Ts(fs,Te.name)?ks?IX(r.errors,fs,Te.name):Gr(r.errors,Te.name,fs[Te.name]):Ea(r.errors,Te.name))}!Ti(qe)&&await V(qe,be,Ee)}}return Ee.valid},S=()=>{for(const se of l.unMount){const be=Ts(a,se);be&&(be._f.refs?be._f.refs.every(Ee=>!iv(Ee)):!iv(be._f.ref))&&we(se)}l.unMount=new Set},O=(se,be)=>!e.disabled&&(se&&be&&Gr(n,se,be),!od(_e(),i)),_=(se,be,Ee)=>yX(se,l,{...o.mount?n:ya(be)?i:So(se)?{[se]:be}:be},Ee,be),M=se=>Ww(Ts(o.mount?n:i,se,e.shouldUnregister?Ts(i,se,[]):[])),R=(se,be,Ee={})=>{const Se=Ts(a,se);let He=be;if(Se){const Te=Se._f;Te&&(!Te.disabled&&Gr(n,se,P4(be,Te)),He=hk(Te.ref)&&Ai(be)?"":be,w4(Te.ref)?[...Te.ref.options].forEach(qe=>qe.selected=He.includes(qe.value)):Te.refs?df(Te.ref)?Te.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(He)?qe.checked=!!He.find(ks=>ks===qe.value):qe.checked=He===qe.value||!!He)}):Te.refs.forEach(qe=>qe.checked=qe.value===He):Vw(Te.ref)?Te.ref.value="":(Te.ref.value=He,Te.ref.type||h.state.next({name:se,values:qa(n)})))}(Ee.shouldDirty||Ee.shouldTouch)&&U(se,He,Ee.shouldTouch,Ee.shouldDirty,!0),Ee.shouldValidate&&Ne(se)},Q=(se,be,Ee)=>{for(const Se in be){if(!be.hasOwnProperty(Se))return;const He=be[Se],Te=se+"."+Se,qe=Ts(a,Te);(l.array.has(se)||xa(He)||qe&&!qe._f)&&!wu(He)?Q(Te,He,Ee):R(Te,He,Ee)}},ne=(se,be,Ee={})=>{const Se=Ts(a,se),He=l.array.has(se),Te=qa(be);Gr(n,se,Te),He?(h.array.next({name:se,values:qa(n)}),(c.isDirty||c.dirtyFields||b.isDirty||b.dirtyFields)&&Ee.shouldDirty&&h.state.next({name:se,dirtyFields:Db(i,n),isDirty:O(se,Te)})):Se&&!Se._f&&!Ai(Te)?Q(se,Te,Ee):R(se,Te,Ee),c2(se,l)&&h.state.next({...r,name:se}),h.state.next({name:o.mount?se:void 0,values:qa(n)})},ie=async se=>{o.mount=!0;const be=se.target;let Ee=be.name,Se=!0;const He=Ts(a,Ee),Te=hs=>{Se=Number.isNaN(hs)||wu(hs)&&isNaN(hs.getTime())||od(hs,Ts(n,Ee,hs))},qe=d2(e.mode),ks=d2(e.reValidateMode);if(He){let hs,fs;const ys=be.type?l2(He._f):vX(se),ps=se.type===r2.BLUR||se.type===r2.FOCUS_OUT,$t=!SX(He._f)&&!e.resolver&&!Ts(r.errors,Ee)&&!He._f.deps||MX(ps,Ts(r.touchedFields,Ee),r.isSubmitted,ks,qe),wt=c2(Ee,l,ps);Gr(n,Ee,ys),ps?(He._f.onBlur&&He._f.onBlur(se),d&&d(0)):He._f.onChange&&He._f.onChange(se);const gs=U(Ee,ys,ps),Zs=!Ti(gs)||wt;if(!ps&&h.state.next({name:Ee,type:se.type,values:qa(n)}),$t)return(c.isValid||b.isValid)&&(e.mode==="onBlur"?ps&&p():ps||p()),Zs&&h.state.next({name:Ee,...wt?{}:gs});if(!ps&&wt&&h.state.next({...r}),e.resolver){const{errors:yt}=await W([Ee]);if(Te(ys),Se){const zs=m2(r.errors,a,Ee),bt=m2(yt,a,zs.name||Ee);hs=bt.error,Ee=bt.name,fs=Ti(yt)}}else N([Ee],!0),hs=(await h2(He,l.disabled,n,m,e.shouldUseNativeValidation))[Ee],N([Ee]),Te(ys),Se&&(hs?fs=!1:(c.isValid||b.isValid)&&(fs=await V(a,!0)));Se&&(He._f.deps&&Ne(He._f.deps),E(Ee,fs,hs,gs))}},Z=(se,be)=>{if(Ts(r.errors,be)&&se.focus)return se.focus(),1},Ne=async(se,be={})=>{let Ee,Se;const He=eh(se);if(e.resolver){const Te=await y(ya(se)?se:He);Ee=Ti(Te),Se=se?!He.some(qe=>Ts(Te,qe)):Ee}else se?(Se=(await Promise.all(He.map(async Te=>{const qe=Ts(a,Te);return await V(qe&&qe._f?{[Te]:qe}:qe)}))).every(Boolean),!(!Se&&!r.isValid)&&p()):Se=Ee=await V(a);return h.state.next({...!So(se)||(c.isValid||b.isValid)&&Ee!==r.isValid?{}:{name:se},...e.resolver||!se?{isValid:Ee}:{},errors:r.errors}),be.shouldFocus&&!Se&&sh(a,Z,se?He:l.mount),Se},_e=se=>{const be={...o.mount?n:i};return ya(se)?be:So(se)?Ts(be,se):se.map(Ee=>Ts(be,Ee))},fe=(se,be)=>({invalid:!!Ts((be||r).errors,se),isDirty:!!Ts((be||r).dirtyFields,se),error:Ts((be||r).errors,se),isValidating:!!Ts(r.validatingFields,se),isTouched:!!Ts((be||r).touchedFields,se)}),T=se=>{se&&eh(se).forEach(be=>Ea(r.errors,be)),h.state.next({errors:se?r.errors:{}})},G=(se,be,Ee)=>{const Se=(Ts(a,se,{_f:{}})._f||{}).ref,He=Ts(r.errors,se)||{},{ref:Te,message:qe,type:ks,...hs}=He;Gr(r.errors,se,{...hs,...be,ref:Se}),h.state.next({name:se,errors:r.errors,isValid:!1}),Ee&&Ee.shouldFocus&&Se&&Se.focus&&Se.focus()},J=(se,be)=>co(se)?h.state.subscribe({next:Ee=>"values"in Ee&&se(_(void 0,be),Ee)}):_(se,be,!0),ce=se=>h.state.subscribe({next:be=>{RX(se.name,be.name,se.exact)&&TX(be,se.formState||c,st,se.reRenderRoot)&&se.callback({values:{...n},...r,...be,defaultValues:i})}}).unsubscribe,ke=se=>(o.mount=!0,b={...b,...se.formState},ce({...se,formState:b})),we=(se,be={})=>{for(const Ee of se?eh(se):l.mount)l.mount.delete(Ee),l.array.delete(Ee),be.keepValue||(Ea(a,Ee),Ea(n,Ee)),!be.keepError&&Ea(r.errors,Ee),!be.keepDirty&&Ea(r.dirtyFields,Ee),!be.keepTouched&&Ea(r.touchedFields,Ee),!be.keepIsValidating&&Ea(r.validatingFields,Ee),!e.shouldUnregister&&!be.keepDefaultValue&&Ea(i,Ee);h.state.next({values:qa(n)}),h.state.next({...r,...be.keepDirty?{isDirty:O()}:{}}),!be.keepIsValid&&p()},We=({disabled:se,name:be})=>{(Vo(se)&&o.mount||se||l.disabled.has(be))&&(se?l.disabled.add(be):l.disabled.delete(be))},Oe=(se,be={})=>{let Ee=Ts(a,se);const Se=Vo(be.disabled)||Vo(e.disabled);return Gr(a,se,{...Ee||{},_f:{...Ee&&Ee._f?Ee._f:{ref:{name:se}},name:se,mount:!0,...be}}),l.mount.add(se),Ee?We({disabled:Vo(be.disabled)?be.disabled:e.disabled,name:se}):A(se,!0,be.value),{...Se?{disabled:be.disabled||e.disabled}:{},...e.progressive?{required:!!be.required,min:wb(be.min),max:wb(be.max),minLength:wb(be.minLength),maxLength:wb(be.maxLength),pattern:wb(be.pattern)}:{},name:se,onChange:ie,onBlur:ie,ref:He=>{if(He){Oe(se,be),Ee=Ts(a,se);const Te=ya(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,qe=WX(Te),ks=Ee._f.refs||[];if(qe?ks.find(hs=>hs===Te):Te===Ee._f.ref)return;Gr(a,se,{_f:{...Ee._f,...qe?{refs:[...ks.filter(iv),Te,...Array.isArray(Ts(i,se))?[{}]:[]],ref:{type:Te.type,name:se}}:{ref:Te}}}),A(se,!1,void 0,Te)}else Ee=Ts(a,se,{}),Ee._f&&(Ee._f.mount=!1),(e.shouldUnregister||be.shouldUnregister)&&!(wX(l.array,se)&&o.action)&&l.unMount.add(se)}}},ye=()=>e.shouldFocusError&&sh(a,Z,l.mount),De=se=>{Vo(se)&&(h.state.next({disabled:se}),sh(a,(be,Ee)=>{const Se=Ts(a,Ee);Se&&(be.disabled=Se._f.disabled||se,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(He=>{He.disabled=Se._f.disabled||se}))},0,!1))},Ye=(se,be)=>async Ee=>{let Se;Ee&&(Ee.preventDefault&&Ee.preventDefault(),Ee.persist&&Ee.persist());let He=qa(n);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Te,values:qe}=await W();r.errors=Te,He=qa(qe)}else await V(a);if(l.disabled.size)for(const Te of l.disabled)Ea(He,Te);if(Ea(r.errors,"root"),Ti(r.errors)){h.state.next({errors:{}});try{await se(He,Ee)}catch(Te){Se=Te}}else be&&await be({...r.errors},Ee),ye(),setTimeout(ye);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ti(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},ls=(se,be={})=>{Ts(a,se)&&(ya(be.defaultValue)?ne(se,qa(Ts(i,se))):(ne(se,be.defaultValue),Gr(i,se,qa(be.defaultValue))),be.keepTouched||Ea(r.touchedFields,se),be.keepDirty||(Ea(r.dirtyFields,se),r.isDirty=be.defaultValue?O(se,qa(Ts(i,se))):O()),be.keepError||(Ea(r.errors,se),c.isValid&&p()),h.state.next({...r}))},pe=(se,be={})=>{const Ee=se?qa(se):i,Se=qa(Ee),He=Ti(se),Te=He?i:Se;if(be.keepDefaultValues||(i=Ee),!be.keepValues){if(be.keepDirtyValues){const qe=new Set([...l.mount,...Object.keys(Db(i,n))]);for(const ks of Array.from(qe))Ts(r.dirtyFields,ks)?Gr(Te,ks,Ts(n,ks)):ne(ks,Ts(Te,ks))}else{if(Ow&&ya(se))for(const qe of l.mount){const ks=Ts(a,qe);if(ks&&ks._f){const hs=Array.isArray(ks._f.refs)?ks._f.refs[0]:ks._f.ref;if(hk(hs)){const fs=hs.closest("form");if(fs){fs.reset();break}}}}if(be.keepFieldsRef)for(const qe of l.mount)ne(qe,Ts(Te,qe));else a={}}n=e.shouldUnregister?be.keepDefaultValues?qa(i):{}:qa(Te),h.array.next({values:{...Te}}),h.state.next({values:{...Te}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:be.keepSubmitCount?r.submitCount:0,isDirty:He?!1:be.keepDirty?r.isDirty:!!(be.keepDefaultValues&&!od(se,i)),isSubmitted:be.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:be.keepDirtyValues?be.keepDefaultValues&&n?Db(i,n):r.dirtyFields:be.keepDefaultValues&&se?Db(i,se):be.keepDirty?r.dirtyFields:{},touchedFields:be.keepTouched?r.touchedFields:{},errors:be.keepErrors?r.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ee=(se,be)=>pe(co(se)?se(n):se,be),Ms=(se,be={})=>{const Ee=Ts(a,se),Se=Ee&&Ee._f;if(Se){const He=Se.refs?Se.refs[0]:Se.ref;He.focus&&(He.focus(),be.shouldSelect&&co(He.select)&&He.select())}},st=se=>{r={...r,...se}},Je={control:{register:Oe,unregister:we,getFieldState:fe,handleSubmit:Ye,setError:G,_subscribe:ce,_runSchema:W,_focusError:ye,_getWatch:_,_getDirty:O,_setValid:p,_setFieldArray:g,_setDisabledField:We,_setErrors:w,_getFieldArray:M,_reset:pe,_resetDefaultValues:()=>co(e.defaultValues)&&e.defaultValues().then(se=>{ee(se,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:S,_disableForm:De,_subjects:h,_proxyFormState:c,get _fields(){return a},get _formValues(){return n},get _state(){return o},set _state(se){o=se},get _defaultValues(){return i},get _names(){return l},set _names(se){l=se},get _formState(){return r},get _options(){return e},set _options(se){e={...e,...se}}},subscribe:ke,trigger:Ne,register:Oe,handleSubmit:Ye,watch:J,setValue:ne,getValues:_e,reset:ee,resetField:ls,clearErrors:T,unregister:we,setError:G,setFocus:Ms,getFieldState:fe};return{...Je,formControl:Je}}function BX(s={}){const e=Ge.useRef(void 0),r=Ge.useRef(void 0),[a,i]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:co(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:co(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:a},s.defaultValues&&!co(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...l}=zX(s);e.current={...l,formState:a}}const n=e.current.control;return n._options=s,PX(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),n._formState.isReady=!0,o},[n]),Ge.useEffect(()=>n._disableForm(s.disabled),[n,s.disabled]),Ge.useEffect(()=>{s.mode&&(n._options.mode=s.mode),s.reValidateMode&&(n._options.reValidateMode=s.reValidateMode)},[n,s.mode,s.reValidateMode]),Ge.useEffect(()=>{s.errors&&(n._setErrors(s.errors),n._focusError())},[n,s.errors]),Ge.useEffect(()=>{s.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,s.shouldUnregister]),Ge.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==a.isDirty&&n._subjects.state.next({isDirty:o})}},[n,a.isDirty]),Ge.useEffect(()=>{s.values&&!od(s.values,r.current)?(n._reset(s.values,{keepFieldsRef:!0,...n._options.resetOptions}),r.current=s.values,i(o=>({...o}))):n._resetDefaultValues()},[n,s.values]),Ge.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),e.current.formState=EX(a,n),e.current}function qX({procedure:s,open:e,onOpenChange:r,firmId:a}){var S,O;const{createProcedure:i,updateProcedure:n}=yw(),[o,l]=v.useState((s==null?void 0:s.instructions)||null),[d,u]=v.useState(((S=s==null?void 0:s.evidence_requirements)==null?void 0:S.map(_=>typeof _=="string"?_:_.description||""))||[]),[c,b]=v.useState(((O=s==null?void 0:s.control_objectives)==null?void 0:O.map(_=>typeof _=="string"?_:_.code||""))||[]),[h,m]=v.useState(""),[f,p]=v.useState(""),{register:N,handleSubmit:g,watch:D,setValue:w,formState:{errors:A}}=BX({defaultValues:{procedure_name:(s==null?void 0:s.procedure_name)||"",procedure_code:(s==null?void 0:s.procedure_code)||"",category:(s==null?void 0:s.category)||"control_test",objective:(s==null?void 0:s.objective)||"",sample_size_guidance:(s==null?void 0:s.sample_size_guidance)||"",expected_outcomes:(s==null?void 0:s.expected_outcomes)||"",estimated_hours:(s==null?void 0:s.estimated_hours)||4,risk_level:(s==null?void 0:s.risk_level)||"medium",procedure_type:(s==null?void 0:s.procedure_type)||"standard"}}),U=g(_=>{const M={..._,firm_id:a,instructions:o,evidence_requirements:d,control_objectives:c};s!=null&&s.id?n({id:s.id,...M}):i(M),r(!1)}),E=()=>{h.trim()&&(u([...d,h.trim()]),m(""))},W=_=>{u(d.filter((M,R)=>R!==_))},y=()=>{f.trim()&&(b([...c,f.trim()]),p(""))},V=_=>{b(c.filter((M,R)=>R!==_))};return t.jsxDEV(Pt,{open:e,onOpenChange:r,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:s?"Edit Procedure":"Create New Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:110,columnNumber:11},this),t.jsxDEV(Bt,{children:s?"Update the audit procedure details below":"Create a new audit test procedure for your library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:109,columnNumber:9},this),t.jsxDEV(Wa,{className:"max-h-[60vh] pr-4",children:t.jsxDEV("form",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"procedure_code",children:"Procedure Code *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:125,columnNumber:17},this),t.jsxDEV(ve,{id:"procedure_code",placeholder:"e.g., AC-001",...N("procedure_code",{required:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:126,columnNumber:17},this),A.procedure_code&&t.jsxDEV("p",{className:"text-xs text-destructive",children:"Code is required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:132,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:124,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"category",children:"Category *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:137,columnNumber:17},this),t.jsxDEV(is,{value:D("category"),onValueChange:_=>w("category",_),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:143,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:142,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"walkthrough",children:"Walkthrough"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:146,columnNumber:21},this),t.jsxDEV(X,{value:"control_test",children:"Control Test"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:147,columnNumber:21},this),t.jsxDEV(X,{value:"substantive",children:"Substantive Test"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:148,columnNumber:21},this),t.jsxDEV(X,{value:"analytical",children:"Analytical Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:149,columnNumber:21},this),t.jsxDEV(X,{value:"inquiry",children:"Inquiry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:150,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:145,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:138,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:123,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"procedure_name",children:"Procedure Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:157,columnNumber:15},this),t.jsxDEV(ve,{id:"procedure_name",placeholder:"e.g., User Access Review Testing",...N("procedure_name",{required:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:158,columnNumber:15},this),A.procedure_name&&t.jsxDEV("p",{className:"text-xs text-destructive",children:"Name is required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"objective",children:"Objective"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV(Wt,{id:"objective",placeholder:"Describe the objective of this procedure...",rows:3,...N("objective")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:168,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Step-by-Step Instructions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:180,columnNumber:15},this),t.jsxDEV("div",{className:"border rounded-lg",children:t.jsxDEV(kw,{content:o,onChange:l,placeholder:"Enter detailed step-by-step instructions...",editable:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:182,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:179,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"estimated_hours",children:"Estimated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV(ve,{id:"estimated_hours",type:"number",step:"0.5",min:"0",...N("estimated_hours",{valueAsNumber:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:195,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:193,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"risk_level",children:"Risk Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:205,columnNumber:17},this),t.jsxDEV(is,{value:D("risk_level"),onValueChange:_=>w("risk_level",_),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:211,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:210,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:214,columnNumber:21},this),t.jsxDEV(X,{value:"medium",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:215,columnNumber:21},this),t.jsxDEV(X,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:216,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:213,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:206,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:204,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"procedure_type",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:222,columnNumber:17},this),t.jsxDEV(is,{value:D("procedure_type"),onValueChange:_=>w("procedure_type",_),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:228,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:227,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"standard",children:"Standard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:231,columnNumber:21},this),t.jsxDEV(X,{value:"custom",children:"Custom"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:232,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:230,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:192,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"sample_size_guidance",children:"Sample Size Guidance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:240,columnNumber:15},this),t.jsxDEV(ve,{id:"sample_size_guidance",placeholder:"e.g., Select 25 users from the population...",...N("sample_size_guidance")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:239,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"expected_outcomes",children:"Expected Outcomes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:249,columnNumber:15},this),t.jsxDEV(Wt,{id:"expected_outcomes",placeholder:"Describe what results you expect from this procedure...",rows:2,...N("expected_outcomes")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:248,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Evidence Requirements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:260,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{placeholder:"Add evidence requirement...",value:h,onChange:_=>m(_.target.value),onKeyDown:_=>{_.key==="Enter"&&(_.preventDefault(),E())}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:262,columnNumber:17},this),t.jsxDEV(F,{type:"button",size:"sm",onClick:E,children:t.jsxDEV(vt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:274,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:273,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:261,columnNumber:15},this),d.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map((_,M)=>t.jsxDEV(he,{variant:"secondary",className:"gap-1",children:[_,t.jsxDEV("button",{type:"button",onClick:()=>W(M),className:"ml-1 hover:text-destructive",children:t.jsxDEV(qn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:287,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:282,columnNumber:23},this)]},M,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:280,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:259,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Control Objectives"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:297,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{placeholder:"Add control objective (e.g., CC6.1)...",value:f,onChange:_=>p(_.target.value),onKeyDown:_=>{_.key==="Enter"&&(_.preventDefault(),y())}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:299,columnNumber:17},this),t.jsxDEV(F,{type:"button",size:"sm",onClick:y,children:t.jsxDEV(vt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:311,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:310,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:298,columnNumber:15},this),c.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:c.map((_,M)=>t.jsxDEV(he,{variant:"outline",className:"gap-1",children:[_,t.jsxDEV("button",{type:"button",onClick:()=>V(M),className:"ml-1 hover:text-destructive",children:t.jsxDEV(qn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:324,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:319,columnNumber:23},this)]},M,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:317,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:120,columnNumber:9},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>r(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:335,columnNumber:11},this),t.jsxDEV(F,{onClick:U,children:s?"Update Procedure":"Create Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:338,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:108,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureEditor.tsx",lineNumber:107,columnNumber:5},this)}function $X(){const{procedures:s,isLoading:e}=yw(),{profile:r}=ar(),[a,i]=v.useState(""),[n,o]=v.useState("all"),[l,d]=v.useState(null),[u,c]=v.useState(!1),[b,h]=v.useState(!1),[m,f]=v.useState(null),p=[{value:"all",label:"All Procedures"},{value:"walkthrough",label:"Walkthroughs"},{value:"control_test",label:"Control Tests"},{value:"substantive",label:"Substantive Tests"},{value:"analytical",label:"Analytical Procedures"},{value:"inquiry",label:"Inquiries"}],N=()=>{let U=s||[];return n!=="all"&&(U=U.filter(E=>E.category===n)),a&&(U=U.filter(E=>{var W;return E.procedure_name.toLowerCase().includes(a.toLowerCase())||E.procedure_code.toLowerCase().includes(a.toLowerCase())||((W=E.objective)==null?void 0:W.toLowerCase().includes(a.toLowerCase()))})),U},g=U=>{switch(U){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},D=U=>{d(U),c(!0)},w=U=>{f(U),c(!1),h(!0)},A=()=>{f(null),h(!0)};return e?t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:84,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:83,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Procedure Library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:94,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Browse and manage audit test procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:93,columnNumber:9},this),t.jsxDEV(F,{onClick:A,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:100,columnNumber:11},this),"Create Procedure"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:92,columnNumber:7},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:t.jsxDEV("div",{className:"relative flex-1 max-w-md",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search procedures...",value:a,onChange:U=>i(U.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:105,columnNumber:7},this),t.jsxDEV(Pr,{value:n,onValueChange:o,className:"space-y-6",children:[t.jsxDEV(pr,{children:p.map(U=>t.jsxDEV($e,{value:U.value,children:U.label},U.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:120,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:118,columnNumber:9},this),p.map(U=>t.jsxDEV(es,{value:U.value,className:"space-y-4",children:N().length===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ys,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:131,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No procedures found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:132,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:130,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:129,columnNumber:15},this):t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:N().map(E=>t.jsxDEV(B,{className:"hover:border-primary transition-colors",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-1 flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",className:"font-mono text-xs",children:E.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:143,columnNumber:29},this),t.jsxDEV(he,{variant:g(E.risk_level),children:E.risk_level.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:146,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:142,columnNumber:27},this),t.jsxDEV(ue,{className:"text-lg",children:E.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:150,columnNumber:27},this),t.jsxDEV(Ke,{children:E.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:151,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:141,columnNumber:25},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>D(E),children:t.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:159,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:154,columnNumber:27},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>w(E),children:t.jsxDEV(Yh,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:166,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:161,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:153,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:140,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:139,columnNumber:21},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:174,columnNumber:27},this),t.jsxDEV("span",{children:[E.estimated_hours,"h estimated"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:175,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:173,columnNumber:25},this),t.jsxDEV(he,{variant:"secondary",children:E.category.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:177,columnNumber:25},this),E.control_objectives&&Array.isArray(E.control_objectives)&&E.control_objectives.length>0&&t.jsxDEV("span",{className:"text-xs",children:[E.control_objectives.length," control objectives"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:179,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:172,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:171,columnNumber:21},this)]},E.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:138,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:136,columnNumber:15},this)},U.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:127,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:117,columnNumber:7},this),t.jsxDEV(xX,{procedure:l,open:u,onOpenChange:c,onEdit:()=>w(l)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:194,columnNumber:7},this),t.jsxDEV(qX,{procedure:m,open:b,onOpenChange:h,firmId:(r==null?void 0:r.firm_id)||""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:201,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureLibrary.tsx",lineNumber:91,columnNumber:5},this)}const ic=(s,e)=>{const{toast:r}=Hs(),a=Lr(),{data:i,isLoading:n}=bs({queryKey:["engagement-procedures",s,e],queryFn:async()=>{let c=le.from("engagement_procedures").select(`
          *,
          engagement_programs(program_name),
          profiles:assigned_to(full_name, email)
        `);s&&(c=c.eq("engagement_id",s)),e&&(c=c.eq("assigned_to",e));const{data:b,error:h}=await c.order("due_date",{ascending:!0,nullsFirst:!1});if(h)throw h;return b||[]},enabled:!!(s||e)}),o=Rs({mutationFn:async({id:c,...b})=>{const{data:h,error:m}=await le.from("engagement_procedures").update(b).eq("id",c).select().single();if(m)throw m;return h},onSuccess:()=>{a.invalidateQueries({queryKey:["engagement-procedures"]}),r({title:"Procedure updated",description:"The procedure has been updated successfully."})},onError:c=>{r({title:"Error updating procedure",description:c.message,variant:"destructive"})}}),l=Rs({mutationFn:async({procedureId:c,assignedTo:b,dueDate:h})=>{const{data:{user:m}}=await le.auth.getUser(),f={assigned_to:b,assigned_by:m==null?void 0:m.id};h&&(f.due_date=h);const{data:p,error:N}=await le.from("engagement_procedures").update(f).eq("id",c).select().single();if(N)throw N;return p},onSuccess:()=>{a.invalidateQueries({queryKey:["engagement-procedures"]}),r({title:"Procedure assigned",description:"The procedure has been assigned successfully."})},onError:c=>{r({title:"Error assigning procedure",description:c.message,variant:"destructive"})}}),d=Rs({mutationFn:async c=>{const{data:b,error:h}=await le.from("engagement_procedures").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",c).select().single();if(h)throw h;return b},onSuccess:()=>{a.invalidateQueries({queryKey:["engagement-procedures"]})}}),u=Rs({mutationFn:async c=>{const{data:b,error:h}=await le.from("engagement_procedures").update({status:"in_review",completed_at:new Date().toISOString()}).eq("id",c).select().single();if(h)throw h;return b},onSuccess:()=>{a.invalidateQueries({queryKey:["engagement-procedures"]}),r({title:"Procedure completed",description:"The procedure has been submitted for review."})}});return{procedures:i,isLoading:n,updateProcedure:o.mutate,assignProcedure:l.mutate,startProcedure:d.mutate,completeProcedure:u.mutate}};var lt=function(){return lt=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lt.apply(this,arguments)};function HX(s,e){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(s);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(s,a[i])&&(r[a[i]]=s[a[i]]);return r}function O4(s,e,r){for(var a=0,i=e.length,n;a<i;a++)(n||!(a in e))&&(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return s.concat(n||Array.prototype.slice.call(e))}function uf(s){return s.mode==="multiple"}function cf(s){return s.mode==="range"}function jg(s){return s.mode==="single"}var GX={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function KX(s,e){return Ds(s,"LLLL y",e)}function QX(s,e){return Ds(s,"d",e)}function YX(s,e){return Ds(s,"LLLL",e)}function JX(s){return"".concat(s)}function ZX(s,e){return Ds(s,"cccccc",e)}function XX(s,e){return Ds(s,"yyyy",e)}var eee=Object.freeze({__proto__:null,formatCaption:KX,formatDay:QX,formatMonthCaption:YX,formatWeekNumber:JX,formatWeekdayName:ZX,formatYearCaption:XX}),see=function(s,e,r){return Ds(s,"do MMMM (EEEE)",r)},tee=function(){return"Month: "},ree=function(){return"Go to next month"},aee=function(){return"Go to previous month"},iee=function(s,e){return Ds(s,"cccc",e)},nee=function(s){return"Week n. ".concat(s)},oee=function(){return"Year: "},lee=Object.freeze({__proto__:null,labelDay:see,labelMonthDropdown:tee,labelNext:ree,labelPrevious:aee,labelWeekNumber:nee,labelWeekday:iee,labelYearDropdown:oee});function dee(){var s="buttons",e=GX,r=vD,a={},i={},n=1,o={},l=new Date;return{captionLayout:s,classNames:e,formatters:eee,labels:lee,locale:r,modifiersClassNames:a,modifiers:i,numberOfMonths:n,styles:o,today:l,mode:"default"}}function uee(s){var e=s.fromYear,r=s.toYear,a=s.fromMonth,i=s.toMonth,n=s.fromDate,o=s.toDate;return a?n=Fi(a):e&&(n=new Date(e,0,1)),i?o=Gk(i):r&&(o=new Date(r,11,31)),{fromDate:n?um(n):void 0,toDate:o?um(o):void 0}}var W4=v.createContext(void 0);function cee(s){var e,r=s.initialProps,a=dee(),i=uee(r),n=i.fromDate,o=i.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:a.captionLayout;l!=="buttons"&&(!n||!o)&&(l="buttons");var d;(jg(r)||uf(r)||cf(r))&&(d=r.onSelect);var u=lt(lt(lt({},a),r),{captionLayout:l,classNames:lt(lt({},a.classNames),r.classNames),components:lt({},r.components),formatters:lt(lt({},a.formatters),r.formatters),fromDate:n,labels:lt(lt({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:lt(lt({},a.modifiers),r.modifiers),modifiersClassNames:lt(lt({},a.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:lt(lt({},a.styles),r.styles),toDate:o});return de.jsx(W4.Provider,{value:u,children:s.children})}function Ir(){var s=v.useContext(W4);if(!s)throw new Error("useDayPicker must be used within a DayPickerProvider.");return s}function U4(s){var e=Ir(),r=e.locale,a=e.classNames,i=e.styles,n=e.formatters.formatCaption;return de.jsx("div",{className:a.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:s.id,children:n(s.displayMonth,{locale:r})})}function mee(s){return de.jsx("svg",lt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},s,{children:de.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function V4(s){var e,r,a=s.onChange,i=s.value,n=s.children,o=s.caption,l=s.className,d=s.style,u=Ir(),c=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:mee;return de.jsxs("div",{className:l,style:d,children:[de.jsx("span",{className:u.classNames.vhidden,children:s["aria-label"]}),de.jsx("select",{name:s.name,"aria-label":s["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:a,children:n}),de.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,de.jsx(c,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function bee(s){var e,r=Ir(),a=r.fromDate,i=r.toDate,n=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,c=r.labels.labelMonthDropdown;if(!a)return de.jsx(de.Fragment,{});if(!i)return de.jsx(de.Fragment,{});var b=[];if(PF(a,i))for(var h=Fi(a),m=a.getMonth();m<=i.getMonth();m++)b.push(jx(h,m));else for(var h=Fi(new Date),m=0;m<=11;m++)b.push(jx(h,m));var f=function(N){var g=Number(N.target.value),D=jx(Fi(s.displayMonth),g);s.onChange(D)},p=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:V4;return de.jsx(p,{name:"months","aria-label":c(),className:d.dropdown_month,style:n.dropdown_month,onChange:f,value:s.displayMonth.getMonth(),caption:l(s.displayMonth,{locale:o}),children:b.map(function(N){return de.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function hee(s){var e,r=s.displayMonth,a=Ir(),i=a.fromDate,n=a.toDate,o=a.locale,l=a.styles,d=a.classNames,u=a.components,c=a.formatters.formatYearCaption,b=a.labels.labelYearDropdown,h=[];if(!i)return de.jsx(de.Fragment,{});if(!n)return de.jsx(de.Fragment,{});for(var m=i.getFullYear(),f=n.getFullYear(),p=m;p<=f;p++)h.push(XA(k5(new Date),p));var N=function(D){var w=XA(Fi(r),Number(D.target.value));s.onChange(w)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:V4;return de.jsx(g,{name:"years","aria-label":b(),className:d.dropdown_year,style:l.dropdown_year,onChange:N,value:r.getFullYear(),caption:c(r,{locale:o}),children:h.map(function(D){return de.jsx("option",{value:D.getFullYear(),children:c(D,{locale:o})},D.getFullYear())})})}function fee(s,e){var r=v.useState(s),a=r[0],i=r[1],n=e===void 0?a:e;return[n,i]}function pee(s){var e=s.month,r=s.defaultMonth,a=s.today,i=e||r||a||new Date,n=s.toDate,o=s.fromDate,l=s.numberOfMonths,d=l===void 0?1:l;if(n&&cm(n,i)<0){var u=-1*(d-1);i=kn(n,u)}return o&&cm(i,o)<0&&(i=o),Fi(i)}function Nee(){var s=Ir(),e=pee(s),r=fee(e,s.month),a=r[0],i=r[1],n=function(o){var l;if(!s.disableNavigation){var d=Fi(o);i(d),(l=s.onMonthChange)===null||l===void 0||l.call(s,d)}};return[a,n]}function kee(s,e){for(var r=e.reverseMonths,a=e.numberOfMonths,i=Fi(s),n=Fi(kn(i,a)),o=cm(n,i),l=[],d=0;d<o;d++){var u=kn(i,d);l.push(u)}return r&&(l=l.reverse()),l}function gee(s,e){if(!e.disableNavigation){var r=e.toDate,a=e.pagedNavigation,i=e.numberOfMonths,n=i===void 0?1:i,o=a?n:1,l=Fi(s);if(!r)return kn(l,o);var d=cm(r,s);if(!(d<n))return kn(l,o)}}function xee(s,e){if(!e.disableNavigation){var r=e.fromDate,a=e.pagedNavigation,i=e.numberOfMonths,n=i===void 0?1:i,o=a?n:1,l=Fi(s);if(!r)return kn(l,-o);var d=cm(l,r);if(!(d<=0))return kn(l,-o)}}var _4=v.createContext(void 0);function vee(s){var e=Ir(),r=Nee(),a=r[0],i=r[1],n=kee(a,e),o=gee(a,e),l=xee(a,e),d=function(b){return n.some(function(h){return DD(b,h)})},u=function(b,h){d(b)||(h&&j5(b,h)?i(kn(b,1+e.numberOfMonths*-1)):i(b))},c={currentMonth:a,displayMonths:n,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:d};return de.jsx(_4.Provider,{value:c,children:s.children})}function mf(){var s=v.useContext(_4);if(!s)throw new Error("useNavigation must be used within a NavigationProvider");return s}function f2(s){var e,r=Ir(),a=r.classNames,i=r.styles,n=r.components,o=mf().goToMonth,l=function(c){o(kn(c,s.displayIndex?-s.displayIndex:0))},d=(e=n==null?void 0:n.CaptionLabel)!==null&&e!==void 0?e:U4,u=de.jsx(d,{id:s.id,displayMonth:s.displayMonth});return de.jsxs("div",{className:a.caption_dropdowns,style:i.caption_dropdowns,children:[de.jsx("div",{className:a.vhidden,children:u}),de.jsx(bee,{onChange:l,displayMonth:s.displayMonth}),de.jsx(hee,{onChange:l,displayMonth:s.displayMonth})]})}function Dee(s){return de.jsx("svg",lt({width:"16px",height:"16px",viewBox:"0 0 120 120"},s,{children:de.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wee(s){return de.jsx("svg",lt({width:"16px",height:"16px",viewBox:"0 0 120 120"},s,{children:de.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nk=v.forwardRef(function(s,e){var r=Ir(),a=r.classNames,i=r.styles,n=[a.button_reset,a.button];s.className&&n.push(s.className);var o=n.join(" "),l=lt(lt({},i.button_reset),i.button);return s.style&&Object.assign(l,s.style),de.jsx("button",lt({},s,{ref:e,type:"button",className:o,style:l}))});function jee(s){var e,r,a=Ir(),i=a.dir,n=a.locale,o=a.classNames,l=a.styles,d=a.labels,u=d.labelPrevious,c=d.labelNext,b=a.components;if(!s.nextMonth&&!s.previousMonth)return de.jsx(de.Fragment,{});var h=u(s.previousMonth,{locale:n}),m=[o.nav_button,o.nav_button_previous].join(" "),f=c(s.nextMonth,{locale:n}),p=[o.nav_button,o.nav_button_next].join(" "),N=(e=b==null?void 0:b.IconRight)!==null&&e!==void 0?e:wee,g=(r=b==null?void 0:b.IconLeft)!==null&&r!==void 0?r:Dee;return de.jsxs("div",{className:o.nav,style:l.nav,children:[!s.hidePrevious&&de.jsx(Nk,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!s.previousMonth,onClick:s.onPreviousClick,children:i==="rtl"?de.jsx(N,{className:o.nav_icon,style:l.nav_icon}):de.jsx(g,{className:o.nav_icon,style:l.nav_icon})}),!s.hideNext&&de.jsx(Nk,{name:"next-month","aria-label":f,className:p,style:l.nav_button_next,disabled:!s.nextMonth,onClick:s.onNextClick,children:i==="rtl"?de.jsx(g,{className:o.nav_icon,style:l.nav_icon}):de.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function p2(s){var e=Ir().numberOfMonths,r=mf(),a=r.previousMonth,i=r.nextMonth,n=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(f){return DD(s.displayMonth,f)}),d=l===0,u=l===o.length-1,c=e>1&&(d||!u),b=e>1&&(u||!d),h=function(){a&&n(a)},m=function(){i&&n(i)};return de.jsx(jee,{displayMonth:s.displayMonth,hideNext:c,hidePrevious:b,nextMonth:i,previousMonth:a,onPreviousClick:h,onNextClick:m})}function Aee(s){var e,r=Ir(),a=r.classNames,i=r.disableNavigation,n=r.styles,o=r.captionLayout,l=r.components,d=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:U4,u;return i?u=de.jsx(d,{id:s.id,displayMonth:s.displayMonth}):o==="dropdown"?u=de.jsx(f2,{displayMonth:s.displayMonth,id:s.id}):o==="dropdown-buttons"?u=de.jsxs(de.Fragment,{children:[de.jsx(f2,{displayMonth:s.displayMonth,displayIndex:s.displayIndex,id:s.id}),de.jsx(p2,{displayMonth:s.displayMonth,displayIndex:s.displayIndex,id:s.id})]}):u=de.jsxs(de.Fragment,{children:[de.jsx(d,{id:s.id,displayMonth:s.displayMonth,displayIndex:s.displayIndex}),de.jsx(p2,{displayMonth:s.displayMonth,id:s.id})]}),de.jsx("div",{className:a.caption,style:n.caption,children:u})}function Eee(s){var e=Ir(),r=e.footer,a=e.styles,i=e.classNames.tfoot;return r?de.jsx("tfoot",{className:i,style:a.tfoot,children:de.jsx("tr",{children:de.jsx("td",{colSpan:8,children:r})})}):de.jsx(de.Fragment,{})}function Pee(s,e,r){for(var a=r?Iu(new Date):$n(new Date,{locale:s,weekStartsOn:e}),i=[],n=0;n<7;n++){var o=ji(a,n);i.push(o)}return i}function yee(){var s=Ir(),e=s.classNames,r=s.styles,a=s.showWeekNumber,i=s.locale,n=s.weekStartsOn,o=s.ISOWeek,l=s.formatters.formatWeekdayName,d=s.labels.labelWeekday,u=Pee(i,n,o);return de.jsxs("tr",{style:r.head_row,className:e.head_row,children:[a&&de.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(c,b){return de.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":d(c,{locale:i}),children:l(c,{locale:i})},b)})]})}function Oee(){var s,e=Ir(),r=e.classNames,a=e.styles,i=e.components,n=(s=i==null?void 0:i.HeadRow)!==null&&s!==void 0?s:yee;return de.jsx("thead",{style:a.head,className:r.head,children:de.jsx(n,{})})}function Wee(s){var e=Ir(),r=e.locale,a=e.formatters.formatDay;return de.jsx(de.Fragment,{children:a(s.date,{locale:r})})}var Cw=v.createContext(void 0);function Uee(s){if(!uf(s.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return de.jsx(Cw.Provider,{value:e,children:s.children})}return de.jsx(Vee,{initialProps:s.initialProps,children:s.children})}function Vee(s){var e=s.initialProps,r=s.children,a=e.selected,i=e.min,n=e.max,o=function(u,c,b){var h,m;(h=e.onDayClick)===null||h===void 0||h.call(e,u,c,b);var f=!!(c.selected&&i&&(a==null?void 0:a.length)===i);if(!f){var p=!!(!c.selected&&n&&(a==null?void 0:a.length)===n);if(!p){var N=a?O4([],a):[];if(c.selected){var g=N.findIndex(function(D){return ni(u,D)});N.splice(g,1)}else N.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,N,u,c,b)}}},l={disabled:[]};a&&l.disabled.push(function(u){var c=n&&a.length>n-1,b=a.some(function(h){return ni(h,u)});return!!(c&&!b)});var d={selected:a,onDayClick:o,modifiers:l};return de.jsx(Cw.Provider,{value:d,children:r})}function Sw(){var s=v.useContext(Cw);if(!s)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return s}function _ee(s,e){var r=e||{},a=r.from,i=r.to;return a&&i?ni(i,s)&&ni(a,s)?void 0:ni(i,s)?{from:i,to:void 0}:ni(a,s)?void 0:x0(a,s)?{from:s,to:i}:{from:a,to:s}:i?x0(s,i)?{from:i,to:s}:{from:s,to:i}:a?j5(s,a)?{from:s,to:a}:{from:a,to:s}:{from:s,to:void 0}}var Tw=v.createContext(void 0);function Cee(s){if(!cf(s.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return de.jsx(Tw.Provider,{value:e,children:s.children})}return de.jsx(See,{initialProps:s.initialProps,children:s.children})}function See(s){var e=s.initialProps,r=s.children,a=e.selected,i=a||{},n=i.from,o=i.to,l=e.min,d=e.max,u=function(m,f,p){var N,g;(N=e.onDayClick)===null||N===void 0||N.call(e,m,f,p);var D=_ee(m,a);(g=e.onSelect)===null||g===void 0||g.call(e,D,m,f,p)},c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(n?(c.range_start=[n],o?(c.range_end=[o],ni(n,o)||(c.range_middle=[{after:n,before:o}])):c.range_end=[n]):o&&(c.range_start=[o],c.range_end=[o]),l&&(n&&!o&&c.disabled.push({after:$p(n,l-1),before:ji(n,l-1)}),n&&o&&c.disabled.push({after:n,before:ji(n,l-1)}),!n&&o&&c.disabled.push({after:$p(o,l-1),before:ji(o,l-1)})),d){if(n&&!o&&(c.disabled.push({before:ji(n,-d+1)}),c.disabled.push({after:ji(n,d-1)})),n&&o){var b=Co(o,n)+1,h=d-b;c.disabled.push({before:$p(n,h)}),c.disabled.push({after:ji(o,h)})}!n&&o&&(c.disabled.push({before:ji(o,-d+1)}),c.disabled.push({after:ji(o,d-1)}))}return de.jsx(Tw.Provider,{value:{selected:a,onDayClick:u,modifiers:c},children:r})}function Rw(){var s=v.useContext(Tw);if(!s)throw new Error("useSelectRange must be used within a SelectRangeProvider");return s}function Xp(s){return Array.isArray(s)?O4([],s):s!==void 0?[s]:[]}function Tee(s){var e={};return Object.entries(s).forEach(function(r){var a=r[0],i=r[1];e[a]=Xp(i)}),e}var ko;(function(s){s.Outside="outside",s.Disabled="disabled",s.Selected="selected",s.Hidden="hidden",s.Today="today",s.RangeStart="range_start",s.RangeEnd="range_end",s.RangeMiddle="range_middle"})(ko||(ko={}));var Ree=ko.Selected,ul=ko.Disabled,Mee=ko.Hidden,Lee=ko.Today,nv=ko.RangeEnd,ov=ko.RangeMiddle,lv=ko.RangeStart,Iee=ko.Outside;function Fee(s,e,r){var a,i=(a={},a[Ree]=Xp(s.selected),a[ul]=Xp(s.disabled),a[Mee]=Xp(s.hidden),a[Lee]=[s.today],a[nv]=[],a[ov]=[],a[lv]=[],a[Iee]=[],a);return s.fromDate&&i[ul].push({before:s.fromDate}),s.toDate&&i[ul].push({after:s.toDate}),uf(s)?i[ul]=i[ul].concat(e.modifiers[ul]):cf(s)&&(i[ul]=i[ul].concat(r.modifiers[ul]),i[lv]=r.modifiers[lv],i[ov]=r.modifiers[ov],i[nv]=r.modifiers[nv]),i}var C4=v.createContext(void 0);function zee(s){var e=Ir(),r=Sw(),a=Rw(),i=Fee(e,r,a),n=Tee(e.modifiers),o=lt(lt({},i),n);return de.jsx(C4.Provider,{value:o,children:s.children})}function S4(){var s=v.useContext(C4);if(!s)throw new Error("useModifiers must be used within a ModifiersProvider");return s}function Bee(s){return!!(s&&typeof s=="object"&&"before"in s&&"after"in s)}function qee(s){return!!(s&&typeof s=="object"&&"from"in s)}function $ee(s){return!!(s&&typeof s=="object"&&"after"in s)}function Hee(s){return!!(s&&typeof s=="object"&&"before"in s)}function Gee(s){return!!(s&&typeof s=="object"&&"dayOfWeek"in s)}function Kee(s,e){var r,a=e.from,i=e.to;if(a&&i){var n=Co(i,a)<0;n&&(r=[i,a],a=r[0],i=r[1]);var o=Co(s,a)>=0&&Co(i,s)>=0;return o}return i?ni(i,s):a?ni(a,s):!1}function Qee(s){return gD(s)}function Yee(s){return Array.isArray(s)&&s.every(gD)}function Jee(s,e){return e.some(function(r){if(typeof r=="boolean")return r;if(Qee(r))return ni(s,r);if(Yee(r))return r.includes(s);if(qee(r))return Kee(s,r);if(Gee(r))return r.dayOfWeek.includes(s.getDay());if(Bee(r)){var a=Co(r.before,s),i=Co(r.after,s),n=a>0,o=i<0,l=x0(r.before,r.after);return l?o&&n:n||o}return $ee(r)?Co(s,r.after)>0:Hee(r)?Co(r.before,s)>0:typeof r=="function"?r(s):!1})}function Mw(s,e,r){var a=Object.keys(e).reduce(function(n,o){var l=e[o];return Jee(s,l)&&n.push(o),n},[]),i={};return a.forEach(function(n){return i[n]=!0}),r&&!DD(s,r)&&(i.outside=!0),i}function Zee(s,e){for(var r=Fi(s[0]),a=Gk(s[s.length-1]),i,n,o=r;o<=a;){var l=Mw(o,e),d=!l.disabled&&!l.hidden;if(!d){o=ji(o,1);continue}if(l.selected)return o;l.today&&!n&&(n=o),i||(i=o),o=ji(o,1)}return n||i}var Xee=365;function T4(s,e){var r=e.moveBy,a=e.direction,i=e.context,n=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:s}:o,d=i.weekStartsOn,u=i.fromDate,c=i.toDate,b=i.locale,h={day:ji,week:g0,month:kn,year:hI,startOfWeek:function(N){return i.ISOWeek?Iu(N):$n(N,{locale:b,weekStartsOn:d})},endOfWeek:function(N){return i.ISOWeek?g5(N):xD(N,{locale:b,weekStartsOn:d})}},m=h[r](s,a==="after"?1:-1);a==="before"&&u?m=fI([u,m]):a==="after"&&c&&(m=pI([c,m]));var f=!0;if(n){var p=Mw(m,n);f=!p.disabled&&!p.hidden}return f?m:l.count>Xee?l.lastFocused:T4(m,{moveBy:r,direction:a,context:i,modifiers:n,retry:lt(lt({},l),{count:l.count+1})})}var R4=v.createContext(void 0);function ese(s){var e=mf(),r=S4(),a=v.useState(),i=a[0],n=a[1],o=v.useState(),l=o[0],d=o[1],u=Zee(e.displayMonths,r),c=i??(l&&e.isDateDisplayed(l))?l:u,b=function(){d(i),n(void 0)},h=function(N){n(N)},m=Ir(),f=function(N,g){if(i){var D=T4(i,{moveBy:N,direction:g,context:m,modifiers:r});ni(i,D)||(e.goToDate(D,i),h(D))}},p={focusedDay:i,focusTarget:c,blur:b,focus:h,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}};return de.jsx(R4.Provider,{value:p,children:s.children})}function Lw(){var s=v.useContext(R4);if(!s)throw new Error("useFocusContext must be used within a FocusProvider");return s}function sse(s,e){var r=S4(),a=Mw(s,r,e);return a}var Iw=v.createContext(void 0);function tse(s){if(!jg(s.initialProps)){var e={selected:void 0};return de.jsx(Iw.Provider,{value:e,children:s.children})}return de.jsx(rse,{initialProps:s.initialProps,children:s.children})}function rse(s){var e=s.initialProps,r=s.children,a=function(n,o,l){var d,u,c;if((d=e.onDayClick)===null||d===void 0||d.call(e,n,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,n,o,l);return}(c=e.onSelect)===null||c===void 0||c.call(e,n,n,o,l)},i={selected:e.selected,onDayClick:a};return de.jsx(Iw.Provider,{value:i,children:r})}function M4(){var s=v.useContext(Iw);if(!s)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return s}function ase(s,e){var r=Ir(),a=M4(),i=Sw(),n=Rw(),o=Lw(),l=o.focusDayAfter,d=o.focusDayBefore,u=o.focusWeekAfter,c=o.focusWeekBefore,b=o.blur,h=o.focus,m=o.focusMonthBefore,f=o.focusMonthAfter,p=o.focusYearBefore,N=o.focusYearAfter,g=o.focusStartOfWeek,D=o.focusEndOfWeek,w=function(ie){var Z,Ne,_e,fe;jg(r)?(Z=a.onDayClick)===null||Z===void 0||Z.call(a,s,e,ie):uf(r)?(Ne=i.onDayClick)===null||Ne===void 0||Ne.call(i,s,e,ie):cf(r)?(_e=n.onDayClick)===null||_e===void 0||_e.call(n,s,e,ie):(fe=r.onDayClick)===null||fe===void 0||fe.call(r,s,e,ie)},A=function(ie){var Z;h(s),(Z=r.onDayFocus)===null||Z===void 0||Z.call(r,s,e,ie)},U=function(ie){var Z;b(),(Z=r.onDayBlur)===null||Z===void 0||Z.call(r,s,e,ie)},E=function(ie){var Z;(Z=r.onDayMouseEnter)===null||Z===void 0||Z.call(r,s,e,ie)},W=function(ie){var Z;(Z=r.onDayMouseLeave)===null||Z===void 0||Z.call(r,s,e,ie)},y=function(ie){var Z;(Z=r.onDayPointerEnter)===null||Z===void 0||Z.call(r,s,e,ie)},V=function(ie){var Z;(Z=r.onDayPointerLeave)===null||Z===void 0||Z.call(r,s,e,ie)},S=function(ie){var Z;(Z=r.onDayTouchCancel)===null||Z===void 0||Z.call(r,s,e,ie)},O=function(ie){var Z;(Z=r.onDayTouchEnd)===null||Z===void 0||Z.call(r,s,e,ie)},_=function(ie){var Z;(Z=r.onDayTouchMove)===null||Z===void 0||Z.call(r,s,e,ie)},M=function(ie){var Z;(Z=r.onDayTouchStart)===null||Z===void 0||Z.call(r,s,e,ie)},R=function(ie){var Z;(Z=r.onDayKeyUp)===null||Z===void 0||Z.call(r,s,e,ie)},Q=function(ie){var Z;switch(ie.key){case"ArrowLeft":ie.preventDefault(),ie.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":ie.preventDefault(),ie.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":ie.preventDefault(),ie.stopPropagation(),u();break;case"ArrowUp":ie.preventDefault(),ie.stopPropagation(),c();break;case"PageUp":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?p():m();break;case"PageDown":ie.preventDefault(),ie.stopPropagation(),ie.shiftKey?N():f();break;case"Home":ie.preventDefault(),ie.stopPropagation(),g();break;case"End":ie.preventDefault(),ie.stopPropagation(),D();break}(Z=r.onDayKeyDown)===null||Z===void 0||Z.call(r,s,e,ie)},ne={onClick:w,onFocus:A,onBlur:U,onKeyDown:Q,onKeyUp:R,onMouseEnter:E,onMouseLeave:W,onPointerEnter:y,onPointerLeave:V,onTouchCancel:S,onTouchEnd:O,onTouchMove:_,onTouchStart:M};return ne}function ise(){var s=Ir(),e=M4(),r=Sw(),a=Rw(),i=jg(s)?e.selected:uf(s)?r.selected:cf(s)?a.selected:void 0;return i}function nse(s){return Object.values(ko).includes(s)}function ose(s,e){var r=[s.classNames.day];return Object.keys(e).forEach(function(a){var i=s.modifiersClassNames[a];if(i)r.push(i);else if(nse(a)){var n=s.classNames["day_".concat(a)];n&&r.push(n)}}),r}function lse(s,e){var r=lt({},s.styles.day);return Object.keys(e).forEach(function(a){var i;r=lt(lt({},r),(i=s.modifiersStyles)===null||i===void 0?void 0:i[a])}),r}function dse(s,e,r){var a,i,n,o=Ir(),l=Lw(),d=sse(s,e),u=ase(s,d),c=ise(),b=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var E;d.outside||l.focusedDay&&b&&ni(l.focusedDay,s)&&((E=r.current)===null||E===void 0||E.focus())},[l.focusedDay,s,r,b,d.outside]);var h=ose(o,d).join(" "),m=lse(o,d),f=!!(d.outside&&!o.showOutsideDays||d.hidden),p=(n=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&n!==void 0?n:Wee,N=de.jsx(p,{date:s,displayMonth:e,activeModifiers:d}),g={style:m,className:h,children:N,role:"gridcell"},D=l.focusTarget&&ni(l.focusTarget,s)&&!d.outside,w=l.focusedDay&&ni(l.focusedDay,s),A=lt(lt(lt({},g),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=w||D?0:-1,a)),u),U={isButton:b,isHidden:f,activeModifiers:d,selectedDays:c,buttonProps:A,divProps:g};return U}function use(s){var e=v.useRef(null),r=dse(s.date,s.displayMonth,e);return r.isHidden?de.jsx("div",{role:"gridcell"}):r.isButton?de.jsx(Nk,lt({name:"day",ref:e},r.buttonProps)):de.jsx("div",lt({},r.divProps))}function cse(s){var e=s.number,r=s.dates,a=Ir(),i=a.onWeekNumberClick,n=a.styles,o=a.classNames,l=a.locale,d=a.labels.labelWeekNumber,u=a.formatters.formatWeekNumber,c=u(Number(e),{locale:l});if(!i)return de.jsx("span",{className:o.weeknumber,style:n.weeknumber,children:c});var b=d(Number(e),{locale:l}),h=function(m){i(e,r,m)};return de.jsx(Nk,{name:"week-number","aria-label":b,className:o.weeknumber,style:n.weeknumber,onClick:h,children:c})}function mse(s){var e,r,a=Ir(),i=a.styles,n=a.classNames,o=a.showWeekNumber,l=a.components,d=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:use,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:cse,c;return o&&(c=de.jsx("td",{className:n.cell,style:i.cell,children:de.jsx(u,{number:s.weekNumber,dates:s.dates})})),de.jsxs("tr",{className:n.row,style:i.row,children:[c,s.dates.map(function(b){return de.jsx("td",{className:n.cell,style:i.cell,role:"presentation",children:de.jsx(d,{displayMonth:s.displayMonth,date:b})},DF(b))})]})}function N2(s,e,r){for(var a=r!=null&&r.ISOWeek?g5(e):xD(e,r),i=r!=null&&r.ISOWeek?Iu(s):$n(s,r),n=Co(a,i),o=[],l=0;l<=n;l++)o.push(ji(i,l));var d=o.reduce(function(u,c){var b=r!=null&&r.ISOWeek?x5(c):D5(c,r),h=u.find(function(m){return m.weekNumber===b});return h?(h.dates.push(c),u):(u.push({weekNumber:b,dates:[c]}),u)},[]);return d}function bse(s,e){var r=N2(Fi(s),Gk(s),e);if(e!=null&&e.useFixedWeeks){var a=jF(s,e);if(a<6){var i=r[r.length-1],n=i.dates[i.dates.length-1],o=g0(n,6-a),l=N2(g0(n,1),o,e);r.push.apply(r,l)}}return r}function hse(s){var e,r,a,i=Ir(),n=i.locale,o=i.classNames,l=i.styles,d=i.hideHead,u=i.fixedWeeks,c=i.components,b=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,f=bse(s.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:n,weekStartsOn:b,firstWeekContainsDate:h}),p=(e=c==null?void 0:c.Head)!==null&&e!==void 0?e:Oee,N=(r=c==null?void 0:c.Row)!==null&&r!==void 0?r:mse,g=(a=c==null?void 0:c.Footer)!==null&&a!==void 0?a:Eee;return de.jsxs("table",{id:s.id,className:o.table,style:l.table,role:"grid","aria-labelledby":s["aria-labelledby"],children:[!d&&de.jsx(p,{}),de.jsx("tbody",{className:o.tbody,style:l.tbody,children:f.map(function(D){return de.jsx(N,{displayMonth:s.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),de.jsx(g,{displayMonth:s.displayMonth})]})}function fse(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pse=fse()?v.useLayoutEffect:v.useEffect,dv=!1,Nse=0;function k2(){return"react-day-picker-".concat(++Nse)}function kse(s){var e,r=s??(dv?k2():null),a=v.useState(r),i=a[0],n=a[1];return pse(function(){i===null&&n(k2())},[]),v.useEffect(function(){dv===!1&&(dv=!0)},[]),(e=s??i)!==null&&e!==void 0?e:void 0}function gse(s){var e,r,a=Ir(),i=a.dir,n=a.classNames,o=a.styles,l=a.components,d=mf().displayMonths,u=kse(a.id?"".concat(a.id,"-").concat(s.displayIndex):void 0),c=a.id?"".concat(a.id,"-grid-").concat(s.displayIndex):void 0,b=[n.month],h=o.month,m=s.displayIndex===0,f=s.displayIndex===d.length-1,p=!m&&!f;i==="rtl"&&(e=[m,f],f=e[0],m=e[1]),m&&(b.push(n.caption_start),h=lt(lt({},h),o.caption_start)),f&&(b.push(n.caption_end),h=lt(lt({},h),o.caption_end)),p&&(b.push(n.caption_between),h=lt(lt({},h),o.caption_between));var N=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Aee;return de.jsxs("div",{className:b.join(" "),style:h,children:[de.jsx(N,{id:u,displayMonth:s.displayMonth,displayIndex:s.displayIndex}),de.jsx(hse,{id:c,"aria-labelledby":u,displayMonth:s.displayMonth})]},s.displayIndex)}function xse(s){var e=Ir(),r=e.classNames,a=e.styles;return de.jsx("div",{className:r.months,style:a.months,children:s.children})}function vse(s){var e,r,a=s.initialProps,i=Ir(),n=Lw(),o=mf(),l=v.useState(!1),d=l[0],u=l[1];v.useEffect(function(){i.initialFocus&&n.focusTarget&&(d||(n.focus(n.focusTarget),u(!0)))},[i.initialFocus,d,n.focus,n.focusTarget,n]);var c=[i.classNames.root,i.className];i.numberOfMonths>1&&c.push(i.classNames.multiple_months),i.showWeekNumber&&c.push(i.classNames.with_weeknumber);var b=lt(lt({},i.styles.root),i.style),h=Object.keys(a).filter(function(f){return f.startsWith("data-")}).reduce(function(f,p){var N;return lt(lt({},f),(N={},N[p]=a[p],N))},{}),m=(r=(e=a.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:xse;return de.jsx("div",lt({className:c.join(" "),style:b,dir:i.dir,id:i.id,nonce:a.nonce,title:a.title,lang:a.lang},h,{children:de.jsx(m,{children:o.displayMonths.map(function(f,p){return de.jsx(gse,{displayIndex:p,displayMonth:f},p)})})}))}function Dse(s){var e=s.children,r=HX(s,["children"]);return de.jsx(cee,{initialProps:r,children:de.jsx(vee,{children:de.jsx(tse,{initialProps:r,children:de.jsx(Uee,{initialProps:r,children:de.jsx(Cee,{initialProps:r,children:de.jsx(zee,{children:de.jsx(ese,{children:e})})})})})})})}function wse(s){return de.jsx(Dse,lt({},s,{children:de.jsx(vse,{initialProps:s})}))}function Fw({className:s,classNames:e,showOutsideDays:r=!0,...a}){return t.jsxDEV(wse,{showOutsideDays:r,className:Ce("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ce(lh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ce(lh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>t.jsxDEV(Sk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/calendar.tsx",lineNumber:45,columnNumber:38},this),IconRight:({...i})=>t.jsxDEV(Cd,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/calendar.tsx",lineNumber:46,columnNumber:39},this)},...a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/calendar.tsx",lineNumber:12,columnNumber:5},this)}Fw.displayName="Calendar";function jse(){const{engagementId:s}=Al(),e=Qt(),{procedures:r,assignProcedure:a,isLoading:i}=ic(s),[n,o]=v.useState([]),[l,d]=v.useState(""),[u,c]=v.useState(),{data:b,isLoading:h}=bs({queryKey:["engagement",s],queryFn:async()=>{const{data:E,error:W}=await le.from("audits").select("audit_title, audit_number").eq("id",s).maybeSingle();if(W)throw W;return E},enabled:!!s}),{data:m,isLoading:f}=bs({queryKey:["engagement-team",s],queryFn:async()=>{const{data:E,error:W}=await le.from("engagement_assignments").select(`
          user_id,
          role_on_engagement,
          profiles(id, full_name, email)
        `).eq("engagement_id",s);if(W)throw W;return E},enabled:!!s}),p=(r==null?void 0:r.filter(E=>!E.assigned_to))||[],N=(r==null?void 0:r.filter(E=>E.assigned_to))||[],g=p.reduce((E,W)=>{const y=W.procedure_name.split(" ")[0]||"Other";return E[y]||(E[y]=[]),E[y].push(W),E},{}),D=E=>{o(W=>W.includes(E)?W.filter(y=>y!==E):[...W,E])},w=()=>{!l||n.length===0||(n.forEach(E=>{a({procedureId:E,assignedTo:l,dueDate:u?Ds(u,"yyyy-MM-dd"):void 0})}),o([]),d(""),c(void 0))},A=E=>E.split(" ").map(W=>W[0]).join("").toUpperCase().slice(0,2),U=E=>N.filter(W=>W.assigned_to===E).reduce((W,y)=>W+y.estimated_hours,0);return i||h||f?t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:122,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:121,columnNumber:7},this):b?t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(F,{variant:"outline",size:"icon",onClick:()=>e(`/engagements/${s}`),children:t.jsxDEV(hn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:145,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:144,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Assign Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:148,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:[b.audit_title," (",b.audit_number,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:147,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:143,columnNumber:7},this),n.length>0&&t.jsxDEV(B,{className:"border-primary",children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-end gap-4",children:[t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV(H,{children:["Assign ",n.length," procedure(s) to"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:161,columnNumber:17},this),t.jsxDEV(is,{value:l,onValueChange:d,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select team member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:163,columnNumber:19},this),t.jsxDEV(as,{children:m==null?void 0:m.map(E=>t.jsxDEV(X,{value:E.user_id,children:[E.profiles.full_name," (",E.role_on_engagement,")"]},E.user_id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:168,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV(H,{children:"Due Date (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:177,columnNumber:17},this),t.jsxDEV(B1,{children:[t.jsxDEV(q1,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",className:Ce("w-full justify-start text-left font-normal",!u&&"text-muted-foreground"),children:[t.jsxDEV(la,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:187,columnNumber:23},this),u?Ds(u,"PPP"):"Pick a date"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:180,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:179,columnNumber:19},this),t.jsxDEV(Uk,{className:"w-auto p-0",children:t.jsxDEV(Fw,{mode:"single",selected:u,onSelect:c,initialFocus:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:192,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:191,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:178,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:176,columnNumber:15},this),t.jsxDEV(F,{onClick:w,disabled:!l,children:"Assign Selected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:202,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",onClick:()=>o([]),children:"Clear"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:205,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:159,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:157,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:["Unassigned Procedures (",p.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:221,columnNumber:15},this),t.jsxDEV(Ke,{children:"Select procedures and assign them to team members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:220,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV(Wa,{className:"h-[600px]",children:t.jsxDEV("div",{className:"space-y-6",children:Object.entries(g).map(([E,W])=>t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h3",{className:"text-sm font-semibold text-muted-foreground",children:[E," (",W.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:231,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:W.map(y=>t.jsxDEV(B,{className:Ce("cursor-pointer transition-colors",n.includes(y.id)?"border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>D(y.id),children:t.jsxDEV(q,{className:"pt-4",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-sm",children:y.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:249,columnNumber:35},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:y.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:250,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:248,columnNumber:33},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:y.priority==="high"?"destructive":"secondary",children:y.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:255,columnNumber:35},this),t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:259,columnNumber:37},this),y.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:258,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:254,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:247,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:246,columnNumber:29},this)},y.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:236,columnNumber:27},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:234,columnNumber:23},this)]},E,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:230,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:228,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:227,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:219,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:218,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:281,columnNumber:17},this),"Team Members"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:280,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:279,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV(Wa,{className:"h-[600px]",children:t.jsxDEV("div",{className:"space-y-3",children:m==null?void 0:m.map(E=>{const W=U(E.user_id),y=N.filter(V=>V.assigned_to===E.user_id).length;return t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-4",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(Mn,{children:t.jsxDEV(Ln,{children:A(E.profiles.full_name)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:299,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:298,columnNumber:29},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"font-medium text-sm truncate",children:E.profiles.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:304,columnNumber:31},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:E.role_on_engagement},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:307,columnNumber:31},this),t.jsxDEV("div",{className:"mt-2 space-y-1",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Assigned:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:312,columnNumber:35},this),t.jsxDEV("span",{className:"font-medium",children:[y," procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:313,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:311,columnNumber:33},this),t.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Workload:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:316,columnNumber:35},this),t.jsxDEV("span",{className:"font-medium",children:[W,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:317,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:315,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:310,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:303,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:297,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:296,columnNumber:25},this)},E.user_id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:295,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:287,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:278,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:277,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:216,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:142,columnNumber:5},this):t.jsxDEV("div",{className:"container mx-auto p-6",children:t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ys,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:133,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Engagement not found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:132,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:131,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureAssignment.tsx",lineNumber:130,columnNumber:7},this)}const zw=s=>{const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["engagement-programs",s],queryFn:async()=>{let o=le.from("engagement_programs").select(`
          *,
          audit_program_templates(template_name, audit_type)
        `);s&&(o=o.eq("engagement_id",s));const{data:l,error:d}=await o.order("created_at",{ascending:!1});if(d)throw d;return l||[]},enabled:!!s}),n=Rs({mutationFn:async({engagementId:o,programTemplateId:l,programName:d})=>{const{data:u,error:c}=await le.from("engagement_programs").insert({engagement_id:o,program_template_id:l,program_name:d,status:"draft"}).select().single();if(c)throw c;const{data:b,error:h}=await le.from("program_procedures").select(`
          *,
          audit_procedures(*)
        `).eq("program_template_id",l).order("sequence_order");if(h)throw h;if(b&&b.length>0){const m=b.map(p=>({engagement_program_id:u.id,procedure_id:p.procedure_id,engagement_id:o,procedure_name:p.audit_procedures.procedure_name,instructions:p.audit_procedures.instructions,estimated_hours:p.audit_procedures.estimated_hours,status:"not_started",priority:p.audit_procedures.risk_level==="high"?"high":"medium"})),{error:f}=await le.from("engagement_procedures").insert(m);if(f)throw f;await le.from("engagement_programs").update({total_procedures:m.length}).eq("id",u.id)}return u},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-programs"]}),r.invalidateQueries({queryKey:["engagement-procedures"]}),e({title:"Program applied",description:"The audit program has been applied to this engagement."})},onError:o=>{e({title:"Error applying program",description:o.message,variant:"destructive"})}});return{programs:a,isLoading:i,applyProgramToEngagement:n.mutate}};function Ase({engagementId:s,engagementName:e,open:r,onOpenChange:a}){var D,w;const{templates:i,isLoading:n}=Z_(),{applyProgramToEngagement:o}=zw(s),[l,d]=v.useState(""),[u,c]=v.useState(null),[b,h]=v.useState(""),m=(i==null?void 0:i.filter(A=>A.is_standard))||[],f=(i==null?void 0:i.filter(A=>!A.is_standard))||[],p=A=>l?A==null?void 0:A.filter(U=>U.template_name.toLowerCase().includes(l.toLowerCase())||U.audit_type.toLowerCase().includes(l.toLowerCase())):A,N=A=>{c(A),h(A.template_name)},g=()=>{u&&(o({engagementId:s,programTemplateId:u.id,programName:b||u.template_name}),a(!1),c(null),h(""))};return n?t.jsxDEV(Pt,{open:r,onOpenChange:a,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Xs,{className:"h-12 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:77,columnNumber:13},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:74,columnNumber:7},this):t.jsxDEV(Pt,{open:r,onOpenChange:a,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Apply Audit Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:89,columnNumber:11},this),t.jsxDEV(Bt,{children:["Select a program template to apply to ",e]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:88,columnNumber:9},this),u?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:u.template_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:191,columnNumber:17},this),t.jsxDEV(Ke,{children:u.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:190,columnNumber:15},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Audit Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:197,columnNumber:21},this),t.jsxDEV(he,{variant:"outline",className:"mt-1",children:u.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:198,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:196,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:203,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm font-medium mt-1",children:u.industry||"N/A"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:204,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:202,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:209,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm font-medium mt-1 flex items-center gap-1",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:211,columnNumber:23},this),u.procedure_count||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:210,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:208,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:195,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:194,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"program-name",children:"Program Name (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:220,columnNumber:15},this),t.jsxDEV(ve,{id:"program-name",placeholder:u.template_name,value:b,onChange:A=>h(A.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:221,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Leave blank to use the template name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV("div",{className:"rounded-lg border bg-muted/50 p-4",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(Ks,{className:"h-5 w-5 text-primary mt-0.5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"What happens next?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:236,columnNumber:19},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsxDEV("li",{children:[" All ",u.procedure_count||0," procedures will be copied to this engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:238,columnNumber:21},this),t.jsxDEV("li",{children:" You can customize procedures after applying"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:239,columnNumber:21},this),t.jsxDEV("li",{children:" Team members can be assigned to each procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:240,columnNumber:21},this),t.jsxDEV("li",{children:" Progress will be tracked automatically"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:241,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:233,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:188,columnNumber:11},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:98,columnNumber:15},this),t.jsxDEV(ve,{placeholder:"Search programs...",value:l,onChange:A=>d(A.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:97,columnNumber:13},this),t.jsxDEV(Wa,{className:"h-[500px] pr-4",children:t.jsxDEV(Pr,{defaultValue:"standard",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"standard",children:["Standard Programs (",m.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:110,columnNumber:19},this),t.jsxDEV($e,{value:"custom",children:["Custom Programs (",f.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:113,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:109,columnNumber:17},this),t.jsxDEV(es,{value:"standard",className:"space-y-3",children:(D=p(m))==null?void 0:D.map(A=>t.jsxDEV(B,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>N(A),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV(ue,{className:"text-base",children:A.template_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:128,columnNumber:29},this),t.jsxDEV(Ke,{children:A.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:131,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:127,columnNumber:27},this),t.jsxDEV(he,{variant:"secondary",children:"Standard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:133,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:126,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:125,columnNumber:23},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV(he,{variant:"outline",children:A.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:138,columnNumber:27},this),A.industry&&t.jsxDEV(he,{variant:"outline",children:A.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:140,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:143,columnNumber:29},this),t.jsxDEV("span",{children:[A.procedure_count||0," procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:144,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:142,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:137,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:136,columnNumber:23},this)]},A.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:120,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:118,columnNumber:17},this),t.jsxDEV(es,{value:"custom",className:"space-y-3",children:(w=p(f))==null?void 0:w.map(A=>t.jsxDEV(B,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>N(A),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV(ue,{className:"text-base",children:A.template_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:162,columnNumber:29},this),t.jsxDEV(Ke,{children:A.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:165,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:161,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:160,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:159,columnNumber:23},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV(he,{variant:"outline",children:A.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:171,columnNumber:27},this),A.industry&&t.jsxDEV(he,{variant:"outline",children:A.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:173,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:176,columnNumber:29},this),t.jsxDEV("span",{children:[A.procedure_count||0," procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:177,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:175,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:170,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:169,columnNumber:23},this)]},A.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:154,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:96,columnNumber:11},this),t.jsxDEV(Ur,{children:[u&&t.jsxDEV(F,{variant:"outline",onClick:()=>{c(null),h("")},children:"Back"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:251,columnNumber:13},this),t.jsxDEV(F,{onClick:g,disabled:!u,children:"Apply Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:261,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:249,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:87,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ApplyProgramDialog.tsx",lineNumber:86,columnNumber:5},this)}function Ese({procedure:s,open:e,onOpenChange:r}){var _,M;const a=Qt(),{toast:i}=Hs(),{startProcedure:n,completeProcedure:o,updateProcedure:l}=ic(),[d,u]=v.useState(0),[c,b]=v.useState(!1),[h,m]=v.useState(""),[f,p]=v.useState(""),[N,g]=v.useState([]);v.useEffect(()=>{if(s!=null&&s.evidence_requirements){const R=Array.isArray(s.evidence_requirements)?s.evidence_requirements:[];g(R.map((Q,ne)=>({id:`evidence-${ne}`,text:Q,completed:!1})))}},[s]),v.useEffect(()=>{let R;return c&&(R=setInterval(()=>{u(Q=>Q+1)},1e3)),()=>clearInterval(R)},[c]);const D=R=>{const Q=Math.floor(R/3600),ne=Math.floor(R%3600/60),ie=R%60;return`${Q.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}:${ie.toString().padStart(2,"0")}`},w=()=>{s.status==="not_started"&&n(s.id),b(!0)},A=()=>{b(!1)},U=()=>{b(!1),u(0)},E=()=>{if(!f.trim()){i({title:"Findings Required",description:"Please document your findings before submitting for review.",variant:"destructive"});return}if(!N.every(Q=>Q.completed)){i({title:"Evidence Incomplete",description:"Please complete all evidence items before submitting.",variant:"destructive"});return}o(s.id),r(!1)},W=()=>{var R;a(`/audit/workpapers/new?procedureId=${s.id}&auditId=${(R=s.engagement_programs)==null?void 0:R.audit_id}`),r(!1)},y=()=>{var Q;const R=new URLSearchParams({procedureId:s.id,procedureName:s.procedure_name||"",auditId:((Q=s.engagement_programs)==null?void 0:Q.audit_id)||""});a(`/findings?create=true&${R.toString()}`),r(!1)},V=R=>{g(Q=>Q.map(ne=>ne.id===R?{...ne,completed:!ne.completed}:ne))},S=()=>s!=null&&s.instructions?typeof s.instructions=="string"?t.jsxDEV("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.instructions},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:150,columnNumber:14},this):s.instructions.type==="doc"&&s.instructions.content?t.jsxDEV("div",{className:"space-y-2",children:s.instructions.content.map((R,Q)=>{var ne,ie;return R.type==="paragraph"?t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:((ne=R.content)==null?void 0:ne.map(Z=>Z.text).join(""))||""},Q,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:159,columnNumber:17},this):R.type==="bulletList"?t.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:(ie=R.content)==null?void 0:ie.map((Z,Ne)=>{var _e,fe,T,G;return t.jsxDEV("li",{children:((G=(T=(fe=(_e=Z.content)==null?void 0:_e[0])==null?void 0:fe.content)==null?void 0:T[0])==null?void 0:G.text)||""},Ne,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:168,columnNumber:21},this)})},Q,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:166,columnNumber:17},this):null})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:155,columnNumber:9},this):null:null,O=R=>{switch(R){case"not_started":return"bg-slate-500";case"in_progress":return"bg-blue-500";case"in_review":return"bg-amber-500";case"complete":return"bg-emerald-500";default:return"bg-slate-500"}};return t.jsxDEV(Pt,{open:e,onOpenChange:r,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(St,{className:"text-xl",children:s==null?void 0:s.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:200,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:(_=s==null?void 0:s.engagement_programs)==null?void 0:_.program_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:201,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:199,columnNumber:13},this),t.jsxDEV(he,{className:O((s==null?void 0:s.status)||"not_started"),children:((M=s==null?void 0:s.status)==null?void 0:M.replace("_"," ").toUpperCase())||"NOT STARTED"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:205,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:197,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6 mt-4",children:[t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(uW,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:216,columnNumber:17},this),t.jsxDEV("span",{className:"font-mono text-2xl font-bold",children:D(d)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:217,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:215,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[c?t.jsxDEV(F,{onClick:A,size:"sm",variant:"secondary",children:[t.jsxDEV(nW,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:227,columnNumber:21},this),"Pause"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:226,columnNumber:19},this):t.jsxDEV(F,{onClick:w,size:"sm",variant:"default",children:[t.jsxDEV(Kv,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:222,columnNumber:21},this),(s==null?void 0:s.status)==="not_started"?"Start Procedure":"Resume"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:221,columnNumber:19},this),d>0&&t.jsxDEV(F,{onClick:U,size:"sm",variant:"outline",children:[t.jsxDEV(J7,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:233,columnNumber:21},this),"Reset"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:232,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:214,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Estimated: ",(s==null?void 0:s.estimated_hours)||0," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:213,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:244,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:249,columnNumber:15},this),"Procedure Instructions"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:248,columnNumber:13},this),(s==null?void 0:s.objective)&&t.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-md mb-3",children:t.jsxDEV("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Objective: ",s.objective]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:254,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:253,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:S()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:247,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:264,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:269,columnNumber:15},this),"Evidence Collection Checklist"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:268,columnNumber:13},this),N.length>0?t.jsxDEV("div",{className:"space-y-2",children:N.map(R=>t.jsxDEV("div",{className:"flex items-start gap-3 p-2 rounded hover:bg-muted/50",children:[t.jsxDEV(ga,{id:R.id,checked:R.completed,onCheckedChange:()=>V(R.id),className:"mt-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:276,columnNumber:21},this),t.jsxDEV(H,{htmlFor:R.id,className:`text-sm cursor-pointer flex-1 ${R.completed?"line-through text-muted-foreground":""}`,children:R.text},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:282,columnNumber:21},this)]},R.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:275,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:273,columnNumber:15},this):t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:"No evidence requirements specified"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:267,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:298,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:303,columnNumber:15},this),"Exception Notes (Optional)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:302,columnNumber:13},this),t.jsxDEV(Wt,{placeholder:"Document any exceptions, deviations, or unusual observations...",value:h,onChange:R=>m(R.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:306,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:301,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:318,columnNumber:15},this),"Findings / Conclusion ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:319,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:317,columnNumber:13},this),t.jsxDEV(Wt,{placeholder:"Document your findings, conclusions, and test results...",value:f,onChange:R=>p(R.target.value),rows:4,className:"resize-none"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:321,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:316,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:330,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-col gap-3",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(F,{onClick:W,variant:"outline",className:"flex-1",children:[t.jsxDEV(Ws,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:340,columnNumber:17},this),"Create Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:335,columnNumber:15},this),t.jsxDEV(F,{onClick:y,variant:"outline",className:"flex-1",children:[t.jsxDEV(Er,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:348,columnNumber:17},this),"Create Finding"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:334,columnNumber:13},this),t.jsxDEV(F,{onClick:E,className:"w-full",disabled:(s==null?void 0:s.status)==="in_review"||(s==null?void 0:s.status)==="complete",children:[t.jsxDEV(Ks,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:357,columnNumber:15},this),"Submit for Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:352,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:333,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:211,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:196,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureExecutionPanel.tsx",lineNumber:195,columnNumber:5},this)}function Pse({open:s,onOpenChange:e,procedure:r}){var p,N;const a=Qt(),{updateProcedure:i}=ic(),[n,o]=v.useState(""),[l,d]=v.useState(""),[u,c]=v.useState({evidenceAdequate:!1,procedureComplete:!1,documentationClear:!1,conclusionsSupported:!1,exceptionsDocumented:!1}),b=async()=>{if(!Object.values(u).every(D=>D)){ri.error("Please complete all quality control checks before approving");return}try{i({id:r.id,status:"completed",reviewed_at:new Date().toISOString(),review_notes:n||null}),ri.success("Procedure approved successfully"),e(!1)}catch{ri.error("Failed to approve procedure")}},h=async()=>{if(!l.trim()){ri.error("Please provide revision notes");return}try{i({id:r.id,status:"revision_requested",reviewed_at:new Date().toISOString(),review_notes:l}),ri.success("Revision requested"),e(!1)}catch{ri.error("Failed to request revision")}},m=async()=>{if(!l.trim()){ri.error("Please provide a reason for rejection");return}try{i({id:r.id,status:"not_started",reviewed_at:new Date().toISOString(),review_notes:l,started_at:null,completed_at:null}),ri.success("Procedure rejected"),e(!1)}catch{ri.error("Failed to reject procedure")}},f=()=>{r.workpaper_id&&a(`/audit/workpapers/${r.workpaper_id}`)};return t.jsxDEV(jD,{open:s,onOpenChange:e,children:t.jsxDEV(sg,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[t.jsxDEV(AD,{children:[t.jsxDEV(ED,{children:"Review Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:123,columnNumber:11},this),t.jsxDEV(PD,{children:"Review the completed procedure and provide feedback"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:122,columnNumber:9},this),t.jsxDEV("div",{className:"mt-6 space-y-6",children:[t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold text-lg",children:r.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:133,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:(p=r.engagement_programs)==null?void 0:p.engagement_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:132,columnNumber:13},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:t.jsxDEV(he,{variant:"outline",children:r.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:139,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(wl,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:145,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground",children:"Completed by"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:147,columnNumber:19},this),t.jsxDEV("div",{className:"font-medium",children:((N=r.profiles)==null?void 0:N.full_name)||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:148,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:144,columnNumber:15},this),r.completed_at&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:153,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground",children:"Submitted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:155,columnNumber:21},this),t.jsxDEV("div",{className:"font-medium",children:Ds(new Date(r.completed_at),"MMM d, yyyy h:mm a")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:156,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:154,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:131,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:165,columnNumber:11},this),r.started_at&&r.completed_at&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold mb-2",children:"Time Tracking"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:170,columnNumber:15},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-3 text-sm space-y-1",children:[t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Estimated:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:173,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[r.estimated_hours||0,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:174,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:172,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Actual:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:177,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[((new Date(r.completed_at).getTime()-new Date(r.started_at).getTime())/(1e3*60*60)).toFixed(1),"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:176,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:171,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:169,columnNumber:13},this),r.workpaper_id&&t.jsxDEV(jr,{children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:189,columnNumber:15},this),t.jsxDEV(Ar,{className:"flex items-center justify-between",children:[t.jsxDEV("span",{children:"Workpaper documentation available"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:191,columnNumber:17},this),t.jsxDEV(F,{variant:"link",size:"sm",onClick:f,children:"View Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:188,columnNumber:13},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:199,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Quality Control Checklist"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:203,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"evidenceAdequate",checked:u.evidenceAdequate,onCheckedChange:g=>c({...u,evidenceAdequate:g})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:206,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"evidenceAdequate",className:"cursor-pointer font-normal",children:"Evidence collected is adequate and appropriate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:213,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:205,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"procedureComplete",checked:u.procedureComplete,onCheckedChange:g=>c({...u,procedureComplete:g})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:218,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"procedureComplete",className:"cursor-pointer font-normal",children:"All procedure steps have been completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:217,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"documentationClear",checked:u.documentationClear,onCheckedChange:g=>c({...u,documentationClear:g})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:230,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"documentationClear",className:"cursor-pointer font-normal",children:"Documentation is clear and well-organized"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:237,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:229,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"conclusionsSupported",checked:u.conclusionsSupported,onCheckedChange:g=>c({...u,conclusionsSupported:g})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:242,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"conclusionsSupported",className:"cursor-pointer font-normal",children:"Conclusions are supported by evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:249,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:241,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"exceptionsDocumented",checked:u.exceptionsDocumented,onCheckedChange:g=>c({...u,exceptionsDocumented:g})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:254,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"exceptionsDocumented",className:"cursor-pointer font-normal",children:"Exceptions or issues are properly documented"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:261,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:268,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"reviewComments",children:"Review Comments (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:272,columnNumber:13},this),t.jsxDEV(Wt,{id:"reviewComments",placeholder:"Add any comments or feedback for the team member...",value:n,onChange:g=>o(g.target.value),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:273,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:271,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"revisionNotes",children:["Revision/Rejection Notes",t.jsxDEV("span",{className:"text-muted-foreground text-sm ml-1",children:"(Required for revision or rejection)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:286,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:284,columnNumber:13},this),t.jsxDEV(Wt,{id:"revisionNotes",placeholder:"Specify what needs to be corrected or why this is being rejected...",value:l,onChange:g=>d(g.target.value),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:288,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:283,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-col gap-2 pt-4",children:[t.jsxDEV(F,{onClick:b,className:"w-full",children:[t.jsxDEV(Ks,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:303,columnNumber:15},this),"Approve & Complete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:299,columnNumber:13},this),t.jsxDEV(F,{onClick:h,variant:"outline",className:"w-full",children:[t.jsxDEV(Ys,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:311,columnNumber:15},this),"Request Revision"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:306,columnNumber:13},this),t.jsxDEV(F,{onClick:m,variant:"destructive",className:"w-full",children:[t.jsxDEV(Ru,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:319,columnNumber:15},this),"Reject"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:129,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/programs/ProcedureReviewPanel.tsx",lineNumber:120,columnNumber:5},this)}function yse(){const s=Qt(),{profile:e}=ar(),{procedures:r,startProcedure:a,completeProcedure:i,isLoading:n}=ic(void 0,e==null?void 0:e.id),[o,l]=v.useState("all"),[d,u]=v.useState(!1),[c,b]=v.useState(null),h={all:r||[],not_started:(r==null?void 0:r.filter(D=>D.status==="not_started"))||[],in_progress:(r==null?void 0:r.filter(D=>D.status==="in_progress"))||[],in_review:(r==null?void 0:r.filter(D=>D.status==="in_review"))||[],complete:(r==null?void 0:r.filter(D=>D.status==="complete"))||[]},m=(r==null?void 0:r.reduce((D,w)=>{var U;const A=w.engagement_id;return D[A]||(D[A]={engagement:((U=w.engagement_programs)==null?void 0:U[0])||{program_name:"Unknown"},procedures:[]}),D[A].procedures.push(w),D},{}))||{},f=D=>{switch(D){case"not_started":return"secondary";case"in_progress":return"default";case"in_review":return"outline";case"complete":return"default";default:return"outline"}},p=D=>{switch(D){case"not_started":return t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:74,columnNumber:16},this);case"in_progress":return t.jsxDEV(Jj,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:76,columnNumber:16},this);case"in_review":return t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:78,columnNumber:16},this);case"complete":return t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:80,columnNumber:16},this);default:return t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:82,columnNumber:16},this)}},N=D=>{switch(D){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},g=D=>D?AF(new Date(D)):!1;return n?t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:106,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"My Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:116,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"View and manage procedures assigned to you"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:117,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:115,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Total Assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:126,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:129,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:124,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Not Started"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:134,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:133,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-2xl font-bold",children:h.not_started.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:137,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:141,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-2xl font-bold",children:h.in_progress.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:145,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:140,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:150,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:149,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:h.complete.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:153,columnNumber:13},this),r&&r.length>0&&t.jsxDEV(cr,{value:h.complete.length/r.length*100,className:"mt-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:123,columnNumber:7},this),t.jsxDEV(Pr,{value:o,onValueChange:l,children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"all",children:["All (",h.all.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:166,columnNumber:11},this),t.jsxDEV($e,{value:"not_started",children:["Not Started (",h.not_started.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:167,columnNumber:11},this),t.jsxDEV($e,{value:"in_progress",children:["In Progress (",h.in_progress.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:168,columnNumber:11},this),t.jsxDEV($e,{value:"in_review",children:["In Review (",h.in_review.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:169,columnNumber:11},this),t.jsxDEV($e,{value:"complete",children:["Complete (",h.complete.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:165,columnNumber:9},this),Object.entries(h).map(([D,w])=>t.jsxDEV(es,{value:D,className:"space-y-6",children:[(r==null?void 0:r.length)===0&&t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:[t.jsxDEV(Qh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:179,columnNumber:19},this),t.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"No Procedures Assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:180,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"You don't have any procedures assigned to you yet."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:181,columnNumber:19},this),t.jsxDEV(F,{variant:"outline",onClick:()=>s("/engagements"),children:"Browse Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:178,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:177,columnNumber:15},this),Object.entries(m).map(([A,U])=>{const E=D==="all"?U.procedures:U.procedures.filter(W=>W.status===D);return E.length===0?null:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:U.engagement.program_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:199,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-1 gap-3",children:E.map(W=>t.jsxDEV(B,{className:"hover:border-primary transition-colors",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1 space-y-1",children:[t.jsxDEV(ue,{className:"text-base",children:W.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:208,columnNumber:31},this),t.jsxDEV(Ke,{children:W.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:209,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:207,columnNumber:29},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:N(W.priority),children:W.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:212,columnNumber:31},this),t.jsxDEV(he,{variant:f(W.status),className:"gap-1",children:[p(W.status),W.status.replace("_"," ")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:215,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:211,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:206,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:205,columnNumber:25},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:226,columnNumber:33},this),t.jsxDEV("span",{children:[W.estimated_hours,"h estimated"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:227,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:225,columnNumber:31},this),W.due_date&&t.jsxDEV("div",{className:Ce("flex items-center gap-1",g(W.due_date)&&W.status!=="complete"&&"text-destructive"),children:[t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:234,columnNumber:35},this),t.jsxDEV("span",{children:["Due ",Ds(new Date(W.due_date),"MMM d, yyyy"),g(W.due_date)&&W.status!=="complete"&&" (Overdue)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:235,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:230,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:224,columnNumber:29},this),t.jsxDEV("div",{className:"flex gap-2",children:[(W.status==="not_started"||W.status==="in_progress")&&t.jsxDEV(F,{size:"sm",onClick:()=>{b(W),u(!0)},children:[t.jsxDEV(Jj,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:251,columnNumber:35},this),W.status==="not_started"?"Start":"Continue"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:244,columnNumber:33},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>s(`/engagements/${W.engagement_id}`),children:t.jsxDEV(G1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:260,columnNumber:33},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:255,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:242,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:223,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:222,columnNumber:25},this)]},W.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:204,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:202,columnNumber:19},this)]},A,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:198,columnNumber:17},this)})]},D,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:174,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:164,columnNumber:7},this),c&&t.jsxDEV(Ese,{procedure:c,open:d,onOpenChange:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:276,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/MyProcedures.tsx",lineNumber:114,columnNumber:5},this)}function Ose(s){const{data:e,isLoading:r}=bs({queryKey:["program-metrics",s],queryFn:async()=>{let u=le.from("engagement_programs").select(`
          id,
          program_name,
          total_procedures,
          completed_procedures,
          in_progress_procedures,
          created_at
        `);const{data:c,error:b}=await u;if(b)throw b;return(c||[]).map(h=>({program_id:h.id,program_name:h.program_name,total_procedures:h.total_procedures||0,completed_procedures:h.completed_procedures||0,in_progress_procedures:h.in_progress_procedures||0,not_started_procedures:(h.total_procedures||0)-(h.completed_procedures||0)-(h.in_progress_procedures||0),completion_percentage:h.total_procedures>0?Math.round((h.completed_procedures||0)/h.total_procedures*100):0,avg_completion_time_days:0,overdue_procedures:0,total_estimated_hours:0,total_actual_hours:0,efficiency_ratio:0}))}}),{data:a,isLoading:i}=bs({queryKey:["procedure-efficiency",s],queryFn:async()=>{let u=le.from("engagement_procedures").select(`
          procedure_name,
          estimated_hours,
          status,
          completed_at,
          started_at,
          due_date
        `);const{data:c,error:b}=await u.eq("status","complete");if(b)throw b;const h=new Map;return(c||[]).forEach(m=>{h.has(m.procedure_name)||h.set(m.procedure_name,{procedure_name:m.procedure_name,estimated_hours:m.estimated_hours||0,actual_hours:m.estimated_hours||0,completion_count:0,total_days:0});const f=h.get(m.procedure_name);if(f.completion_count+=1,m.started_at&&m.completed_at){const p=Math.ceil((new Date(m.completed_at).getTime()-new Date(m.started_at).getTime())/864e5);f.total_days+=p}}),Array.from(h.values()).map(m=>({...m,avg_days_to_complete:m.completion_count>0?Math.round(m.total_days/m.completion_count):0,variance_percentage:m.estimated_hours>0?Math.round((m.actual_hours-m.estimated_hours)/m.estimated_hours*100):0}))}}),{data:n,isLoading:o}=bs({queryKey:["team-performance",s],queryFn:async()=>{let u=le.from("engagement_procedures").select(`
          assigned_to,
          status,
          completed_at,
          started_at,
          due_date,
          profiles:assigned_to (
            full_name
          )
        `);const{data:c,error:b}=await u.not("assigned_to","is",null);if(b)throw b;const h=new Map;return(c||[]).forEach(m=>{var N;const f=m.assigned_to;h.has(f)||h.set(f,{user_id:f,user_name:((N=m.profiles)==null?void 0:N.full_name)||"Unknown",total_assigned:0,completed:0,in_progress:0,overdue:0,total_days:0,completed_count:0});const p=h.get(f);if(p.total_assigned+=1,m.status==="complete"){if(p.completed+=1,m.started_at&&m.completed_at){const g=Math.ceil((new Date(m.completed_at).getTime()-new Date(m.started_at).getTime())/864e5);p.total_days+=g,p.completed_count+=1}}else m.status==="in_progress"&&(p.in_progress+=1);m.due_date&&new Date(m.due_date)<new Date&&m.status!=="complete"&&(p.overdue+=1)}),Array.from(h.values()).map(m=>({...m,avg_completion_time_days:m.completed_count>0?Math.round(m.total_days/m.completed_count):0,completion_rate:m.total_assigned>0?Math.round(m.completed/m.total_assigned*100):0}))}}),{data:l,isLoading:d}=bs({queryKey:["workpaper-review-metrics",s],queryFn:async()=>{let u=le.from("audit_workpapers").select(`
          status,
          prepared_date,
          reviewed_date,
          created_at
        `);const{data:c,error:b}=await u;if(b)throw b;const h=new Map;return(c||[]).forEach(m=>{h.has(m.status)||h.set(m.status,{status:m.status,count:0,total_review_days:0,review_count:0,oldest_days:0});const f=h.get(m.status);if(f.count+=1,m.prepared_date&&m.reviewed_date){const p=Math.ceil((new Date(m.reviewed_date).getTime()-new Date(m.prepared_date).getTime())/864e5);f.total_review_days+=p,f.review_count+=1}if(m.status==="in_review"&&m.prepared_date){const p=Math.ceil((new Date().getTime()-new Date(m.prepared_date).getTime())/864e5);f.oldest_days=Math.max(f.oldest_days,p)}}),Array.from(h.values()).map(m=>({...m,avg_review_time_days:m.review_count>0?Math.round(m.total_review_days/m.review_count):0}))}});return{programMetrics:e||[],procedureEfficiency:a||[],teamPerformance:n||[],workpaperMetrics:l||[],isLoading:r||i||o||d}}const uv={completed:"hsl(var(--chart-1))",in_progress:"hsl(var(--chart-3))",not_started:"hsl(var(--chart-5))"};function Wse({data:s}){const e=s.map(r=>({name:r.program_name.length>20?r.program_name.substring(0,20)+"...":r.program_name,completed:r.completed_procedures,"in progress":r.in_progress_procedures,"not started":r.not_started_procedures}));return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Program Completion Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(Ke,{children:"Procedure status across engagement programs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:29,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:27,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV(yk,{width:"100%",height:300,children:t.jsxDEV(jO,{data:e,children:[t.jsxDEV(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:34,columnNumber:13},this),t.jsxDEV(L1,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:35,columnNumber:13},this),t.jsxDEV(oN,{stroke:"hsl(var(--muted-foreground))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:40,columnNumber:13},this),t.jsxDEV(Ok,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:41,columnNumber:13},this),t.jsxDEV(I1,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:48,columnNumber:13},this),t.jsxDEV(yu,{dataKey:"completed",fill:uv.completed,stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:49,columnNumber:13},this),t.jsxDEV(yu,{dataKey:"in progress",fill:uv.in_progress,stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:50,columnNumber:13},this),t.jsxDEV(yu,{dataKey:"not started",fill:uv.not_started,stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:31,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProgramCompletionChart.tsx",lineNumber:26,columnNumber:5},this)}function Use({data:s}){const e=s.slice(0,10).map(r=>({name:r.procedure_name.length>25?r.procedure_name.substring(0,25)+"...":r.procedure_name,variance:r.variance_percentage,estimated:r.estimated_hours,actual:r.actual_hours}));return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Procedure Efficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:24,columnNumber:9},this),t.jsxDEV(Ke,{children:"Actual vs estimated hours variance (%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:25,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:23,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV(yk,{width:"100%",height:300,children:t.jsxDEV(jO,{data:e,layout:"vertical",children:[t.jsxDEV(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:30,columnNumber:13},this),t.jsxDEV(L1,{type:"number",stroke:"hsl(var(--muted-foreground))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:31,columnNumber:13},this),t.jsxDEV(oN,{type:"category",dataKey:"name",stroke:"hsl(var(--muted-foreground))",width:150,fontSize:12},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:32,columnNumber:13},this),t.jsxDEV(Ok,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(r,a)=>a==="variance"?[`${r}%`,"Variance"]:[r,a]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:39,columnNumber:13},this),t.jsxDEV(TT,{x:0,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"3 3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:50,columnNumber:13},this),t.jsxDEV(yu,{dataKey:"variance",fill:"hsl(var(--chart-2))",background:{fill:"hsl(var(--muted))"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:29,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:28,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:27,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/ProcedureEfficiencyChart.tsx",lineNumber:22,columnNumber:5},this)}function Vse({data:s}){const e=s.map(r=>({name:r.user_name.split(" ")[0],completed:r.completed,"in progress":r.in_progress,overdue:r.overdue,"completion rate":r.completion_rate}));return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Team Performance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:31,columnNumber:9},this),t.jsxDEV(Ke,{children:"Procedure completion and rates by team member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:30,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV(yk,{width:"100%",height:300,children:t.jsxDEV(RT,{data:e,children:[t.jsxDEV(M1,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:37,columnNumber:13},this),t.jsxDEV(L1,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:38,columnNumber:13},this),t.jsxDEV(oN,{yAxisId:"left",stroke:"hsl(var(--muted-foreground))"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:42,columnNumber:13},this),t.jsxDEV(oN,{yAxisId:"right",orientation:"right",stroke:"hsl(var(--muted-foreground))",domain:[0,100]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:46,columnNumber:13},this),t.jsxDEV(Ok,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:52,columnNumber:13},this),t.jsxDEV(I1,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:59,columnNumber:13},this),t.jsxDEV(yu,{yAxisId:"left",dataKey:"completed",fill:"hsl(var(--chart-1))",stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:60,columnNumber:13},this),t.jsxDEV(yu,{yAxisId:"left",dataKey:"in progress",fill:"hsl(var(--chart-3))",stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:61,columnNumber:13},this),t.jsxDEV(yu,{yAxisId:"left",dataKey:"overdue",fill:"hsl(var(--chart-5))",stackId:"a"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:62,columnNumber:13},this),t.jsxDEV(MT,{yAxisId:"right",type:"monotone",dataKey:"completion rate",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{fill:"hsl(var(--chart-2))"}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:36,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:35,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:34,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/TeamPerformanceChart.tsx",lineNumber:29,columnNumber:5},this)}const _se={draft:"hsl(var(--chart-5))",in_review:"hsl(var(--chart-3))",approved:"hsl(var(--chart-1))",rejected:"hsl(var(--chart-4))"},Cse={draft:"Draft",in_review:"In Review",approved:"Approved",rejected:"Rejected"};function Sse({data:s}){const e=s.map(r=>({name:Cse[r.status]||r.status,value:r.count,avgDays:r.avg_review_time_days}));return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Workpaper Review Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:33,columnNumber:9},this),t.jsxDEV(Ke,{children:"Distribution of workpapers by review status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:32,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV(yk,{width:"100%",height:300,children:t.jsxDEV(LT,{children:[t.jsxDEV(IT,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:r,percent:a})=>`${r}: ${(a*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((r,a)=>{const i=s[a].status;return t.jsxDEV(FT,{fill:_se[i]||"hsl(var(--muted))"},`cell-${a}`,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:51,columnNumber:24},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:39,columnNumber:13},this),t.jsxDEV(Ok,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},formatter:(r,a,i)=>i.payload.avgDays>0?[`${r} (Avg: ${i.payload.avgDays} days)`,a]:[r,a]},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:54,columnNumber:13},this),t.jsxDEV(I1,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:38,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/analytics/WorkpaperReviewChart.tsx",lineNumber:31,columnNumber:5},this)}function Tse(){const{programMetrics:s,procedureEfficiency:e,teamPerformance:r,workpaperMetrics:a,isLoading:i}=Ose(),n=h=>{ri.success(`Exporting analytics as ${h.toUpperCase()}...`)};if(i)return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-12 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:25,columnNumber:9},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(h=>t.jsxDEV(Xs,{className:"h-32"},h,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:28,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:26,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:31,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:24,columnNumber:7},this);const o=s.reduce((h,m)=>h+m.total_procedures,0),l=s.reduce((h,m)=>h+m.completed_procedures,0),d=o>0?Math.round(l/o*100):0,u=e.length>0?Math.round(e.reduce((h,m)=>h+m.variance_percentage,0)/e.length):0,c=a.reduce((h,m)=>h+m.count,0),b=a.length>0?Math.round(a.reduce((h,m)=>h+m.avg_review_time_days*m.count,0)/c):0;return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Program Analytics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:61,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Performance metrics and insights across audit programs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:60,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>n("csv"),children:[t.jsxDEV(Bi,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:68,columnNumber:13},this),"Export CSV"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:67,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",onClick:()=>n("pdf"),children:[t.jsxDEV(Bi,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:72,columnNumber:13},this),"Export PDF"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:59,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Overall Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:82,columnNumber:13},this),t.jsxDEV(da,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:81,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:[d,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:86,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[l," of ",o," procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:80,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Efficiency Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV(da,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:94,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:[u,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:99,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Average vs estimated hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:93,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Team Members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:108,columnNumber:13},this),t.jsxDEV(er,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:107,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:r.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:112,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Active on procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:106,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Avg Review Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:121,columnNumber:13},this),t.jsxDEV(dt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:122,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:b},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"days per workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:79,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"completion",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"completion",children:"Program Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:136,columnNumber:11},this),t.jsxDEV($e,{value:"efficiency",children:"Procedure Efficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:137,columnNumber:11},this),t.jsxDEV($e,{value:"team",children:"Team Performance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:138,columnNumber:11},this),t.jsxDEV($e,{value:"workpapers",children:"Workpaper Reviews"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:139,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:135,columnNumber:9},this),t.jsxDEV(es,{value:"completion",className:"space-y-4",children:t.jsxDEV(Wse,{data:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:143,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:142,columnNumber:9},this),t.jsxDEV(es,{value:"efficiency",className:"space-y-4",children:[t.jsxDEV(Use,{data:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:147,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Efficiency Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:151,columnNumber:15},this),t.jsxDEV(Ke,{children:"Detailed variance analysis by procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:150,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2",children:e.slice(0,10).map((h,m)=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium",children:h.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:159,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[h.completion_count," completions  Avg ",h.avg_days_to_complete," days"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:160,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:158,columnNumber:21},this),t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("p",{className:"font-bold",children:[h.variance_percentage,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:165,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[h.estimated_hours,"h est  ",h.actual_hours,"h actual"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:166,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:164,columnNumber:21},this)]},m,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:157,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:146,columnNumber:9},this),t.jsxDEV(es,{value:"team",className:"space-y-4",children:[t.jsxDEV(Vse,{data:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:178,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Team Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:182,columnNumber:15},this),t.jsxDEV(Ke,{children:"Individual performance breakdown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:181,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2",children:r.map((h,m)=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:h.user_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:190,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[h.total_assigned," assigned  ",h.completed," completed"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:191,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:189,columnNumber:21},this),t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("p",{className:"font-bold",children:[h.completion_rate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:196,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Avg ",h.avg_completion_time_days," days"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:197,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:195,columnNumber:21},this)]},m,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:188,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:186,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:177,columnNumber:9},this),t.jsxDEV(es,{value:"workpapers",className:"space-y-4",children:t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxDEV(Sse,{data:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:210,columnNumber:13},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Review Metrics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:214,columnNumber:17},this),t.jsxDEV(Ke,{children:"Average review times by status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:213,columnNumber:15},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-4",children:a.map((h,m)=>t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("span",{className:"text-sm font-medium capitalize",children:h.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:222,columnNumber:25},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[h.count," workpapers"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:225,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:221,columnNumber:23},this),h.avg_review_time_days>0&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Average review: ",h.avg_review_time_days," days"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:230,columnNumber:25},this),h.oldest_pending_days>0&&t.jsxDEV("p",{className:"text-xs text-destructive",children:["Oldest pending: ",h.oldest_pending_days," days"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:235,columnNumber:25},this)]},m,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:220,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:218,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:212,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:209,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:208,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:134,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProgramAnalytics.tsx",lineNumber:57,columnNumber:5},this)}function Rse(){const{procedures:s,isLoading:e}=ic(),[r,a]=v.useState(""),[i,n]=v.useState("all"),[o,l]=v.useState(null),[d,u]=v.useState(!1),c=(s==null?void 0:s.filter(N=>N.status==="in_review"))||[],b=c.filter(N=>{var w,A,U;const g=((w=N.procedure_name)==null?void 0:w.toLowerCase().includes(r.toLowerCase()))||((U=(A=N.engagement_programs)==null?void 0:A.program_name)==null?void 0:U.toLowerCase().includes(r.toLowerCase())),D=i==="all"||N.engagement_program_id===i;return g&&D}),h=Array.from(new Set(c.map(N=>N.engagement_program_id))).map(N=>{var D;const g=c.find(w=>w.engagement_program_id===N);return{id:N,code:((D=g==null?void 0:g.engagement_programs)==null?void 0:D.program_name)||"Unknown"}}),m=N=>N.due_date&&new Date(N.due_date)<new Date?{level:"high",label:"Overdue"}:{level:"normal",label:"Normal"},f=N=>{l(N),u(!0)},p=Qt();return e?t.jsxDEV("div",{className:"container mx-auto py-6 space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV(Xs,{className:"h-9 w-72 mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:61,columnNumber:11},this),t.jsxDEV(Xs,{className:"h-5 w-96"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:60,columnNumber:9},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[1,2,3,4].map(N=>t.jsxDEV(B,{children:t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Xs,{className:"h-4 w-24 mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:69,columnNumber:17},this),t.jsxDEV(Xs,{className:"h-8 w-16"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:70,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:68,columnNumber:15},this)},N,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:67,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:65,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV(Xs,{className:"h-10 flex-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:79,columnNumber:15},this),t.jsxDEV(Xs,{className:"h-10 w-[200px]"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:78,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:77,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:76,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-4",children:[1,2,3].map(N=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-6",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1 space-y-3",children:[t.jsxDEV(Xs,{className:"h-6 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:91,columnNumber:21},this),t.jsxDEV(Xs,{className:"h-4 w-96"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:92,columnNumber:21},this),t.jsxDEV(Xs,{className:"h-4 w-48"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:93,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:90,columnNumber:19},this),t.jsxDEV(Xs,{className:"h-10 w-20"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:89,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:88,columnNumber:15},this)},N,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:87,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:59,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto py-6 space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Procedure Review Queue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Review and approve procedures submitted by your team"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:109,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:107,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxDEV(B,{children:t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Pending Reviews"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:118,columnNumber:13},this),t.jsxDEV(ue,{className:"text-3xl",children:c.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:116,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"High Priority"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:124,columnNumber:13},this),t.jsxDEV(ue,{className:"text-3xl",children:c.filter(N=>{const g=m(N);return g.level==="critical"||g.level==="high"}).length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:122,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Avg Days Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:135,columnNumber:13},this),t.jsxDEV(ue,{className:"text-3xl",children:c.length>0?Math.round(c.reduce((N,g)=>{if(!g.completed_at)return N;const D=(Date.now()-new Date(g.completed_at).getTime())/(1e3*60*60*24);return N+D},0)/c.length):0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:136,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:133,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Overdue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV(ue,{className:"text-3xl",children:c.filter(N=>N.due_date&&new Date(N.due_date)<new Date).length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:148,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:147,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:115,columnNumber:7},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxDEV("div",{className:"flex-1 relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:164,columnNumber:15},this),t.jsxDEV(ve,{placeholder:"Search procedures or engagement...",value:r,onChange:N=>a(N.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:165,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV(is,{value:i,onValueChange:n,children:[t.jsxDEV(rs,{className:"w-[200px]",children:t.jsxDEV(ns,{placeholder:"All Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:174,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:173,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:177,columnNumber:17},this),h.map(N=>t.jsxDEV(X,{value:N.id,children:N.code},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:179,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:162,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:161,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:160,columnNumber:7},this),t.jsxDEV("div",{className:"space-y-4",children:b.length===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:194,columnNumber:15},this),t.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"All Caught Up!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:195,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"No procedures awaiting your review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:196,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",onClick:()=>p("/my-procedures"),children:"View My Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:192,columnNumber:11},this):b.map(N=>{var w;const g=m(N),D=N.due_date&&new Date(N.due_date)<new Date;return t.jsxDEV(B,{className:g.level==="critical"?"border-destructive":"",children:t.jsxDEV(q,{className:"p-6",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1 space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("h3",{className:"font-semibold text-lg",children:N.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:215,columnNumber:25},this),g.level!=="normal"&&t.jsxDEV(he,{variant:g.level==="critical"?"destructive":"default",children:[t.jsxDEV(Ys,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:218,columnNumber:29},this),g.label]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:217,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:214,columnNumber:23},this),t.jsxDEV("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(wl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:226,columnNumber:27},this),t.jsxDEV("span",{children:["Assigned to: ",N.assigned_to||"Unassigned"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:227,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:225,columnNumber:25},this),N.completed_at&&t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:233,columnNumber:29},this),t.jsxDEV("span",{children:["Submitted: ",Ds(new Date(N.completed_at),"MMM d, yyyy h:mm a")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:234,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:232,columnNumber:27},this),N.due_date&&t.jsxDEV("div",{className:`flex items-center gap-1 ${D?"text-destructive font-medium":""}`,children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:241,columnNumber:29},this),t.jsxDEV("span",{children:["Due: ",Ds(new Date(N.due_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:242,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:240,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:224,columnNumber:23},this),t.jsxDEV("div",{className:"text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Program: "},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:250,columnNumber:25},this),t.jsxDEV("span",{className:"font-medium",children:((w=N.engagement_programs)==null?void 0:w.program_name)||"N/A"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:251,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:249,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:213,columnNumber:21},this),t.jsxDEV(F,{onClick:()=>f(N),children:"Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:257,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:212,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:211,columnNumber:17},this)},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:210,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:190,columnNumber:7},this),o&&t.jsxDEV(Pse,{open:d,onOpenChange:u,procedure:o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:270,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/ProcedureReviewQueue.tsx",lineNumber:106,columnNumber:5},this)}function Mse(){const s=Qt(),{procedures:e,isLoading:r}=ic(),[a,i]=v.useState("30"),n=(e==null?void 0:e.filter(m=>m.status==="completed"))||[],o=(e==null?void 0:e.filter(m=>m.status==="in_review"))||[],l=(e==null?void 0:e.filter(m=>m.status==="revision_requested"))||[],d=n.filter(m=>!m.started_at||!m.completed_at||!m.estimated_hours?!1:(new Date(m.completed_at).getTime()-new Date(m.started_at).getTime())/(1e3*60*60)>m.estimated_hours*1.2),u=o.filter(m=>m.completed_at?(Date.now()-new Date(m.completed_at).getTime())/(1e3*60*60)>48:!1),c=n.length>0?Math.round((n.length-l.length)/n.length*100):0,b=(e==null?void 0:e.reduce((m,f)=>{if(!f.assigned_to||f.status!=="completed")return m;const p=m.find(g=>g.userId===f.assigned_to),N=(e==null?void 0:e.filter(g=>g.assigned_to===f.assigned_to&&g.status==="revision_requested").length)||0;return p?(p.completed+=1,p.revisions=N,p.score=Math.round((p.completed-p.revisions)/p.completed*100)):m.push({userId:f.assigned_to,name:"Team Member",completed:1,revisions:N,score:N>0?Math.round((1-N)/1*100):100}),m},[]).sort((m,f)=>f.score-m.score))||[],h=o.filter(m=>{var f,p;return((f=m.procedure_name)==null?void 0:f.toLowerCase().includes("critical"))||((p=m.procedure_name)==null?void 0:p.toLowerCase().includes("high risk"))});return r?t.jsxDEV("div",{className:"container mx-auto py-6",children:t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"text-muted-foreground",children:"Loading quality metrics..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:88,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:87,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto py-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"Quality Control Dashboard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:99,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Monitor quality metrics and identify areas requiring attention"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(is,{value:a,onValueChange:i,children:[t.jsxDEV(rs,{className:"w-[180px]",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:106,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:105,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"7",children:"Last 7 Days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:109,columnNumber:13},this),t.jsxDEV(X,{value:"30",children:"Last 30 Days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:110,columnNumber:13},this),t.jsxDEV(X,{value:"90",children:"Last 90 Days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:111,columnNumber:13},this),t.jsxDEV(X,{value:"all",children:"All Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:104,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:97,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-5",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{className:"flex items-center gap-2",children:[t.jsxDEV(Kj,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:122,columnNumber:15},this),"Quality Score"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:121,columnNumber:13},this),t.jsxDEV(ue,{className:"text-4xl",children:[c,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:c>=90?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(da,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:133,columnNumber:19},this),t.jsxDEV("span",{className:"text-green-500",children:"Excellent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:132,columnNumber:17},this):c>=75?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(da,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:138,columnNumber:19},this),t.jsxDEV("span",{className:"text-yellow-500",children:"Good"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:139,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:137,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Pd,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:143,columnNumber:19},this),t.jsxDEV("span",{className:"text-destructive",children:"Needs Attention"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:144,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:142,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:130,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Outstanding Reviews"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:153,columnNumber:13},this),t.jsxDEV(ue,{className:"text-4xl",children:u.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:152,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:u.length>5?"High volume":"Normal"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:157,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:151,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Revision Requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:165,columnNumber:13},this),t.jsxDEV(ue,{className:"text-4xl",children:l.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:164,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:l.length>0?"Requires follow-up":"All clear"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:169,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:163,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"Time Variances"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:177,columnNumber:13},this),t.jsxDEV(ue,{className:"text-4xl",children:d.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:176,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Over 20% budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:181,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:175,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-2",children:[t.jsxDEV(Ke,{children:"High-Risk Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:189,columnNumber:13},this),t.jsxDEV(ue,{className:"text-4xl",children:h.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Critical procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:118,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"exceptions",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"exceptions",children:"Exceptions & Red Flags"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV($e,{value:"outstanding",children:"Outstanding Sign-offs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:203,columnNumber:11},this),t.jsxDEV($e,{value:"variance",children:"Time Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:204,columnNumber:11},this),t.jsxDEV($e,{value:"team",children:"Team Performance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:201,columnNumber:9},this),t.jsxDEV(es,{value:"exceptions",className:"space-y-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Er,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:213,columnNumber:17},this),"High-Risk Procedures Awaiting Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:212,columnNumber:15},this),t.jsxDEV(Ke,{children:"Critical procedures that require immediate attention"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:211,columnNumber:13},this),t.jsxDEV(q,{children:h.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto mb-2 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:223,columnNumber:19},this),t.jsxDEV("p",{children:"No high-risk procedures pending review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:222,columnNumber:17},this):t.jsxDEV("div",{className:"space-y-3",children:h.map(m=>{var f;return t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h4",{className:"font-semibold",children:m.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:232,columnNumber:27},this),t.jsxDEV(he,{variant:"destructive",children:"High Priority"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:233,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:231,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Program: ",((f=m.engagement_programs)==null?void 0:f.program_name)||"N/A"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:235,columnNumber:25},this),m.completed_at&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Submitted: ",Ds(new Date(m.completed_at),"MMM d, yyyy h:mm a")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:239,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:230,columnNumber:23},this),t.jsxDEV(F,{onClick:()=>s("/audit/review-queue"),children:"Review Now"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:244,columnNumber:23},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:229,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:227,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:210,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ru,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:257,columnNumber:17},this),"Procedures Requiring Revision"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:256,columnNumber:15},this),t.jsxDEV(Ke,{children:"Procedures that need to be reworked"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:255,columnNumber:13},this),t.jsxDEV(q,{children:l.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto mb-2 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:267,columnNumber:19},this),t.jsxDEV("p",{children:"No procedures requiring revision"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:268,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:266,columnNumber:17},this):t.jsxDEV("div",{className:"space-y-3",children:l.map(m=>t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:m.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:275,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Assigned to: ",m.assigned_to||"Unassigned"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:276,columnNumber:25},this),m.review_notes&&t.jsxDEV("p",{className:"text-sm text-muted-foreground italic",children:["Feedback: ",m.review_notes]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:280,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:274,columnNumber:23},this),t.jsxDEV(he,{variant:"outline",children:"Revision Needed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:285,columnNumber:23},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:273,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:271,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:254,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:209,columnNumber:9},this),t.jsxDEV(es,{value:"outstanding",className:"space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-5 w-5 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:299,columnNumber:17},this),"Procedures Pending Review (48+ Hours)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:298,columnNumber:15},this),t.jsxDEV(Ke,{children:"Procedures awaiting sign-off for more than 2 days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:297,columnNumber:13},this),t.jsxDEV(q,{children:u.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto mb-2 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:309,columnNumber:19},this),t.jsxDEV("p",{children:"No outstanding sign-offs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:310,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:308,columnNumber:17},this):t.jsxDEV("div",{className:"space-y-3",children:u.map(m=>{var p;const f=m.completed_at?Math.round((Date.now()-new Date(m.completed_at).getTime())/36e5):0;return t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:m.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:322,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Program: ",((p=m.engagement_programs)==null?void 0:p.program_name)||"N/A"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:323,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm font-medium text-destructive",children:["Pending for ",f," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:326,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:321,columnNumber:25},this),t.jsxDEV(F,{onClick:()=>s("/audit/review-queue"),children:"Review Now"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:330,columnNumber:25},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:320,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:313,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:306,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:295,columnNumber:9},this),t.jsxDEV(es,{value:"variance",className:"space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:347,columnNumber:17},this),"Procedures Exceeding Time Budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:346,columnNumber:15},this),t.jsxDEV(Ke,{children:"Procedures that took 20%+ longer than estimated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:350,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:345,columnNumber:13},this),t.jsxDEV(q,{children:d.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(Ks,{className:"h-12 w-12 mx-auto mb-2 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:357,columnNumber:19},this),t.jsxDEV("p",{children:"All procedures within time budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:358,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:356,columnNumber:17},this):t.jsxDEV("div",{className:"space-y-3",children:d.map(m=>{if(!m.started_at||!m.completed_at||!m.estimated_hours)return null;const f=(new Date(m.completed_at).getTime()-new Date(m.started_at).getTime())/(1e3*60*60),p=(f-m.estimated_hours)/m.estimated_hours*100;return t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:m.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:371,columnNumber:27},this),t.jsxDEV("div",{className:"flex gap-4 text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:["Estimated: ",m.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:373,columnNumber:29},this),t.jsxDEV("span",{className:"text-muted-foreground",children:["Actual: ",f.toFixed(1),"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:376,columnNumber:29},this),t.jsxDEV("span",{className:"font-medium text-destructive",children:["+",p.toFixed(0),"% over"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:379,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:372,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:370,columnNumber:25},this),t.jsxDEV(he,{variant:"destructive",children:"Over Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:384,columnNumber:25},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:369,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:361,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:354,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:344,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:343,columnNumber:9},this),t.jsxDEV(es,{value:"team",className:"space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:399,columnNumber:17},this),"Team Quality Scores"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:398,columnNumber:15},this),t.jsxDEV(Ke,{children:"Individual performance based on completion rate and revision requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:397,columnNumber:13},this),t.jsxDEV(q,{children:b.length===0?t.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxDEV(Ws,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:409,columnNumber:19},this),t.jsxDEV("p",{children:"No completed procedures to analyze"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:410,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:408,columnNumber:17},this):t.jsxDEV("div",{className:"space-y-3",children:b.map((m,f)=>t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold",children:["#",f+1]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:417,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h4",{className:"font-semibold",children:m.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:421,columnNumber:27},this),t.jsxDEV("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("span",{children:["Completed: ",m.completed]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:423,columnNumber:29},this),t.jsxDEV("span",{children:["Revisions: ",m.revisions]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:424,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:422,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:420,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:416,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:[m.score,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:430,columnNumber:27},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Quality Score"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:431,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:429,columnNumber:25},this),m.score>=90?t.jsxDEV(Kj,{className:"h-6 w-6 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:434,columnNumber:27},this):m.score>=75?t.jsxDEV(Ks,{className:"h-6 w-6 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:436,columnNumber:27},this):t.jsxDEV(Ys,{className:"h-6 w-6 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:438,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:428,columnNumber:23},this)]},m.userId,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:415,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:413,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:396,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:395,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:200,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/QualityControlDashboard.tsx",lineNumber:96,columnNumber:5},this)}function Lse(){const{currentOrg:s}=vn(),{toast:e}=Hs(),[r,a]=v.useState(""),[i,n]=v.useState("all"),[o,l]=v.useState("all"),[d,u]=v.useState(!1),{data:c,isLoading:b}=bs({queryKey:["evidence",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:g,error:D}=await le.from("audit_documents").select(`
          id,
          document_name,
          document_type,
          file_path,
          file_size,
          tags,
          uploaded_at,
          uploaded_by:profiles!audit_documents_uploaded_by_fkey(full_name),
          audits!inner(audit_number, audit_title, firm_id)
        `).eq("audits.firm_id",s.id).order("uploaded_at",{ascending:!1});if(D)throw D;return g},enabled:!!s}),{data:h}=bs({queryKey:["engagements-filter",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:g}=await le.from("audits").select("id, audit_number, audit_title").eq("firm_id",s.id).order("audit_number");return g||[]},enabled:!!s}),m=(c==null?void 0:c.filter(g=>{var U,E,W,y;const D=((U=g.document_name)==null?void 0:U.toLowerCase().includes(r.toLowerCase()))||((W=(E=g.audits)==null?void 0:E.audit_number)==null?void 0:W.toLowerCase().includes(r.toLowerCase())),w=i==="all"||g.document_type===i,A=o==="all"||((y=g.audits)==null?void 0:y.audit_number)===o;return D&&w&&A}))||[],f=g=>{if(g===0)return"0 Bytes";const D=1024,w=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(g)/Math.log(D));return Math.round(g/Math.pow(D,A)*100)/100+" "+w[A]},p=g=>({evidence:"bg-blue-100 text-blue-800",workpaper:"bg-green-100 text-green-800",support:"bg-yellow-100 text-yellow-800",client_provided:"bg-purple-100 text-purple-800",correspondence:"bg-pink-100 text-pink-800"})[g]||"bg-gray-100 text-gray-800",N=g=>{e({title:"Download Started",description:`Downloading ${g.document_name}`})};return b?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:131,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:130,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Evidence Library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:141,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage and organize audit evidence documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:140,columnNumber:9},this),t.jsxDEV(F,{onClick:()=>u(!0),children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:147,columnNumber:11},this),"Upload Evidence"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:146,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:139,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Total Documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV(Ws,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:155,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:160,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:154,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Evidence Files"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:166,columnNumber:13},this),t.jsxDEV(Ws,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:165,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.filter(g=>g.document_type==="evidence").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:164,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:178,columnNumber:13},this),t.jsxDEV(Ws,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:177,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.filter(g=>g.document_type==="workpaper").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:176,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Client Provided"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:190,columnNumber:13},this),t.jsxDEV(Ws,{className:"h-4 w-4 text-purple-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:189,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.filter(g=>g.document_type==="client_provided").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:194,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:188,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:153,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-lg",children:"Search & Filter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:204,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:203,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:210,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search documents...",value:r,onChange:g=>a(g.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:209,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:208,columnNumber:13},this),t.jsxDEV(is,{value:i,onValueChange:n,children:[t.jsxDEV(rs,{className:"w-full md:w-[200px]",children:[t.jsxDEV(dh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:221,columnNumber:17},this),t.jsxDEV(ns,{placeholder:"Document type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:220,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:225,columnNumber:17},this),t.jsxDEV(X,{value:"evidence",children:"Evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:226,columnNumber:17},this),t.jsxDEV(X,{value:"workpaper",children:"Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:227,columnNumber:17},this),t.jsxDEV(X,{value:"support",children:"Supporting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:228,columnNumber:17},this),t.jsxDEV(X,{value:"client_provided",children:"Client Provided"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:229,columnNumber:17},this),t.jsxDEV(X,{value:"correspondence",children:"Correspondence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:230,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:224,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV(is,{value:o,onValueChange:l,children:[t.jsxDEV(rs,{className:"w-full md:w-[200px]",children:t.jsxDEV(ns,{placeholder:"Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:235,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:234,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:238,columnNumber:17},this),h==null?void 0:h.map(g=>t.jsxDEV(X,{value:g.audit_number,children:g.audit_number},g.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:240,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:207,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:202,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:253,columnNumber:11},this),t.jsxDEV(Ke,{children:[m.length," document",m.length!==1?"s":""," found"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:254,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:252,columnNumber:9},this),t.jsxDEV(q,{children:m.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(Ws,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:261,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:r||i!=="all"||o!=="all"?"No documents match your filters":"No evidence documents yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:262,columnNumber:15},this),t.jsxDEV(F,{className:"mt-4",onClick:()=>u(!0),children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:268,columnNumber:17},this),"Upload First Document"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:260,columnNumber:13},this):t.jsxDEV("div",{className:"space-y-3",children:m.map(g=>{var D,w;return t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent transition-colors",children:[t.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[t.jsxDEV(Ws,{className:"h-5 w-5 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:280,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[t.jsxDEV("p",{className:"font-medium truncate",children:g.document_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:283,columnNumber:25},this),t.jsxDEV(he,{className:p(g.document_type),variant:"secondary",children:g.document_type.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:284,columnNumber:25},this),g.tags&&g.tags.length>0&&t.jsxDEV("div",{className:"flex gap-1",children:g.tags.map((A,U)=>t.jsxDEV(he,{variant:"outline",className:"text-xs",children:[t.jsxDEV(P6,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:291,columnNumber:33},this),A]},U,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:290,columnNumber:31},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:288,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:282,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxDEV("span",{children:[(D=g.audits)==null?void 0:D.audit_number," - ",(w=g.audits)==null?void 0:w.audit_title]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:299,columnNumber:25},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:300,columnNumber:25},this),t.jsxDEV("span",{children:["Uploaded by ",g.uploaded_by.full_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:301,columnNumber:25},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:302,columnNumber:25},this),t.jsxDEV("span",{children:Ds(new Date(g.uploaded_at),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:303,columnNumber:25},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:304,columnNumber:25},this),t.jsxDEV("span",{children:f(g.file_size)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:305,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:298,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:279,columnNumber:19},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{size:"sm",variant:"outline",onClick:()=>N(g),children:t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:311,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:310,columnNumber:21},this),t.jsxDEV(F,{size:"sm",variant:"ghost",className:"text-red-600",children:t.jsxDEV(Tn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:314,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:313,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:309,columnNumber:19},this)]},g.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:275,columnNumber:17},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:273,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:258,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:251,columnNumber:7},this),t.jsxDEV(Pt,{open:d,onOpenChange:u,children:t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Upload Evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:328,columnNumber:13},this),t.jsxDEV(Bt,{children:"Upload documents to the evidence library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:329,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:327,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:335,columnNumber:15},this),t.jsxDEV(is,{children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:338,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:337,columnNumber:17},this),t.jsxDEV(as,{children:h==null?void 0:h.map(g=>t.jsxDEV(X,{value:g.id,children:[g.audit_number," - ",g.audit_title]},g.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:342,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:340,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:336,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:334,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Document Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:350,columnNumber:15},this),t.jsxDEV(is,{children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:353,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:352,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"evidence",children:"Evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:356,columnNumber:19},this),t.jsxDEV(X,{value:"workpaper",children:"Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:357,columnNumber:19},this),t.jsxDEV(X,{value:"support",children:"Supporting Document"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:358,columnNumber:19},this),t.jsxDEV(X,{value:"client_provided",children:"Client Provided"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:359,columnNumber:19},this),t.jsxDEV(X,{value:"correspondence",children:"Correspondence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:360,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:355,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:351,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:349,columnNumber:13},this),t.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[t.jsxDEV(Ro,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:365,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-1",children:"Drag and drop files or click to browse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:366,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Supports PDF, Excel, Word, Images (max 25MB)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:369,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:364,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:333,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>u(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:375,columnNumber:13},this),t.jsxDEV(F,{children:"Upload Files"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:374,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:326,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:325,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/EvidenceLibrary.tsx",lineNumber:137,columnNumber:5},this)}const jp=[{value:"not_started",label:"Not Started",color:"bg-gray-100 text-gray-800"},{value:"in_progress",label:"In Progress",color:"bg-blue-100 text-blue-800"},{value:"in_review",label:"In Review",color:"bg-yellow-100 text-yellow-800"},{value:"completed",label:"Completed",color:"bg-green-100 text-green-800"}];function Ise(){const{currentOrg:s}=vn(),[e,r]=v.useState("all"),[a,i]=v.useState("kanban"),{data:n,isLoading:o}=bs({queryKey:["tasks",s==null?void 0:s.id,e],queryFn:async()=>{if(!s)return[];let b=le.from("engagement_tasks").select(`
          id,
          task_name,
          description,
          status,
          priority,
          due_date,
          estimated_hours,
          actual_hours,
          assigned_to:profiles!engagement_tasks_assigned_to_fkey(id, full_name),
          audits!inner(audit_number, audit_title, firm_id)
        `).eq("audits.firm_id",s.id).order("due_date",{ascending:!0});e!=="all"&&(b=b.eq("audit_id",e));const{data:h,error:m}=await b;if(m)throw m;return h},enabled:!!s}),{data:l}=bs({queryKey:["engagements-filter",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];const{data:b}=await le.from("audits").select("id, audit_number, audit_title").eq("firm_id",s.id).in("status",["in_preparation","fieldwork","reporting"]).order("audit_number");return b||[]},enabled:!!s}),d=b=>(n==null?void 0:n.filter(h=>h.status===b))||[],u=b=>{switch(b){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},c=b=>new Date(b)<new Date;return o?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:125,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:124,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Task Board"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:135,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Track and manage audit tasks across engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:134,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(is,{value:e,onValueChange:r,children:[t.jsxDEV(rs,{className:"w-[250px]",children:t.jsxDEV(ns,{placeholder:"All Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:143,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:142,columnNumber:13},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:146,columnNumber:15},this),l==null?void 0:l.map(b=>t.jsxDEV(X,{value:b.id,children:[b.audit_number," - ",b.audit_title]},b.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:148,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:141,columnNumber:11},this),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:155,columnNumber:13},this),"New Task"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:133,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:jp.map(b=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:b.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:165,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:d(b.value).length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:168,columnNumber:13},this)]},b.value,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:164,columnNumber:11},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:162,columnNumber:7},this),t.jsxDEV(Pr,{value:a,onValueChange:b=>i(b),children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"kanban",children:[t.jsxDEV(aA,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:181,columnNumber:13},this),"Kanban View"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:180,columnNumber:11},this),t.jsxDEV($e,{value:"list",children:[t.jsxDEV(iW,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:185,columnNumber:13},this),"List View"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:179,columnNumber:9},this),t.jsxDEV(es,{value:"kanban",className:"space-y-4",children:t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:jp.map(b=>t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h3",{className:"font-semibold",children:b.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:196,columnNumber:19},this),t.jsxDEV(he,{variant:"secondary",children:d(b.value).length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:197,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:195,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2 min-h-[500px] p-2 bg-muted/30 rounded-lg",children:[d(b.value).map(h=>{var m,f,p,N;return t.jsxDEV(B,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsxDEV(q,{className:"p-4 space-y-3",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("p",{className:"font-medium text-sm",children:h.task_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:205,columnNumber:29},this),h.priority&&t.jsxDEV(he,{className:u(h.priority),variant:"secondary",children:h.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:207,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:204,columnNumber:27},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:(m=h.audits)==null?void 0:m.audit_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:212,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:203,columnNumber:25},this),h.description&&t.jsxDEV("p",{className:"text-xs text-muted-foreground line-clamp-2",children:h.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:218,columnNumber:27},this),t.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Mn,{className:"h-6 w-6",children:t.jsxDEV(Ln,{className:"text-xs",children:((p=(f=h.assigned_to)==null?void 0:f.full_name)==null?void 0:p.charAt(0))||"?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:226,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:225,columnNumber:29},this),t.jsxDEV("span",{className:"text-muted-foreground",children:(N=h.assigned_to)==null?void 0:N.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:230,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:224,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:223,columnNumber:25},this),h.due_date&&t.jsxDEV("div",{className:`flex items-center gap-1 text-xs ${c(h.due_date)?"text-red-600":"text-muted-foreground"}`,children:[c(h.due_date)?t.jsxDEV(Ys,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:241,columnNumber:31},this):t.jsxDEV(la,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:243,columnNumber:31},this),t.jsxDEV("span",{children:Ds(new Date(h.due_date),"MMM d")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:245,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:237,columnNumber:27},this),(h.estimated_hours||h.actual_hours)&&t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:251,columnNumber:29},this),t.jsxDEV("span",{children:[h.actual_hours||0,"h / ",h.estimated_hours||0,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:252,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:250,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:202,columnNumber:23},this)},h.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:201,columnNumber:21},this)}),d(b.value).length===0&&t.jsxDEV("div",{className:"flex items-center justify-center h-32 text-sm text-muted-foreground",children:"No tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:199,columnNumber:17},this)]},b.value,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:194,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:192,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:191,columnNumber:9},this),t.jsxDEV(es,{value:"list",className:"space-y-4",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"All Tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV(Ke,{children:[(n==null?void 0:n.length)||0," tasks found"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:274,columnNumber:13},this),t.jsxDEV(q,{children:n&&n.length>0?t.jsxDEV("div",{className:"space-y-2",children:n.map(b=>{var h,m,f,p,N,g,D;return t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors",children:t.jsxDEV("div",{className:"flex items-center gap-4 flex-1",children:[t.jsxDEV("div",{className:"flex-1 space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("p",{className:"font-medium",children:b.task_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:289,columnNumber:29},this),b.priority&&t.jsxDEV(he,{className:u(b.priority),variant:"secondary",children:b.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:291,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:288,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(h=b.audits)==null?void 0:h.audit_number," - ",(m=b.audits)==null?void 0:m.audit_title]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:296,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:287,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Mn,{className:"h-8 w-8",children:t.jsxDEV(Ln,{children:((p=(f=b.assigned_to)==null?void 0:f.full_name)==null?void 0:p.charAt(0))||"?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:302,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:301,columnNumber:27},this),t.jsxDEV("span",{className:"text-sm",children:(N=b.assigned_to)==null?void 0:N.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:306,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:300,columnNumber:25},this),b.due_date&&t.jsxDEV("div",{className:`flex items-center gap-1 text-sm ${c(b.due_date)?"text-red-600":"text-muted-foreground"}`,children:[c(b.due_date)?t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:313,columnNumber:31},this):t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:315,columnNumber:31},this),t.jsxDEV("span",{children:Ds(new Date(b.due_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:317,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:309,columnNumber:27},this),t.jsxDEV(he,{className:(g=jp.find(w=>w.value===b.status))==null?void 0:g.color,children:(D=jp.find(w=>w.value===b.status))==null?void 0:D.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:320,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:286,columnNumber:23},this)},b.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:282,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:280,columnNumber:17},this):t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(aA,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:329,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"No tasks found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:330,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:328,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:273,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:272,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:178,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/TaskBoard.tsx",lineNumber:131,columnNumber:5},this)}const Fse=s=>bs({queryKey:["information-requests",s],queryFn:async()=>{let e=le.from("information_requests").select(`
          *,
          engagement:audits!information_requests_engagement_id_fkey(id, audit_title, audit_number, clients(client_name)),
          requester:profiles!information_requests_requested_by_fkey(id, full_name),
          assignee:profiles!information_requests_assigned_to_fkey(id, full_name, email)
        `).order("created_at",{ascending:!1});const{data:r,error:a}=await e;if(a)throw a;return r}}),zse=()=>{const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async r=>{const{data:{user:a}}=await le.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:i,error:n}=await le.from("information_requests").insert([{...r,requested_by:a.id,status:r.status||"draft"}]).select().single();if(n)throw n;return i},onSuccess:()=>{s.invalidateQueries({queryKey:["information-requests"]}),e({title:"Request created",description:"Information request has been created successfully."})},onError:r=>{e({title:"Error",description:r.message||"Failed to create information request.",variant:"destructive"})}})};function Bse({open:s,onOpenChange:e,defaultEngagementId:r}){const[a,i]=v.useState({engagement_id:r||"",request_title:"",description:"",items_requested:[""],assigned_to:"",due_date:new Date(Date.now()+6048e5).toISOString().split("T")[0],priority:"medium"}),n=zse(),{data:o}=bs({queryKey:["active-engagements-for-requests"],queryFn:async()=>{const{data:h,error:m}=await le.from("audits").select("id, audit_title, audit_number, client_id, clients(id, client_name)").in("workflow_status",["active","fieldwork","planned"]).order("audit_title");if(m)throw m;return h}}),{data:l}=bs({queryKey:["client-users",a.engagement_id],queryFn:async()=>{if(!a.engagement_id)return[];const h=o==null?void 0:o.find(p=>p.id===a.engagement_id);if(!(h!=null&&h.client_id))return[];const{data:m,error:f}=await le.from("user_roles").select("user_id, profiles!user_roles_user_id_fkey(id, full_name, email)").in("role",["client_administrator","client_user"]);if(f)throw f;return m.map(p=>p.profiles)},enabled:!!a.engagement_id&&!!o}),d=async h=>{h.preventDefault();const m=a.items_requested.filter(p=>p.trim()!==""),f={...a,items_requested:m};await n.mutateAsync(f),i({engagement_id:r||"",request_title:"",description:"",items_requested:[""],assigned_to:"",due_date:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],priority:"medium"}),e(!1)},u=()=>{i({...a,items_requested:[...a.items_requested,""]})},c=(h,m)=>{const f=[...a.items_requested];f[h]=m,i({...a,items_requested:f})},b=h=>{a.items_requested.length>1&&i({...a,items_requested:a.items_requested.filter((m,f)=>f!==h)})};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create Information Request"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:123,columnNumber:11},this),t.jsxDEV(Bt,{children:"Request information or documents from the client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:122,columnNumber:9},this),t.jsxDEV("form",{onSubmit:d,className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"engagement",children:"Engagement *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:131,columnNumber:13},this),t.jsxDEV(is,{value:a.engagement_id,onValueChange:h=>i({...a,engagement_id:h,assigned_to:""}),required:!0,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:138,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:137,columnNumber:15},this),t.jsxDEV(as,{children:o==null?void 0:o.map(h=>t.jsxDEV(X,{value:h.id,children:[h.clients.client_name," - ",h.audit_title]},h.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:142,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:132,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:130,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"title",children:"Request Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:151,columnNumber:13},this),t.jsxDEV(ve,{id:"title",value:a.request_title,onChange:h=>i({...a,request_title:h.target.value}),placeholder:"e.g., Q1 2024 Access Control Documentation",required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:150,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"description",children:"Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV(Wt,{id:"description",value:a.description,onChange:h=>i({...a,description:h.target.value}),placeholder:"Provide details about what you need and why...",rows:3,required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:161,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(H,{children:"Items Requested *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:175,columnNumber:15},this),t.jsxDEV(F,{type:"button",variant:"outline",size:"sm",onClick:u,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:177,columnNumber:17},this),"Add Item"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:174,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:a.items_requested.map((h,m)=>t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{value:h,onChange:f=>c(m,f.target.value),placeholder:"e.g., Password policy document",required:m===0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:184,columnNumber:19},this),a.items_requested.length>1&&t.jsxDEV(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(m),children:t.jsxDEV(qn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:197,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:191,columnNumber:21},this)]},m,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:183,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:181,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:173,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"assignee",children:"Assign to (Client User)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:207,columnNumber:15},this),t.jsxDEV(is,{value:a.assigned_to,onValueChange:h=>i({...a,assigned_to:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select client user"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:213,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:212,columnNumber:17},this),t.jsxDEV(as,{children:l==null?void 0:l.map(h=>t.jsxDEV(X,{value:h.id,children:[h.full_name," (",h.email,")"]},h.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:217,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:208,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Select an engagement first to see client users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:206,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"priority",children:"Priority"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:229,columnNumber:15},this),t.jsxDEV(is,{value:a.priority,onValueChange:h=>i({...a,priority:h}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:235,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"low",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:238,columnNumber:19},this),t.jsxDEV(X,{value:"medium",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:239,columnNumber:19},this),t.jsxDEV(X,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:240,columnNumber:19},this),t.jsxDEV(X,{value:"urgent",children:"Urgent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:241,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:237,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:230,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:205,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"due_date",children:"Due Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:248,columnNumber:13},this),t.jsxDEV(ve,{id:"due_date",type:"date",value:a.due_date,onChange:h=>i({...a,due_date:h.target.value}),required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:249,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:247,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:259,columnNumber:13},this),t.jsxDEV(F,{type:"submit",variant:"outline",disabled:n.isPending,children:"Save as Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:262,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:n.isPending,onClick:()=>i({...a,status:"sent"}),children:n.isPending?"Creating...":"Create & Send"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:265,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:129,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:121,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/requests/CreateRequestDialog.tsx",lineNumber:120,columnNumber:5},this)}function qse(){const[s,e]=v.useState(""),[r,a]=v.useState(!1),{data:i,isLoading:n}=Fse(),o=i==null?void 0:i.filter(p=>{var g,D,w;if(!s)return!0;const N=s.toLowerCase();return p.request_title.toLowerCase().includes(N)||((g=p.engagement)==null?void 0:g.audit_title.toLowerCase().includes(N))||((w=(D=p.engagement)==null?void 0:D.clients)==null?void 0:w.client_name.toLowerCase().includes(N))}),l=(o==null?void 0:o.filter(p=>p.status==="draft"))||[],d=(o==null?void 0:o.filter(p=>p.status==="sent"))||[],u=(o==null?void 0:o.filter(p=>p.status==="in_progress"||p.status==="acknowledged"))||[],c=(o==null?void 0:o.filter(p=>p.status==="completed"))||[],b=(o==null?void 0:o.filter(p=>p.status==="overdue"))||[],h={draft:"bg-gray-500/10 text-gray-500 border-gray-500/20",sent:"bg-blue-500/10 text-blue-500 border-blue-500/20",acknowledged:"bg-purple-500/10 text-purple-500 border-purple-500/20",in_progress:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",completed:"bg-green-500/10 text-green-500 border-green-500/20",overdue:"bg-red-500/10 text-red-500 border-red-500/20"},m={low:"bg-gray-500/10 text-gray-500",medium:"bg-blue-500/10 text-blue-500",high:"bg-orange-500/10 text-orange-500",urgent:"bg-red-500/10 text-red-500"},f=({request:p})=>{var N;return t.jsxDEV(B,{className:"hover:border-primary transition-colors",children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold text-lg",children:p.request_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:56,columnNumber:15},this),p.engagement&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(N=p.engagement.clients)==null?void 0:N.client_name," - ",p.engagement.audit_title]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:58,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:55,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(he,{className:h[p.status],children:p.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:64,columnNumber:15},this),t.jsxDEV(he,{className:m[p.priority],children:p.priority},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:67,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-2",children:p.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:73,columnNumber:11},this),p.items_requested&&p.items_requested.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Items Requested:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:79,columnNumber:15},this),t.jsxDEV("ul",{className:"text-sm space-y-1",children:[p.items_requested.slice(0,3).map((g,D)=>t.jsxDEV("li",{className:"text-muted-foreground",children:[" ",g]},D,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:82,columnNumber:19},this)),p.items_requested.length>3&&t.jsxDEV("li",{className:"text-xs text-muted-foreground",children:["+ ",p.items_requested.length-3," more items"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:85,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:78,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center justify-between pt-2 border-t",children:[t.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:96,columnNumber:17},this),"Due: ",Ds(new Date(p.due_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:95,columnNumber:15},this),p.assignee&&t.jsxDEV("div",{className:"flex items-center gap-1",children:["Assigned to: ",p.assignee.full_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:100,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:94,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:"View Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:52,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:51,columnNumber:5},this)};return t.jsxDEV("div",{className:"p-8 space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Information Requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:117,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Request and track information from clients"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:116,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(qi,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:128,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:130,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:d.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:131,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Awaiting response"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:132,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:125,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-5 w-5 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:141,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:143,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:u.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:144,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Being worked on"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:138,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:154,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Overdue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:156,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:b.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:157,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Past due date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:158,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:151,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:167,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:169,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:c.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:170,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"This period"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:166,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:165,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:124,columnNumber:7},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"relative max-w-md flex-1",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:181,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search requests by title, client, or engagement...",value:s,onChange:p=>e(p.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:180,columnNumber:9},this),t.jsxDEV(F,{onClick:()=>a(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:190,columnNumber:11},this),"Create Request"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:189,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:179,columnNumber:7},this),t.jsxDEV(Pr,{defaultValue:"all",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"all",children:["All (",(o==null?void 0:o.length)||0,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:198,columnNumber:11},this),t.jsxDEV($e,{value:"draft",children:["Draft (",l.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:201,columnNumber:11},this),t.jsxDEV($e,{value:"sent",children:["Sent (",d.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:204,columnNumber:11},this),t.jsxDEV($e,{value:"in_progress",children:["In Progress (",u.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:207,columnNumber:11},this),t.jsxDEV($e,{value:"overdue",children:["Overdue (",b.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:210,columnNumber:11},this),t.jsxDEV($e,{value:"completed",children:["Completed (",c.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:213,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:197,columnNumber:9},this),t.jsxDEV(es,{value:"all",className:"space-y-4",children:n?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Loading requests..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:222,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:221,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:220,columnNumber:13},this):o&&o.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:228,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:226,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:[t.jsxDEV(qi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"No information requests yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:235,columnNumber:17},this),t.jsxDEV(F,{onClick:()=>a(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:237,columnNumber:19},this),"Create Your First Request"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:233,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:218,columnNumber:9},this),t.jsxDEV(es,{value:"draft",className:"space-y-4",children:l.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:l.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:249,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:247,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No draft requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:255,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:254,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:245,columnNumber:9},this),t.jsxDEV(es,{value:"sent",className:"space-y-4",children:d.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:d.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:265,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:263,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No sent requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:271,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:269,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:261,columnNumber:9},this),t.jsxDEV(es,{value:"in_progress",className:"space-y-4",children:u.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:u.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:281,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:279,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No requests in progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:287,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:285,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:277,columnNumber:9},this),t.jsxDEV(es,{value:"overdue",className:"space-y-4",children:b.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:b.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:297,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:295,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No overdue requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:303,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:302,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:301,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:293,columnNumber:9},this),t.jsxDEV(es,{value:"completed",className:"space-y-4",children:c.length>0?t.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:c.map(p=>t.jsxDEV(f,{request:p},p.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:313,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:311,columnNumber:13},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No completed requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:319,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:318,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:317,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:309,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:196,columnNumber:7},this),t.jsxDEV(Bse,{open:r,onOpenChange:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:327,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit/InformationRequests.tsx",lineNumber:115,columnNumber:5},this)}const $se=[{benchmark:"total_revenue",label:"Total Revenue",description:"Appropriate for commercial entities where revenue is the primary driver",typicalRange:{min:.5,max:2},applicableEntities:["Commercial","Manufacturing","Service"]},{benchmark:"net_income",label:"Net Income (Pre-tax)",description:"Appropriate for mature, profitable entities with stable earnings",typicalRange:{min:3,max:7},applicableEntities:["Commercial","Manufacturing"]},{benchmark:"total_assets",label:"Total Assets",description:"Appropriate for asset-intensive entities or entities with volatile earnings",typicalRange:{min:.5,max:2},applicableEntities:["Asset-intensive","Financial Services","Not-for-profit"]},{benchmark:"gross_profit",label:"Gross Profit",description:"Appropriate for retail and distribution entities",typicalRange:{min:1,max:3},applicableEntities:["Retail","Distribution"]},{benchmark:"total_equity",label:"Total Equity",description:"Appropriate for entities where equity is the primary measure",typicalRange:{min:1,max:3},applicableEntities:["Investment Companies","Holding Companies"]},{benchmark:"total_expenses",label:"Total Expenses",description:"Appropriate for not-for-profit entities",typicalRange:{min:.5,max:2},applicableEntities:["Not-for-profit","Government"]}];function Hse(s){const e=$se.find(r=>r.benchmark===s);return(e==null?void 0:e.typicalRange)||{min:.5,max:2}}function Gse(s,e){return Math.round(s*(e/100))}function Kse(s,e=75){return Math.round(s*(e/100))}function Qse(s,e=5){return Math.round(s*(e/100))}function Yse(s,e){let r=0;return e.forEach(a=>{a.impact&&(a.assessment==="increases"?r+=a.impact:a.assessment==="decreases"&&(r-=a.impact))}),r=Math.max(-50,Math.min(50,r)),Math.round(s*(1+r/100))}function Jse(s){const e=[];if(s.primaryBenchmark||e.push("Primary benchmark is required"),(!s.benchmarkAmount||s.benchmarkAmount<=0)&&e.push("Benchmark amount must be greater than zero"),(!s.benchmarkPercentage||s.benchmarkPercentage<=0)&&e.push("Benchmark percentage must be greater than zero"),s.benchmarkPercentage&&s.primaryBenchmark){const r=Hse(s.primaryBenchmark);(s.benchmarkPercentage<r.min||s.benchmarkPercentage>r.max*1.5)&&e.push(`Benchmark percentage outside typical range (${r.min}% - ${r.max}%). Provide justification.`)}return(!s.benchmarkRationale||s.benchmarkRationale.length<50)&&e.push("Benchmark rationale must be at least 50 characters"),s.performanceMaterialityPercentage&&(s.performanceMaterialityPercentage<50||s.performanceMaterialityPercentage>90)&&e.push("Performance materiality should typically be 50-90% of overall materiality"),{isValid:e.length===0,errors:e}}const ln={all:["materiality"],lists:()=>[...ln.all,"list"],list:s=>[...ln.lists(),s],details:()=>[...ln.all,"detail"],detail:s=>[...ln.details(),s],current:s=>[...ln.all,"current",s],allocations:s=>[...ln.all,"allocations",s],history:s=>[...ln.all,"history",s]};function Zse(s){return bs({queryKey:ln.history(s),queryFn:async()=>{const{data:e,error:r}=await le.from("materiality_calculations").select("*").eq("engagement_id",s).order("version",{ascending:!1});if(r)throw r;return e},enabled:!!s})}function Xse(s){return bs({queryKey:ln.detail(s),queryFn:async()=>{const{data:e,error:r}=await le.from("materiality_calculations").select("*").eq("id",s).single();if(r)throw r;return e},enabled:!!s})}function ete(){const s=Lr();return Rs({mutationFn:async e=>{var b;const r=Gse(e.benchmarkAmount,e.benchmarkPercentage),a=e.performanceMaterialityPercentage||75,i=e.clearlyTrivialPercentage||5;let n=Kse(r,a),o=Qse(r,i);(b=e.qualitativeFactors)!=null&&b.length&&(n=Yse(n,e.qualitativeFactors));const l=Jse({primaryBenchmark:e.primaryBenchmark,benchmarkAmount:e.benchmarkAmount,benchmarkPercentage:e.benchmarkPercentage,benchmarkRationale:e.benchmarkRationale,performanceMaterialityPercentage:a});if(!l.isValid)throw new Error(l.errors.join("; "));await le.from("materiality_calculations").update({is_current_version:!1}).eq("engagement_id",e.engagementId).eq("is_current_version",!0);const{count:d}=await le.from("materiality_calculations").select("*",{count:"exact",head:!0}).eq("engagement_id",e.engagementId),{data:u,error:c}=await le.from("materiality_calculations").insert({engagement_id:e.engagementId,primary_benchmark:e.primaryBenchmark,benchmark_amount:e.benchmarkAmount,benchmark_percentage:e.benchmarkPercentage,benchmark_rationale:e.benchmarkRationale,overall_materiality:r,performance_materiality:n,performance_materiality_percentage:a,clearly_trivial_threshold:o,clearly_trivial_percentage:i,qualitative_factors:e.qualitativeFactors||[],risk_adjustment_factor:1,status:"draft",prepared_by:e.preparedBy,prepared_at:new Date().toISOString(),version:(d||0)+1,is_current_version:!0}).select().single();if(c)throw c;return u},onSuccess:(e,r)=>{s.invalidateQueries({queryKey:ln.current(r.engagementId)}),s.invalidateQueries({queryKey:ln.history(r.engagementId)})}})}function ste(){const s=Lr();return Rs({mutationFn:async e=>{const r=e.approved?"approved":"draft",{data:a,error:i}=await le.from("materiality_calculations").update({status:r,approved_by:e.partnerId,approved_at:new Date().toISOString(),approval_comments:e.comments,updated_at:new Date().toISOString()}).eq("id",e.materialityId).eq("status","pending_partner_approval").select().single();if(i)throw i;return a},onSuccess:(e,r)=>{s.invalidateQueries({queryKey:ln.detail(r.materialityId)}),s.invalidateQueries({queryKey:ln.current(r.engagementId)})}})}const tte=[{value:"revenue",label:"Revenue/Sales"},{value:"total_assets",label:"Total Assets"},{value:"net_income",label:"Net Income"},{value:"equity",label:"Total Equity"},{value:"expenses",label:"Total Expenses"}],rte=[{value:"manufacturing",label:"Manufacturing"},{value:"retail",label:"Retail"},{value:"wholesale",label:"Wholesale Distribution"},{value:"financial_services",label:"Financial Services"},{value:"banking",label:"Banking"},{value:"insurance",label:"Insurance"},{value:"real_estate",label:"Real Estate"},{value:"technology",label:"Technology"},{value:"saas",label:"SaaS/Software"},{value:"healthcare",label:"Healthcare"},{value:"nonprofit",label:"Nonprofit"},{value:"government",label:"Government"},{value:"other",label:"Other"}];function L4({engagementId:s,firmId:e,industry:r,clientName:a}){const{data:i,isLoading:n}=Xse(s),{data:o}=Zse(s),l=ete(),d=ste(),[u,c]=v.useState({benchmark_type:"revenue",benchmark_value:0,overall_materiality_percentage:5,performance_materiality_percentage:75,clearly_trivial_percentage:5,industry:r||"other",risk_level:"medium"}),[b,h]=v.useState({overallMateriality:0,performanceMateriality:0,clearlyTrivial:0}),m=null;v.useEffect(()=>{i&&c({benchmark_type:i.benchmark_type,benchmark_value:i.benchmark_value,benchmark_year:i.benchmark_year,overall_materiality_percentage:i.overall_materiality_percentage,performance_materiality_percentage:i.performance_materiality_percentage,clearly_trivial_percentage:i.clearly_trivial_percentage,benchmark_rationale:i.benchmark_rationale,percentage_rationale:i.percentage_rationale,additional_notes:i.additional_notes,industry:i.industry,risk_level:i.risk_level,component_materiality:i.component_materiality})},[i]),v.useEffect(()=>{const N=u.benchmark_value*u.overall_materiality_percentage/100,g=N*u.performance_materiality_percentage/100,D=N*u.clearly_trivial_percentage/100;h({overallMateriality:N,performanceMateriality:g,clearlyTrivial:D})},[u.benchmark_value,u.overall_materiality_percentage,u.performance_materiality_percentage,u.clearly_trivial_percentage]);const f=async()=>{await l.mutateAsync({engagementId:s,firmId:e,formData:u})},p=async()=>{i&&await d.mutateAsync({materialityId:i.id,engagementId:s})};return n?t.jsxDEV(B,{children:t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Loading materiality calculator..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:176,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:175,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:174,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Zu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:190,columnNumber:17},this),"Materiality Calculator"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:189,columnNumber:15},this),t.jsxDEV(Ke,{children:["Calculate audit materiality per AU-C Section 320 for ",a]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:188,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[(i==null?void 0:i.approved_at)&&t.jsxDEV(he,{variant:"outline",className:"bg-green-500/10 text-green-500",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:200,columnNumber:19},this),"Approved"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:199,columnNumber:17},this),o&&o.length>1&&t.jsxDEV(Pt,{children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",size:"sm",children:[t.jsxDEV(l6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:208,columnNumber:23},this),"Version ",(i==null?void 0:i.version)||1]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:207,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:206,columnNumber:19},this),t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Materiality Calculation History"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:214,columnNumber:23},this),t.jsxDEV(Bt,{children:"View all versions of materiality calculations for this engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:215,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:213,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.map(N=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:["Version ",N.version]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:225,columnNumber:33},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:mm(new Date(N.created_at),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:226,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:224,columnNumber:31},this),N.is_current&&t.jsxDEV(he,{variant:"default",children:"Current"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:233,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:223,columnNumber:29},this),t.jsxDEV(ft,{className:"my-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:236,columnNumber:29},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Overall Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:239,columnNumber:33},this),t.jsxDEV("p",{className:"font-semibold",children:["$",N.overall_materiality.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:240,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:238,columnNumber:31},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Performance Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:245,columnNumber:33},this),t.jsxDEV("p",{className:"font-semibold",children:["$",N.performance_materiality.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:246,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:244,columnNumber:31},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Benchmark"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:251,columnNumber:33},this),t.jsxDEV("p",{className:"font-medium capitalize",children:N.benchmark_type.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:252,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:250,columnNumber:31},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Benchmark Value"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:257,columnNumber:33},this),t.jsxDEV("p",{className:"font-medium",children:["$",N.benchmark_value.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:258,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:256,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:237,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:222,columnNumber:27},this)},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:221,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:219,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:205,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:187,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:186,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:185,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Step 1: Select Benchmark"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:280,columnNumber:15},this),t.jsxDEV(Ke,{children:"Choose the financial statement benchmark for calculating materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:281,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:279,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"industry",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:288,columnNumber:19},this),t.jsxDEV(is,{value:u.industry,onValueChange:N=>c(g=>({...g,industry:N})),children:[t.jsxDEV(rs,{id:"industry",children:t.jsxDEV(ns,{placeholder:"Select industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:296,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:295,columnNumber:21},this),t.jsxDEV(as,{children:rte.map(N=>t.jsxDEV(X,{value:N.value,children:N.label},N.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:300,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:298,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:289,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:287,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmark-type",children:"Benchmark Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:309,columnNumber:19},this),t.jsxDEV(is,{value:u.benchmark_type,onValueChange:N=>c(g=>({...g,benchmark_type:N})),children:[t.jsxDEV(rs,{id:"benchmark-type",children:t.jsxDEV(ns,{placeholder:"Select benchmark"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:317,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:316,columnNumber:21},this),t.jsxDEV(as,{children:tte.map(N=>t.jsxDEV(X,{value:N.value,children:N.label},N.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:321,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:319,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:310,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:308,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:286,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmark-value",children:"Benchmark Value ($)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:332,columnNumber:19},this),t.jsxDEV(ve,{id:"benchmark-value",type:"number",value:u.benchmark_value,onChange:N=>c(g=>({...g,benchmark_value:parseFloat(N.target.value)||0})),placeholder:"0.00"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmark-year",children:"Fiscal Year (optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:348,columnNumber:19},this),t.jsxDEV(ve,{id:"benchmark-year",type:"number",value:u.benchmark_year||"",onChange:N=>c(g=>({...g,benchmark_year:parseInt(N.target.value)||void 0})),placeholder:"2024"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:349,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:347,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:330,columnNumber:15},this),m,t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmark-rationale",children:"Benchmark Rationale"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:384,columnNumber:17},this),t.jsxDEV(Wt,{id:"benchmark-rationale",value:u.benchmark_rationale||"",onChange:N=>c(g=>({...g,benchmark_rationale:N.target.value})),placeholder:"Explain why this benchmark was selected...",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:385,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:383,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:278,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Step 2: Set Percentages"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:400,columnNumber:15},this),t.jsxDEV(Ke,{children:"Define materiality percentages based on risk assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:399,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"overall-pct",children:"Overall Materiality %"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:408,columnNumber:19},this),t.jsxDEV(ve,{id:"overall-pct",type:"number",step:"0.1",value:u.overall_materiality_percentage,onChange:N=>c(g=>({...g,overall_materiality_percentage:parseFloat(N.target.value)||0})),min:"0",max:"100"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:409,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Typical: 0.5-5%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:423,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:407,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"performance-pct",children:"Performance Materiality %"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:427,columnNumber:19},this),t.jsxDEV(ve,{id:"performance-pct",type:"number",step:"1",value:u.performance_materiality_percentage,onChange:N=>c(g=>({...g,performance_materiality_percentage:parseFloat(N.target.value)||0})),min:"0",max:"100"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:428,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Typical: 50-75%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:442,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:426,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"trivial-pct",children:"Clearly Trivial %"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:446,columnNumber:19},this),t.jsxDEV(ve,{id:"trivial-pct",type:"number",step:"0.1",value:u.clearly_trivial_percentage,onChange:N=>c(g=>({...g,clearly_trivial_percentage:parseFloat(N.target.value)||0})),min:"0",max:"100"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:447,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Typical: 3-5%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:461,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:445,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:406,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"risk-level",children:"Risk Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:466,columnNumber:17},this),t.jsxDEV(is,{value:u.risk_level,onValueChange:N=>c(g=>({...g,risk_level:N})),children:[t.jsxDEV(rs,{id:"risk-level",children:t.jsxDEV(ns,{placeholder:"Select risk level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:474,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:473,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"low",children:"Low Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:477,columnNumber:21},this),t.jsxDEV(X,{value:"medium",children:"Medium Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:478,columnNumber:21},this),t.jsxDEV(X,{value:"high",children:"High Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:479,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:476,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:467,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:465,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"percentage-rationale",children:"Percentage Rationale"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:485,columnNumber:17},this),t.jsxDEV(Wt,{id:"percentage-rationale",value:u.percentage_rationale||"",onChange:N=>c(g=>({...g,percentage_rationale:N.target.value})),placeholder:"Document why these percentages were selected...",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:486,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:484,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"additional-notes",children:"Additional Notes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:498,columnNumber:17},this),t.jsxDEV(Wt,{id:"additional-notes",value:u.additional_notes||"",onChange:N=>c(g=>({...g,additional_notes:N.target.value})),placeholder:"Any other considerations or documentation...",rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:499,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:497,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:405,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:398,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:277,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6",children:t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Calculated Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:517,columnNumber:15},this),t.jsxDEV(Ke,{children:"Based on your inputs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:518,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:516,columnNumber:13},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Overall Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:524,columnNumber:17},this),t.jsxDEV("p",{className:"text-3xl font-bold",children:["$",b.overallMateriality.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:525,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[u.overall_materiality_percentage,"% of ",u.benchmark_type.replace("_"," ")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:528,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:523,columnNumber:15},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:533,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Performance Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:536,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-semibold",children:["$",b.performanceMateriality.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:537,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[u.performance_materiality_percentage,"% of overall materiality"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:540,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:535,columnNumber:15},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:545,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Clearly Trivial Threshold"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:548,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-semibold",children:["$",b.clearlyTrivial.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:549,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[u.clearly_trivial_percentage,"% of overall materiality"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:552,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:547,columnNumber:15},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:557,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:t.jsxDEV(jr,{children:[t.jsxDEV(Dl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:561,columnNumber:19},this),t.jsxDEV(Ar,{className:"text-xs",children:[t.jsxDEV("p",{className:"font-medium mb-1",children:"Professional Guidance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:563,columnNumber:21},this),t.jsxDEV("ul",{className:"list-disc list-inside space-y-1",children:[t.jsxDEV("li",{children:"Overall materiality: Financial statements as a whole"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:565,columnNumber:23},this),t.jsxDEV("li",{children:"Performance materiality: Reduces aggregation risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:566,columnNumber:23},this),t.jsxDEV("li",{children:"Clearly trivial: Accumulation threshold"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:567,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:564,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:562,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:560,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:559,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col gap-2 pt-4",children:[t.jsxDEV(F,{onClick:f,disabled:l.isPending,className:"w-full",children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:579,columnNumber:19},this),l.isPending?"Saving...":"Save Materiality"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:574,columnNumber:17},this),i&&!i.approved_at&&t.jsxDEV(F,{variant:"outline",onClick:p,disabled:d.isPending,className:"w-full",children:[t.jsxDEV(Ni,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:590,columnNumber:21},this),"Approve"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:584,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:573,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:522,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:515,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:514,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:275,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/MaterialityCalculator.tsx",lineNumber:183,columnNumber:5},this)}function ate(){const s=Qt(),[e]=Pm(),r=e.get("engagementId");return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(r?`/engagements/${r}/audit`:"/workspace"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:29,columnNumber:11},this),r?"Back to Engagement":"Back to Workspace"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:23,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Materiality Calculator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Calculate overall materiality, performance materiality, and clearly trivial thresholds per AU-C 320"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:35,columnNumber:7},this),t.jsxDEV(L4,{engagementId:r||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/MaterialityCalculatorPage.tsx",lineNumber:21,columnNumber:5},this)}const g2={90:{0:2.31,1:3.89,2:5.33,3:6.69},95:{0:3,1:4.75,2:6.3,3:7.76},99:{0:4.61,1:6.64,2:8.41,3:10.05}};function I4({engagementId:s}){var V;const{toast:e}=Hs(),[r,a]=v.useState("MUS"),[i,n]=v.useState("Accounts Receivable"),[o,l]=v.useState("500"),[d,u]=v.useState("5000000"),[c,b]=v.useState("95"),[h,m]=v.useState("0"),[f,p]=v.useState("250000"),[N,g]=v.useState("2"),D=()=>{a("MUS"),n("Accounts Receivable"),l("500"),u("5000000"),b("95"),m("0"),p("250000"),g("2")},w=()=>{const S=parseFloat(d)||0,O=parseFloat(f)||0,_=parseInt(h)||0,M=c;if(!S||!O)return{sampleSize:0,samplingInterval:0};const R=g2[M][_]||3,Q=Math.floor(O/R);return{sampleSize:Math.ceil(S/Q),samplingInterval:Q,reliabilityFactor:R}},A=()=>{const S=parseInt(o)||0,O=parseFloat(d)||0,_=parseFloat(f)||0;if(!S||!O||!_)return{sampleSize:0};const M=c==="95"?1.96:c==="99"?2.58:1.65,R=O*.15,Q=Math.ceil(Math.pow(M*R/_,2));return{sampleSize:Math.min(Q,S)}},U=()=>{const S=parseInt(o)||0,_=(parseFloat(N)||0)+5;if(!S)return{sampleSize:0};const R=g2[c][0]||3,Q=Math.ceil(R/(_/100)*S/100);return{sampleSize:Math.min(Q,S),tolerableRate:_}};let E={};r==="MUS"?E=w():r==="classical_variables"?E=A():r==="attribute"&&(E=U());const W=S=>{const O=typeof S=="string"?parseFloat(S):S;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(O||0)},y=()=>{e({title:"Sampling Plan Saved",description:`${r} sampling plan for ${i} saved with sample size of ${E.sampleSize}`})};return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Zu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:145,columnNumber:15},this),"Sampling Calculator"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:144,columnNumber:13},this),t.jsxDEV(Ke,{children:"Calculate audit sample sizes per AU-C 530"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:143,columnNumber:11},this),t.jsxDEV(he,{variant:"outline",children:"AU-C 530"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:142,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:141,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV(Pr,{value:r,onValueChange:a,children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-3",children:[t.jsxDEV($e,{value:"MUS",children:"MUS"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV($e,{value:"classical_variables",children:"Classical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:157,columnNumber:13},this),t.jsxDEV($e,{value:"attribute",children:"Attribute"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:155,columnNumber:11},this),t.jsxDEV(es,{value:"MUS",className:"space-y-4 mt-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Account Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:165,columnNumber:17},this),t.jsxDEV(ve,{value:i,onChange:S=>n(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:166,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:164,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Confidence Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:169,columnNumber:17},this),t.jsxDEV(is,{value:c,onValueChange:b,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:172,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"90",children:"90%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:175,columnNumber:21},this),t.jsxDEV(X,{value:"95",children:"95%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:176,columnNumber:21},this),t.jsxDEV(X,{value:"99",children:"99%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:177,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:174,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Population Value"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:185,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:d,onChange:S=>u(S.target.value),placeholder:"5,000,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:186,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:184,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Tolerable Error"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:f,onChange:S=>p(S.target.value),placeholder:"250,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:195,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:183,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Expected Errors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:205,columnNumber:15},this),t.jsxDEV(is,{value:h,onValueChange:m,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:208,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:207,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"0",children:"0 errors (most common)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:211,columnNumber:19},this),t.jsxDEV(X,{value:"1",children:"1 error"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:212,columnNumber:19},this),t.jsxDEV(X,{value:"2",children:"2 errors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:213,columnNumber:19},this),t.jsxDEV(X,{value:"3",children:"3 errors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:214,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:210,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:204,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3 pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:222,columnNumber:17},this),"MUS Sample Size Calculation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:221,columnNumber:15},this),t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Reliability Factor:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:228,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:(V=E.reliabilityFactor)==null?void 0:V.toFixed(2)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:229,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:227,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Sampling Interval:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:232,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:W(E.samplingInterval||0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:231,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between pt-2 border-t",children:[t.jsxDEV("span",{className:"font-semibold",children:"Sample Size:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:236,columnNumber:19},this),t.jsxDEV("span",{className:"text-2xl font-bold text-blue-600",children:E.sampleSize||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:226,columnNumber:15},this),t.jsxDEV("div",{className:"p-3 bg-muted rounded text-xs space-y-1",children:[t.jsxDEV("p",{children:[t.jsxDEV("strong",{children:"Formula:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:243,columnNumber:19},this)," Sample Size = Population Value / Sampling Interval"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:242,columnNumber:17},this),t.jsxDEV("p",{children:[t.jsxDEV("strong",{children:"Sampling Interval:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:246,columnNumber:19},this)," Tolerable Error / Reliability Factor"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:162,columnNumber:11},this),t.jsxDEV(es,{value:"classical_variables",className:"space-y-4 mt-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Account Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:256,columnNumber:17},this),t.jsxDEV(ve,{value:i,onChange:S=>n(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:257,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:255,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Confidence Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:260,columnNumber:17},this),t.jsxDEV(is,{value:c,onValueChange:b,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:263,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:262,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"90",children:"90%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:266,columnNumber:21},this),t.jsxDEV(X,{value:"95",children:"95%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:267,columnNumber:21},this),t.jsxDEV(X,{value:"99",children:"99%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:268,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:265,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:261,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:254,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Population Size (Items)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:276,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:o,onChange:S=>l(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:277,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Population Value"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:284,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:d,onChange:S=>u(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:285,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:283,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:274,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Tolerable Error"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:294,columnNumber:15},this),t.jsxDEV(ve,{type:"text",value:f,onChange:S=>p(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:295,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:293,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3 pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Classical Variables Sample Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:304,columnNumber:15},this),t.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:t.jsxDEV("div",{className:"flex justify-between",children:[t.jsxDEV("span",{className:"font-semibold",children:"Sample Size:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:307,columnNumber:19},this),t.jsxDEV("span",{className:"text-2xl font-bold text-green-600",children:E.sampleSize||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:308,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:306,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:303,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:253,columnNumber:11},this),t.jsxDEV(es,{value:"attribute",className:"space-y-4 mt-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Account Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:318,columnNumber:17},this),t.jsxDEV(ve,{value:i,onChange:S=>n(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:319,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:317,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Confidence Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:322,columnNumber:17},this),t.jsxDEV(is,{value:c,onValueChange:b,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:325,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:324,columnNumber:19},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"90",children:"90%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:328,columnNumber:21},this),t.jsxDEV(X,{value:"95",children:"95%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:329,columnNumber:21},this),t.jsxDEV(X,{value:"99",children:"99%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:330,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:327,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:321,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:316,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Population Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:338,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:o,onChange:S=>l(S.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:339,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:337,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Expected Error Rate (%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:346,columnNumber:17},this),t.jsxDEV(ve,{type:"text",value:N,onChange:S=>g(S.target.value),placeholder:"2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:347,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:345,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:336,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3 pt-4 border-t",children:[t.jsxDEV("h4",{className:"font-semibold",children:"Attribute Sample Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:358,columnNumber:15},this),t.jsxDEV("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Expected Error Rate:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:361,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[N,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:362,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:360,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Tolerable Rate:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:365,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium",children:[E.tolerableRate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:366,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:364,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-between pt-2 border-t",children:[t.jsxDEV("span",{className:"font-semibold",children:"Sample Size:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:369,columnNumber:19},this),t.jsxDEV("span",{className:"text-2xl font-bold text-purple-600",children:E.sampleSize||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:370,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:368,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:359,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:357,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:315,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:154,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-3 pt-4 border-t",children:[t.jsxDEV(F,{onClick:y,className:"flex-1",children:[t.jsxDEV(po,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:383,columnNumber:13},this),"Save Sampling Plan"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:379,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",onClick:D,children:[t.jsxDEV(oW,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:390,columnNumber:13},this),"Reset"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:378,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-amber-900 mb-2 flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:398,columnNumber:13},this),"Sampling Guidance"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:397,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-amber-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Use MUS for testing overstatement in account balances"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:402,columnNumber:13},this),t.jsxDEV("li",{children:"Use Classical for testing mean values with normal distribution"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:403,columnNumber:13},this),t.jsxDEV("li",{children:"Use Attribute for testing control effectiveness (compliance)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:404,columnNumber:13},this),t.jsxDEV("li",{children:"Document rationale for sampling method selection"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:405,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:401,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:396,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:153,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/SamplingCalculator.tsx",lineNumber:140,columnNumber:5},this)}function ite(){const s=Qt(),[e]=Pm(),r=e.get("engagementId");return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(r?`/engagements/${r}/audit`:"/workspace"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:29,columnNumber:11},this),r?"Back to Engagement":"Back to Workspace"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:23,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Sampling Calculator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Statistical sampling tool supporting MUS (Monetary Unit Sampling), Classical Variables, and Attributes sampling per AU-C 530"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:35,columnNumber:7},this),t.jsxDEV(I4,{engagementId:r||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/SamplingCalculatorPage.tsx",lineNumber:21,columnNumber:5},this)}const nte=s=>bs({queryKey:["samples",s],queryFn:async()=>{const{data:e,error:r}=await le.from("audit_samples").select("*").eq("engagement_id",s).order("created_at",{ascending:!1});if(r)throw r;return e},enabled:!!s}),F4=s=>bs({queryKey:["materiality",s],queryFn:async()=>{const{data:e,error:r}=await le.from("materiality_calculations").select("*").eq("engagement_id",s).eq("is_active",!0).single();if(r&&r.code!=="PGRST116")throw r;return e},enabled:!!s}),z4=s=>bs({queryKey:["confirmations",s],queryFn:async()=>{const{data:e,error:r}=await le.from("confirmations").select("*").eq("engagement_id",s).order("as_of_date",{ascending:!1});if(r)throw r;return e},enabled:!!s}),ote=()=>{const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async r=>{const{data:a,error:i}=await le.from("confirmations").insert([r]).select().single();if(i)throw i;return a},onSuccess:r=>{s.invalidateQueries({queryKey:["confirmations",r.engagement_id]}),e({title:"Confirmation created",description:"The confirmation has been added to the tracker."})},onError:r=>{e({title:"Error",description:r.message||"Failed to create confirmation.",variant:"destructive"})}})},lte=()=>{const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async({id:r,updates:a})=>{const{data:i,error:n}=await le.from("confirmations").update(a).eq("id",r).select().single();if(n)throw n;return i},onSuccess:r=>{s.invalidateQueries({queryKey:["confirmations",r.engagement_id]}),e({title:"Confirmation updated",description:"The confirmation has been updated."})}})},B4=s=>bs({queryKey:["analytical-procedures",s],queryFn:async()=>{const{data:e,error:r}=await le.from("analytical_procedures").select("*").eq("engagement_id",s).order("current_period_date",{ascending:!1});if(r)throw r;return e},enabled:!!s}),dte=()=>{const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async r=>{const{data:a,error:i}=await le.from("analytical_procedures").insert([r]).select().single();if(i)throw i;return a},onSuccess:r=>{s.invalidateQueries({queryKey:["analytical-procedures",r.engagement_id]}),e({title:"Analytical procedure saved",description:"The analysis has been saved successfully."})},onError:r=>{e({title:"Error",description:r.message||"Failed to save analytical procedure.",variant:"destructive"})}})},ute=s=>bs({queryKey:["audit-adjustments",s],queryFn:async()=>{const{data:e,error:r}=await le.from("audit_adjustments").select("*").eq("engagement_id",s).order("adjustment_number",{ascending:!0});if(r)throw r;return e},enabled:!!s}),cte=s=>bs({queryKey:["sum",s],queryFn:async()=>{const{data:e,error:r}=await le.from("sum_by_engagement").select("*").eq("engagement_id",s).single();if(r&&r.code!=="PGRST116")throw r;return e},enabled:!!s}),mte=(s,e)=>bs({queryKey:["independence",s,e],queryFn:async()=>{let r=le.from("independence_declarations").select("*").eq("user_id",s).order("period_start",{ascending:!1});e&&(r=r.eq("engagement_id",e));const{data:a,error:i}=await r;if(i)throw i;return a},enabled:!!s}),bte=s=>bs({queryKey:["subsequent-events",s],queryFn:async()=>{const{data:e,error:r}=await le.from("subsequent_events").select("*").eq("engagement_id",s).order("event_date",{ascending:!1});if(r)throw r;return e},enabled:!!s}),hte=s=>bs({queryKey:["pbc-items",s],queryFn:async()=>{const{data:e,error:r}=await le.from("client_pbc_items").select("*").eq("engagement_id",s).order("due_date",{ascending:!0});if(r)throw r;return e},enabled:!!s}),fte=()=>bs({queryKey:["overdue-pbc-items"],queryFn:async()=>{const{data:s,error:e}=await le.from("overdue_pbc_items").select("*").order("days_overdue",{ascending:!1});if(e)throw e;return s}});function q4({engagementId:s}){const{toast:e}=Hs(),{data:r,isLoading:a}=z4(s),i=ote(),n=lte(),[o,l]=v.useState(!1),[d,u]=v.useState("accounts_receivable"),[c,b]=v.useState(""),[h,m]=v.useState(""),[f,p]=v.useState(new Date().toISOString().split("T")[0]),N=()=>{u("accounts_receivable"),b(""),m(""),p(new Date().toISOString().split("T")[0])},g=async()=>{if(!c||!h){e({title:"Validation Error",description:"Please provide name and amount",variant:"destructive"});return}try{await i.mutateAsync({engagement_id:s,confirmation_type:d,customer_vendor_name:c,amount:parseFloat(h),confirmation_date:f,response_received:!1,exceptions:null}),N(),l(!1)}catch(M){e({title:"Error",description:M.message||"Failed to create confirmation",variant:"destructive"})}},D=async(M,R,Q)=>{try{await n.mutateAsync({id:M,updates:{response_received:R,exceptions:Q||null}})}catch(ne){e({title:"Error",description:ne.message||"Failed to update confirmation",variant:"destructive"})}},w=r==null?void 0:r.filter(M=>M.confirmation_type==="accounts_receivable"),A=r==null?void 0:r.filter(M=>M.confirmation_type==="accounts_payable"),U=r==null?void 0:r.filter(M=>M.confirmation_type==="bank"),E=(M=[])=>{const R=M.length,Q=M.filter(Ne=>Ne.response_received).length,ne=R-Q,ie=M.filter(Ne=>Ne.exceptions).length,Z=R>0?Math.round(Q/R*100):0;return{sent:R,received:Q,pending:ne,exceptions:ie,responseRate:Z}},W=E(r),y=E(w),V=E(A),S=E(U),O=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),_=(M=[],R)=>M.length===0?t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Ii,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:149,columnNumber:11},this),t.jsxDEV("p",{children:["No ",R," confirmations yet"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:150,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm mt-2",children:'Click "Add Confirmation" to create one'},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:148,columnNumber:9},this):t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:160,columnNumber:13},this),t.jsxDEV(Qe,{children:"Amount"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:161,columnNumber:13},this),t.jsxDEV(Qe,{children:"Sent Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:163,columnNumber:13},this),t.jsxDEV(Qe,{children:"Exceptions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:164,columnNumber:13},this),t.jsxDEV(Qe,{children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:159,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:158,columnNumber:9},this),t.jsxDEV(Ba,{children:M.map(Q=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:Q.customer_vendor_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:171,columnNumber:15},this),t.jsxDEV(Fe,{children:O(Q.amount)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:172,columnNumber:15},this),t.jsxDEV(Fe,{children:Ds(new Date(Q.confirmation_date),"MMM dd, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:173,columnNumber:15},this),t.jsxDEV(Fe,{children:Q.response_received?t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:177,columnNumber:21},this),"Received"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:176,columnNumber:19},this):t.jsxDEV(he,{variant:"outline",children:[t.jsxDEV(dt,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:182,columnNumber:21},this),"Pending"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:181,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:174,columnNumber:15},this),t.jsxDEV(Fe,{children:Q.exceptions?t.jsxDEV(he,{variant:"destructive",children:[t.jsxDEV(Er,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:190,columnNumber:21},this),"Yes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:189,columnNumber:19},this):t.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:194,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:187,columnNumber:15},this),t.jsxDEV(Fe,{children:!Q.response_received&&t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>D(Q.id,!0),children:"Mark Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:199,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:197,columnNumber:15},this)]},Q.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:170,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:168,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:157,columnNumber:7},this);return a?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Confirmation Tracker"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:219,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:218,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"h-96 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:222,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:221,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:217,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:234,columnNumber:15},this),"Confirmation Tracker"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:233,columnNumber:13},this),t.jsxDEV(Ke,{children:"Track external confirmations per AU-C 505"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:237,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:232,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(he,{variant:"outline",children:"AU-C 505"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:240,columnNumber:13},this),t.jsxDEV(Pt,{open:o,onOpenChange:l,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:244,columnNumber:19},this),"Add Confirmation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:243,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:242,columnNumber:15},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Add Confirmation Request"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:250,columnNumber:19},this),t.jsxDEV(Bt,{children:"Create a new confirmation to send"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:251,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:249,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Confirmation Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:255,columnNumber:21},this),t.jsxDEV(is,{value:d,onValueChange:u,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:258,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:257,columnNumber:23},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"accounts_receivable",children:"Accounts Receivable"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:261,columnNumber:25},this),t.jsxDEV(X,{value:"accounts_payable",children:"Accounts Payable"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:262,columnNumber:25},this),t.jsxDEV(X,{value:"bank",children:"Bank"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:263,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:260,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:254,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Customer/Vendor/Bank Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:268,columnNumber:21},this),t.jsxDEV(ve,{value:c,onChange:M=>b(M.target.value),placeholder:"Enter name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:269,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:267,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Amount *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:277,columnNumber:23},this),t.jsxDEV(ve,{type:"number",value:h,onChange:M=>m(M.target.value),placeholder:"0.00"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:278,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:276,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Confirmation Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:286,columnNumber:23},this),t.jsxDEV(ve,{type:"date",value:f,onChange:M=>p(M.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:287,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:285,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:253,columnNumber:17},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>l(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:296,columnNumber:19},this),t.jsxDEV(F,{onClick:g,disabled:i.isPending,children:[t.jsxDEV(qi,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:300,columnNumber:21},this),"Create Confirmation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:299,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:231,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:230,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-5 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:W.sent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:314,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:313,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:312,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:W.received},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:320,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:321,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:319,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:318,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:W.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:326,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:327,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:325,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:324,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:W.exceptions},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:332,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Exceptions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:331,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:330,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-purple-600",children:[W.responseRate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:338,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Response Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:339,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:337,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:336,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:311,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Overall Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:347,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:[W.received," / ",W.sent," (",W.responseRate,"%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:348,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:346,columnNumber:11},this),t.jsxDEV(cr,{value:W.responseRate,className:"h-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:352,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:345,columnNumber:9},this),t.jsxDEV(Pr,{defaultValue:"ar",className:"mt-6",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-3",children:[t.jsxDEV($e,{value:"ar",children:["Accounts Receivable",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(w==null?void 0:w.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:360,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:358,columnNumber:13},this),t.jsxDEV($e,{value:"ap",children:["Accounts Payable",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(A==null?void 0:A.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:366,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:364,columnNumber:13},this),t.jsxDEV($e,{value:"bank",children:["Bank",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(U==null?void 0:U.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:372,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:370,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:357,columnNumber:11},this),t.jsxDEV(es,{value:"ar",className:"mt-4 space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:382,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1",children:y.sent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:381,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:380,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:388,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-green-600",children:y.received},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:389,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:387,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:386,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:394,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-yellow-600",children:y.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:393,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:392,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Response Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:400,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-blue-600",children:[y.responseRate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:401,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:399,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:398,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:379,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg",children:_(w,"AR")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:405,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:378,columnNumber:11},this),t.jsxDEV(es,{value:"ap",className:"mt-4 space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:414,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1",children:V.sent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:415,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:413,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:412,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:420,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-green-600",children:V.received},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:421,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:419,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:418,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:426,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-yellow-600",children:V.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:427,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:425,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:424,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Response Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:432,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-blue-600",children:[V.responseRate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:433,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:431,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:430,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:411,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg",children:_(A,"AP")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:437,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:410,columnNumber:11},this),t.jsxDEV(es,{value:"bank",className:"mt-4 space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:446,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1",children:S.sent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:447,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:445,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:444,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:452,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-green-600",children:S.received},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:453,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:451,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:450,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:458,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-yellow-600",children:S.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:459,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:457,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:456,columnNumber:15},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-3",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Response Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:464,columnNumber:19},this),t.jsxDEV("div",{className:"text-xl font-bold mt-1 text-blue-600",children:[S.responseRate,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:465,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:463,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:462,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:443,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg",children:_(U,"Bank")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:469,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:442,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:356,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-blue-900 mb-2",children:"Confirmation Best Practices"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:477,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-blue-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Send confirmations directly to third parties (not through client)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:479,columnNumber:13},this),t.jsxDEV("li",{children:"Follow up on non-responses after 2-3 weeks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:480,columnNumber:13},this),t.jsxDEV("li",{children:"Document all exceptions and investigate discrepancies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:481,columnNumber:13},this),t.jsxDEV("li",{children:"Consider alternative procedures if response rate is below 70%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:482,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:478,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:476,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:309,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ConfirmationTracker.tsx",lineNumber:229,columnNumber:5},this)}function pte(){const s=Qt(),[e]=Pm(),r=e.get("engagementId");return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(r?`/engagements/${r}/audit`:"/workspace"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:29,columnNumber:11},this),r?"Back to Engagement":"Back to Workspace"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:23,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Confirmation Tracker"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Track AR, AP, Bank, and Legal confirmations per PCAOB AS 2310 and AICPA AU-C 505"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:35,columnNumber:7},this),t.jsxDEV(q4,{engagementId:r||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/ConfirmationTrackerPage.tsx",lineNumber:21,columnNumber:5},this)}function $4({engagementId:s}){const{toast:e}=Hs(),{data:r,isLoading:a}=B4(s||""),i=dte(),[n,o]=v.useState(!1),[l,d]=v.useState("ratio_analysis"),[u,c]=v.useState(""),[b,h]=v.useState(""),[m,f]=v.useState(""),[p,N]=v.useState(""),g=()=>{c(""),h(""),f(""),N("")},D=(O,_)=>_?(O-_)/_*100:0,w=async()=>{const O=parseFloat(b)||0,_=parseFloat(m)||0,M=D(O,_);if(!u||!O){e({title:"Validation Error",description:"Please provide account and current year amount",variant:"destructive"});return}try{await i.mutateAsync({engagement_id:s,procedure_type:l,account:u,current_year_amount:O,prior_year_amount:_,variance_percentage:M,explanation:p||null}),g(),o(!1)}catch(R){e({title:"Error",description:R.message||"Failed to create analytical procedure",variant:"destructive"})}},A=r==null?void 0:r.filter(O=>O.procedure_type==="ratio_analysis"),U=r==null?void 0:r.filter(O=>O.procedure_type==="trend_analysis"),E=r==null?void 0:r.filter(O=>O.procedure_type==="variance_analysis"),W=(r==null?void 0:r.filter(O=>Math.abs(O.variance_percentage||0)>10).length)||0,y=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),V=O=>`${O>=0?"+":""}${O.toFixed(1)}%`,S=(O=[],_)=>O.length===0?t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Ck,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:126,columnNumber:11},this),t.jsxDEV("p",{children:["No ",_," procedures yet"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:125,columnNumber:9},this):t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:136,columnNumber:13},this),t.jsxDEV(Qe,{className:"text-right",children:"Current Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV(Qe,{className:"text-right",children:"Prior Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:138,columnNumber:13},this),t.jsxDEV(Qe,{className:"text-right",children:"Variance %"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:139,columnNumber:13},this),t.jsxDEV(Qe,{children:"Explanation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:140,columnNumber:13},this),t.jsxDEV(Qe,{children:"Flag"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:135,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:134,columnNumber:9},this),t.jsxDEV(Ba,{children:O.map(M=>{const R=M.variance_percentage||0,Q=Math.abs(R)>10;return t.jsxDEV(Ot,{className:Q?"bg-amber-50":"",children:[t.jsxDEV(Fe,{className:"font-medium",children:M.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:151,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right font-mono",children:y(M.current_year_amount)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:152,columnNumber:17},this),t.jsxDEV(Fe,{className:"text-right font-mono",children:y(M.prior_year_amount||0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:155,columnNumber:17},this),t.jsxDEV(Fe,{className:`text-right font-bold ${R>0?"text-green-600":R<0?"text-red-600":""}`,children:V(R)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:158,columnNumber:17},this),t.jsxDEV(Fe,{className:"max-w-xs truncate",children:M.explanation||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:161,columnNumber:17},this),t.jsxDEV(Fe,{children:Q&&t.jsxDEV(he,{variant:"destructive",children:[t.jsxDEV(Er,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:165,columnNumber:23},this),">"," 10%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:162,columnNumber:17},this)]},M.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:150,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:133,columnNumber:7},this);return a?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Analytical Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:182,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:181,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"h-96 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:185,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:180,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:197,columnNumber:15},this),"Analytical Procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:196,columnNumber:13},this),t.jsxDEV(Ke,{children:"Perform ratio, trend, and variance analysis per AU-C 520"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:195,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(he,{variant:"outline",children:"AU-C 520"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:203,columnNumber:13},this),t.jsxDEV(Pt,{open:n,onOpenChange:o,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:207,columnNumber:19},this),"Add Procedure"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:206,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:205,columnNumber:15},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Add Analytical Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:213,columnNumber:19},this),t.jsxDEV(Bt,{children:"Create a new analytical procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:214,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:212,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Procedure Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:218,columnNumber:21},this),t.jsxDEV(is,{value:l,onValueChange:d,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:221,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:220,columnNumber:23},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"ratio_analysis",children:"Ratio Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:224,columnNumber:25},this),t.jsxDEV(X,{value:"trend_analysis",children:"Trend Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:225,columnNumber:25},this),t.jsxDEV(X,{value:"variance_analysis",children:"Variance Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:226,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:223,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:219,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:217,columnNumber:19},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Account *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:231,columnNumber:21},this),t.jsxDEV(ve,{value:u,onChange:O=>c(O.target.value),placeholder:"e.g., Revenue, Gross Profit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:232,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:230,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Current Year Amount *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:240,columnNumber:23},this),t.jsxDEV(ve,{type:"number",value:b,onChange:O=>h(O.target.value),placeholder:"0.00"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:241,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:239,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Prior Year Amount"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:249,columnNumber:23},this),t.jsxDEV(ve,{type:"number",value:m,onChange:O=>f(O.target.value),placeholder:"0.00"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:250,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:248,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:238,columnNumber:19},this),m&&b&&t.jsxDEV("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxDEV("div",{className:"text-sm font-medium text-blue-900",children:"Calculated Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:260,columnNumber:23},this),t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:V(D(parseFloat(b),parseFloat(m)))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:261,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:259,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:["Explanation (Required if variance ",">","10%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:272,columnNumber:21},this),t.jsxDEV(Wt,{value:p,onChange:O=>N(O.target.value),placeholder:"Explain the variance...",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:273,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:271,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:216,columnNumber:17},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>o(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:282,columnNumber:19},this),t.jsxDEV(F,{onClick:w,disabled:i.isPending,children:"Create Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:285,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:281,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:194,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:193,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:299,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Total Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:298,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:297,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:(A==null?void 0:A.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:305,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Ratio Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:304,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:303,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(U==null?void 0:U.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:311,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Trend Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:312,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:310,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:309,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:W},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:317,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Significant Variances"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:318,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:316,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:315,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:296,columnNumber:9},this),W>0&&t.jsxDEV("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-amber-800 font-medium mb-1",children:[t.jsxDEV(Er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:327,columnNumber:15},this),W," Significant Variance",W>1?"s":""," Detected"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:326,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-amber-700",children:"Variances exceeding 10% require documentation and explanation. Please investigate and document the reasons for significant fluctuations."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:330,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:325,columnNumber:11},this),t.jsxDEV(Pr,{defaultValue:"ratio",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-3",children:[t.jsxDEV($e,{value:"ratio",children:["Ratio Analysis",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(A==null?void 0:A.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:340,columnNumber:13},this),t.jsxDEV($e,{value:"trend",children:["Trend Analysis",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(U==null?void 0:U.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:348,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:346,columnNumber:13},this),t.jsxDEV($e,{value:"variance",children:["Variance Analysis",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(E==null?void 0:E.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:354,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:352,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:339,columnNumber:11},this),t.jsxDEV(es,{value:"ratio",className:"mt-4",children:t.jsxDEV("div",{className:"border rounded-lg",children:S(A,"Ratio")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:361,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:360,columnNumber:11},this),t.jsxDEV(es,{value:"trend",className:"mt-4",children:t.jsxDEV("div",{className:"border rounded-lg",children:S(U,"Trend")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:365,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:364,columnNumber:11},this),t.jsxDEV(es,{value:"variance",className:"mt-4",children:t.jsxDEV("div",{className:"border rounded-lg",children:S(E,"Variance")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:369,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:368,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:338,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-blue-900 mb-3",children:"Common Financial Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:377,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-blue-800",children:"Liquidity Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:380,columnNumber:15},this),t.jsxDEV("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[t.jsxDEV("li",{children:"Current Ratio = Current Assets / Current Liabilities"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:382,columnNumber:17},this),t.jsxDEV("li",{children:"Quick Ratio = (Current Assets - Inventory) / Current Liabilities"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:383,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:381,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:379,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-blue-800",children:"Profitability Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:387,columnNumber:15},this),t.jsxDEV("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[t.jsxDEV("li",{children:"Gross Profit Margin = Gross Profit / Revenue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:389,columnNumber:17},this),t.jsxDEV("li",{children:"Net Profit Margin = Net Income / Revenue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:390,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:386,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-blue-800",children:"Efficiency Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:394,columnNumber:15},this),t.jsxDEV("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[t.jsxDEV("li",{children:"AR Turnover = Revenue / Average AR"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:396,columnNumber:17},this),t.jsxDEV("li",{children:"Inventory Turnover = COGS / Average Inventory"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:397,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:395,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:393,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-blue-800",children:"Leverage Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:401,columnNumber:15},this),t.jsxDEV("ul",{className:"text-xs text-blue-700 mt-1 space-y-1",children:[t.jsxDEV("li",{children:"Debt-to-Equity = Total Debt / Total Equity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:403,columnNumber:17},this),t.jsxDEV("li",{children:"Interest Coverage = EBIT / Interest Expense"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:404,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:400,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:378,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:376,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-purple-900 mb-2",children:"Analytical Procedures Guidelines"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:412,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-purple-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Use analytical procedures in planning, testing, and final review stages"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:414,columnNumber:13},this),t.jsxDEV("li",{children:"Investigate variances exceeding 10% threshold or predetermined tolerance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:415,columnNumber:13},this),t.jsxDEV("li",{children:"Document expectations and compare to actual results"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:416,columnNumber:13},this),t.jsxDEV("li",{children:"Consider industry benchmarks and economic conditions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:417,columnNumber:13},this),t.jsxDEV("li",{children:"Follow up on unusual trends or relationships"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:418,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:413,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:411,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:294,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/AnalyticalProcedures.tsx",lineNumber:192,columnNumber:5},this)}function Nte(){const s=Qt(),[e]=Pm(),r=e.get("engagementId");return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(r?`/engagements/${r}/audit`:"/workspace"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:29,columnNumber:11},this),r?"Back to Engagement":"Back to Workspace"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:23,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytical Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:36,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Perform ratio analysis, trend analysis, and variance analysis per AU-C 520"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:35,columnNumber:7},this),t.jsxDEV($4,{engagementId:r||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/audit-tools/AnalyticalProceduresPage.tsx",lineNumber:21,columnNumber:5},this)}const kte={create_user:["firm_administrator","partner"],assign_roles:["firm_administrator","partner"],deactivate_user:["firm_administrator","partner"],view_all_users:["firm_administrator","partner","practice_leader","engagement_manager"],create_client:["firm_administrator","partner","practice_leader","business_development"],edit_client:["firm_administrator","partner","practice_leader","business_development"],delete_client:["firm_administrator","partner"],manage_opportunities:["firm_administrator","partner","practice_leader","business_development"],create_engagement:["firm_administrator","partner","practice_leader","engagement_manager","business_development"],delete_engagement:["firm_administrator","partner"],assign_team:["firm_administrator","partner","practice_leader","engagement_manager"],view_all_engagements:["firm_administrator","partner","practice_leader","engagement_manager"],create_workpaper:["firm_administrator","partner","practice_leader","engagement_manager","senior_auditor","staff_auditor"],review_workpaper:["firm_administrator","partner","practice_leader","engagement_manager","senior_auditor"],delete_workpaper:["firm_administrator","partner","practice_leader","engagement_manager"],approve_workpaper:["firm_administrator","partner","practice_leader","engagement_manager"],create_finding:["firm_administrator","partner","practice_leader","engagement_manager","senior_auditor","staff_auditor"],delete_finding:["firm_administrator","partner","practice_leader","engagement_manager"],generate_report:["firm_administrator","partner","practice_leader","engagement_manager"],approve_report:["firm_administrator","partner"],deliver_report:["firm_administrator","partner"],approve_timesheet:["firm_administrator","partner","practice_leader","engagement_manager"],create_invoice:["firm_administrator","partner"],delete_invoice:["firm_administrator","partner"],view_billing:["firm_administrator","partner","practice_leader","engagement_manager"],view_firm_analytics:["firm_administrator","partner","practice_leader"],view_revenue_analytics:["firm_administrator","partner","practice_leader"],view_kpi_dashboard:["firm_administrator","partner","practice_leader"],view_profitability:["firm_administrator","partner","practice_leader","engagement_manager"],view_utilization:["firm_administrator","partner","practice_leader","engagement_manager"],manage_capacity:["firm_administrator","partner","practice_leader","engagement_manager"]},H4=()=>{const{user:s}=ar(),[e,r]=v.useState([]),[a,i]=v.useState(!0);v.useEffect(()=>{s?n():(r([]),i(!1))},[s]);const n=async()=>{if(s)try{const{data:h,error:m}=await le.from("user_roles").select("role").eq("user_id",s.id);m?(console.error("Error loading user roles:",m),r([])):r((h==null?void 0:h.map(f=>f.role))||[])}catch(h){console.error("Error in loadUserRoles:",h),r([])}finally{i(!1)}},o=(h,m)=>{const f=`${h}_${m}`,p=kte[f];return p?e.some(N=>p.includes(N)):(console.warn(`Permission not defined: ${f}`),!1)},l=h=>e.includes(h),d=h=>e.some(m=>h.includes(m));return{roles:e,isLoading:a,can:o,hasRole:l,hasAnyRole:d,hasAllRoles:h=>h.every(m=>e.includes(m)),isAdmin:()=>d(["firm_administrator","partner"]),isManager:()=>d(["firm_administrator","partner","practice_leader","engagement_manager"])}},Ag=()=>{const[s,e]=v.useState([]),[r,a]=v.useState(!0),{toast:i}=Hs(),n=async()=>{try{a(!0);const{data:u,error:c}=await le.from("engagement_templates").select("*").eq("is_active",!0).order("template_name",{ascending:!0});if(c)throw c;e(u||[])}catch(u){console.error("Error fetching templates:",u),i({title:"Error loading templates",description:u.message,variant:"destructive"})}finally{a(!1)}},o=async u=>{try{const{data:{user:c}}=await le.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:b}=await le.from("profiles").select("firm_id").eq("id",c.id).single();if(!b)throw new Error("Profile not found");const{data:h,error:m}=await le.from("engagement_templates").insert([{firm_id:b.firm_id,template_name:u.template_name||"",engagement_type:u.engagement_type||"",industry:u.industry,description:u.description,default_scope:u.default_scope||{},default_milestones:u.default_milestones||[],default_team_structure:u.default_team_structure||[],estimated_hours_by_role:u.estimated_hours_by_role||{},budget_range_min:u.budget_range_min,budget_range_max:u.budget_range_max,deliverables_checklist:u.deliverables_checklist,is_active:u.is_active??!0,is_default:u.is_default??!1,created_by:c.id}]).select().single();if(m)throw m;return i({title:"Template created",description:"The engagement template has been created successfully."}),await n(),h}catch(c){return console.error("Error creating template:",c),i({title:"Error creating template",description:c.message,variant:"destructive"}),null}},l=async(u,c)=>{try{const{error:b}=await le.from("engagement_templates").update(c).eq("id",u);if(b)throw b;i({title:"Template updated",description:"The engagement template has been updated successfully."}),await n()}catch(b){console.error("Error updating template:",b),i({title:"Error updating template",description:b.message,variant:"destructive"})}},d=async u=>{try{const{error:c}=await le.from("engagement_templates").update({is_active:!1}).eq("id",u);if(c)throw c;i({title:"Template deleted",description:"The engagement template has been deactivated."}),await n()}catch(c){console.error("Error deleting template:",c),i({title:"Error deleting template",description:c.message,variant:"destructive"})}};return v.useEffect(()=>{n()},[]),{templates:s,loading:r,createTemplate:o,updateTemplate:l,deleteTemplate:d,refetch:n}};function gte({onSelectTemplate:s,onSkip:e}){const{templates:r,loading:a}=Ag();if(a)return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold",children:"Choose a Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:22,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Start with a template or create from scratch"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:23,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:21,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((l,d)=>t.jsxDEV(Xs,{className:"h-48"},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:29,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:20,columnNumber:7},this);const i=r.filter(l=>l.is_default),n=r.filter(l=>!l.is_default),o=({template:l})=>{var u;const d=Object.values(l.estimated_hours_by_role||{}).reduce((c,b)=>c+(b||0),0);return t.jsxDEV(B,{className:"hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>s(l),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(ue,{className:"flex items-center gap-2 text-lg group-hover:text-primary transition-colors",children:[l.template_name,l.is_default&&t.jsxDEV(dN,{className:"h-4 w-4 fill-primary text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:56,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:53,columnNumber:15},this),t.jsxDEV(Ke,{className:"mt-1",children:l.description||"No description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:59,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:52,columnNumber:13},this),t.jsxDEV("div",{className:"flex-shrink-0",children:t.jsxDEV(Cd,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:64,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:51,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:50,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(he,{variant:"secondary",children:l.engagement_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:70,columnNumber:13},this),l.industry&&t.jsxDEV(he,{variant:"outline",children:l.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:71,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:69,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-1 text-sm text-muted-foreground",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV(dt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:76,columnNumber:15},this),d," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:75,columnNumber:13},this),((u=l.default_team_structure)==null?void 0:u.length)>0&&t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV(er,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:81,columnNumber:17},this),l.default_team_structure.length," roles"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:80,columnNumber:15},this),(l.budget_range_min||l.budget_range_max)&&t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV(fo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:87,columnNumber:17},this),l.budget_range_min&&l.budget_range_max?`$${l.budget_range_min.toLocaleString()} - $${l.budget_range_max.toLocaleString()}`:l.budget_range_min?`From $${l.budget_range_min.toLocaleString()}`:`Up to $${l.budget_range_max.toLocaleString()}`]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:86,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:46,columnNumber:7},this)};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold",children:"Choose a Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:104,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Start with a template to pre-fill engagement details, or create from scratch"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:103,columnNumber:7},this),t.jsxDEV(Wa,{className:"h-[500px]",children:t.jsxDEV("div",{className:"space-y-6 pr-4",children:[i.length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dN,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:116,columnNumber:17},this),t.jsxDEV("h3",{className:"font-semibold",children:"Recommended Templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:115,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(l=>t.jsxDEV(o,{template:l},l.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:121,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:119,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:114,columnNumber:13},this),n.length>0&&t.jsxDEV(t.Fragment,{children:[i.length>0&&t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:130,columnNumber:47},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h3",{className:"font-semibold",children:"All Templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:132,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(l=>t.jsxDEV(o,{template:l},l.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:135,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:133,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:129,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:144,columnNumber:13},this),t.jsxDEV(B,{className:"hover:shadow-md transition-shadow cursor-pointer border-dashed",onClick:e,children:t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"text-lg",children:"Start from Scratch"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:150,columnNumber:17},this),t.jsxDEV(Ke,{children:"Create a custom engagement without using a template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:149,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:111,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:110,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTemplate.tsx",lineNumber:102,columnNumber:5},this)}const G4=s=>bs({queryKey:["clients",s],queryFn:async()=>{let e=le.from("clients").select("*").order("client_name");const{data:r,error:a}=await e;if(a)throw a;return r}}),xte=({formData:s,updateFormData:e})=>{const{data:r=[],isLoading:a}=G4(),i=["SOC 2 Type II","Financial Audit","Internal Audit","IT Audit","Operational Audit","Compliance Audit","Risk Assessment"];return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"client",children:"Client *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:28,columnNumber:9},void 0),t.jsxDEV(is,{value:s.client_id,onValueChange:n=>e({client_id:n}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:30,columnNumber:11},void 0),t.jsxDEV(as,{children:r.map(n=>t.jsxDEV(X,{value:n.id,children:n.client_name},n.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:35,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:27,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"engagement_type",children:"Engagement Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:44,columnNumber:9},void 0),t.jsxDEV(is,{value:s.engagement_type,onValueChange:n=>e({engagement_type:n}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select engagement type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:47,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:46,columnNumber:11},void 0),t.jsxDEV(as,{children:i.map(n=>t.jsxDEV(X,{value:n,children:n},n,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:51,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:49,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:45,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:43,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"audit_title",children:"Engagement Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:60,columnNumber:9},void 0),t.jsxDEV(ve,{id:"audit_title",placeholder:"e.g., FY2024 SOC 2 Type II Audit",value:s.audit_title,onChange:n=>e({audit_title:n.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:59,columnNumber:7},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"period_start",children:"Period Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:71,columnNumber:11},void 0),t.jsxDEV(ve,{id:"period_start",type:"date",value:s.period_start,onChange:n=>e({period_start:n.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:70,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"period_end",children:"Period End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:80,columnNumber:11},void 0),t.jsxDEV(ve,{id:"period_end",type:"date",value:s.period_end,onChange:n=>e({period_end:n.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:81,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepClient.tsx",lineNumber:26,columnNumber:5},void 0)},vte=({formData:s,updateFormData:e})=>{const[r,a]=v.useState(""),[i,n]=v.useState(""),o=()=>{r.trim()&&(e({objectives:[...s.objectives||[],r.trim()]}),a(""))},l=c=>{e({objectives:s.objectives.filter((b,h)=>h!==c)})},d=()=>{i.trim()&&(e({key_risks:[...s.key_risks||[],i.trim()]}),n(""))},u=c=>{e({key_risks:s.key_risks.filter((b,h)=>h!==c)})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Objectives"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:51,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{placeholder:"Add an objective...",value:r,onChange:c=>a(c.target.value),onKeyPress:c=>c.key==="Enter"&&o()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:53,columnNumber:11},void 0),t.jsxDEV(F,{type:"button",onClick:o,children:"Add"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:59,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:52,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:(s.objectives||[]).map((c,b)=>t.jsxDEV(he,{variant:"secondary",className:"gap-2",children:[c,t.jsxDEV("button",{onClick:()=>l(b),children:t.jsxDEV(qn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:65,columnNumber:15},void 0)]},b,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:63,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:50,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"scope_boundaries",children:"Scope Boundaries"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:74,columnNumber:9},void 0),t.jsxDEV(Wt,{id:"scope_boundaries",placeholder:"What is included in this engagement...",value:s.scope_boundaries,onChange:c=>e({scope_boundaries:c.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:73,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"exclusions",children:"Exclusions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:85,columnNumber:9},void 0),t.jsxDEV(Wt,{id:"exclusions",placeholder:"What is NOT included in this engagement...",value:s.exclusions,onChange:c=>e({exclusions:c.target.value}),rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:86,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:84,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Key Risk Areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:96,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{placeholder:"Add a risk area...",value:i,onChange:c=>n(c.target.value),onKeyPress:c=>c.key==="Enter"&&d()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:98,columnNumber:11},void 0),t.jsxDEV(F,{type:"button",onClick:d,children:"Add"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:97,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-2",children:(s.key_risks||[]).map((c,b)=>t.jsxDEV(he,{variant:"secondary",className:"gap-2",children:[c,t.jsxDEV("button",{onClick:()=>u(b),children:t.jsxDEV(qn,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:111,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:110,columnNumber:15},void 0)]},b,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:108,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:106,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:95,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"materiality_threshold",children:"Materiality Threshold"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:119,columnNumber:9},void 0),t.jsxDEV(ve,{id:"materiality_threshold",type:"number",placeholder:"0",value:s.materiality_threshold,onChange:c=>e({materiality_threshold:parseFloat(c.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:120,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:118,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepScope.tsx",lineNumber:49,columnNumber:5},void 0)},Dte=({formData:s,updateFormData:e})=>{var r;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"pricing_model",children:"Pricing Model *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:15,columnNumber:9},void 0),t.jsxDEV(is,{value:s.pricing_model,onValueChange:a=>e({pricing_model:a}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select pricing model"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:18,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:17,columnNumber:11},void 0),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"fixed_fee",children:"Fixed Fee"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:21,columnNumber:13},void 0),t.jsxDEV(X,{value:"time_and_materials",children:"Time & Materials"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:22,columnNumber:13},void 0),t.jsxDEV(X,{value:"blended_rate",children:"Blended Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:23,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:20,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:16,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:14,columnNumber:7},void 0),s.pricing_model==="blended_rate"&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"blended_rate",children:"Blended Rate ($/hour)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:30,columnNumber:11},void 0),t.jsxDEV(ve,{id:"blended_rate",type:"number",placeholder:"150",value:s.blended_rate,onChange:a=>e({blended_rate:parseFloat(a.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:31,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:29,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"budget_allocated",children:"Total Budget ($) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:42,columnNumber:9},void 0),t.jsxDEV(ve,{id:"budget_allocated",type:"number",placeholder:"50000",value:s.budget_allocated,onChange:a=>e({budget_allocated:parseFloat(a.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:43,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:41,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"hours_allocated",children:"Estimated Hours *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:53,columnNumber:9},void 0),t.jsxDEV(ve,{id:"hours_allocated",type:"number",placeholder:"300",value:s.hours_allocated,onChange:a=>e({hours_allocated:parseInt(a.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:54,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:52,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"contingency_percentage",children:"Contingency (%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:64,columnNumber:9},void 0),t.jsxDEV(ve,{id:"contingency_percentage",type:"number",placeholder:"10",value:s.contingency_percentage,onChange:a=>e({contingency_percentage:parseFloat(a.target.value)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:65,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:63,columnNumber:7},void 0),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Base Budget:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:78,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:["$",((r=s.budget_allocated)==null?void 0:r.toLocaleString())||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:79,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:77,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:["Contingency (",s.contingency_percentage||0,"%):"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:82,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:["$",((s.budget_allocated||0)*(s.contingency_percentage||0)/100).toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:83,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:81,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex justify-between font-bold pt-2 border-t",children:[t.jsxDEV("span",{children:"Total with Contingency:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:88,columnNumber:15},void 0),t.jsxDEV("span",{children:["$",((s.budget_allocated||0)*(1+(s.contingency_percentage||0)/100)).toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:76,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:75,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:74,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepBudget.tsx",lineNumber:13,columnNumber:5},void 0)},wte=({formData:s,updateFormData:e})=>{const[r,a]=v.useState({user_id:"",role:"",allocated_hours:0,start_date:"",end_date:""}),i=[{id:"1",name:"John Smith",title:"Senior Auditor"},{id:"2",name:"Sarah Johnson",title:"Auditor"},{id:"3",name:"Mike Chen",title:"Senior Auditor"}],n=["Lead","Manager","Senior","Staff","Specialist"],o=()=>{r.user_id&&r.role&&r.allocated_hours>0&&(e({team_members:[...s.team_members||[],{...r}]}),a({user_id:"",role:"",allocated_hours:0,start_date:"",end_date:""}))},l=d=>{e({team_members:s.team_members.filter((u,c)=>c!==d)})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6 space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Team Member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:58,columnNumber:13},void 0),t.jsxDEV(is,{value:r.user_id,onValueChange:d=>a({...r,user_id:d}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select team member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:61,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:60,columnNumber:15},void 0),t.jsxDEV(as,{children:i.map(d=>t.jsxDEV(X,{value:d.id,children:[d.name," - ",d.title]},d.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:65,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:63,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:59,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:57,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Role on Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:75,columnNumber:15},void 0),t.jsxDEV(is,{value:r.role,onValueChange:d=>a({...r,role:d}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:78,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:77,columnNumber:17},void 0),t.jsxDEV(as,{children:n.map(d=>t.jsxDEV(X,{value:d,children:d},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:82,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:76,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:74,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Allocated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:91,columnNumber:15},void 0),t.jsxDEV(ve,{type:"number",placeholder:"80",value:r.allocated_hours||"",onChange:d=>a({...r,allocated_hours:parseInt(d.target.value)||0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:73,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:103,columnNumber:15},void 0),t.jsxDEV(ve,{type:"date",value:r.start_date,onChange:d=>a({...r,start_date:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:102,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"End Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:112,columnNumber:15},void 0),t.jsxDEV(ve,{type:"date",value:r.end_date,onChange:d=>a({...r,end_date:d.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:113,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:101,columnNumber:11},void 0),t.jsxDEV(F,{type:"button",onClick:o,className:"w-full",children:"Add Team Member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:56,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:55,columnNumber:7},void 0),(s.team_members||[]).length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(H,{children:"Assigned Team Members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:129,columnNumber:11},void 0),s.team_members.map((d,u)=>{const c=i.find(b=>b.id===d.user_id);return t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"font-medium",children:c==null?void 0:c.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:137,columnNumber:23},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[d.role,"  ",d.allocated_hours,"h allocated"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:138,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:136,columnNumber:21},void 0),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>l(u),children:t.jsxDEV(Tn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:147,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:142,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:135,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:134,columnNumber:17},void 0)},u,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:133,columnNumber:15},void 0)})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepTeam.tsx",lineNumber:54,columnNumber:5},void 0)},jte=({formData:s,updateFormData:e})=>{const[r,a]=v.useState({name:"",type:"",date:"",is_critical:!1}),i=["kickoff","fieldwork_start","interim_review","fieldwork_complete","draft_report","final_report","client_acceptance"],n=()=>{r.name&&r.type&&r.date&&(e({milestones:[...s.milestones||[],{...r}]}),a({name:"",type:"",date:"",is_critical:!1}))},o=l=>{e({milestones:s.milestones.filter((d,u)=>u!==l)})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"planned_start_date",children:"Planned Start Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:57,columnNumber:11},void 0),t.jsxDEV(ve,{id:"planned_start_date",type:"date",value:s.planned_start_date,onChange:l=>e({planned_start_date:l.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:56,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"planned_end_date",children:"Planned End Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:67,columnNumber:11},void 0),t.jsxDEV(ve,{id:"planned_end_date",type:"date",value:s.planned_end_date,onChange:l=>e({planned_end_date:l.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:66,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:55,columnNumber:7},void 0),t.jsxDEV("div",{className:"border-t pt-6",children:[t.jsxDEV(H,{className:"text-lg",children:"Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:78,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Define key dates and deliverables for this engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:79,columnNumber:9},void 0),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6 space-y-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Milestone Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:86,columnNumber:15},void 0),t.jsxDEV(ve,{placeholder:"e.g., Kickoff Meeting",value:r.name,onChange:l=>a({...r,name:l.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:87,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:85,columnNumber:13},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:96,columnNumber:17},void 0),t.jsxDEV(is,{value:r.type,onValueChange:l=>a({...r,type:l}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:99,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:98,columnNumber:19},void 0),t.jsxDEV(as,{children:i.map(l=>t.jsxDEV(X,{value:l,children:l.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase())},l,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:103,columnNumber:23},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:101,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:95,columnNumber:15},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:112,columnNumber:17},void 0),t.jsxDEV(ve,{type:"date",value:r.date,onChange:l=>a({...r,date:l.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:111,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:94,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{id:"is_critical",checked:r.is_critical,onCheckedChange:l=>a({...r,is_critical:l})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:122,columnNumber:15},void 0),t.jsxDEV(H,{htmlFor:"is_critical",className:"text-sm font-normal cursor-pointer",children:"This is a critical milestone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:121,columnNumber:13},void 0),t.jsxDEV(F,{type:"button",onClick:n,className:"w-full",children:"Add Milestone"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:84,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:83,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:77,columnNumber:7},void 0),(s.milestones||[]).length>0&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV(H,{children:"Planned Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:141,columnNumber:11},void 0),s.milestones.map((l,d)=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"font-medium",children:l.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:147,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[l.type.replace(/_/g," "),"  ",new Date(l.date).toLocaleDateString(),l.is_critical&&"  Critical"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:148,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:146,columnNumber:19},void 0),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>o(d),children:t.jsxDEV(Tn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:158,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:153,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:145,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:144,columnNumber:15},void 0)},d,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:143,columnNumber:13},void 0))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepSchedule.tsx",lineNumber:54,columnNumber:5},void 0)},Ate=({formData:s})=>{var e,r,a,i,n;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Engagement Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:13,columnNumber:9},void 0),t.jsxDEV(q,{className:"space-y-4",children:t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Engagement Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:19,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.audit_title||"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:20,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:18,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:23,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.engagement_type||"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:24,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:22,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Period"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:27,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.period_start&&s.period_end?`${new Date(s.period_start).toLocaleDateString()} - ${new Date(s.period_end).toLocaleDateString()}`:"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:28,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:26,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Schedule"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:35,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.planned_start_date&&s.planned_end_date?`${new Date(s.planned_start_date).toLocaleDateString()} - ${new Date(s.planned_end_date).toLocaleDateString()}`:"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:36,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:34,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:17,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:16,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:12,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Scope"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:48,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:47,columnNumber:9},void 0),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Objectives"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:52,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[(s.objectives||[]).map((o,l)=>t.jsxDEV(he,{variant:"secondary",children:o},l,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:55,columnNumber:17},void 0)),((e=s.objectives)==null?void 0:e.length)===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No objectives defined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:53,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:51,columnNumber:11},void 0),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:65,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Key Risk Areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:68,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[(s.key_risks||[]).map((o,l)=>t.jsxDEV(he,{variant:"secondary",children:o},l,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:71,columnNumber:17},void 0)),((r=s.key_risks)==null?void 0:r.length)===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No risks defined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:76,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:69,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:67,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:46,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Budget & Resources"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:85,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:84,columnNumber:9},void 0),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Pricing Model"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:90,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium capitalize",children:((a=s.pricing_model)==null?void 0:a.replace(/_/g," "))||"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:91,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:89,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:96,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:["$",((i=s.budget_allocated)==null?void 0:i.toLocaleString())||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:97,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:95,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Estimated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:102,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:[s.hours_allocated||0,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:88,columnNumber:11},void 0),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:107,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Team Members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:110,columnNumber:13},void 0),t.jsxDEV("p",{className:"font-medium",children:[((n=s.team_members)==null?void 0:n.length)||0," assigned"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:109,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:87,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:83,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:120,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:119,columnNumber:9},void 0),t.jsxDEV(q,{children:(s.milestones||[]).length>0?t.jsxDEV("div",{className:"space-y-2",children:s.milestones.map((o,l)=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:o.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:128,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:o.type.replace(/_/g," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:129,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:127,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm font-medium",children:new Date(o.date).toLocaleDateString()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:133,columnNumber:19},void 0)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:126,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:124,columnNumber:13},void 0):t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No milestones defined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:140,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:122,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:118,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/wizard/WizardStepReview.tsx",lineNumber:11,columnNumber:5},void 0)},jb=[{id:"template",name:"Template"},{id:"client",name:"Client & Type"},{id:"scope",name:"Scope"},{id:"budget",name:"Budget & Pricing"},{id:"team",name:"Team"},{id:"schedule",name:"Schedule"},{id:"review",name:"Review"}],Ete=({open:s,onOpenChange:e,prefilledData:r})=>{var D;const[a,i]=v.useState(0),[n,o]=v.useState(null),[l,d]=v.useState({...r,client_id:(r==null?void 0:r.client_id)||"",engagement_type:(r==null?void 0:r.audit_type)||"",audit_title:(r==null?void 0:r.audit_title)||"",period_start:"",period_end:"",objectives:[],scope_boundaries:"",exclusions:"",key_risks:[],materiality_threshold:0,pricing_model:"fixed_fee",blended_rate:0,budget_allocated:0,hours_allocated:0,contingency_percentage:10,team_members:[],planned_start_date:"",planned_end_date:"",milestones:[]}),u=Qt(),{toast:c}=Hs(),b=()=>{i(w=>Math.min(w+1,jb.length-1))},h=()=>{i(w=>Math.max(0,w-1))},m=w=>{o(w),d(A=>{var U,E,W;return{...A,engagement_type:w.engagement_type,budget_allocated:w.budget_range_min,objectives:((U=w.default_scope)==null?void 0:U.objectives)||[],scope_boundaries:((E=w.default_scope)==null?void 0:E.scope_boundaries)||"",milestones:w.default_milestones||[],team_members:((W=w.default_team_structure)==null?void 0:W.map(y=>({role:y.role,required_count:y.required_count})))||[]}}),b()},f=()=>{o(null),b()},p=async()=>{try{const{data:{user:w}}=await le.auth.getUser();if(!w)throw new Error("Not authenticated");const{data:A}=await le.from("profiles").select("firm_id").eq("id",w.id).single();if(!A)throw new Error("Profile not found");const{count:U}=await le.from("audits").select("*",{count:"exact",head:!0}).eq("firm_id",A.firm_id),E=`ENG-${new Date().getFullYear()}-${String((U||0)+1).padStart(4,"0")}`,{data:W,error:y}=await le.from("audits").insert({firm_id:A.firm_id,audit_number:E,audit_title:l.audit_title,audit_type:l.engagement_type,client_id:l.client_id,planned_start_date:l.planned_start_date,planned_end_date:l.planned_end_date,budget_allocated:l.budget_allocated,hours_allocated:l.hours_allocated,pricing_model:l.pricing_model,blended_rate:l.blended_rate,contingency_percentage:l.contingency_percentage,workflow_status:"draft",status:"planned",created_by:w.id}).select().single();if(y)throw y;await le.from("engagement_scope").insert({engagement_id:W.id,firm_id:A.firm_id,objectives:l.objectives,scope_boundaries:l.scope_boundaries,exclusions:l.exclusions,key_risks:l.key_risks,materiality_threshold:l.materiality_threshold,created_by:w.id}),l.team_members.length>0&&await le.from("audit_team_members").insert(l.team_members.map(V=>({audit_id:W.id,user_id:V.user_id,role:V.role,allocated_hours:V.allocated_hours,start_date:V.start_date,end_date:V.end_date}))),l.milestones.length>0&&await le.from("engagement_milestones").insert(l.milestones.map(V=>({engagement_id:W.id,firm_id:A.firm_id,milestone_name:V.name,milestone_type:V.type,planned_date:V.date,is_critical:V.is_critical||!1,created_by:w.id}))),c({title:"Engagement created",description:`${l.audit_title} has been created successfully.`}),e(!1),u(`/engagements/${W.id}`)}catch(w){console.error("Error creating engagement:",w),c({title:"Error creating engagement",description:w.message,variant:"destructive"})}},N=w=>{d({...l,...w})},g=(a+1)/jb.length*100;return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create New Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:213,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-2 pt-4",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:["Step ",a+1," of ",jb.length]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:216,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:(D=jb[a])==null?void 0:D.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:219,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:215,columnNumber:13},void 0),t.jsxDEV(cr,{value:g,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:221,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:214,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:212,columnNumber:9},void 0),t.jsxDEV("div",{className:"py-6",children:[a===0&&t.jsxDEV(gte,{onSelectTemplate:m,onSkip:f},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:227,columnNumber:13},void 0),a===1&&t.jsxDEV(xte,{formData:l,updateFormData:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:232,columnNumber:33},void 0),a===2&&t.jsxDEV(vte,{formData:l,updateFormData:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:233,columnNumber:33},void 0),a===3&&t.jsxDEV(Dte,{formData:l,updateFormData:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:234,columnNumber:33},void 0),a===4&&t.jsxDEV(wte,{formData:l,updateFormData:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:235,columnNumber:33},void 0),a===5&&t.jsxDEV(jte,{formData:l,updateFormData:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:236,columnNumber:33},void 0),a===6&&t.jsxDEV(Ate,{formData:l},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:237,columnNumber:33},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:225,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex justify-between pt-4 border-t",children:[t.jsxDEV(F,{variant:"outline",onClick:h,disabled:a===0,children:[t.jsxDEV(Sk,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:246,columnNumber:13},void 0),"Back"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:241,columnNumber:11},void 0),a!==0&&(a<jb.length-1?t.jsxDEV(F,{onClick:b,children:["Next",t.jsxDEV(Cd,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:252,columnNumber:15},void 0):t.jsxDEV(F,{onClick:p,children:"Create Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:257,columnNumber:15},void 0))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:240,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:211,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementWizard.tsx",lineNumber:210,columnNumber:5},void 0)};function Pte(){const s=Qt(),{can:e}=H4(),[r,a]=v.useState(!1),[i,n]=v.useState("grid"),[o,l]=v.useState(""),[d,u]=v.useState("all"),[c,b]=v.useState("all"),[h,m]=v.useState("none"),{data:f,isLoading:p}=bs({queryKey:["engagements"],queryFn:async()=>{const{data:E,error:W}=await le.from("audits").select(`
          *,
          client:clients(id, client_name),
          lead_auditor:profiles!audits_lead_auditor_id_fkey(id, first_name, last_name),
          manager:profiles!audits_manager_id_fkey(id, first_name, last_name)
        `).order("created_at",{ascending:!1});if(W)throw W;return E==null?void 0:E.map(V=>{const S=Array.isArray(V.lead_auditor)?V.lead_auditor[0]:V.lead_auditor,O=Array.isArray(V.manager)?V.manager[0]:V.manager;return{...V,lead_auditor:S?{...S,full_name:`${S.first_name||""} ${S.last_name||""}`.trim()}:null,manager:O?{...O,full_name:`${O.first_name||""} ${O.last_name||""}`.trim()}:null}})}}),N=f==null?void 0:f.filter(E=>{var S,O;const W=E.audit_title.toLowerCase().includes(o.toLowerCase())||E.audit_number.toLowerCase().includes(o.toLowerCase())||((O=(S=E.client)==null?void 0:S.client_name)==null?void 0:O.toLowerCase().includes(o.toLowerCase())),y=d==="all"||E.workflow_status===d,V=c==="all"||E.audit_type===c;return W&&y&&V}),g=()=>N?h==="none"?{"All Engagements":N}:N.reduce((E,W)=>{var V,S;let y="Unassigned";return h==="client"?y=((V=W.client)==null?void 0:V.client_name)||"No Client":h==="status"?y=W.workflow_status||"draft":h==="manager"&&(y=((S=W.manager)==null?void 0:S.full_name)||"Unassigned"),E[y]||(E[y]=[]),E[y].push(W),E},{}):{},D=E=>({draft:"bg-slate-500",pipeline:"bg-blue-500",proposal:"bg-purple-500",pending_approval:"bg-yellow-500",approved:"bg-green-500",planned:"bg-cyan-500",active:"bg-emerald-500",fieldwork:"bg-orange-500",reporting:"bg-pink-500",complete:"bg-gray-500",archived:"bg-gray-400"})[E]||"bg-slate-500",w=({engagement:E})=>{var W;return t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s(`/engagements/${E.id}`),children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(ue,{className:"text-lg",children:E.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV(Ke,{className:"mt-1",children:[E.audit_number,"  ",((W=E.client)==null?void 0:W.client_name)||"No Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:136,columnNumber:11},this),t.jsxDEV(he,{className:D(E.workflow_status||"draft"),children:(E.workflow_status||"draft").replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:135,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:134,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:149,columnNumber:11},this),t.jsxDEV(he,{variant:"outline",children:E.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:148,columnNumber:9},this),E.manager&&t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:155,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:E.manager.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:154,columnNumber:11},this),E.planned_start_date&&t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV("span",{children:Ds(new Date(E.planned_start_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:161,columnNumber:11},this),E.budget_allocated&&t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:169,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:["$",E.budget_allocated.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:147,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:130,columnNumber:5},this)},A=({engagement:E})=>{var W,y;return t.jsxDEV("tr",{className:"hover:bg-muted/50 cursor-pointer border-b",onClick:()=>s(`/engagements/${E.id}`),children:[t.jsxDEV("td",{className:"py-3 px-4",children:[t.jsxDEV("div",{className:"font-medium",children:E.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:183,columnNumber:9},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:E.audit_number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:182,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4",children:((W=E.client)==null?void 0:W.client_name)||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:186,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4",children:t.jsxDEV(he,{variant:"outline",children:E.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:187,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4",children:t.jsxDEV(he,{className:D(E.workflow_status||"draft"),children:(E.workflow_status||"draft").replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:191,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:190,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4",children:((y=E.manager)==null?void 0:y.full_name)||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:195,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4",children:E.planned_start_date?Ds(new Date(E.planned_start_date),"MMM d, yyyy"):"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:196,columnNumber:7},this),t.jsxDEV("td",{className:"py-3 px-4 text-right font-medium",children:E.budget_allocated?`$${E.budget_allocated.toLocaleString()}`:"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:201,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:178,columnNumber:5},this)},U=g();return t.jsxDEV("div",{className:"container mx-auto py-8 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:214,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Manage all client engagements and projects"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:213,columnNumber:9},this),e("create","engagement")&&t.jsxDEV(F,{onClick:()=>a(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:221,columnNumber:13},this),"New Engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:220,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:212,columnNumber:7},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxDEV("div",{className:"flex-1 relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:230,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search engagements...",value:o,onChange:E=>l(E.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:231,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:229,columnNumber:9},this),t.jsxDEV(is,{value:d,onValueChange:u,children:[t.jsxDEV(rs,{className:"w-[180px]",children:[t.jsxDEV(dh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:241,columnNumber:13},this),t.jsxDEV(ns,{placeholder:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:242,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:240,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Statuses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:245,columnNumber:13},this),t.jsxDEV(X,{value:"draft",children:"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:246,columnNumber:13},this),t.jsxDEV(X,{value:"pipeline",children:"Pipeline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:247,columnNumber:13},this),t.jsxDEV(X,{value:"proposal",children:"Proposal"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:248,columnNumber:13},this),t.jsxDEV(X,{value:"pending_approval",children:"Pending Approval"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:249,columnNumber:13},this),t.jsxDEV(X,{value:"approved",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:250,columnNumber:13},this),t.jsxDEV(X,{value:"planned",children:"Planned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:251,columnNumber:13},this),t.jsxDEV(X,{value:"active",children:"Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:252,columnNumber:13},this),t.jsxDEV(X,{value:"fieldwork",children:"Fieldwork"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:253,columnNumber:13},this),t.jsxDEV(X,{value:"reporting",children:"Reporting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:254,columnNumber:13},this),t.jsxDEV(X,{value:"complete",children:"Complete"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:255,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:244,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:239,columnNumber:9},this),t.jsxDEV(is,{value:c,onValueChange:b,children:[t.jsxDEV(rs,{className:"w-[180px]",children:[t.jsxDEV(dh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:261,columnNumber:13},this),t.jsxDEV(ns,{placeholder:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:262,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:260,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:265,columnNumber:13},this),t.jsxDEV(X,{value:"audit",children:"Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:266,columnNumber:13},this),t.jsxDEV(X,{value:"tax",children:"Tax"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:267,columnNumber:13},this),t.jsxDEV(X,{value:"advisory",children:"Advisory"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:268,columnNumber:13},this),t.jsxDEV(X,{value:"consulting",children:"Consulting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:269,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:259,columnNumber:9},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",children:["Group By",t.jsxDEV(Kh,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:277,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:275,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:274,columnNumber:11},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(fr,{onClick:()=>m("none"),children:"None"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:281,columnNumber:13},this),t.jsxDEV(fr,{onClick:()=>m("client"),children:"Client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:284,columnNumber:13},this),t.jsxDEV(fr,{onClick:()=>m("status"),children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:287,columnNumber:13},this),t.jsxDEV(fr,{onClick:()=>m("manager"),children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:290,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:273,columnNumber:9},this),t.jsxDEV(Pr,{value:i,onValueChange:E=>n(E),children:t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"grid",children:t.jsxDEV(aW,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:299,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:298,columnNumber:13},this),t.jsxDEV($e,{value:"table",children:t.jsxDEV(E6,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:302,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:301,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:297,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:296,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:228,columnNumber:7},this),p?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((E,W)=>t.jsxDEV(Xs,{className:"h-64"},W,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:312,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:310,columnNumber:9},this):(N==null?void 0:N.length)===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"No engagements found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:317,columnNumber:11},this),t.jsxDEV(F,{onClick:()=>a(!0),className:"mt-4",children:"Create Your First Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:318,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:316,columnNumber:9},this):t.jsxDEV("div",{className:"space-y-8",children:Object.entries(U).map(([E,W])=>t.jsxDEV("div",{className:"space-y-4",children:[h!=="none"&&t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("h2",{className:"text-xl font-semibold",children:E},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:328,columnNumber:19},this),t.jsxDEV(he,{variant:"secondary",children:W.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:329,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:327,columnNumber:17},this),i==="grid"?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(y=>t.jsxDEV(w,{engagement:y},y.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:336,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:334,columnNumber:17},this):t.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:t.jsxDEV("table",{className:"w-full",children:[t.jsxDEV("thead",{className:"bg-muted",children:t.jsxDEV("tr",{children:[t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:344,columnNumber:25},this),t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:345,columnNumber:25},this),t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:346,columnNumber:25},this),t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:347,columnNumber:25},this),t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:348,columnNumber:25},this),t.jsxDEV("th",{className:"text-left py-3 px-4 font-medium",children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:349,columnNumber:25},this),t.jsxDEV("th",{className:"text-right py-3 px-4 font-medium",children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:350,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:343,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:342,columnNumber:21},this),t.jsxDEV("tbody",{children:W.map(y=>t.jsxDEV(A,{engagement:y},y.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:355,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:353,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:341,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:340,columnNumber:17},this)]},E,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:325,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:323,columnNumber:9},this),t.jsxDEV(Ete,{open:r,onOpenChange:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:367,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementList.tsx",lineNumber:210,columnNumber:5},this)}function yte(s){return s.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function Ote(s){const e=s.split("/").filter(Boolean),r=[];r.push({label:"Home",path:"/",isCurrentPage:s==="/"});let a="";return e.forEach((i,n)=>{a+=`/${i}`;const o=n===e.length-1;/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(i)||r.push({label:yte(i),path:a,isCurrentPage:o})}),r}function Wte(){const s=W1(),e=Ote(s.pathname);return e.length<=1?null:t.jsxDEV("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-1 text-sm text-muted-foreground",children:e.map((r,a)=>t.jsxDEV(v.Fragment,{children:[a>0&&t.jsxDEV(Cd,{className:"h-4 w-4 mx-1 flex-shrink-0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:83,columnNumber:25},this),r.isCurrentPage?t.jsxDEV("span",{className:"font-medium text-foreground",children:r.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:85,columnNumber:13},this):t.jsxDEV(Ed,{to:r.path,className:Ce("hover:text-foreground transition-colors inline-flex items-center gap-1",a===0&&"flex items-center gap-1"),children:[a===0&&t.jsxDEV(rW,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:94,columnNumber:31},this),r.label]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:87,columnNumber:13},this)]},r.path,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:82,columnNumber:9},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/shared/Breadcrumbs.tsx",lineNumber:80,columnNumber:5},this)}function vd({children:s,breadcrumbs:e,title:r,description:a,actions:i}){return t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 md:p-8 space-y-6",children:[t.jsxDEV(Wte,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:33,columnNumber:9},this),(r||a||i)&&t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[r&&t.jsxDEV("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:40,columnNumber:17},this),a&&t.jsxDEV("p",{className:"text-muted-foreground",children:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:45,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:38,columnNumber:13},this),i&&t.jsxDEV("div",{className:"flex items-center gap-2",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:37,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-6",children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/layouts/AppLayout.tsx",lineNumber:30,columnNumber:5},this)}const Ute=({engagement:s})=>t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Engagement Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:16,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:15,columnNumber:9},void 0),t.jsxDEV(q,{className:"space-y-4",children:t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:21,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.audit_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:22,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:20,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:25,columnNumber:15},void 0),t.jsxDEV(he,{children:s.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:26,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:24,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:29,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.planned_start_date?new Date(s.planned_start_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:30,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:28,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"End Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:33,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-medium",children:s.planned_end_date?new Date(s.planned_end_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:34,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:32,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:19,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:18,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:14,columnNumber:7},void 0),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:40,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("h3",{className:"text-xl font-semibold",children:"Analytical Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:45,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Perform ratio analysis, trend analysis, and reasonableness tests per AU-C 520"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:44,columnNumber:9},void 0),t.jsxDEV($4,{engagementId:s.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:43,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementOverviewTab.tsx",lineNumber:13,columnNumber:5},void 0),Vte=s=>{const[e,r]=v.useState(null),[a,i]=v.useState(!0),{toast:n}=Hs(),o=async()=>{try{i(!0);const{data:u,error:c}=await le.from("engagement_scope").select("*").eq("engagement_id",s).order("version",{ascending:!1}).limit(1).maybeSingle();if(c)throw c;r(u)}catch(u){console.error("Error fetching scope:",u),n({title:"Error loading scope",description:u.message,variant:"destructive"})}finally{i(!1)}},l=async u=>{try{const{data:{user:c}}=await le.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:b}=await le.from("profiles").select("firm_id").eq("id",c.id).single();if(!b)throw new Error("Profile not found");const{data:h,error:m}=await le.from("engagement_scope").insert({...u,engagement_id:s,firm_id:b.firm_id,created_by:c.id,version:((e==null?void 0:e.version)||0)+1}).select().single();if(m)throw m;return n({title:"Scope saved",description:"The engagement scope has been saved successfully."}),await o(),h}catch(c){return console.error("Error saving scope:",c),n({title:"Error saving scope",description:c.message,variant:"destructive"}),null}},d=async()=>{try{if(!e)return;const{data:{user:u}}=await le.auth.getUser();if(!u)throw new Error("Not authenticated");const{error:c}=await le.from("engagement_scope").update({approved_by:u.id,approved_at:new Date().toISOString()}).eq("id",e.id);if(c)throw c;n({title:"Scope approved",description:"The engagement scope has been approved."}),await o()}catch(u){console.error("Error approving scope:",u),n({title:"Error approving scope",description:u.message,variant:"destructive"})}};return v.useEffect(()=>{s&&o()},[s]),{scope:e,loading:a,createOrUpdateScope:l,approveScope:d,refetch:o}},_te=({engagementId:s})=>{var a;const{scope:e,loading:r}=Vte(s);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Scope Definition"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:13,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:12,columnNumber:9},void 0),t.jsxDEV(q,{children:r?t.jsxDEV("p",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:16,columnNumber:22},void 0):e?t.jsxDEV("div",{className:"space-y-4",children:t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-2",children:"Objectives"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:19,columnNumber:17},void 0),t.jsxDEV("ul",{className:"list-disc list-inside",children:(a=e.objectives)==null?void 0:a.map((i,n)=>t.jsxDEV("li",{children:i},n,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:21,columnNumber:54},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:20,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:18,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:17,columnNumber:13},void 0):t.jsxDEV("p",{className:"text-muted-foreground",children:"No scope defined yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:25,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:15,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:11,columnNumber:7},void 0),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:29,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("h3",{className:"text-xl font-semibold",children:"Materiality Calculator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:34,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Calculate overall materiality, performance materiality, and clearly trivial thresholds per AU-C 320"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:35,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:33,columnNumber:9},void 0),t.jsxDEV(L4,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:39,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:32,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScopeTab.tsx",lineNumber:10,columnNumber:5},void 0)},Cte=({engagementId:s})=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Team Members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTeamTab.tsx",lineNumber:7,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTeamTab.tsx",lineNumber:6,columnNumber:7},void 0),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Team management coming soon"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTeamTab.tsx",lineNumber:10,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTeamTab.tsx",lineNumber:9,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTeamTab.tsx",lineNumber:5,columnNumber:5},void 0),Ste=s=>{const[e,r]=v.useState([]),[a,i]=v.useState(!0),{toast:n}=Hs(),o=async()=>{try{i(!0);const{data:c,error:b}=await le.from("engagement_milestones").select("*").eq("engagement_id",s).order("planned_date",{ascending:!0});if(b)throw b;r(c||[])}catch(c){console.error("Error fetching milestones:",c),n({title:"Error loading milestones",description:c.message,variant:"destructive"})}finally{i(!1)}},l=async c=>{try{const{data:{user:b}}=await le.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:h}=await le.from("profiles").select("firm_id").eq("id",b.id).single();if(!h)throw new Error("Profile not found");const{data:m,error:f}=await le.from("engagement_milestones").insert([{engagement_id:s,firm_id:h.firm_id,milestone_name:c.milestone_name||"",milestone_type:c.milestone_type||"",planned_date:c.planned_date||new Date().toISOString().split("T")[0],status:c.status||"pending",description:c.description,dependencies:c.dependencies,is_critical:c.is_critical||!1,created_by:b.id}]).select().single();if(f)throw f;return n({title:"Milestone created",description:"The milestone has been added successfully."}),await o(),m}catch(b){return console.error("Error creating milestone:",b),n({title:"Error creating milestone",description:b.message,variant:"destructive"}),null}},d=async(c,b)=>{try{const{error:h}=await le.from("engagement_milestones").update(b).eq("id",c);if(h)throw h;n({title:"Milestone updated",description:"The milestone has been updated successfully."}),await o()}catch(h){console.error("Error updating milestone:",h),n({title:"Error updating milestone",description:h.message,variant:"destructive"})}},u=async c=>{try{const{error:b}=await le.from("engagement_milestones").delete().eq("id",c);if(b)throw b;n({title:"Milestone deleted",description:"The milestone has been removed successfully."}),await o()}catch(b){console.error("Error deleting milestone:",b),n({title:"Error deleting milestone",description:b.message,variant:"destructive"})}};return v.useEffect(()=>{s&&o()},[s]),{milestones:e,loading:a,createMilestone:l,updateMilestone:d,deleteMilestone:u,refetch:o}},Tte=({engagementId:s})=>{const{milestones:e,loading:r}=Ste(s);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:10,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:9,columnNumber:7},void 0),t.jsxDEV(q,{children:r?t.jsxDEV("p",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:13,columnNumber:20},void 0):e.length>0?t.jsxDEV("div",{className:"space-y-2",children:e.map(a=>t.jsxDEV("div",{className:"p-3 border rounded",children:[t.jsxDEV("p",{className:"font-medium",children:a.milestone_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:17,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:new Date(a.planned_date).toLocaleDateString()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:18,columnNumber:17},void 0)]},a.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:16,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:14,columnNumber:11},void 0):t.jsxDEV("p",{className:"text-muted-foreground",children:"No milestones yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:22,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:12,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementMilestonesTab.tsx",lineNumber:8,columnNumber:5},void 0)},Rte=({engagement:s})=>{var l;const e=(s==null?void 0:s.budget_allocated)||0,r=(s==null?void 0:s.budget_spent)||0,a=(s==null?void 0:s.hours_allocated)||0,i=(s==null?void 0:s.hours_spent)||0,n=v.useMemo(()=>{const u={draft:5,pending_approval:10,approved:15,planning:25,fieldwork:60,reporting:85,review:95,complete:100}[s==null?void 0:s.workflow_status]||0,c=e>0?r/e*100:0,b=a>0?i/a*100:0,h=u>0?r/u*100:e,m=u>0?i/u*100:a,f=e-h,p=a-m,N=f>=0?"under":"over",g=p>=0?"under":"over";return{completionPercent:u,budgetPercent:c,hoursPercent:b,budgetAtCompletion:h,hoursAtCompletion:m,budgetVariance:f,hoursVariance:p,budgetStatus:N,hoursStatus:g}},[s,e,r,a,i]),o=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(d);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:77,columnNumber:11},void 0),"Budget Forecast"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:76,columnNumber:9},void 0),t.jsxDEV(Ke,{children:"Projected budget and hours at completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:75,columnNumber:7},void 0),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Engagement Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:88,columnNumber:13},void 0),t.jsxDEV("span",{className:"font-medium",children:[n.completionPercent,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:89,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:87,columnNumber:11},void 0),t.jsxDEV(cr,{value:n.completionPercent,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:91,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground capitalize",children:["Status: ",((l=s==null?void 0:s.workflow_status)==null?void 0:l.replace("_"," "))||"Draft"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:86,columnNumber:9},void 0),t.jsxDEV("div",{className:"p-4 border rounded-lg space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"font-medium",children:"Budget Forecast"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:100,columnNumber:13},void 0),t.jsxDEV(he,{variant:n.budgetStatus==="under"?"default":"destructive",children:n.budgetStatus==="under"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ks,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:103,columnNumber:19},void 0)," Under Budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:103,columnNumber:17},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Er,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:105,columnNumber:19},void 0)," Over Budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:105,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:101,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:99,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Allocated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:112,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-semibold text-lg",children:o(e)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:113,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:111,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Spent to Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:116,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-semibold text-lg",children:o(r)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:117,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:115,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Forecast at Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:120,columnNumber:15},void 0),t.jsxDEV("p",{className:`font-semibold text-lg ${n.budgetStatus==="over"?"text-red-600":"text-green-600"}`,children:o(n.budgetAtCompletion)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:121,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:119,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:126,columnNumber:15},void 0),t.jsxDEV("p",{className:`font-semibold text-lg flex items-center gap-1 ${n.budgetVariance>=0?"text-green-600":"text-red-600"}`,children:[n.budgetVariance>=0?t.jsxDEV(Pd,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:128,columnNumber:49},void 0):t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:128,columnNumber:88},void 0),o(Math.abs(n.budgetVariance))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:110,columnNumber:11},void 0),t.jsxDEV(cr,{value:Math.min(n.budgetPercent,100),className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:134,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground text-right",children:[n.budgetPercent.toFixed(1),"% of budget used"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:98,columnNumber:9},void 0),t.jsxDEV("div",{className:"p-4 border rounded-lg space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"font-medium",children:"Hours Forecast"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:143,columnNumber:13},void 0),t.jsxDEV(he,{variant:n.hoursStatus==="under"?"default":"destructive",children:n.hoursStatus==="under"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ks,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:146,columnNumber:19},void 0)," On Track"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:146,columnNumber:17},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Er,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:148,columnNumber:19},void 0)," Over Hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:148,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:142,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Allocated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:155,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-semibold text-lg",children:[a," hrs"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:156,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:154,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Logged to Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:159,columnNumber:15},void 0),t.jsxDEV("p",{className:"font-semibold text-lg",children:[i," hrs"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:160,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:158,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Forecast at Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:163,columnNumber:15},void 0),t.jsxDEV("p",{className:`font-semibold text-lg ${n.hoursStatus==="over"?"text-red-600":"text-green-600"}`,children:[n.hoursAtCompletion.toFixed(0)," hrs"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:164,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:162,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:169,columnNumber:15},void 0),t.jsxDEV("p",{className:`font-semibold text-lg flex items-center gap-1 ${n.hoursVariance>=0?"text-green-600":"text-red-600"}`,children:[n.hoursVariance>=0?t.jsxDEV(Pd,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:171,columnNumber:48},void 0):t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:171,columnNumber:87},void 0),Math.abs(n.hoursVariance).toFixed(0)," hrs"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:170,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:168,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:153,columnNumber:11},void 0),t.jsxDEV(cr,{value:Math.min(n.hoursPercent,100),className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:177,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground text-right",children:[n.hoursPercent.toFixed(1),"% of hours used"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:141,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:84,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BudgetForecastPanel.tsx",lineNumber:74,columnNumber:5},void 0)},Mte=({engagement:s})=>{const e=s.hours_spent||0,r=s.hours_allocated||0,a=s.budget_spent||0,i=s.budget_allocated||0,n=r>0?(e/r*100).toFixed(1):0,o=i>0?(a/i*100).toFixed(1):0;return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Hv,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:22,columnNumber:11},void 0),"Burn Rate Analysis"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:21,columnNumber:9},void 0),t.jsxDEV(Ke,{children:"Track budget and time consumption rates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:25,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:20,columnNumber:7},void 0),t.jsxDEV(q,{children:[t.jsxDEV(jr,{children:t.jsxDEV(Ar,{children:"Burn rate analysis component is under development. This feature will provide detailed burn rate metrics, trend analysis, and early warning indicators for budget overruns."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:30,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 space-y-4",children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Hours Burn Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:41,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:[n,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:42,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:40,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Budget Burn Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:45,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:[o,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:46,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:44,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:39,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:38,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:29,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/BurnRateAnalysis.tsx",lineNumber:19,columnNumber:5},void 0)},Lte=({engagement:s})=>{const e=(s.budget_allocated||0)-(s.budget_spent||0),r=(s.hours_allocated||0)-(s.hours_spent||0),a=s.budget_allocated>0?(e/s.budget_allocated*100).toFixed(1):0,i=s.hours_allocated>0?(r/s.hours_allocated*100).toFixed(1):0;return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ck,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:23,columnNumber:11},void 0),"Variance Analysis"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:22,columnNumber:9},void 0),t.jsxDEV(Ke,{children:"Compare actual vs. budgeted performance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:26,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:21,columnNumber:7},void 0),t.jsxDEV(q,{children:[t.jsxDEV(jr,{children:t.jsxDEV(Ar,{children:"Variance analysis dashboard is under development. This feature will provide detailed variance reporting, trend analysis, and actionable insights for budget management."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:31,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 space-y-4",children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"Budget Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:43,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["$",Math.abs(e).toLocaleString()," ",e>=0?"under budget":"over budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:44,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:42,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[e>=0?t.jsxDEV(da,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:50,columnNumber:19},void 0):t.jsxDEV(Pd,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:52,columnNumber:19},void 0),t.jsxDEV("span",{className:`font-medium ${e>=0?"text-green-500":"text-red-500"}`,children:[a,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:48,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:41,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"Hours Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:62,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[Math.abs(r).toLocaleString()," hours ",r>=0?"remaining":"over"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:63,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:61,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[r>=0?t.jsxDEV(da,{className:"h-5 w-5 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:69,columnNumber:19},void 0):t.jsxDEV(Pd,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:71,columnNumber:19},void 0),t.jsxDEV("span",{className:`font-medium ${r>=0?"text-green-500":"text-red-500"}`,children:[i,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:73,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:67,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:60,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:40,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:39,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:30,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/budget/VarianceAnalysisDashboard.tsx",lineNumber:20,columnNumber:5},void 0)},Ite=({engagement:s})=>{var e,r;return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Budget Allocated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:13,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:12,columnNumber:11},void 0),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:["$",((e=s.budget_allocated)==null?void 0:e.toLocaleString())||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:16,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[s.hours_allocated||0," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:15,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:11,columnNumber:9},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Actual Spent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:22,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:21,columnNumber:11},void 0),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:["$",((r=s.budget_spent)==null?void 0:r.toLocaleString())||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:25,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[s.hours_spent||0," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:26,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:24,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:20,columnNumber:9},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium",children:"Remaining"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:31,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:30,columnNumber:11},void 0),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:["$",((s.budget_allocated||0)-(s.budget_spent||0)).toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:34,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[(s.hours_allocated||0)-(s.hours_spent||0)," hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:10,columnNumber:7},void 0),t.jsxDEV(Pr,{defaultValue:"forecast",className:"space-y-4",children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"forecast",children:"Forecast"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:46,columnNumber:11},void 0),t.jsxDEV($e,{value:"burnrate",children:"Burn Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:47,columnNumber:11},void 0),t.jsxDEV($e,{value:"variance",children:"Variance Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:48,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:45,columnNumber:9},void 0),t.jsxDEV(es,{value:"forecast",children:t.jsxDEV(Rte,{engagement:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:52,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:51,columnNumber:9},void 0),t.jsxDEV(es,{value:"burnrate",children:t.jsxDEV(Mte,{engagement:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:56,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:55,columnNumber:9},void 0),t.jsxDEV(es,{value:"variance",children:t.jsxDEV(Lte,{engagement:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:60,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:44,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementBudgetTab.tsx",lineNumber:9,columnNumber:5},void 0)},Fte=({engagementId:s})=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Schedule"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScheduleTab.tsx",lineNumber:7,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScheduleTab.tsx",lineNumber:6,columnNumber:7},void 0),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-muted-foreground",children:"Gantt chart coming soon"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScheduleTab.tsx",lineNumber:10,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScheduleTab.tsx",lineNumber:9,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementScheduleTab.tsx",lineNumber:5,columnNumber:5},void 0),zte=s=>{const[e,r]=v.useState([]),[a,i]=v.useState(!0),{toast:n}=Hs(),o=async()=>{try{i(!0);const{data:c,error:b}=await le.from("engagement_change_orders").select("*").eq("engagement_id",s).order("created_at",{ascending:!1});if(b)throw b;r(c||[])}catch(c){console.error("Error fetching change orders:",c),n({title:"Error loading change orders",description:c.message,variant:"destructive"})}finally{i(!1)}},l=async c=>{try{const{data:{user:b}}=await le.auth.getUser();if(!b)throw new Error("Not authenticated");const{data:h}=await le.from("profiles").select("firm_id").eq("id",b.id).single();if(!h)throw new Error("Profile not found");const m=e.length+1,f=`CO-${s.substring(0,8).toUpperCase()}-${String(m).padStart(3,"0")}`,{data:p,error:N}=await le.from("engagement_change_orders").insert([{engagement_id:s,firm_id:h.firm_id,change_number:f,change_type:c.change_type||"",title:c.title||"",description:c.description||"",justification:c.justification,impact_hours:c.impact_hours,impact_budget:c.impact_budget,impact_timeline_days:c.impact_timeline_days,status:c.status||"draft",requested_by:b.id}]).select().single();if(N)throw N;return n({title:"Change order created",description:"The change order has been created successfully."}),await o(),p}catch(b){return console.error("Error creating change order:",b),n({title:"Error creating change order",description:b.message,variant:"destructive"}),null}},d=async c=>{try{const{data:{user:b}}=await le.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:h}=await le.from("engagement_change_orders").update({status:"approved",approved_by:b.id,approved_at:new Date().toISOString()}).eq("id",c);if(h)throw h;n({title:"Change order approved",description:"The change order has been approved."}),await o()}catch(b){console.error("Error approving change order:",b),n({title:"Error approving change order",description:b.message,variant:"destructive"})}},u=async(c,b)=>{try{const{error:h}=await le.from("engagement_change_orders").update({status:"rejected",rejection_reason:b}).eq("id",c);if(h)throw h;n({title:"Change order rejected",description:"The change order has been rejected."}),await o()}catch(h){console.error("Error rejecting change order:",h),n({title:"Error rejecting change order",description:h.message,variant:"destructive"})}};return v.useEffect(()=>{s&&o()},[s]),{changeOrders:e,loading:a,createChangeOrder:l,approveChangeOrder:d,rejectChangeOrder:u,refetch:o}},Bte=({engagementId:s})=>{const{changeOrders:e,loading:r}=zte(s);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Change Orders"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:10,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:9,columnNumber:7},void 0),t.jsxDEV(q,{children:r?t.jsxDEV("p",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:13,columnNumber:20},void 0):e.length>0?t.jsxDEV("div",{className:"space-y-2",children:e.map(a=>t.jsxDEV("div",{className:"p-3 border rounded",children:[t.jsxDEV("p",{className:"font-medium",children:a.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:17,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:18,columnNumber:17},void 0)]},a.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:16,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:14,columnNumber:11},void 0):t.jsxDEV("p",{className:"text-muted-foreground",children:"No change orders"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:22,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:12,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementChangeOrdersTab.tsx",lineNumber:8,columnNumber:5},void 0)},qte=s=>{const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["engagement-communications",s],queryFn:async()=>{const{data:d,error:u}=await le.from("engagement_communications").select("*").eq("engagement_id",s).order("communication_date",{ascending:!1});if(u)throw u;return d}}),n=Rs({mutationFn:async d=>{const{data:u}=await le.from("profiles").select("firm_id").single(),{data:c,error:b}=await le.from("engagement_communications").insert({...d,firm_id:u==null?void 0:u.firm_id}).select().single();if(b)throw b;return c},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-communications",s]}),e({title:"Communication logged successfully"})},onError:d=>{e({title:"Error logging communication",description:d.message,variant:"destructive"})}}),o=Rs({mutationFn:async({id:d,updates:u})=>{const{data:c,error:b}=await le.from("engagement_communications").update(u).eq("id",d).select().single();if(b)throw b;return c},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-communications",s]}),e({title:"Communication updated"})},onError:d=>{e({title:"Error updating communication",description:d.message,variant:"destructive"})}}),l=Rs({mutationFn:async d=>{const{error:u}=await le.from("engagement_communications").delete().eq("id",d);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-communications",s]}),e({title:"Communication deleted"})},onError:d=>{e({title:"Error deleting communication",description:d.message,variant:"destructive"})}});return{communications:a,isLoading:i,createCommunication:n,updateCommunication:o,deleteCommunication:l}},$te=({engagementId:s})=>{const{communications:e,isLoading:r}=qte(s),a=i=>{switch(i){case"meeting":return t.jsxDEV(Mu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:14,columnNumber:30},void 0);case"email":return t.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:15,columnNumber:28},void 0);case"phone_call":return t.jsxDEV(Q1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:16,columnNumber:33},void 0);default:return t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:17,columnNumber:23},void 0)}};return t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Communications Log"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:25,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track all client interactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:26,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:24,columnNumber:9},void 0),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:28,columnNumber:17},void 0),"Log Communication"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:28,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:23,columnNumber:7},void 0),r?t.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:32,columnNumber:9},void 0):t.jsxDEV("div",{className:"space-y-3",children:e==null?void 0:e.map(i=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[a(i.communication_type),t.jsxDEV(ue,{className:"text-base",children:i.subject},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:41,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:39,columnNumber:19},void 0),t.jsxDEV(he,{variant:"outline",children:i.communication_type.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:43,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:38,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:37,columnNumber:15},void 0),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:i.summary},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:47,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:Ds(new Date(i.communication_date),"MMM d, yyyy h:mm a")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:48,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:46,columnNumber:15},void 0)]},i.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:36,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:34,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementCommunicationsTab.tsx",lineNumber:22,columnNumber:5},void 0)},Hte=s=>{const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["engagement-deliverables",s],queryFn:async()=>{const{data:d,error:u}=await le.from("engagement_deliverables").select("*").eq("engagement_id",s).order("due_date",{ascending:!0});if(u)throw u;return d}}),n=Rs({mutationFn:async d=>{const{data:u}=await le.from("profiles").select("firm_id").single(),{data:c,error:b}=await le.from("engagement_deliverables").insert({...d,firm_id:u==null?void 0:u.firm_id,version:1}).select().single();if(b)throw b;return c},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-deliverables",s]}),e({title:"Deliverable created successfully"})},onError:d=>{e({title:"Error creating deliverable",description:d.message,variant:"destructive"})}}),o=Rs({mutationFn:async({id:d,updates:u})=>{const{data:c,error:b}=await le.from("engagement_deliverables").update(u).eq("id",d).select().single();if(b)throw b;return c},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-deliverables",s]}),e({title:"Deliverable updated"})},onError:d=>{e({title:"Error updating deliverable",description:d.message,variant:"destructive"})}}),l=Rs({mutationFn:async d=>{const{error:u}=await le.from("engagement_deliverables").delete().eq("id",d);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-deliverables",s]}),e({title:"Deliverable deleted"})},onError:d=>{e({title:"Error deleting deliverable",description:d.message,variant:"destructive"})}});return{deliverables:a,isLoading:i,createDeliverable:n,updateDeliverable:o,deleteDeliverable:l}},Gte=({engagementId:s})=>{const{deliverables:e,isLoading:r}=Hte(s),a=i=>{switch(i){case"delivered":return t.jsxDEV(Ks,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:13,columnNumber:32},void 0);case"in_progress":return t.jsxDEV(dt,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:14,columnNumber:34},void 0);case"rejected":return t.jsxDEV(Ru,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:15,columnNumber:31},void 0);default:return t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:16,columnNumber:23},void 0)}};return t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Deliverables"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:24,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track engagement deliverables"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:25,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:23,columnNumber:9},void 0),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:27,columnNumber:17},void 0),"Add Deliverable"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:22,columnNumber:7},void 0),r?t.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:31,columnNumber:9},void 0):t.jsxDEV("div",{className:"grid gap-4",children:e==null?void 0:e.map(i=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[a(i.status),t.jsxDEV(ue,{className:"text-base",children:i.deliverable_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:40,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:38,columnNumber:19},void 0),t.jsxDEV(he,{children:i.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:42,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:37,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:36,columnNumber:15},void 0),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:48,columnNumber:21},void 0),t.jsxDEV("p",{className:"font-medium",children:i.deliverable_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:49,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:47,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"Due Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:52,columnNumber:21},void 0),t.jsxDEV("p",{className:"font-medium",children:Ds(new Date(i.due_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:53,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:51,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:46,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:45,columnNumber:15},void 0)]},i.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:35,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDeliverablesTab.tsx",lineNumber:21,columnNumber:5},void 0)},Kte=s=>{const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["engagement-documents",s],queryFn:async()=>{const{data:l,error:d}=await le.from("engagement_documents").select("*").eq("engagement_id",s).order("uploaded_at",{ascending:!1});if(d)throw d;return l}}),n=Rs({mutationFn:async l=>{const{data:d}=await le.from("profiles").select("firm_id").single(),{data:u,error:c}=await le.from("engagement_documents").insert({...l,firm_id:d==null?void 0:d.firm_id,version:1}).select().single();if(c)throw c;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-documents",s]}),e({title:"Document uploaded successfully"})},onError:l=>{e({title:"Error uploading document",description:l.message,variant:"destructive"})}}),o=Rs({mutationFn:async l=>{const{error:d}=await le.from("engagement_documents").delete().eq("id",l);if(d)throw d},onSuccess:()=>{r.invalidateQueries({queryKey:["engagement-documents",s]}),e({title:"Document deleted"})},onError:l=>{e({title:"Error deleting document",description:l.message,variant:"destructive"})}});return{documents:a,isLoading:i,createDocument:n,deleteDocument:o}},Qte=({engagementId:s})=>{const{documents:e,isLoading:r}=Kte(s);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:17,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Engagement documentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:18,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:16,columnNumber:9},void 0),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:20,columnNumber:17},void 0),"Upload Document"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:20,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:15,columnNumber:7},void 0),r?t.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:24,columnNumber:9},void 0):t.jsxDEV("div",{className:"grid gap-4",children:e==null?void 0:e.map(a=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:32,columnNumber:21},void 0),t.jsxDEV(ue,{className:"text-base",children:a.document_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:33,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:31,columnNumber:19},void 0),t.jsxDEV(F,{size:"sm",variant:"outline",children:t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:36,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:35,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:30,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:29,columnNumber:15},void 0),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[a.document_type&&t.jsxDEV(he,{variant:"outline",children:a.document_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:42,columnNumber:41},void 0),t.jsxDEV("span",{className:"text-muted-foreground",children:["Uploaded ",Ds(new Date(a.uploaded_at),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:43,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:41,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:40,columnNumber:15},void 0)]},a.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:28,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:26,columnNumber:9},void 0),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:53,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("h3",{className:"text-xl font-semibold",children:"Confirmation Tracker"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:58,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track external confirmations for bank accounts, A/R, A/P, and other audit procedures (AU-C 505)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:59,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:57,columnNumber:9},void 0),t.jsxDEV(q4,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:63,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:56,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementDocumentsTab.tsx",lineNumber:14,columnNumber:5},void 0)};function Yte({engagementId:s}){const[e,r]=v.useState(new Date),[a,i]=v.useState(void 0),[n,o]=v.useState(null),{data:l}=bs({queryKey:["engagement-calendar",s],queryFn:async()=>{const{data:f,error:p}=await le.from("audits").select("*").eq("id",s).single();if(p)throw p;return f}}),d=v.useMemo(()=>{if(!l)return[];const f=[],p=new Date;if(l.planning_deadline){const N=new Date(l.planning_deadline);f.push({id:"planning-deadline",title:"Planning Completion",date:N,type:"milestone",status:N<p?"overdue":"pending",description:"Complete audit planning phase"})}if(l.fieldwork_start){const N=new Date(l.fieldwork_start);f.push({id:"fieldwork-start",title:"Fieldwork Begins",date:N,type:"milestone",status:N<p?"completed":"pending",description:"Start fieldwork procedures"})}if(l.fieldwork_end){const N=new Date(l.fieldwork_end);f.push({id:"fieldwork-end",title:"Fieldwork Completion",date:N,type:"deadline",status:N<p?"overdue":"pending",description:"Complete all fieldwork procedures"})}if(l.report_due_date){const N=new Date(l.report_due_date);f.push({id:"report-due",title:"Report Due Date",date:N,type:"deadline",status:N<p?"overdue":"pending",description:"Final report delivery to client"})}return l.period_end&&f.push({id:"period-end",title:"Period End Date",date:new Date(l.period_end),type:"milestone",status:"completed",description:"Client fiscal year end"}),f},[l]),u=f=>d.filter(p=>ni(p.date,f)),c=a?u(a):[],b=f=>{switch(f){case"milestone":return t.jsxDEV(Lu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:152,columnNumber:16},this);case"deadline":return t.jsxDEV(Er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:154,columnNumber:16},this);case"task":return t.jsxDEV(Rk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:156,columnNumber:16},this);case"meeting":return t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:158,columnNumber:16},this)}},h=f=>{switch(f){case"completed":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";case"pending":return"bg-blue-100 text-blue-800"}},m=f=>{r(p=>f==="prev"?HF(p,1):kn(p,1))};return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:184,columnNumber:13},this),t.jsxDEV(ue,{children:"Engagement Calendar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:183,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"icon",onClick:()=>m("prev"),children:t.jsxDEV(Sk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:189,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:188,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium min-w-[140px] text-center",children:Ds(e,"MMMM yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",size:"icon",onClick:()=>m("next"),children:t.jsxDEV(Cd,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:195,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:194,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:182,columnNumber:9},this),t.jsxDEV(Ke,{children:"View and manage engagement milestones, deadlines, and events"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:181,columnNumber:7},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid md:grid-cols-[1fr_300px] gap-6",children:[t.jsxDEV("div",{children:t.jsxDEV(Fw,{mode:"single",selected:a,onSelect:i,month:e,onMonthChange:r,className:"rounded-md border",modifiers:{hasEvent:f=>u(f).length>0,overdue:f=>u(f).some(p=>p.status==="overdue")},modifiersStyles:{hasEvent:{fontWeight:"bold",textDecoration:"underline"},overdue:{color:"rgb(220, 38, 38)"}}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:207,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:206,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("h3",{className:"font-semibold",children:a?`Events for ${Ds(a,"MMM d, yyyy")}`:"Upcoming Events"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:227,columnNumber:13},this),a&&c.length===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No events on this date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:234,columnNumber:15},this),(a?c:d.slice(0,5)).map(f=>t.jsxDEV("div",{className:"p-3 border rounded-lg hover:bg-accent cursor-pointer transition-colors",onClick:()=>o(f),children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"mt-0.5",children:b(f.type)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:244,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-medium truncate",children:f.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:247,columnNumber:23},this),t.jsxDEV(he,{className:h(f.status),variant:"secondary",children:f.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:248,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:246,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:Ds(f.date,"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:243,columnNumber:17},this)},f.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:238,columnNumber:15},this)),!a&&d.length===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No events scheduled. Add milestones to your engagement."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:226,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:204,columnNumber:9},this),t.jsxDEV(Pt,{open:!!n,onOpenChange:()=>o(null),children:t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{className:"flex items-center gap-2",children:[n&&b(n.type),n==null?void 0:n.title]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV(Bt,{children:n&&Ds(n.date,"EEEE, MMMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:271,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Status:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:282,columnNumber:17},this),t.jsxDEV(he,{className:n?h(n.status):"",children:n==null?void 0:n.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:283,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:281,columnNumber:15},this),(n==null?void 0:n.description)&&t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Description:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:289,columnNumber:19},this),t.jsxDEV("p",{className:"mt-1",children:n.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:290,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:288,columnNumber:17},this),t.jsxDEV("div",{className:"flex justify-end gap-2",children:[(n==null?void 0:n.status)==="pending"&&t.jsxDEV(F,{variant:"outline",children:[t.jsxDEV(Ks,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:296,columnNumber:21},this),"Mark Complete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:295,columnNumber:19},this),t.jsxDEV(F,{variant:"outline",onClick:()=>o(null),children:"Close"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:300,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:293,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:270,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:203,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/calendar/EngagementCalendar.tsx",lineNumber:180,columnNumber:5},this)}const K4={includeHeader:!0,includeFooter:!0,includeWatermark:!1,pageSize:"letter",orientation:"portrait",margins:{top:72,right:72,bottom:72,left:72},font:{family:"Times-Roman",size:12}};function Jte(s){return{audit_report:"Independent Auditor's Report",management_letter:"Management Letter",engagement_letter:"Engagement Letter",independence_letter:"Independence Confirmation",representation_letter:"Management Representation Letter",tcwg_communication:"Communication with Those Charged with Governance",workpaper:"Audit Workpaper",lead_schedule:"Lead Schedule",trial_balance:"Trial Balance",summary_of_adjustments:"Summary of Audit Adjustments",control_deficiency_letter:"Internal Control Deficiency Letter"}[s]}function Zte(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}function ju(s){return s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function wr(s){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(s)}var go=Uint8Array,mn=Uint16Array,Bw=Int32Array,qw=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$w=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x2=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q4=function(s,e){for(var r=new mn(31),a=0;a<31;++a)r[a]=e+=1<<s[a-1];for(var i=new Bw(r[30]),a=1;a<30;++a)for(var n=r[a];n<r[a+1];++n)i[n]=n-r[a]<<5|a;return{b:r,r:i}},Y4=Q4(qw,2),Xte=Y4.b,c1=Y4.r;Xte[28]=258,c1[258]=28;var ere=Q4($w,0),v2=ere.r,m1=new mn(32768);for(var qr=0;qr<32768;++qr){var Yl=(qr&43690)>>1|(qr&21845)<<1;Yl=(Yl&52428)>>2|(Yl&13107)<<2,Yl=(Yl&61680)>>4|(Yl&3855)<<4,m1[qr]=((Yl&65280)>>8|(Yl&255)<<8)>>1}var th=function(s,e,r){for(var a=s.length,i=0,n=new mn(e);i<a;++i)s[i]&&++n[s[i]-1];var o=new mn(e);for(i=1;i<e;++i)o[i]=o[i-1]+n[i-1]<<1;var l;if(r){l=new mn(1<<e);var d=15-e;for(i=0;i<a;++i)if(s[i])for(var u=i<<4|s[i],c=e-s[i],b=o[s[i]-1]++<<c,h=b|(1<<c)-1;b<=h;++b)l[m1[b]>>d]=u}else for(l=new mn(a),i=0;i<a;++i)s[i]&&(l[i]=m1[o[s[i]-1]++]>>15-s[i]);return l},Gu=new go(288);for(var qr=0;qr<144;++qr)Gu[qr]=8;for(var qr=144;qr<256;++qr)Gu[qr]=9;for(var qr=256;qr<280;++qr)Gu[qr]=7;for(var qr=280;qr<288;++qr)Gu[qr]=8;var kk=new go(32);for(var qr=0;qr<32;++qr)kk[qr]=5;var sre=th(Gu,9,0),tre=th(kk,5,0),J4=function(s){return(s+7)/8|0},rre=function(s,e,r){return(r==null||r>s.length)&&(r=s.length),new go(s.subarray(e,r))},cl=function(s,e,r){r<<=e&7;var a=e/8|0;s[a]|=r,s[a+1]|=r>>8},Ab=function(s,e,r){r<<=e&7;var a=e/8|0;s[a]|=r,s[a+1]|=r>>8,s[a+2]|=r>>16},cv=function(s,e){for(var r=[],a=0;a<s.length;++a)s[a]&&r.push({s:a,f:s[a]});var i=r.length,n=r.slice();if(!i)return{t:X4,l:0};if(i==1){var o=new go(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(U,E){return U.f-E.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],u=0,c=1,b=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};c!=i-1;)l=r[r[u].f<r[b].f?u++:b++],d=r[u!=c&&r[u].f<r[b].f?u++:b++],r[c++]={s:-1,f:l.f+d.f,l,r:d};for(var h=n[0].s,a=1;a<i;++a)n[a].s>h&&(h=n[a].s);var m=new mn(h+1),f=b1(r[c-1],m,0);if(f>e){var a=0,p=0,N=f-e,g=1<<N;for(n.sort(function(E,W){return m[W.s]-m[E.s]||E.f-W.f});a<i;++a){var D=n[a].s;if(m[D]>e)p+=g-(1<<f-m[D]),m[D]=e;else break}for(p>>=N;p>0;){var w=n[a].s;m[w]<e?p-=1<<e-m[w]++-1:++a}for(;a>=0&&p;--a){var A=n[a].s;m[A]==e&&(--m[A],++p)}f=e}return{t:new go(m),l:f}},b1=function(s,e,r){return s.s==-1?Math.max(b1(s.l,e,r+1),b1(s.r,e,r+1)):e[s.s]=r},D2=function(s){for(var e=s.length;e&&!s[--e];);for(var r=new mn(++e),a=0,i=s[0],n=1,o=function(d){r[a++]=d},l=1;l<=e;++l)if(s[l]==i&&l!=e)++n;else{if(!i&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(i),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(i);n=1,i=s[l]}return{c:r.subarray(0,a),n:e}},Eb=function(s,e){for(var r=0,a=0;a<e.length;++a)r+=s[a]*e[a];return r},Z4=function(s,e,r){var a=r.length,i=J4(e+2);s[i]=a&255,s[i+1]=a>>8,s[i+2]=s[i]^255,s[i+3]=s[i+1]^255;for(var n=0;n<a;++n)s[i+n+4]=r[n];return(i+4+a)*8},w2=function(s,e,r,a,i,n,o,l,d,u,c){cl(e,c++,r),++i[256];for(var b=cv(i,15),h=b.t,m=b.l,f=cv(n,15),p=f.t,N=f.l,g=D2(h),D=g.c,w=g.n,A=D2(p),U=A.c,E=A.n,W=new mn(19),y=0;y<D.length;++y)++W[D[y]&31];for(var y=0;y<U.length;++y)++W[U[y]&31];for(var V=cv(W,7),S=V.t,O=V.l,_=19;_>4&&!S[x2[_-1]];--_);var M=u+5<<3,R=Eb(i,Gu)+Eb(n,kk)+o,Q=Eb(i,h)+Eb(n,p)+o+14+3*_+Eb(W,S)+2*W[16]+3*W[17]+7*W[18];if(d>=0&&M<=R&&M<=Q)return Z4(e,c,s.subarray(d,d+u));var ne,ie,Z,Ne;if(cl(e,c,1+(Q<R)),c+=2,Q<R){ne=th(h,m,0),ie=h,Z=th(p,N,0),Ne=p;var _e=th(S,O,0);cl(e,c,w-257),cl(e,c+5,E-1),cl(e,c+10,_-4),c+=14;for(var y=0;y<_;++y)cl(e,c+3*y,S[x2[y]]);c+=3*_;for(var fe=[D,U],T=0;T<2;++T)for(var G=fe[T],y=0;y<G.length;++y){var J=G[y]&31;cl(e,c,_e[J]),c+=S[J],J>15&&(cl(e,c,G[y]>>5&127),c+=G[y]>>12)}}else ne=sre,ie=Gu,Z=tre,Ne=kk;for(var y=0;y<l;++y){var ce=a[y];if(ce>255){var J=ce>>18&31;Ab(e,c,ne[J+257]),c+=ie[J+257],J>7&&(cl(e,c,ce>>23&31),c+=qw[J]);var ke=ce&31;Ab(e,c,Z[ke]),c+=Ne[ke],ke>3&&(Ab(e,c,ce>>5&8191),c+=$w[ke])}else Ab(e,c,ne[ce]),c+=ie[ce]}return Ab(e,c,ne[256]),c+ie[256]},are=new Bw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X4=new go(0),ire=function(s,e,r,a,i,n){var o=n.z||s.length,l=new go(a+o+5*(1+Math.ceil(o/7e3))+i),d=l.subarray(a,l.length-i),u=n.l,c=(n.r||0)&7;if(e){c&&(d[0]=n.r>>3);for(var b=are[e-1],h=b>>13,m=b&8191,f=(1<<r)-1,p=n.p||new mn(32768),N=n.h||new mn(f+1),g=Math.ceil(r/3),D=2*g,w=function(pe){return(s[pe]^s[pe+1]<<g^s[pe+2]<<D)&f},A=new Bw(25e3),U=new mn(288),E=new mn(32),W=0,y=0,V=n.i||0,S=0,O=n.w||0,_=0;V+2<o;++V){var M=w(V),R=V&32767,Q=N[M];if(p[R]=Q,N[M]=R,O<=V){var ne=o-V;if((W>7e3||S>24576)&&(ne>423||!u)){c=w2(s,d,0,A,U,E,y,S,_,V-_,c),S=W=y=0,_=V;for(var ie=0;ie<286;++ie)U[ie]=0;for(var ie=0;ie<30;++ie)E[ie]=0}var Z=2,Ne=0,_e=m,fe=R-Q&32767;if(ne>2&&M==w(V-fe))for(var T=Math.min(h,ne)-1,G=Math.min(32767,V),J=Math.min(258,ne);fe<=G&&--_e&&R!=Q;){if(s[V+Z]==s[V+Z-fe]){for(var ce=0;ce<J&&s[V+ce]==s[V+ce-fe];++ce);if(ce>Z){if(Z=ce,Ne=fe,ce>T)break;for(var ke=Math.min(fe,ce-2),we=0,ie=0;ie<ke;++ie){var We=V-fe+ie&32767,Oe=p[We],ye=We-Oe&32767;ye>we&&(we=ye,Q=We)}}}R=Q,Q=p[R],fe+=R-Q&32767}if(Ne){A[S++]=268435456|c1[Z]<<18|v2[Ne];var De=c1[Z]&31,Ye=v2[Ne]&31;y+=qw[De]+$w[Ye],++U[257+De],++E[Ye],O=V+Z,++W}else A[S++]=s[V],++U[s[V]]}}for(V=Math.max(V,O);V<o;++V)A[S++]=s[V],++U[s[V]];c=w2(s,d,u,A,U,E,y,S,_,V-_,c),u||(n.r=c&7|d[c/8|0]<<3,c-=7,n.h=N,n.p=p,n.i=V,n.w=O)}else{for(var V=n.w||0;V<o+u;V+=65535){var ls=V+65535;ls>=o&&(d[c/8|0]=u,ls=o),c=Z4(d,c+1,s.subarray(V,ls))}n.i=o}return rre(l,0,a+J4(c)+i)},eC=function(){var s=1,e=0;return{p:function(r){for(var a=s,i=e,n=r.length|0,o=0;o!=n;){for(var l=Math.min(o+2655,n);o<l;++o)i+=a+=r[o];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}s=a,e=i},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},nre=function(s,e,r,a,i){if(!i&&(i={l:1},e.dictionary)){var n=e.dictionary.subarray(-32768),o=new go(n.length+s.length);o.set(n),o.set(s,n.length),s=o,i.w=n.length}return ire(s,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,r,a,i)},sC=function(s,e,r){for(;r;++e)s[e]=r,r>>>=8},ore=function(s,e){var r=e.level,a=r==0?0:r<6?1:r==9?3:2;if(s[0]=120,s[1]=a<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var i=eC();i.p(e.dictionary),sC(s,2,i.d())}};function h1(s,e){e||(e={});var r=eC();r.p(s);var a=nre(s,e,e.dictionary?6:2,4);return ore(a,e),sC(a,a.length-4,r.d()),a}var lre=typeof TextDecoder<"u"&&new TextDecoder,dre=0;try{lre.decode(X4,{stream:!0}),dre=1}catch{}function ure(s){if(Array.isArray(s))return s}function cre(s,e){var r=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(r!=null){var a,i,n,o,l=[],d=!0,u=!1;try{if(n=(r=r.call(s)).next,e!==0)for(;!(d=(a=n.call(r)).done)&&(l.push(a.value),l.length!==e);d=!0);}catch(c){u=!0,i=c}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function j2(s,e){(e==null||e>s.length)&&(e=s.length);for(var r=0,a=Array(e);r<e;r++)a[r]=s[r];return a}function mre(s,e){if(s){if(typeof s=="string")return j2(s,e);var r={}.toString.call(s).slice(8,-1);return r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set"?Array.from(s):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j2(s,e):void 0}}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2(s,e){return ure(s)||cre(s,e)||mre(s,e)||bre()}function E2(s,e="utf8"){return new TextDecoder(e).decode(s)}const hre=new TextEncoder;function fre(s){return hre.encode(s)}const pre=1024*8,Nre=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),mv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Hw{constructor(e=pre,r={}){qs(this,"buffer");qs(this,"byteLength");qs(this,"byteOffset");qs(this,"length");qs(this,"offset");qs(this,"lastWrittenByte");qs(this,"littleEndian");qs(this,"_data");qs(this,"_mark");qs(this,"_marks");let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,n=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Hw)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),a?this.lastWrittenByte=n:this.lastWrittenByte=0,this.buffer=e,this.length=n,this.byteLength=n,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,n),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const a=mv[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,n=this.buffer.slice(i,i+a);if(this.littleEndian===Nre&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+a));l.reverse();const d=new mv[r](l.buffer);return this.offset+=a,d.reverse(),d}const o=new mv[r](n);return this.offset+=a,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let a=0;a<e;a++)r+=this.readChar();return r}readUtf8(e=1){return E2(this.readBytes(e))}decodeText(e=1,r="utf8"){return E2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(fre(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const kre=4,P2=0,y2=1,gre=2;function Rm(s){let e=s.length;for(;--e>=0;)s[e]=0}const xre=0,tC=1,vre=2,Dre=3,wre=258,Gw=29,bf=256,Sh=bf+1+Gw,Xc=30,Kw=19,rC=2*Sh+1,Au=15,bv=16,jre=7,Qw=256,aC=16,iC=17,nC=18,f1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eN=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Are=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),oC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ere=512,pl=new Array((Sh+2)*2);Rm(pl);const rh=new Array(Xc*2);Rm(rh);const Th=new Array(Ere);Rm(Th);const Rh=new Array(wre-Dre+1);Rm(Rh);const Yw=new Array(Gw);Rm(Yw);const gk=new Array(Xc);Rm(gk);function hv(s,e,r,a,i){this.static_tree=s,this.extra_bits=e,this.extra_base=r,this.elems=a,this.max_length=i,this.has_stree=s&&s.length}let lC,dC,uC;function fv(s,e){this.dyn_tree=s,this.max_code=0,this.stat_desc=e}const cC=s=>s<256?Th[s]:Th[256+(s>>>7)],Mh=(s,e)=>{s.pending_buf[s.pending++]=e&255,s.pending_buf[s.pending++]=e>>>8&255},Li=(s,e,r)=>{s.bi_valid>bv-r?(s.bi_buf|=e<<s.bi_valid&65535,Mh(s,s.bi_buf),s.bi_buf=e>>bv-s.bi_valid,s.bi_valid+=r-bv):(s.bi_buf|=e<<s.bi_valid&65535,s.bi_valid+=r)},_o=(s,e,r)=>{Li(s,r[e*2],r[e*2+1])},mC=(s,e)=>{let r=0;do r|=s&1,s>>>=1,r<<=1;while(--e>0);return r>>>1},Pre=s=>{s.bi_valid===16?(Mh(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)},yre=(s,e)=>{const r=e.dyn_tree,a=e.max_code,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,d=e.stat_desc.max_length;let u,c,b,h,m,f,p=0;for(h=0;h<=Au;h++)s.bl_count[h]=0;for(r[s.heap[s.heap_max]*2+1]=0,u=s.heap_max+1;u<rC;u++)c=s.heap[u],h=r[r[c*2+1]*2+1]+1,h>d&&(h=d,p++),r[c*2+1]=h,!(c>a)&&(s.bl_count[h]++,m=0,c>=l&&(m=o[c-l]),f=r[c*2],s.opt_len+=f*(h+m),n&&(s.static_len+=f*(i[c*2+1]+m)));if(p!==0){do{for(h=d-1;s.bl_count[h]===0;)h--;s.bl_count[h]--,s.bl_count[h+1]+=2,s.bl_count[d]--,p-=2}while(p>0);for(h=d;h!==0;h--)for(c=s.bl_count[h];c!==0;)b=s.heap[--u],!(b>a)&&(r[b*2+1]!==h&&(s.opt_len+=(h-r[b*2+1])*r[b*2],r[b*2+1]=h),c--)}},bC=(s,e,r)=>{const a=new Array(Au+1);let i=0,n,o;for(n=1;n<=Au;n++)i=i+r[n-1]<<1,a[n]=i;for(o=0;o<=e;o++){let l=s[o*2+1];l!==0&&(s[o*2]=mC(a[l]++,l))}},Ore=()=>{let s,e,r,a,i;const n=new Array(Au+1);for(r=0,a=0;a<Gw-1;a++)for(Yw[a]=r,s=0;s<1<<f1[a];s++)Rh[r++]=a;for(Rh[r-1]=a,i=0,a=0;a<16;a++)for(gk[a]=i,s=0;s<1<<eN[a];s++)Th[i++]=a;for(i>>=7;a<Xc;a++)for(gk[a]=i<<7,s=0;s<1<<eN[a]-7;s++)Th[256+i++]=a;for(e=0;e<=Au;e++)n[e]=0;for(s=0;s<=143;)pl[s*2+1]=8,s++,n[8]++;for(;s<=255;)pl[s*2+1]=9,s++,n[9]++;for(;s<=279;)pl[s*2+1]=7,s++,n[7]++;for(;s<=287;)pl[s*2+1]=8,s++,n[8]++;for(bC(pl,Sh+1,n),s=0;s<Xc;s++)rh[s*2+1]=5,rh[s*2]=mC(s,5);lC=new hv(pl,f1,bf+1,Sh,Au),dC=new hv(rh,eN,0,Xc,Au),uC=new hv(new Array(0),Are,0,Kw,jre)},hC=s=>{let e;for(e=0;e<Sh;e++)s.dyn_ltree[e*2]=0;for(e=0;e<Xc;e++)s.dyn_dtree[e*2]=0;for(e=0;e<Kw;e++)s.bl_tree[e*2]=0;s.dyn_ltree[Qw*2]=1,s.opt_len=s.static_len=0,s.sym_next=s.matches=0},fC=s=>{s.bi_valid>8?Mh(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},O2=(s,e,r,a)=>{const i=e*2,n=r*2;return s[i]<s[n]||s[i]===s[n]&&a[e]<=a[r]},pv=(s,e,r)=>{const a=s.heap[r];let i=r<<1;for(;i<=s.heap_len&&(i<s.heap_len&&O2(e,s.heap[i+1],s.heap[i],s.depth)&&i++,!O2(e,a,s.heap[i],s.depth));)s.heap[r]=s.heap[i],r=i,i<<=1;s.heap[r]=a},W2=(s,e,r)=>{let a,i,n=0,o,l;if(s.sym_next!==0)do a=s.pending_buf[s.sym_buf+n++]&255,a+=(s.pending_buf[s.sym_buf+n++]&255)<<8,i=s.pending_buf[s.sym_buf+n++],a===0?_o(s,i,e):(o=Rh[i],_o(s,o+bf+1,e),l=f1[o],l!==0&&(i-=Yw[o],Li(s,i,l)),a--,o=cC(a),_o(s,o,r),l=eN[o],l!==0&&(a-=gk[o],Li(s,a,l)));while(n<s.sym_next);_o(s,Qw,e)},p1=(s,e)=>{const r=e.dyn_tree,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,n=e.stat_desc.elems;let o,l,d=-1,u;for(s.heap_len=0,s.heap_max=rC,o=0;o<n;o++)r[o*2]!==0?(s.heap[++s.heap_len]=d=o,s.depth[o]=0):r[o*2+1]=0;for(;s.heap_len<2;)u=s.heap[++s.heap_len]=d<2?++d:0,r[u*2]=1,s.depth[u]=0,s.opt_len--,i&&(s.static_len-=a[u*2+1]);for(e.max_code=d,o=s.heap_len>>1;o>=1;o--)pv(s,r,o);u=n;do o=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pv(s,r,1),l=s.heap[1],s.heap[--s.heap_max]=o,s.heap[--s.heap_max]=l,r[u*2]=r[o*2]+r[l*2],s.depth[u]=(s.depth[o]>=s.depth[l]?s.depth[o]:s.depth[l])+1,r[o*2+1]=r[l*2+1]=u,s.heap[1]=u++,pv(s,r,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],yre(s,e),bC(r,d,s.bl_count)},U2=(s,e,r)=>{let a,i=-1,n,o=e[0*2+1],l=0,d=7,u=4;for(o===0&&(d=138,u=3),e[(r+1)*2+1]=65535,a=0;a<=r;a++)n=o,o=e[(a+1)*2+1],!(++l<d&&n===o)&&(l<u?s.bl_tree[n*2]+=l:n!==0?(n!==i&&s.bl_tree[n*2]++,s.bl_tree[aC*2]++):l<=10?s.bl_tree[iC*2]++:s.bl_tree[nC*2]++,l=0,i=n,o===0?(d=138,u=3):n===o?(d=6,u=3):(d=7,u=4))},V2=(s,e,r)=>{let a,i=-1,n,o=e[0*2+1],l=0,d=7,u=4;for(o===0&&(d=138,u=3),a=0;a<=r;a++)if(n=o,o=e[(a+1)*2+1],!(++l<d&&n===o)){if(l<u)do _o(s,n,s.bl_tree);while(--l!==0);else n!==0?(n!==i&&(_o(s,n,s.bl_tree),l--),_o(s,aC,s.bl_tree),Li(s,l-3,2)):l<=10?(_o(s,iC,s.bl_tree),Li(s,l-3,3)):(_o(s,nC,s.bl_tree),Li(s,l-11,7));l=0,i=n,o===0?(d=138,u=3):n===o?(d=6,u=3):(d=7,u=4)}},Wre=s=>{let e;for(U2(s,s.dyn_ltree,s.l_desc.max_code),U2(s,s.dyn_dtree,s.d_desc.max_code),p1(s,s.bl_desc),e=Kw-1;e>=3&&s.bl_tree[oC[e]*2+1]===0;e--);return s.opt_len+=3*(e+1)+5+5+4,e},Ure=(s,e,r,a)=>{let i;for(Li(s,e-257,5),Li(s,r-1,5),Li(s,a-4,4),i=0;i<a;i++)Li(s,s.bl_tree[oC[i]*2+1],3);V2(s,s.dyn_ltree,e-1),V2(s,s.dyn_dtree,r-1)},Vre=s=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&s.dyn_ltree[r*2]!==0)return P2;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return y2;for(r=32;r<bf;r++)if(s.dyn_ltree[r*2]!==0)return y2;return P2};let _2=!1;const _re=s=>{_2||(Ore(),_2=!0),s.l_desc=new fv(s.dyn_ltree,lC),s.d_desc=new fv(s.dyn_dtree,dC),s.bl_desc=new fv(s.bl_tree,uC),s.bi_buf=0,s.bi_valid=0,hC(s)},pC=(s,e,r,a)=>{Li(s,(xre<<1)+(a?1:0),3),fC(s),Mh(s,r),Mh(s,~r),r&&s.pending_buf.set(s.window.subarray(e,e+r),s.pending),s.pending+=r},Cre=s=>{Li(s,tC<<1,3),_o(s,Qw,pl),Pre(s)},Sre=(s,e,r,a)=>{let i,n,o=0;s.level>0?(s.strm.data_type===gre&&(s.strm.data_type=Vre(s)),p1(s,s.l_desc),p1(s,s.d_desc),o=Wre(s),i=s.opt_len+3+7>>>3,n=s.static_len+3+7>>>3,n<=i&&(i=n)):i=n=r+5,r+4<=i&&e!==-1?pC(s,e,r,a):s.strategy===kre||n===i?(Li(s,(tC<<1)+(a?1:0),3),W2(s,pl,rh)):(Li(s,(vre<<1)+(a?1:0),3),Ure(s,s.l_desc.max_code+1,s.d_desc.max_code+1,o+1),W2(s,s.dyn_ltree,s.dyn_dtree)),hC(s),a&&fC(s)},Tre=(s,e,r)=>(s.pending_buf[s.sym_buf+s.sym_next++]=e,s.pending_buf[s.sym_buf+s.sym_next++]=e>>8,s.pending_buf[s.sym_buf+s.sym_next++]=r,e===0?s.dyn_ltree[r*2]++:(s.matches++,e--,s.dyn_ltree[(Rh[r]+bf+1)*2]++,s.dyn_dtree[cC(e)*2]++),s.sym_next===s.sym_end);var Rre=_re,Mre=pC,Lre=Sre,Ire=Tre,Fre=Cre,zre={_tr_init:Rre,_tr_stored_block:Mre,_tr_flush_block:Lre,_tr_tally:Ire,_tr_align:Fre};const Bre=(s,e,r,a)=>{let i=s&65535|0,n=s>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[a++]|0,n=n+i|0;while(--o);i%=65521,n%=65521}return i|n<<16|0};var Lh=Bre;const qre=()=>{let s,e=[];for(var r=0;r<256;r++){s=r;for(var a=0;a<8;a++)s=s&1?3988292384^s>>>1:s>>>1;e[r]=s}return e},$re=new Uint32Array(qre()),Hre=(s,e,r,a)=>{const i=$re,n=a+r;s^=-1;for(let o=a;o<n;o++)s=s>>>8^i[(s^e[o])&255];return s^-1};var $a=Hre,jm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Gre,_tr_stored_block:N1,_tr_flush_block:Kre,_tr_tally:Dd,_tr_align:Qre}=zre,{Z_NO_FLUSH:wd,Z_PARTIAL_FLUSH:Yre,Z_FULL_FLUSH:Jre,Z_FINISH:Cn,Z_BLOCK:C2,Z_OK:ti,Z_STREAM_END:S2,Z_STREAM_ERROR:Io,Z_DATA_ERROR:Zre,Z_BUF_ERROR:Nv,Z_DEFAULT_COMPRESSION:Xre,Z_FILTERED:eae,Z_HUFFMAN_ONLY:Ap,Z_RLE:sae,Z_FIXED:tae,Z_DEFAULT_STRATEGY:rae,Z_UNKNOWN:aae,Z_DEFLATED:Eg}=hf,iae=9,nae=15,oae=8,lae=29,dae=256,k1=dae+1+lae,uae=30,cae=19,mae=2*k1+1,bae=15,Zt=3,bd=258,Fo=bd+Zt+1,hae=32,Am=42,Jw=57,g1=69,x1=73,v1=91,D1=103,Eu=113,Cb=666,Pi=1,Mm=2,Ku=3,Lm=4,fae=3,Pu=(s,e)=>(s.msg=jm[e],e),T2=s=>s*2-(s>4?9:0),ld=s=>{let e=s.length;for(;--e>=0;)s[e]=0},pae=s=>{let e,r,a,i=s.w_size;e=s.hash_size,a=e;do r=s.head[--a],s.head[a]=r>=i?r-i:0;while(--e);e=i,a=e;do r=s.prev[--a],s.prev[a]=r>=i?r-i:0;while(--e)};let Nae=(s,e,r)=>(e<<s.hash_shift^r)&s.hash_mask,jd=Nae;const on=s=>{const e=s.state;let r=e.pending;r>s.avail_out&&(r=s.avail_out),r!==0&&(s.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),s.next_out),s.next_out+=r,e.pending_out+=r,s.total_out+=r,s.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},bn=(s,e)=>{Kre(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,e),s.block_start=s.strstart,on(s.strm)},dr=(s,e)=>{s.pending_buf[s.pending++]=e},Pb=(s,e)=>{s.pending_buf[s.pending++]=e>>>8&255,s.pending_buf[s.pending++]=e&255},w1=(s,e,r,a)=>{let i=s.avail_in;return i>a&&(i=a),i===0?0:(s.avail_in-=i,e.set(s.input.subarray(s.next_in,s.next_in+i),r),s.state.wrap===1?s.adler=Lh(s.adler,e,i,r):s.state.wrap===2&&(s.adler=$a(s.adler,e,i,r)),s.next_in+=i,s.total_in+=i,i)},NC=(s,e)=>{let r=s.max_chain_length,a=s.strstart,i,n,o=s.prev_length,l=s.nice_match;const d=s.strstart>s.w_size-Fo?s.strstart-(s.w_size-Fo):0,u=s.window,c=s.w_mask,b=s.prev,h=s.strstart+bd;let m=u[a+o-1],f=u[a+o];s.prev_length>=s.good_match&&(r>>=2),l>s.lookahead&&(l=s.lookahead);do if(i=e,!(u[i+o]!==f||u[i+o-1]!==m||u[i]!==u[a]||u[++i]!==u[a+1])){a+=2,i++;do;while(u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&a<h);if(n=bd-(h-a),a=h-bd,n>o){if(s.match_start=e,o=n,n>=l)break;m=u[a+o-1],f=u[a+o]}}while((e=b[e&c])>d&&--r!==0);return o<=s.lookahead?o:s.lookahead},Em=s=>{const e=s.w_size;let r,a,i;do{if(a=s.window_size-s.lookahead-s.strstart,s.strstart>=e+(e-Fo)&&(s.window.set(s.window.subarray(e,e+e-a),0),s.match_start-=e,s.strstart-=e,s.block_start-=e,s.insert>s.strstart&&(s.insert=s.strstart),pae(s),a+=e),s.strm.avail_in===0)break;if(r=w1(s.strm,s.window,s.strstart+s.lookahead,a),s.lookahead+=r,s.lookahead+s.insert>=Zt)for(i=s.strstart-s.insert,s.ins_h=s.window[i],s.ins_h=jd(s,s.ins_h,s.window[i+1]);s.insert&&(s.ins_h=jd(s,s.ins_h,s.window[i+Zt-1]),s.prev[i&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=i,i++,s.insert--,!(s.lookahead+s.insert<Zt)););}while(s.lookahead<Fo&&s.strm.avail_in!==0)},kC=(s,e)=>{let r=s.pending_buf_size-5>s.w_size?s.w_size:s.pending_buf_size-5,a,i,n,o=0,l=s.strm.avail_in;do{if(a=65535,n=s.bi_valid+42>>3,s.strm.avail_out<n||(n=s.strm.avail_out-n,i=s.strstart-s.block_start,a>i+s.strm.avail_in&&(a=i+s.strm.avail_in),a>n&&(a=n),a<r&&(a===0&&e!==Cn||e===wd||a!==i+s.strm.avail_in)))break;o=e===Cn&&a===i+s.strm.avail_in?1:0,N1(s,0,0,o),s.pending_buf[s.pending-4]=a,s.pending_buf[s.pending-3]=a>>8,s.pending_buf[s.pending-2]=~a,s.pending_buf[s.pending-1]=~a>>8,on(s.strm),i&&(i>a&&(i=a),s.strm.output.set(s.window.subarray(s.block_start,s.block_start+i),s.strm.next_out),s.strm.next_out+=i,s.strm.avail_out-=i,s.strm.total_out+=i,s.block_start+=i,a-=i),a&&(w1(s.strm,s.strm.output,s.strm.next_out,a),s.strm.next_out+=a,s.strm.avail_out-=a,s.strm.total_out+=a)}while(o===0);return l-=s.strm.avail_in,l&&(l>=s.w_size?(s.matches=2,s.window.set(s.strm.input.subarray(s.strm.next_in-s.w_size,s.strm.next_in),0),s.strstart=s.w_size,s.insert=s.strstart):(s.window_size-s.strstart<=l&&(s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,s.insert>s.strstart&&(s.insert=s.strstart)),s.window.set(s.strm.input.subarray(s.strm.next_in-l,s.strm.next_in),s.strstart),s.strstart+=l,s.insert+=l>s.w_size-s.insert?s.w_size-s.insert:l),s.block_start=s.strstart),s.high_water<s.strstart&&(s.high_water=s.strstart),o?Lm:e!==wd&&e!==Cn&&s.strm.avail_in===0&&s.strstart===s.block_start?Mm:(n=s.window_size-s.strstart,s.strm.avail_in>n&&s.block_start>=s.w_size&&(s.block_start-=s.w_size,s.strstart-=s.w_size,s.window.set(s.window.subarray(s.w_size,s.w_size+s.strstart),0),s.matches<2&&s.matches++,n+=s.w_size,s.insert>s.strstart&&(s.insert=s.strstart)),n>s.strm.avail_in&&(n=s.strm.avail_in),n&&(w1(s.strm,s.window,s.strstart,n),s.strstart+=n,s.insert+=n>s.w_size-s.insert?s.w_size-s.insert:n),s.high_water<s.strstart&&(s.high_water=s.strstart),n=s.bi_valid+42>>3,n=s.pending_buf_size-n>65535?65535:s.pending_buf_size-n,r=n>s.w_size?s.w_size:n,i=s.strstart-s.block_start,(i>=r||(i||e===Cn)&&e!==wd&&s.strm.avail_in===0&&i<=n)&&(a=i>n?n:i,o=e===Cn&&s.strm.avail_in===0&&a===i?1:0,N1(s,s.block_start,a,o),s.block_start+=a,on(s.strm)),o?Ku:Pi)},kv=(s,e)=>{let r,a;for(;;){if(s.lookahead<Fo){if(Em(s),s.lookahead<Fo&&e===wd)return Pi;if(s.lookahead===0)break}if(r=0,s.lookahead>=Zt&&(s.ins_h=jd(s,s.ins_h,s.window[s.strstart+Zt-1]),r=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),r!==0&&s.strstart-r<=s.w_size-Fo&&(s.match_length=NC(s,r)),s.match_length>=Zt)if(a=Dd(s,s.strstart-s.match_start,s.match_length-Zt),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=Zt){s.match_length--;do s.strstart++,s.ins_h=jd(s,s.ins_h,s.window[s.strstart+Zt-1]),r=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=jd(s,s.ins_h,s.window[s.strstart+1]);else a=Dd(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(a&&(bn(s,!1),s.strm.avail_out===0))return Pi}return s.insert=s.strstart<Zt-1?s.strstart:Zt-1,e===Cn?(bn(s,!0),s.strm.avail_out===0?Ku:Lm):s.sym_next&&(bn(s,!1),s.strm.avail_out===0)?Pi:Mm},Oc=(s,e)=>{let r,a,i;for(;;){if(s.lookahead<Fo){if(Em(s),s.lookahead<Fo&&e===wd)return Pi;if(s.lookahead===0)break}if(r=0,s.lookahead>=Zt&&(s.ins_h=jd(s,s.ins_h,s.window[s.strstart+Zt-1]),r=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=Zt-1,r!==0&&s.prev_length<s.max_lazy_match&&s.strstart-r<=s.w_size-Fo&&(s.match_length=NC(s,r),s.match_length<=5&&(s.strategy===eae||s.match_length===Zt&&s.strstart-s.match_start>4096)&&(s.match_length=Zt-1)),s.prev_length>=Zt&&s.match_length<=s.prev_length){i=s.strstart+s.lookahead-Zt,a=Dd(s,s.strstart-1-s.prev_match,s.prev_length-Zt),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=i&&(s.ins_h=jd(s,s.ins_h,s.window[s.strstart+Zt-1]),r=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=Zt-1,s.strstart++,a&&(bn(s,!1),s.strm.avail_out===0))return Pi}else if(s.match_available){if(a=Dd(s,0,s.window[s.strstart-1]),a&&bn(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return Pi}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(a=Dd(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<Zt-1?s.strstart:Zt-1,e===Cn?(bn(s,!0),s.strm.avail_out===0?Ku:Lm):s.sym_next&&(bn(s,!1),s.strm.avail_out===0)?Pi:Mm},kae=(s,e)=>{let r,a,i,n;const o=s.window;for(;;){if(s.lookahead<=bd){if(Em(s),s.lookahead<=bd&&e===wd)return Pi;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=Zt&&s.strstart>0&&(i=s.strstart-1,a=o[i],a===o[++i]&&a===o[++i]&&a===o[++i])){n=s.strstart+bd;do;while(a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&a===o[++i]&&i<n);s.match_length=bd-(n-i),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=Zt?(r=Dd(s,1,s.match_length-Zt),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(r=Dd(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),r&&(bn(s,!1),s.strm.avail_out===0))return Pi}return s.insert=0,e===Cn?(bn(s,!0),s.strm.avail_out===0?Ku:Lm):s.sym_next&&(bn(s,!1),s.strm.avail_out===0)?Pi:Mm},gae=(s,e)=>{let r;for(;;){if(s.lookahead===0&&(Em(s),s.lookahead===0)){if(e===wd)return Pi;break}if(s.match_length=0,r=Dd(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,r&&(bn(s,!1),s.strm.avail_out===0))return Pi}return s.insert=0,e===Cn?(bn(s,!0),s.strm.avail_out===0?Ku:Lm):s.sym_next&&(bn(s,!1),s.strm.avail_out===0)?Pi:Mm};function Po(s,e,r,a,i){this.good_length=s,this.max_lazy=e,this.nice_length=r,this.max_chain=a,this.func=i}const Sb=[new Po(0,0,0,0,kC),new Po(4,4,8,4,kv),new Po(4,5,16,8,kv),new Po(4,6,32,32,kv),new Po(4,4,16,16,Oc),new Po(8,16,32,32,Oc),new Po(8,16,128,128,Oc),new Po(8,32,128,256,Oc),new Po(32,128,258,1024,Oc),new Po(32,258,258,4096,Oc)],xae=s=>{s.window_size=2*s.w_size,ld(s.head),s.max_lazy_match=Sb[s.level].max_lazy,s.good_match=Sb[s.level].good_length,s.nice_match=Sb[s.level].nice_length,s.max_chain_length=Sb[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=Zt-1,s.match_available=0,s.ins_h=0};function vae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Eg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(mae*2),this.dyn_dtree=new Uint16Array((2*uae+1)*2),this.bl_tree=new Uint16Array((2*cae+1)*2),ld(this.dyn_ltree),ld(this.dyn_dtree),ld(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(bae+1),this.heap=new Uint16Array(2*k1+1),ld(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*k1+1),ld(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ff=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.status!==Am&&e.status!==Jw&&e.status!==g1&&e.status!==x1&&e.status!==v1&&e.status!==D1&&e.status!==Eu&&e.status!==Cb?1:0},gC=s=>{if(ff(s))return Pu(s,Io);s.total_in=s.total_out=0,s.data_type=aae;const e=s.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Jw:e.wrap?Am:Eu,s.adler=e.wrap===2?0:1,e.last_flush=-2,Gre(e),ti},xC=s=>{const e=gC(s);return e===ti&&xae(s.state),e},Dae=(s,e)=>ff(s)||s.state.wrap!==2?Io:(s.state.gzhead=e,ti),vC=(s,e,r,a,i,n)=>{if(!s)return Io;let o=1;if(e===Xre&&(e=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),i<1||i>iae||r!==Eg||a<8||a>15||e<0||e>9||n<0||n>tae||a===8&&o!==1)return Pu(s,Io);a===8&&(a=9);const l=new vae;return s.state=l,l.strm=s,l.status=Am,l.wrap=o,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Zt-1)/Zt),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=e,l.strategy=n,l.method=r,xC(s)},wae=(s,e)=>vC(s,e,Eg,nae,oae,rae),jae=(s,e)=>{if(ff(s)||e>C2||e<0)return s?Pu(s,Io):Io;const r=s.state;if(!s.output||s.avail_in!==0&&!s.input||r.status===Cb&&e!==Cn)return Pu(s,s.avail_out===0?Nv:Io);const a=r.last_flush;if(r.last_flush=e,r.pending!==0){if(on(s),s.avail_out===0)return r.last_flush=-1,ti}else if(s.avail_in===0&&T2(e)<=T2(a)&&e!==Cn)return Pu(s,Nv);if(r.status===Cb&&s.avail_in!==0)return Pu(s,Nv);if(r.status===Am&&r.wrap===0&&(r.status=Eu),r.status===Am){let i=Eg+(r.w_bits-8<<4)<<8,n=-1;if(r.strategy>=Ap||r.level<2?n=0:r.level<6?n=1:r.level===6?n=2:n=3,i|=n<<6,r.strstart!==0&&(i|=hae),i+=31-i%31,Pb(r,i),r.strstart!==0&&(Pb(r,s.adler>>>16),Pb(r,s.adler&65535)),s.adler=1,r.status=Eu,on(s),r.pending!==0)return r.last_flush=-1,ti}if(r.status===Jw){if(s.adler=0,dr(r,31),dr(r,139),dr(r,8),r.gzhead)dr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),dr(r,r.gzhead.time&255),dr(r,r.gzhead.time>>8&255),dr(r,r.gzhead.time>>16&255),dr(r,r.gzhead.time>>24&255),dr(r,r.level===9?2:r.strategy>=Ap||r.level<2?4:0),dr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(dr(r,r.gzhead.extra.length&255),dr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(s.adler=$a(s.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=g1;else if(dr(r,0),dr(r,0),dr(r,0),dr(r,0),dr(r,0),dr(r,r.level===9?2:r.strategy>=Ap||r.level<2?4:0),dr(r,fae),r.status=Eu,on(s),r.pending!==0)return r.last_flush=-1,ti}if(r.status===g1){if(r.gzhead.extra){let i=r.pending,n=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=l,on(s),r.pending!==0)return r.last_flush=-1,ti;i=0,n-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=x1}if(r.status===x1){if(r.gzhead.name){let i=r.pending,n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i)),on(s),r.pending!==0)return r.last_flush=-1,ti;i=0}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,dr(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=v1}if(r.status===v1){if(r.gzhead.comment){let i=r.pending,n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i)),on(s),r.pending!==0)return r.last_flush=-1,ti;i=0}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,dr(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>i&&(s.adler=$a(s.adler,r.pending_buf,r.pending-i,i))}r.status=D1}if(r.status===D1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(on(s),r.pending!==0))return r.last_flush=-1,ti;dr(r,s.adler&255),dr(r,s.adler>>8&255),s.adler=0}if(r.status=Eu,on(s),r.pending!==0)return r.last_flush=-1,ti}if(s.avail_in!==0||r.lookahead!==0||e!==wd&&r.status!==Cb){let i=r.level===0?kC(r,e):r.strategy===Ap?gae(r,e):r.strategy===sae?kae(r,e):Sb[r.level].func(r,e);if((i===Ku||i===Lm)&&(r.status=Cb),i===Pi||i===Ku)return s.avail_out===0&&(r.last_flush=-1),ti;if(i===Mm&&(e===Yre?Qre(r):e!==C2&&(N1(r,0,0,!1),e===Jre&&(ld(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),on(s),s.avail_out===0))return r.last_flush=-1,ti}return e!==Cn?ti:r.wrap<=0?S2:(r.wrap===2?(dr(r,s.adler&255),dr(r,s.adler>>8&255),dr(r,s.adler>>16&255),dr(r,s.adler>>24&255),dr(r,s.total_in&255),dr(r,s.total_in>>8&255),dr(r,s.total_in>>16&255),dr(r,s.total_in>>24&255)):(Pb(r,s.adler>>>16),Pb(r,s.adler&65535)),on(s),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ti:S2)},Aae=s=>{if(ff(s))return Io;const e=s.state.status;return s.state=null,e===Eu?Pu(s,Zre):ti},Eae=(s,e)=>{let r=e.length;if(ff(s))return Io;const a=s.state,i=a.wrap;if(i===2||i===1&&a.status!==Am||a.lookahead)return Io;if(i===1&&(s.adler=Lh(s.adler,e,r,0)),a.wrap=0,r>=a.w_size){i===0&&(ld(a.head),a.strstart=0,a.block_start=0,a.insert=0);let d=new Uint8Array(a.w_size);d.set(e.subarray(r-a.w_size,r),0),e=d,r=a.w_size}const n=s.avail_in,o=s.next_in,l=s.input;for(s.avail_in=r,s.next_in=0,s.input=e,Em(a);a.lookahead>=Zt;){let d=a.strstart,u=a.lookahead-(Zt-1);do a.ins_h=jd(a,a.ins_h,a.window[d+Zt-1]),a.prev[d&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++;while(--u);a.strstart=d,a.lookahead=Zt-1,Em(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=Zt-1,a.match_available=0,s.next_in=o,s.input=l,s.avail_in=n,a.wrap=i,ti};var Pae=wae,yae=vC,Oae=xC,Wae=gC,Uae=Dae,Vae=jae,_ae=Aae,Cae=Eae,Sae="pako deflate (from Nodeca project)",ah={deflateInit:Pae,deflateInit2:yae,deflateReset:Oae,deflateResetKeep:Wae,deflateSetHeader:Uae,deflate:Vae,deflateEnd:_ae,deflateSetDictionary:Cae,deflateInfo:Sae};const Tae=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var Rae=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)Tae(r,a)&&(s[a]=r[a])}}return s},Mae=s=>{let e=0;for(let a=0,i=s.length;a<i;a++)e+=s[a].length;const r=new Uint8Array(e);for(let a=0,i=0,n=s.length;a<n;a++){let o=s[a];r.set(o,i),i+=o.length}return r},Pg={assign:Rae,flattenChunks:Mae};let DC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{DC=!1}const Ih=new Uint8Array(256);for(let s=0;s<256;s++)Ih[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Ih[254]=Ih[254]=1;var Lae=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,r,a,i,n,o=s.length,l=0;for(i=0;i<o;i++)r=s.charCodeAt(i),(r&64512)===55296&&i+1<o&&(a=s.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),n=0,i=0;n<l;i++)r=s.charCodeAt(i),(r&64512)===55296&&i+1<o&&(a=s.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),r<128?e[n++]=r:r<2048?(e[n++]=192|r>>>6,e[n++]=128|r&63):r<65536?(e[n++]=224|r>>>12,e[n++]=128|r>>>6&63,e[n++]=128|r&63):(e[n++]=240|r>>>18,e[n++]=128|r>>>12&63,e[n++]=128|r>>>6&63,e[n++]=128|r&63);return e};const Iae=(s,e)=>{if(e<65534&&s.subarray&&DC)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let r="";for(let a=0;a<e;a++)r+=String.fromCharCode(s[a]);return r};var Fae=(s,e)=>{const r=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let a,i;const n=new Array(r*2);for(i=0,a=0;a<r;){let o=s[a++];if(o<128){n[i++]=o;continue}let l=Ih[o];if(l>4){n[i++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|s[a++]&63,l--;if(l>1){n[i++]=65533;continue}o<65536?n[i++]=o:(o-=65536,n[i++]=55296|o>>10&1023,n[i++]=56320|o&1023)}return Iae(n,i)},zae=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let r=e-1;for(;r>=0&&(s[r]&192)===128;)r--;return r<0||r===0?e:r+Ih[s[r]]>e?r:e},Fh={string2buf:Lae,buf2string:Fae,utf8border:zae};function Bae(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var wC=Bae;const jC=Object.prototype.toString,{Z_NO_FLUSH:qae,Z_SYNC_FLUSH:$ae,Z_FULL_FLUSH:Hae,Z_FINISH:Gae,Z_OK:xk,Z_STREAM_END:Kae,Z_DEFAULT_COMPRESSION:Qae,Z_DEFAULT_STRATEGY:Yae,Z_DEFLATED:Jae}=hf;function Zw(s){this.options=Pg.assign({level:Qae,method:Jae,chunkSize:16384,windowBits:15,memLevel:8,strategy:Yae},s||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wC,this.strm.avail_out=0;let r=ah.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==xk)throw new Error(jm[r]);if(e.header&&ah.deflateSetHeader(this.strm,e.header),e.dictionary){let a;if(typeof e.dictionary=="string"?a=Fh.string2buf(e.dictionary):jC.call(e.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(e.dictionary):a=e.dictionary,r=ah.deflateSetDictionary(this.strm,a),r!==xk)throw new Error(jm[r]);this._dict_set=!0}}Zw.prototype.push=function(s,e){const r=this.strm,a=this.options.chunkSize;let i,n;if(this.ended)return!1;for(e===~~e?n=e:n=e===!0?Gae:qae,typeof s=="string"?r.input=Fh.string2buf(s):jC.call(s)==="[object ArrayBuffer]"?r.input=new Uint8Array(s):r.input=s,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(n===$ae||n===Hae)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=ah.deflate(r,n),i===Kae)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ah.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===xk;if(r.avail_out===0){this.onData(r.output);continue}if(n>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Zw.prototype.onData=function(s){this.chunks.push(s)};Zw.prototype.onEnd=function(s){s===xk&&(this.result=Pg.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};const Ep=16209,Zae=16191;var Xae=function(e,r){let a,i,n,o,l,d,u,c,b,h,m,f,p,N,g,D,w,A,U,E,W,y,V,S;const O=e.state;a=e.next_in,V=e.input,i=a+(e.avail_in-5),n=e.next_out,S=e.output,o=n-(r-e.avail_out),l=n+(e.avail_out-257),d=O.dmax,u=O.wsize,c=O.whave,b=O.wnext,h=O.window,m=O.hold,f=O.bits,p=O.lencode,N=O.distcode,g=(1<<O.lenbits)-1,D=(1<<O.distbits)-1;e:do{f<15&&(m+=V[a++]<<f,f+=8,m+=V[a++]<<f,f+=8),w=p[m&g];s:for(;;){if(A=w>>>24,m>>>=A,f-=A,A=w>>>16&255,A===0)S[n++]=w&65535;else if(A&16){U=w&65535,A&=15,A&&(f<A&&(m+=V[a++]<<f,f+=8),U+=m&(1<<A)-1,m>>>=A,f-=A),f<15&&(m+=V[a++]<<f,f+=8,m+=V[a++]<<f,f+=8),w=N[m&D];t:for(;;){if(A=w>>>24,m>>>=A,f-=A,A=w>>>16&255,A&16){if(E=w&65535,A&=15,f<A&&(m+=V[a++]<<f,f+=8,f<A&&(m+=V[a++]<<f,f+=8)),E+=m&(1<<A)-1,E>d){e.msg="invalid distance too far back",O.mode=Ep;break e}if(m>>>=A,f-=A,A=n-o,E>A){if(A=E-A,A>c&&O.sane){e.msg="invalid distance too far back",O.mode=Ep;break e}if(W=0,y=h,b===0){if(W+=u-A,A<U){U-=A;do S[n++]=h[W++];while(--A);W=n-E,y=S}}else if(b<A){if(W+=u+b-A,A-=b,A<U){U-=A;do S[n++]=h[W++];while(--A);if(W=0,b<U){A=b,U-=A;do S[n++]=h[W++];while(--A);W=n-E,y=S}}}else if(W+=b-A,A<U){U-=A;do S[n++]=h[W++];while(--A);W=n-E,y=S}for(;U>2;)S[n++]=y[W++],S[n++]=y[W++],S[n++]=y[W++],U-=3;U&&(S[n++]=y[W++],U>1&&(S[n++]=y[W++]))}else{W=n-E;do S[n++]=S[W++],S[n++]=S[W++],S[n++]=S[W++],U-=3;while(U>2);U&&(S[n++]=S[W++],U>1&&(S[n++]=S[W++]))}}else if(A&64){e.msg="invalid distance code",O.mode=Ep;break e}else{w=N[(w&65535)+(m&(1<<A)-1)];continue t}break}}else if(A&64)if(A&32){O.mode=Zae;break e}else{e.msg="invalid literal/length code",O.mode=Ep;break e}else{w=p[(w&65535)+(m&(1<<A)-1)];continue s}break}}while(a<i&&n<l);U=f>>3,a-=U,f-=U<<3,m&=(1<<f)-1,e.next_in=a,e.next_out=n,e.avail_in=a<i?5+(i-a):5-(a-i),e.avail_out=n<l?257+(l-n):257-(n-l),O.hold=m,O.bits=f};const Wc=15,R2=852,M2=592,L2=0,gv=1,I2=2,eie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aie=(s,e,r,a,i,n,o,l)=>{const d=l.bits;let u=0,c=0,b=0,h=0,m=0,f=0,p=0,N=0,g=0,D=0,w,A,U,E,W,y=null,V;const S=new Uint16Array(Wc+1),O=new Uint16Array(Wc+1);let _=null,M,R,Q;for(u=0;u<=Wc;u++)S[u]=0;for(c=0;c<a;c++)S[e[r+c]]++;for(m=d,h=Wc;h>=1&&S[h]===0;h--);if(m>h&&(m=h),h===0)return i[n++]=1<<24|64<<16|0,i[n++]=1<<24|64<<16|0,l.bits=1,0;for(b=1;b<h&&S[b]===0;b++);for(m<b&&(m=b),N=1,u=1;u<=Wc;u++)if(N<<=1,N-=S[u],N<0)return-1;if(N>0&&(s===L2||h!==1))return-1;for(O[1]=0,u=1;u<Wc;u++)O[u+1]=O[u]+S[u];for(c=0;c<a;c++)e[r+c]!==0&&(o[O[e[r+c]]++]=c);if(s===L2?(y=_=o,V=20):s===gv?(y=eie,_=sie,V=257):(y=tie,_=rie,V=0),D=0,c=0,u=b,W=n,f=m,p=0,U=-1,g=1<<m,E=g-1,s===gv&&g>R2||s===I2&&g>M2)return 1;for(;;){M=u-p,o[c]+1<V?(R=0,Q=o[c]):o[c]>=V?(R=_[o[c]-V],Q=y[o[c]-V]):(R=96,Q=0),w=1<<u-p,A=1<<f,b=A;do A-=w,i[W+(D>>p)+A]=M<<24|R<<16|Q|0;while(A!==0);for(w=1<<u-1;D&w;)w>>=1;if(w!==0?(D&=w-1,D+=w):D=0,c++,--S[u]===0){if(u===h)break;u=e[r+o[c]]}if(u>m&&(D&E)!==U){for(p===0&&(p=m),W+=b,f=u-p,N=1<<f;f+p<h&&(N-=S[f+p],!(N<=0));)f++,N<<=1;if(g+=1<<f,s===gv&&g>R2||s===I2&&g>M2)return 1;U=D&E,i[U]=m<<24|f<<16|W-n|0}}return D!==0&&(i[W+D]=u-p<<24|64<<16|0),l.bits=m,0};var ih=aie;const iie=0,AC=1,EC=2,{Z_FINISH:F2,Z_BLOCK:nie,Z_TREES:Pp,Z_OK:Qu,Z_STREAM_END:oie,Z_NEED_DICT:lie,Z_STREAM_ERROR:Hn,Z_DATA_ERROR:PC,Z_MEM_ERROR:yC,Z_BUF_ERROR:die,Z_DEFLATED:z2}=hf,yg=16180,B2=16181,q2=16182,$2=16183,H2=16184,G2=16185,K2=16186,Q2=16187,Y2=16188,J2=16189,vk=16190,ml=16191,xv=16192,Z2=16193,vv=16194,X2=16195,ey=16196,sy=16197,ty=16198,yp=16199,Op=16200,ry=16201,ay=16202,iy=16203,ny=16204,oy=16205,Dv=16206,ly=16207,dy=16208,Hr=16209,OC=16210,WC=16211,uie=852,cie=592,mie=15,bie=mie,uy=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function hie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nc=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<yg||e.mode>WC?1:0},UC=s=>{if(nc(s))return Hn;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=yg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uie),e.distcode=e.distdyn=new Int32Array(cie),e.sane=1,e.back=-1,Qu},VC=s=>{if(nc(s))return Hn;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,UC(s)},_C=(s,e)=>{let r;if(nc(s))return Hn;const a=s.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Hn:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=r,a.wbits=e,VC(s))},CC=(s,e)=>{if(!s)return Hn;const r=new hie;s.state=r,r.strm=s,r.window=null,r.mode=yg;const a=_C(s,e);return a!==Qu&&(s.state=null),a},fie=s=>CC(s,bie);let cy=!0,wv,jv;const pie=s=>{if(cy){wv=new Int32Array(512),jv=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(ih(AC,s.lens,0,288,wv,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;ih(EC,s.lens,0,32,jv,0,s.work,{bits:5}),cy=!1}s.lencode=wv,s.lenbits=9,s.distcode=jv,s.distbits=5},SC=(s,e,r,a)=>{let i;const n=s.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),a>=n.wsize?(n.window.set(e.subarray(r-n.wsize,r),0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>a&&(i=a),n.window.set(e.subarray(r-a,r-a+i),n.wnext),a-=i,a?(n.window.set(e.subarray(r-a,r),0),n.wnext=a,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0},Nie=(s,e)=>{let r,a,i,n,o,l,d,u,c,b,h,m,f,p,N=0,g,D,w,A,U,E,W,y;const V=new Uint8Array(4);let S,O;const _=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nc(s)||!s.output||!s.input&&s.avail_in!==0)return Hn;r=s.state,r.mode===ml&&(r.mode=xv),o=s.next_out,i=s.output,d=s.avail_out,n=s.next_in,a=s.input,l=s.avail_in,u=r.hold,c=r.bits,b=l,h=d,y=Qu;e:for(;;)switch(r.mode){case yg:if(r.wrap===0){r.mode=xv;break}for(;c<16;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,V[0]=u&255,V[1]=u>>>8&255,r.check=$a(r.check,V,2,0),u=0,c=0,r.mode=B2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){s.msg="incorrect header check",r.mode=Hr;break}if((u&15)!==z2){s.msg="unknown compression method",r.mode=Hr;break}if(u>>>=4,c-=4,W=(u&15)+8,r.wbits===0&&(r.wbits=W),W>15||W>r.wbits){s.msg="invalid window size",r.mode=Hr;break}r.dmax=1<<r.wbits,r.flags=0,s.adler=r.check=1,r.mode=u&512?J2:ml,u=0,c=0;break;case B2:for(;c<16;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==z2){s.msg="unknown compression method",r.mode=Hr;break}if(r.flags&57344){s.msg="unknown header flags set",r.mode=Hr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=$a(r.check,V,2,0)),u=0,c=0,r.mode=q2;case q2:for(;c<32;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,V[2]=u>>>16&255,V[3]=u>>>24&255,r.check=$a(r.check,V,4,0)),u=0,c=0,r.mode=$2;case $2:for(;c<16;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=$a(r.check,V,2,0)),u=0,c=0,r.mode=H2;case H2:if(r.flags&1024){for(;c<16;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(V[0]=u&255,V[1]=u>>>8&255,r.check=$a(r.check,V,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=G2;case G2:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(W=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(n,n+m),W)),r.flags&512&&r.wrap&4&&(r.check=$a(r.check,a,m,n)),l-=m,n+=m,r.length-=m),r.length))break e;r.length=0,r.mode=K2;case K2:if(r.flags&2048){if(l===0)break e;m=0;do W=a[n+m++],r.head&&W&&r.length<65536&&(r.head.name+=String.fromCharCode(W));while(W&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=$a(r.check,a,m,n)),l-=m,n+=m,W)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Q2;case Q2:if(r.flags&4096){if(l===0)break e;m=0;do W=a[n+m++],r.head&&W&&r.length<65536&&(r.head.comment+=String.fromCharCode(W));while(W&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=$a(r.check,a,m,n)),l-=m,n+=m,W)break e}else r.head&&(r.head.comment=null);r.mode=Y2;case Y2:if(r.flags&512){for(;c<16;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){s.msg="header crc mismatch",r.mode=Hr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),s.adler=r.check=0,r.mode=ml;break;case J2:for(;c<32;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}s.adler=r.check=uy(u),u=0,c=0,r.mode=vk;case vk:if(r.havedict===0)return s.next_out=o,s.avail_out=d,s.next_in=n,s.avail_in=l,r.hold=u,r.bits=c,lie;s.adler=r.check=1,r.mode=ml;case ml:if(e===nie||e===Pp)break e;case xv:if(r.last){u>>>=c&7,c-=c&7,r.mode=Dv;break}for(;c<3;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=Z2;break;case 1:if(pie(r),r.mode=yp,e===Pp){u>>>=2,c-=2;break e}break;case 2:r.mode=ey;break;case 3:s.msg="invalid block type",r.mode=Hr}u>>>=2,c-=2;break;case Z2:for(u>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){s.msg="invalid stored block lengths",r.mode=Hr;break}if(r.length=u&65535,u=0,c=0,r.mode=vv,e===Pp)break e;case vv:r.mode=X2;case X2:if(m=r.length,m){if(m>l&&(m=l),m>d&&(m=d),m===0)break e;i.set(a.subarray(n,n+m),o),l-=m,n+=m,d-=m,o+=m,r.length-=m;break}r.mode=ml;break;case ey:for(;c<14;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){s.msg="too many length or distance symbols",r.mode=Hr;break}r.have=0,r.mode=sy;case sy:for(;r.have<r.ncode;){for(;c<3;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.lens[_[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[_[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},y=ih(iie,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,y){s.msg="invalid code lengths set",r.mode=Hr;break}r.have=0,r.mode=ty;case ty:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[u&(1<<r.lenbits)-1],g=N>>>24,D=N>>>16&255,w=N&65535,!(g<=c);){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(w<16)u>>>=g,c-=g,r.lens[r.have++]=w;else{if(w===16){for(O=g+2;c<O;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(u>>>=g,c-=g,r.have===0){s.msg="invalid bit length repeat",r.mode=Hr;break}W=r.lens[r.have-1],m=3+(u&3),u>>>=2,c-=2}else if(w===17){for(O=g+3;c<O;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}u>>>=g,c-=g,W=0,m=3+(u&7),u>>>=3,c-=3}else{for(O=g+7;c<O;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}u>>>=g,c-=g,W=0,m=11+(u&127),u>>>=7,c-=7}if(r.have+m>r.nlen+r.ndist){s.msg="invalid bit length repeat",r.mode=Hr;break}for(;m--;)r.lens[r.have++]=W}}if(r.mode===Hr)break;if(r.lens[256]===0){s.msg="invalid code -- missing end-of-block",r.mode=Hr;break}if(r.lenbits=9,S={bits:r.lenbits},y=ih(AC,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,y){s.msg="invalid literal/lengths set",r.mode=Hr;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},y=ih(EC,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,y){s.msg="invalid distances set",r.mode=Hr;break}if(r.mode=yp,e===Pp)break e;case yp:r.mode=Op;case Op:if(l>=6&&d>=258){s.next_out=o,s.avail_out=d,s.next_in=n,s.avail_in=l,r.hold=u,r.bits=c,Xae(s,h),o=s.next_out,i=s.output,d=s.avail_out,n=s.next_in,a=s.input,l=s.avail_in,u=r.hold,c=r.bits,r.mode===ml&&(r.back=-1);break}for(r.back=0;N=r.lencode[u&(1<<r.lenbits)-1],g=N>>>24,D=N>>>16&255,w=N&65535,!(g<=c);){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(D&&!(D&240)){for(A=g,U=D,E=w;N=r.lencode[E+((u&(1<<A+U)-1)>>A)],g=N>>>24,D=N>>>16&255,w=N&65535,!(A+g<=c);){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}u>>>=A,c-=A,r.back+=A}if(u>>>=g,c-=g,r.back+=g,r.length=w,D===0){r.mode=oy;break}if(D&32){r.back=-1,r.mode=ml;break}if(D&64){s.msg="invalid literal/length code",r.mode=Hr;break}r.extra=D&15,r.mode=ry;case ry:if(r.extra){for(O=r.extra;c<O;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ay;case ay:for(;N=r.distcode[u&(1<<r.distbits)-1],g=N>>>24,D=N>>>16&255,w=N&65535,!(g<=c);){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(!(D&240)){for(A=g,U=D,E=w;N=r.distcode[E+((u&(1<<A+U)-1)>>A)],g=N>>>24,D=N>>>16&255,w=N&65535,!(A+g<=c);){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}u>>>=A,c-=A,r.back+=A}if(u>>>=g,c-=g,r.back+=g,D&64){s.msg="invalid distance code",r.mode=Hr;break}r.offset=w,r.extra=D&15,r.mode=iy;case iy:if(r.extra){for(O=r.extra;c<O;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){s.msg="invalid distance too far back",r.mode=Hr;break}r.mode=ny;case ny:if(d===0)break e;if(m=h-d,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){s.msg="invalid distance too far back",r.mode=Hr;break}m>r.wnext?(m-=r.wnext,f=r.wsize-m):f=r.wnext-m,m>r.length&&(m=r.length),p=r.window}else p=i,f=o-r.offset,m=r.length;m>d&&(m=d),d-=m,r.length-=m;do i[o++]=p[f++];while(--m);r.length===0&&(r.mode=Op);break;case oy:if(d===0)break e;i[o++]=r.length,d--,r.mode=Op;break;case Dv:if(r.wrap){for(;c<32;){if(l===0)break e;l--,u|=a[n++]<<c,c+=8}if(h-=d,s.total_out+=h,r.total+=h,r.wrap&4&&h&&(s.adler=r.check=r.flags?$a(r.check,i,h,o-h):Lh(r.check,i,h,o-h)),h=d,r.wrap&4&&(r.flags?u:uy(u))!==r.check){s.msg="incorrect data check",r.mode=Hr;break}u=0,c=0}r.mode=ly;case ly:if(r.wrap&&r.flags){for(;c<32;){if(l===0)break e;l--,u+=a[n++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){s.msg="incorrect length check",r.mode=Hr;break}u=0,c=0}r.mode=dy;case dy:y=oie;break e;case Hr:y=PC;break e;case OC:return yC;case WC:default:return Hn}return s.next_out=o,s.avail_out=d,s.next_in=n,s.avail_in=l,r.hold=u,r.bits=c,(r.wsize||h!==s.avail_out&&r.mode<Hr&&(r.mode<Dv||e!==F2))&&SC(s,s.output,s.next_out,h-s.avail_out),b-=s.avail_in,h-=s.avail_out,s.total_in+=b,s.total_out+=h,r.total+=h,r.wrap&4&&h&&(s.adler=r.check=r.flags?$a(r.check,i,h,s.next_out-h):Lh(r.check,i,h,s.next_out-h)),s.data_type=r.bits+(r.last?64:0)+(r.mode===ml?128:0)+(r.mode===yp||r.mode===vv?256:0),(b===0&&h===0||e===F2)&&y===Qu&&(y=die),y},kie=s=>{if(nc(s))return Hn;let e=s.state;return e.window&&(e.window=null),s.state=null,Qu},gie=(s,e)=>{if(nc(s))return Hn;const r=s.state;return r.wrap&2?(r.head=e,e.done=!1,Qu):Hn},xie=(s,e)=>{const r=e.length;let a,i,n;return nc(s)||(a=s.state,a.wrap!==0&&a.mode!==vk)?Hn:a.mode===vk&&(i=1,i=Lh(i,e,r,0),i!==a.check)?PC:(n=SC(s,e,r,r),n?(a.mode=OC,yC):(a.havedict=1,Qu))};var vie=VC,Die=_C,wie=UC,jie=fie,Aie=CC,Eie=Nie,Pie=kie,yie=gie,Oie=xie,Wie="pako inflate (from Nodeca project)",Nl={inflateReset:vie,inflateReset2:Die,inflateResetKeep:wie,inflateInit:jie,inflateInit2:Aie,inflate:Eie,inflateEnd:Pie,inflateGetHeader:yie,inflateSetDictionary:Oie,inflateInfo:Wie};function Uie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vie=Uie;const TC=Object.prototype.toString,{Z_NO_FLUSH:_ie,Z_FINISH:Cie,Z_OK:zh,Z_STREAM_END:Av,Z_NEED_DICT:Ev,Z_STREAM_ERROR:Sie,Z_DATA_ERROR:my,Z_MEM_ERROR:Tie}=hf;function pf(s){this.options=Pg.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wC,this.strm.avail_out=0;let r=Nl.inflateInit2(this.strm,e.windowBits);if(r!==zh)throw new Error(jm[r]);if(this.header=new Vie,Nl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Fh.string2buf(e.dictionary):TC.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Nl.inflateSetDictionary(this.strm,e.dictionary),r!==zh)))throw new Error(jm[r])}pf.prototype.push=function(s,e){const r=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let n,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Cie:_ie,TC.call(s)==="[object ArrayBuffer]"?r.input=new Uint8Array(s):r.input=s,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),n=Nl.inflate(r,o),n===Ev&&i&&(n=Nl.inflateSetDictionary(r,i),n===zh?n=Nl.inflate(r,o):n===my&&(n=Ev));r.avail_in>0&&n===Av&&r.state.wrap>0&&s[r.next_in]!==0;)Nl.inflateReset(r),n=Nl.inflate(r,o);switch(n){case Sie:case my:case Ev:case Tie:return this.onEnd(n),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||n===Av))if(this.options.to==="string"){let d=Fh.utf8border(r.output,r.next_out),u=r.next_out-d,c=Fh.buf2string(r.output,d);r.next_out=u,r.avail_out=a-u,u&&r.output.set(r.output.subarray(d,d+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(n===zh&&l===0)){if(n===Av)return n=Nl.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};pf.prototype.onData=function(s){this.chunks.push(s)};pf.prototype.onEnd=function(s){s===zh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pg.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function Xw(s,e){const r=new pf(e);if(r.push(s),r.err)throw r.msg||jm[r.err];return r.result}function Rie(s,e){return e=e||{},e.raw=!0,Xw(s,e)}var Mie=pf,Lie=Xw,Iie=Rie,Fie=Xw,zie=hf,Bie={Inflate:Mie,inflate:Lie,inflateRaw:Iie,ungzip:Fie,constants:zie};const{Inflate:qie,inflate:$ie,inflateRaw:Tde,ungzip:Rde}=Bie;var by=qie,Hie=$ie;const RC=[];for(let s=0;s<256;s++){let e=s;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;RC[s]=e}const hy=4294967295;function Gie(s,e,r){let a=s;for(let i=0;i<r;i++)a=RC[(a^e[i])&255]^a>>>8;return a}function Kie(s,e){return(Gie(hy,s,e)^hy)>>>0}function fy(s,e,r){const a=s.readUint32(),i=Kie(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(i!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${i}`)}function MC(s,e,r){for(let a=0;a<r;a++)e[a]=s[a]}function LC(s,e,r,a){let i=0;for(;i<a;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+e[i-a]&255}function IC(s,e,r,a){let i=0;if(r.length===0)for(;i<a;i++)e[i]=s[i];else for(;i<a;i++)e[i]=s[i]+r[i]&255}function FC(s,e,r,a,i){let n=0;if(r.length===0){for(;n<i;n++)e[n]=s[n];for(;n<a;n++)e[n]=s[n]+(e[n-i]>>1)&255}else{for(;n<i;n++)e[n]=s[n]+(r[n]>>1)&255;for(;n<a;n++)e[n]=s[n]+(e[n-i]+r[n]>>1)&255}}function zC(s,e,r,a,i){let n=0;if(r.length===0){for(;n<i;n++)e[n]=s[n];for(;n<a;n++)e[n]=s[n]+e[n-i]&255}else{for(;n<i;n++)e[n]=s[n]+r[n]&255;for(;n<a;n++)e[n]=s[n]+Qie(e[n-i],r[n],r[n-i])&255}}function Qie(s,e,r){const a=s+e-r,i=Math.abs(a-s),n=Math.abs(a-e),o=Math.abs(a-r);return i<=n&&i<=o?s:n<=o?e:r}function Yie(s,e,r,a,i,n){switch(s){case 0:MC(e,r,i);break;case 1:LC(e,r,i,n);break;case 2:IC(e,r,a,i);break;case 3:FC(e,r,a,i,n);break;case 4:zC(e,r,a,i,n);break;default:throw new Error(`Unsupported filter: ${s}`)}}const Jie=new Uint16Array([255]),Zie=new Uint8Array(Jie.buffer),Xie=Zie[0]===255;function ene(s){const{data:e,width:r,height:a,channels:i,depth:n}=s,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(n/8)*i,d=new Uint8Array(a*r*l);let u=0;for(let c=0;c<7;c++){const b=o[c],h=Math.ceil((r-b.x)/b.xStep),m=Math.ceil((a-b.y)/b.yStep);if(h<=0||m<=0)continue;const f=h*l,p=new Uint8Array(f);for(let N=0;N<m;N++){const g=e[u++],D=e.subarray(u,u+f);u+=f;const w=new Uint8Array(f);Yie(g,D,w,p,f,l),p.set(w);for(let A=0;A<h;A++){const U=b.x+A*b.xStep,E=b.y+N*b.yStep;if(!(U>=r||E>=a))for(let W=0;W<l;W++)d[(E*r+U)*l+W]=w[A*l+W]}}}if(n===16){const c=new Uint16Array(d.buffer);if(Xie)for(let b=0;b<c.length;b++)c[b]=sne(c[b]);return c}else return d}function sne(s){return(s&255)<<8|s>>8&255}const tne=new Uint16Array([255]),rne=new Uint8Array(tne.buffer),ane=rne[0]===255,ine=new Uint8Array(0);function py(s){const{data:e,width:r,height:a,channels:i,depth:n}=s,o=Math.ceil(n/8)*i,l=Math.ceil(n/8*i*r),d=new Uint8Array(a*l);let u=ine,c=0,b,h;for(let m=0;m<a;m++){switch(b=e.subarray(c+1,c+1+l),h=d.subarray(m*l,(m+1)*l),e[c]){case 0:MC(b,h,l);break;case 1:LC(b,h,l,o);break;case 2:IC(b,h,u,l);break;case 3:FC(b,h,u,l,o);break;case 4:zC(b,h,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=h,c+=l+1}if(n===16){const m=new Uint16Array(d.buffer);if(ane)for(let f=0;f<m.length;f++)m[f]=nne(m[f]);return m}else return d}function nne(s){return(s&255)<<8|s>>8&255}const sN=Uint8Array.of(137,80,78,71,13,10,26,10);function Ny(s){if(!one(s.readBytes(sN.length)))throw new Error("wrong PNG signature")}function one(s){if(s.length<sN.length)return!1;for(let e=0;e<sN.length;e++)if(s[e]!==sN[e])return!1;return!0}const lne="tEXt",dne=0,BC=new TextDecoder("latin1");function une(s){if(mne(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const cne=/^[\u0000-\u00FF]*$/;function mne(s){if(!cne.test(s))throw new Error("invalid latin1 text")}function bne(s,e,r){const a=qC(e);s[a]=hne(e,r-a.length-1)}function qC(s){for(s.mark();s.readByte()!==dne;);const e=s.offset;s.reset();const r=BC.decode(s.readBytes(e-s.offset-1));return s.skip(1),une(r),r}function hne(s,e){return BC.decode(s.readBytes(e))}const an={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Pv={UNKNOWN:-1,DEFLATE:0},ky={UNKNOWN:-1,ADAPTIVE:0},yv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Wp={NONE:0,BACKGROUND:1,PREVIOUS:2},Ov={SOURCE:0,OVER:1};class fne extends Hw{constructor(r,a={}){super(r);qs(this,"_checkCrc");qs(this,"_inflator");qs(this,"_png");qs(this,"_apng");qs(this,"_end");qs(this,"_hasPalette");qs(this,"_palette");qs(this,"_hasTransparency");qs(this,"_transparency");qs(this,"_compressionMethod");qs(this,"_filterMethod");qs(this,"_interlaceMethod");qs(this,"_colorType");qs(this,"_isAnimated");qs(this,"_numberOfFrames");qs(this,"_numberOfPlays");qs(this,"_frames");qs(this,"_writingDataChunks");const{checkCrc:i=!1}=a;this._checkCrc=i,this._inflator=new by,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Pv.UNKNOWN,this._filterMethod=ky.UNKNOWN,this._interlaceMethod=yv.UNKNOWN,this._colorType=an.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ny(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(Ny(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const i=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case lne:bne(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?fy(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const i=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?fy(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=pne(this.readUint8());const a=this.readUint8();this._colorType=a;let i;switch(a){case an.GREYSCALE:i=1;break;case an.TRUECOLOUR:i=3;break;case an.INDEXED_COLOUR:i=1;break;case an.GREYSCALE_ALPHA:i=2;break;case an.TRUECOLOUR_ALPHA:i=4;break;case an.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Pv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let n=0;n<a;n++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,i=this.offset+this.byteOffset;if(i+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,i,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case an.GREYSCALE:case an.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case an.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const i=this.readByte();this._palette[a].push(i)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case an.UNKNOWN:case an.GREYSCALE_ALPHA:case an.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=qC(this),i=this.readUint8();if(i!==Pv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const n=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:Hie(n)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:a,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=py({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)a.data=i.data;else{const n=this._apng.frames.at(r-1);this.disposeFrame(i,n,a),this.addFrameDataToCanvas(a,i)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,i){switch(r.disposeOp){case Wp.NONE:break;case Wp.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let o=0;o<this._png.width;o++){const l=(n*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[l+d]=0}break;case Wp.PREVIOUS:i.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const i=1<<this._png.depth,n=(o,l)=>{const d=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,u=(o*a.width+l)*this._png.channels;return{index:d,frameIndex:u}};switch(a.blendOp){case Ov.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:d,frameIndex:u}=n(o,l);for(let c=0;c<this._png.channels;c++)r.data[d+c]=a.data[u+c]}break;case Ov.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:d,frameIndex:u}=n(o,l);for(let c=0;c<this._png.channels;c++){const b=a.data[u+this._png.channels-1]/i,h=c%(this._png.channels-1)===0?1:a.data[u+c],m=Math.floor(b*h+(1-b)*r.data[d+c]);r.data[d+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==ky.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yv.NO_INTERLACE)this._png.data=py({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yv.ADAM7)this._png.data=ene({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wp.NONE,blendOp:Ov.SOURCE,data:r}),this._inflator=new by,this._writingDataChunks=!1}}function pne(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var gy;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(gy||(gy={}));function Nne(s,e){return new fne(s,e).decode()}var ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wv(){ut.console&&typeof ut.console.log=="function"&&ut.console.log.apply(ut.console,arguments)}var Cr={log:Wv,warn:function(s){ut.console&&(typeof ut.console.warn=="function"?ut.console.warn.apply(ut.console,arguments):Wv.call(null,arguments))},error:function(s){ut.console&&(typeof ut.console.error=="function"?ut.console.error.apply(ut.console,arguments):Wv(s))}};function Uv(s,e,r){var a=new XMLHttpRequest;a.open("GET",s),a.responseType="blob",a.onload=function(){cu(a.response,e,r)},a.onerror=function(){Cr.error("could not download file")},a.send()}function xy(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Up(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var cu=ut.saveAs||((typeof window>"u"?"undefined":wr(window))!=="object"||window!==ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,r){var a=ut.URL||ut.webkitURL,i=document.createElement("a");e=e||s.name||"download",i.download=e,i.rel="noopener",typeof s=="string"?(i.href=s,i.origin!==location.origin?xy(i.href)?Uv(s,e,r):Up(i,i.target="_blank"):Up(i)):(i.href=a.createObjectURL(s),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){Up(i)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,r){if(e=e||s.name||"download",typeof s=="string")if(xy(s))Uv(s,e,r);else{var a=document.createElement("a");a.href=s,a.target="_blank",setTimeout(function(){Up(a)})}else navigator.msSaveOrOpenBlob(function(i,n){return n===void 0?n={autoBom:!1}:wr(n)!=="object"&&(Cr.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(s,r),e)}:function(s,e,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof s=="string")return Uv(s,e,r);var i=s.type==="application/octet-stream",n=/constructor/i.test(ut.HTMLElement)||ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&n)&&(typeof FileReader>"u"?"undefined":wr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var c=l.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=c:location=c,a=null},l.readAsDataURL(s)}else{var d=ut.URL||ut.webkitURL,u=d.createObjectURL(s);a?a.location=u:location.href=u,a=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $C(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var i=r[a].re,n=r[a].process,o=i.exec(s);o&&(e=n(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+l+d+u}}var tN=ut.atob.bind(ut),vy=ut.btoa.bind(ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vv(s,e){var r=s[0],a=s[1],i=s[2],n=s[3];r=ci(r,a,i,n,e[0],7,-680876936),n=ci(n,r,a,i,e[1],12,-389564586),i=ci(i,n,r,a,e[2],17,606105819),a=ci(a,i,n,r,e[3],22,-1044525330),r=ci(r,a,i,n,e[4],7,-176418897),n=ci(n,r,a,i,e[5],12,1200080426),i=ci(i,n,r,a,e[6],17,-1473231341),a=ci(a,i,n,r,e[7],22,-45705983),r=ci(r,a,i,n,e[8],7,1770035416),n=ci(n,r,a,i,e[9],12,-1958414417),i=ci(i,n,r,a,e[10],17,-42063),a=ci(a,i,n,r,e[11],22,-1990404162),r=ci(r,a,i,n,e[12],7,1804603682),n=ci(n,r,a,i,e[13],12,-40341101),i=ci(i,n,r,a,e[14],17,-1502002290),r=mi(r,a=ci(a,i,n,r,e[15],22,1236535329),i,n,e[1],5,-165796510),n=mi(n,r,a,i,e[6],9,-1069501632),i=mi(i,n,r,a,e[11],14,643717713),a=mi(a,i,n,r,e[0],20,-373897302),r=mi(r,a,i,n,e[5],5,-701558691),n=mi(n,r,a,i,e[10],9,38016083),i=mi(i,n,r,a,e[15],14,-660478335),a=mi(a,i,n,r,e[4],20,-405537848),r=mi(r,a,i,n,e[9],5,568446438),n=mi(n,r,a,i,e[14],9,-1019803690),i=mi(i,n,r,a,e[3],14,-187363961),a=mi(a,i,n,r,e[8],20,1163531501),r=mi(r,a,i,n,e[13],5,-1444681467),n=mi(n,r,a,i,e[2],9,-51403784),i=mi(i,n,r,a,e[7],14,1735328473),r=bi(r,a=mi(a,i,n,r,e[12],20,-1926607734),i,n,e[5],4,-378558),n=bi(n,r,a,i,e[8],11,-2022574463),i=bi(i,n,r,a,e[11],16,1839030562),a=bi(a,i,n,r,e[14],23,-35309556),r=bi(r,a,i,n,e[1],4,-1530992060),n=bi(n,r,a,i,e[4],11,1272893353),i=bi(i,n,r,a,e[7],16,-155497632),a=bi(a,i,n,r,e[10],23,-1094730640),r=bi(r,a,i,n,e[13],4,681279174),n=bi(n,r,a,i,e[0],11,-358537222),i=bi(i,n,r,a,e[3],16,-722521979),a=bi(a,i,n,r,e[6],23,76029189),r=bi(r,a,i,n,e[9],4,-640364487),n=bi(n,r,a,i,e[12],11,-421815835),i=bi(i,n,r,a,e[15],16,530742520),r=hi(r,a=bi(a,i,n,r,e[2],23,-995338651),i,n,e[0],6,-198630844),n=hi(n,r,a,i,e[7],10,1126891415),i=hi(i,n,r,a,e[14],15,-1416354905),a=hi(a,i,n,r,e[5],21,-57434055),r=hi(r,a,i,n,e[12],6,1700485571),n=hi(n,r,a,i,e[3],10,-1894986606),i=hi(i,n,r,a,e[10],15,-1051523),a=hi(a,i,n,r,e[1],21,-2054922799),r=hi(r,a,i,n,e[8],6,1873313359),n=hi(n,r,a,i,e[15],10,-30611744),i=hi(i,n,r,a,e[6],15,-1560198380),a=hi(a,i,n,r,e[13],21,1309151649),r=hi(r,a,i,n,e[4],6,-145523070),n=hi(n,r,a,i,e[11],10,-1120210379),i=hi(i,n,r,a,e[2],15,718787259),a=hi(a,i,n,r,e[9],21,-343485551),s[0]=hd(r,s[0]),s[1]=hd(a,s[1]),s[2]=hd(i,s[2]),s[3]=hd(n,s[3])}function Og(s,e,r,a,i,n){return e=hd(hd(e,s),hd(a,n)),hd(e<<i|e>>>32-i,r)}function ci(s,e,r,a,i,n,o){return Og(e&r|~e&a,s,e,i,n,o)}function mi(s,e,r,a,i,n,o){return Og(e&a|r&~a,s,e,i,n,o)}function bi(s,e,r,a,i,n,o){return Og(e^r^a,s,e,i,n,o)}function hi(s,e,r,a,i,n,o){return Og(r^(e|~a),s,e,i,n,o)}function HC(s){var e,r=s.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)Vv(a,kne(s.substring(e-64,e)));s=s.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)i[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Vv(a,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Vv(a,i),a}function kne(s){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return r}var Dy="0123456789abcdef".split("");function gne(s){for(var e="",r=0;r<4;r++)e+=Dy[s>>8*r+4&15]+Dy[s>>8*r&15];return e}function xne(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function j1(s){return HC(s).map(xne).join("")}var vne=function(s){for(var e=0;e<s.length;e++)s[e]=gne(s[e]);return s.join("")}(HC("hello"))!="5d41402abc4b2a76b9719d911017c592";function hd(s,e){if(vne){var r=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(r>>16)<<16|65535&r}return s+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function A1(s,e){var r,a,i,n;if(s!==r){for(var o=(i=s,n=1+(256/s.length|0),new Array(n+1).join(i)),l=[],d=0;d<256;d++)l[d]=d;var u=0;for(d=0;d<256;d++){var c=l[d];u=(u+c+o.charCodeAt(d))%256,l[d]=l[u],l[u]=c}r=s,a=l}else l=a;var b=e.length,h=0,m=0,f="";for(d=0;d<b;d++)m=(m+(c=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=c,o=l[(l[h]+l[m])%256],f+=String.fromCharCode(e.charCodeAt(d)^o);return f}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wy={print:4,modify:8,copy:16,"annot-forms":32};function Ic(s,e,r,a){this.v=1,this.r=2;var i=192;s.forEach(function(l){if(wy.perm!==void 0)throw new Error("Invalid permission: "+l);i+=wy[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var n=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(n,o),this.P=-(1+(255^i)),this.encryptionKey=j1(n+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=A1(this.encryptionKey,this.padding)}function Fc(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",r=s.length,a=0;a<r;a++){var i=s.charCodeAt(a);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):s[a]}return e}function jy(s){if(wr(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,a,i){if(i=i||!1,typeof r!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var n=Math.random().toString(35);return e[r][n]=[a,!!i],n},this.unsubscribe=function(r){for(var a in e)if(e[a][r])return delete e[a][r],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var n in e[r]){var o=e[r][n];try{o[0].apply(s,a)}catch(l){ut.console&&Cr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(n)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dk(s){if(!(this instanceof Dk))return new Dk(s);var e="opacity,stroke-opacity".split(",");for(var r in s)s.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=s[r]);this.id="",this.objectNumber=-1}function GC(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function fu(s,e,r,a,i){if(!(this instanceof fu))return new fu(s,e,r,a,i);this.type=s==="axial"?2:3,this.coords=e,this.colors=r,GC.call(this,a,i)}function Bc(s,e,r,a,i){if(!(this instanceof Bc))return new Bc(s,e,r,a,i);this.boundingBox=s,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,GC.call(this,a,i)}function Gs(s){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],n=arguments[3],o=[],l=1,d=16,u="S",c=null;wr(s=s||{})==="object"&&(r=s.orientation,a=s.unit||a,i=s.format||i,n=s.compress||s.compressPdf||n,(c=s.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),l=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(d=s.floatPrecision),u=s.defaultPathOperation||"S"),o=s.filters||(n===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var b=s.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=jy;var f="1.3",p=m.__private__.getPdfVersion=function(){return f};m.__private__.setPdfVersion=function(j){f=j};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var g=m.__private__.getPageFormat=function(j){return N[j]};i=i||"a4";var D="compat",w="advanced",A=D;function U(){this.saveGraphicsState(),ee(new vs(ys,0,0,-ys,0,Kd()*ys).toString()+" cm"),this.setFontSize(this.getFontSize()/ys),u="n",A=w}function E(){this.restoreGraphicsState(),u="S",A=D}var W=m.__private__.combineFontStyleAndFontWeight=function(j,L){if(j=="bold"&&L=="normal"||j=="bold"&&L==400||j=="normal"&&L=="italic"||j=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(j=L==400||L==="normal"?j==="italic"?"italic":"normal":L!=700&&L!=="bold"||j!=="normal"?(L==700?"bold":L)+""+j:"bold"),j};m.advancedAPI=function(j){var L=A===D;return L&&U.call(this),typeof j!="function"||(j(this),L&&E.call(this)),this},m.compatAPI=function(j){var L=A===w;return L&&E.call(this),typeof j!="function"||(j(this),L&&U.call(this)),this},m.isAdvancedAPI=function(){return A===w};var y,V=function(j){if(A!==w)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=m.roundToPrecision=m.__private__.roundToPrecision=function(j,L){var ae=e||L;if(isNaN(j)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ae).replace(/0+$/,"")};y=m.hpf=m.__private__.hpf=typeof d=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,d)}:d==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return S(j,16)};var O=m.f2=m.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return S(j,2)},_=m.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return S(j,3)},M=m.scale=m.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return A===D?j*ys:A===w?j:void 0},R=function(j){return M(function(L){return A===D?Kd()-L:A===w?L:void 0}(j))};m.__private__.setPrecision=m.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var Q,ne="00000000000000000000000000000000",ie=m.__private__.getFileId=function(){return ne},Z=m.__private__.setFileId=function(j){return ne=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(ca=new Ic(c.userPermissions,c.userPassword,c.ownerPassword,ne)),ne};m.setFileId=function(j){return Z(j),this},m.getFileId=function(){return ie()};var Ne=m.__private__.convertDateToPDFDate=function(j){var L=j.getTimezoneOffset(),ae=L<0?"+":"-",ge=Math.floor(Math.abs(L/60)),Ae=Math.abs(L%60),Ie=[ae,J(ge),"'",J(Ae),"'"].join("");return["D:",j.getFullYear(),J(j.getMonth()+1),J(j.getDate()),J(j.getHours()),J(j.getMinutes()),J(j.getSeconds()),Ie].join("")},_e=m.__private__.convertPDFDateToDate=function(j){var L=parseInt(j.substr(2,4),10),ae=parseInt(j.substr(6,2),10)-1,ge=parseInt(j.substr(8,2),10),Ae=parseInt(j.substr(10,2),10),Ie=parseInt(j.substr(12,2),10),Xe=parseInt(j.substr(14,2),10);return new Date(L,ae,ge,Ae,Ie,Xe,0)},fe=m.__private__.setCreationDate=function(j){var L;if(j===void 0&&(j=new Date),j instanceof Date)L=Ne(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=j}return Q=L},T=m.__private__.getCreationDate=function(j){var L=Q;return j==="jsDate"&&(L=_e(Q)),L};m.setCreationDate=function(j){return fe(j),this},m.getCreationDate=function(j){return T(j)};var G,J=m.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},ce=m.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},ke=0,we=[],We=[],Oe=0,ye=[],De=[],Ye=!1,ls=We;m.__private__.setCustomOutputDestination=function(j){Ye=!0,ls=j};var pe=function(j){Ye||(ls=j)};m.__private__.resetCustomOutputDestination=function(){Ye=!1,ls=We};var ee=m.__private__.out=function(j){return j=j.toString(),Oe+=j.length+1,ls.push(j),ls},Ms=m.__private__.write=function(j){return ee(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},st=m.__private__.getArrayBuffer=function(j){for(var L=j.length,ae=new ArrayBuffer(L),ge=new Uint8Array(ae);L--;)ge[L]=j.charCodeAt(L);return ae},Ps=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ps};var Je=s.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(j){return Je=A===w?j/ys:j,this};var se,be=m.__private__.getFontSize=m.getFontSize=function(){return A===D?Je:Je*ys},Ee=s.R2L||!1;m.__private__.setR2L=m.setR2L=function(j){return Ee=j,this},m.__private__.getR2L=m.getR2L=function(){return Ee};var Se,He=m.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))se=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');se=j}else se=parseInt(j,10)};m.__private__.getZoomMode=function(){return se};var Te,qe=m.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Se=j};m.__private__.getPageMode=function(){return Se};var ks=m.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Te=j};m.__private__.getLayoutMode=function(){return Te},m.__private__.setDisplayMode=m.setDisplayMode=function(j,L,ae){return He(j),ks(L),qe(ae),this};var hs={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(j){if(Object.keys(hs).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return hs[j]},m.__private__.getDocumentProperties=function(){return hs},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(j){for(var L in hs)hs.hasOwnProperty(L)&&j[L]&&(hs[L]=j[L]);return this},m.__private__.setDocumentProperty=function(j,L){if(Object.keys(hs).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return hs[j]=L};var fs,ys,ps,$t,wt,gs={},Zs={},yt=[],zs={},bt={},tt={},Nr={},mr=null,rt=0,xs=[],it=new jy(m),Us=s.hotfixes||[],_s={},at={},Ht=[],vs=function j(L,ae,ge,Ae,Ie,Xe){if(!(this instanceof j))return new j(L,ae,ge,Ae,Ie,Xe);isNaN(L)&&(L=1),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=0),isNaN(Ae)&&(Ae=1),isNaN(Ie)&&(Ie=0),isNaN(Xe)&&(Xe=0),this._matrix=[L,ae,ge,Ae,Ie,Xe]};Object.defineProperty(vs.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(vs.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(vs.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(vs.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(vs.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(vs.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(vs.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(vs.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(vs.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(vs.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(vs.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(vs.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(vs.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vs.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vs.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vs.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vs.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(y).join(j)},vs.prototype.multiply=function(j){var L=j.sx*this.sx+j.shy*this.shx,ae=j.sx*this.shy+j.shy*this.sy,ge=j.shx*this.sx+j.sy*this.shx,Ae=j.shx*this.shy+j.sy*this.sy,Ie=j.tx*this.sx+j.ty*this.shx+this.tx,Xe=j.tx*this.shy+j.ty*this.sy+this.ty;return new vs(L,ae,ge,Ae,Ie,Xe)},vs.prototype.decompose=function(){var j=this.sx,L=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,Ie=this.ty,Xe=Math.sqrt(j*j+L*L),Os=(j/=Xe)*ae+(L/=Xe)*ge;ae-=j*Os,ge-=L*Os;var Fs=Math.sqrt(ae*ae+ge*ge);return Os/=Fs,j*(ge/=Fs)<L*(ae/=Fs)&&(j=-j,L=-L,Os=-Os,Xe=-Xe),{scale:new vs(Xe,0,0,Fs,0,0),translate:new vs(1,0,0,1,Ae,Ie),rotate:new vs(j,L,-L,j,0,0),skew:new vs(1,0,Os,1,0,0)}},vs.prototype.toString=function(j){return this.join(" ")},vs.prototype.inversed=function(){var j=this.sx,L=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,Ie=this.ty,Xe=1/(j*ge-L*ae),Os=ge*Xe,Fs=-L*Xe,mt=-ae*Xe,Nt=j*Xe;return new vs(Os,Fs,mt,Nt,-Os*Ae-mt*Ie,-Fs*Ae-Nt*Ie)},vs.prototype.applyToPoint=function(j){var L=j.x*this.sx+j.y*this.shx+this.tx,ae=j.x*this.shy+j.y*this.sy+this.ty;return new Hd(L,ae)},vs.prototype.applyToRectangle=function(j){var L=this.applyToPoint(j),ae=this.applyToPoint(new Hd(j.x+j.w,j.y+j.h));return new Qm(L.x,L.y,ae.x-L.x,ae.y-L.y)},vs.prototype.clone=function(){var j=this.sx,L=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,Ie=this.ty;return new vs(j,L,ae,ge,Ae,Ie)},m.Matrix=vs;var Mt=m.matrixMult=function(j,L){return L.multiply(j)},yr=new vs(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=yr;var Lt=function(j,L){if(!bt[j]){var ae=(L instanceof fu?"Sh":"P")+(Object.keys(zs).length+1).toString(10);L.id=ae,bt[j]=ae,zs[ae]=L,it.publish("addPattern",L)}};m.ShadingPattern=fu,m.TilingPattern=Bc,m.addShadingPattern=function(j,L){return V("addShadingPattern()"),Lt(j,L),this},m.beginTilingPattern=function(j){V("beginTilingPattern()"),Ym(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},m.endTilingPattern=function(j,L){V("endTilingPattern()"),L.stream=De[G].join(`
`),Lt(j,L),it.publish("endTilingPattern",L),Ht.pop().restore()};var tr,br=m.__private__.newObject=function(){var j=me();return ze(j,!0),j},me=m.__private__.newObjectDeferred=function(){return ke++,we[ke]=function(){return Oe},ke},ze=function(j,L){return L=typeof L=="boolean"&&L,we[j]=Oe,L&&ee(j+" 0 obj"),j},cs=m.__private__.newAdditionalObject=function(){var j={objId:me(),content:""};return ye.push(j),j},Is=me(),jt=me(),It=m.__private__.decodeColorString=function(j){var L=j.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length!==5||L[4]!=="k"&&L[4]!=="K"||(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var ae=parseFloat(L[0]);L=[ae,ae,ae,"r"]}for(var ge="#",Ae=0;Ae<3;Ae++)ge+=("0"+Math.floor(255*parseFloat(L[Ae])).toString(16)).slice(-2);return ge},ct=m.__private__.encodeColorString=function(j){var L;typeof j=="string"&&(j={ch1:j});var ae=j.ch1,ge=j.ch2,Ae=j.ch3,Ie=j.ch4,Xe=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var Os=new $C(ae);if(Os.ok)ae=Os.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Fs=parseInt(ae.substr(1),16);ae=Fs>>16&255,ge=Fs>>8&255,Ae=255&Fs}if(ge===void 0||Ie===void 0&&ae===ge&&ge===Ae)L=typeof ae=="string"?ae+" "+Xe[0]:j.precision===2?O(ae/255)+" "+Xe[0]:_(ae/255)+" "+Xe[0];else if(Ie===void 0||wr(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Xe[1]].join(" ");L=typeof ae=="string"?[ae,ge,Ae,Xe[1]].join(" "):j.precision===2?[O(ae/255),O(ge/255),O(Ae/255),Xe[1]].join(" "):[_(ae/255),_(ge/255),_(Ae/255),Xe[1]].join(" ")}else L=typeof ae=="string"?[ae,ge,Ae,Ie,Xe[2]].join(" "):j.precision===2?[O(ae),O(ge),O(Ae),O(Ie),Xe[2]].join(" "):[_(ae),_(ge),_(Ae),_(Ie),Xe[2]].join(" ");return L},nt=m.__private__.getFilters=function(){return o},Or=m.__private__.putStream=function(j){var L=(j=j||{}).data||"",ae=j.filters||nt(),ge=j.alreadyAppliedFilters||[],Ae=j.addLength1||!1,Ie=L.length,Xe=j.objectId,Os=function(Ca){return Ca};if(c!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Os=ca.encryptor(Xe,0));var Fs={};ae===!0&&(ae=["FlateEncode"]);var mt=j.additionalKeyValues||[],Nt=(Fs=Gs.API.processDataByFilters!==void 0?Gs.API.processDataByFilters(L,ae):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Fs.data.length!==0&&(mt.push({key:"Length",value:Fs.data.length}),Ae===!0&&mt.push({key:"Length1",value:Ie})),Nt.length!=0)if(Nt.split("/").length-1==1)mt.push({key:"Filter",value:Nt});else{mt.push({key:"Filter",value:"["+Nt+"]"});for(var lr=0;lr<mt.length;lr+=1)if(mt[lr].key==="DecodeParms"){for(var Jr=[],ja=0;ja<Fs.reverseChain.split("/").length-1;ja+=1)Jr.push("null");Jr.push(mt[lr].value),mt[lr].value="["+Jr.join(" ")+"]"}}ee("<<");for(var Tr=0;Tr<mt.length;Tr++)ee("/"+mt[Tr].key+" "+mt[Tr].value);ee(">>"),Fs.data.length!==0&&(ee("stream"),ee(Os(Fs.data)),ee("endstream"))},kr=m.__private__.putPage=function(j){var L=j.number,ae=j.data,ge=j.objId,Ae=j.contentsObjId;ze(ge,!0),ee("<</Type /Page"),ee("/Parent "+j.rootDictionaryObjId+" 0 R"),ee("/Resources "+j.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(y(j.mediaBox.bottomLeftX))+" "+parseFloat(y(j.mediaBox.bottomLeftY))+" "+y(j.mediaBox.topRightX)+" "+y(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&ee("/CropBox ["+y(j.cropBox.bottomLeftX)+" "+y(j.cropBox.bottomLeftY)+" "+y(j.cropBox.topRightX)+" "+y(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&ee("/BleedBox ["+y(j.bleedBox.bottomLeftX)+" "+y(j.bleedBox.bottomLeftY)+" "+y(j.bleedBox.topRightX)+" "+y(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&ee("/TrimBox ["+y(j.trimBox.bottomLeftX)+" "+y(j.trimBox.bottomLeftY)+" "+y(j.trimBox.topRightX)+" "+y(j.trimBox.topRightY)+"]"),j.artBox!==null&&ee("/ArtBox ["+y(j.artBox.bottomLeftX)+" "+y(j.artBox.bottomLeftY)+" "+y(j.artBox.topRightX)+" "+y(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&ee("/UserUnit "+j.userUnit),it.publish("putPage",{objId:ge,pageContext:xs[L],pageNumber:L,page:ae}),ee("/Contents "+Ae+" 0 R"),ee(">>"),ee("endobj");var Ie=ae.join(`
`);return A===w&&(Ie+=`
Q`),ze(Ae,!0),Or({data:Ie,filters:nt(),objectId:Ae}),ee("endobj"),ge},or=m.__private__.putPages=function(){var j,L,ae=[];for(j=1;j<=rt;j++)xs[j].objId=me(),xs[j].contentsObjId=me();for(j=1;j<=rt;j++)ae.push(kr({number:j,data:De[j],objId:xs[j].objId,contentsObjId:xs[j].contentsObjId,mediaBox:xs[j].mediaBox,cropBox:xs[j].cropBox,bleedBox:xs[j].bleedBox,trimBox:xs[j].trimBox,artBox:xs[j].artBox,userUnit:xs[j].userUnit,rootDictionaryObjId:Is,resourceDictionaryObjId:jt}));ze(Is,!0),ee("<</Type /Pages");var ge="/Kids [";for(L=0;L<rt;L++)ge+=ae[L]+" 0 R ";ee(ge+"]"),ee("/Count "+rt),ee(">>"),ee("endobj"),it.publish("postPutPages")},Da=function(j){it.publish("putFont",{font:j,out:ee,newObject:br,putStream:Or}),j.isAlreadyPutted!==!0&&(j.objectNumber=br(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Fc(j.postScriptName)),ee("/Subtype /Type1"),typeof j.encoding=="string"&&ee("/Encoding /"+j.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Qi=function(j){j.objectNumber=br();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[y(j.x),y(j.y),y(j.x+j.width),y(j.y+j.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ae=j.pages[1].join(`
`);Or({data:ae,additionalKeyValues:L,objectId:j.objectNumber}),ee("endobj")},Ui=function(j,L){L||(L=21);var ae=br(),ge=function(Xe,Os){var Fs,mt=[],Nt=1/(Os-1);for(Fs=0;Fs<1;Fs+=Nt)mt.push(Fs);if(mt.push(1),Xe[0].offset!=0){var lr={offset:0,color:Xe[0].color};Xe.unshift(lr)}if(Xe[Xe.length-1].offset!=1){var Jr={offset:1,color:Xe[Xe.length-1].color};Xe.push(Jr)}for(var ja="",Tr=0,Ca=0;Ca<mt.length;Ca++){for(Fs=mt[Ca];Fs>Xe[Tr+1].offset;)Tr++;var Aa=Xe[Tr].offset,Ja=(Fs-Aa)/(Xe[Tr+1].offset-Aa),wn=Xe[Tr].color,Vi=Xe[Tr+1].color;ja+=ce(Math.round((1-Ja)*wn[0]+Ja*Vi[0]).toString(16))+ce(Math.round((1-Ja)*wn[1]+Ja*Vi[1]).toString(16))+ce(Math.round((1-Ja)*wn[2]+Ja*Vi[2]).toString(16))}return ja.trim()}(j.colors,L),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+L+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Or({data:ge,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ee("endobj"),j.objectNumber=br(),ee("<< /ShadingType "+j.type),ee("/ColorSpace /DeviceRGB");var Ie="/Coords ["+y(parseFloat(j.coords[0]))+" "+y(parseFloat(j.coords[1]))+" ";j.type===2?Ie+=y(parseFloat(j.coords[2]))+" "+y(parseFloat(j.coords[3])):Ie+=y(parseFloat(j.coords[2]))+" "+y(parseFloat(j.coords[3]))+" "+y(parseFloat(j.coords[4]))+" "+y(parseFloat(j.coords[5])),ee(Ie+="]"),j.matrix&&ee("/Matrix ["+j.matrix.toString()+"]"),ee("/Function "+ae+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},ua=function(j,L){var ae=me(),ge=br();L.push({resourcesOid:ae,objectOid:ge}),j.objectNumber=ge;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+j.boundingBox.map(y).join(" ")+"]"}),Ae.push({key:"XStep",value:y(j.xStep)}),Ae.push({key:"YStep",value:y(j.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),j.matrix&&Ae.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Or({data:j.stream,additionalKeyValues:Ae,objectId:j.objectNumber}),ee("endobj")},Md=function(j){for(var L in j.objectNumber=br(),ee("<<"),j)switch(L){case"opacity":ee("/ca "+O(j[L]));break;case"stroke-opacity":ee("/CA "+O(j[L]))}ee(">>"),ee("endobj")},Ld=function(j){ze(j.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var L in ee("/Font <<"),gs)gs.hasOwnProperty(L)&&(b===!1||b===!0&&h.hasOwnProperty(L))&&ee("/"+L+" "+gs[L].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(zs).length>0){for(var L in ee("/Shading <<"),zs)zs.hasOwnProperty(L)&&zs[L]instanceof fu&&zs[L].objectNumber>=0&&ee("/"+L+" "+zs[L].objectNumber+" 0 R");it.publish("putShadingPatternDict"),ee(">>")}}(),function(L){if(Object.keys(zs).length>0){for(var ae in ee("/Pattern <<"),zs)zs.hasOwnProperty(ae)&&zs[ae]instanceof m.TilingPattern&&zs[ae].objectNumber>=0&&zs[ae].objectNumber<L&&ee("/"+ae+" "+zs[ae].objectNumber+" 0 R");it.publish("putTilingPatternDict"),ee(">>")}}(j.objectOid),function(){if(Object.keys(tt).length>0){var L;for(L in ee("/ExtGState <<"),tt)tt.hasOwnProperty(L)&&tt[L].objectNumber>=0&&ee("/"+L+" "+tt[L].objectNumber+" 0 R");it.publish("putGStateDict"),ee(">>")}}(),function(){for(var L in ee("/XObject <<"),_s)_s.hasOwnProperty(L)&&_s[L].objectNumber>=0&&ee("/"+L+" "+_s[L].objectNumber+" 0 R");it.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},lc=function(j){Zs[j.fontName]=Zs[j.fontName]||{},Zs[j.fontName][j.fontStyle]=j.id},Nf=function(j,L,ae,ge,Ae){var Ie={id:"F"+(Object.keys(gs).length+1).toString(10),postScriptName:j,fontName:L,fontStyle:ae,encoding:ge,isStandardFont:Ae||!1,metadata:{}};return it.publish("addFont",{font:Ie,instance:this}),gs[Ie.id]=Ie,lc(Ie),Ie.id},Dn=m.__private__.pdfEscape=m.pdfEscape=function(j,L){return function(ae,ge){var Ae,Ie,Xe,Os,Fs,mt,Nt,lr,Jr;if(Xe=(ge=ge||{}).sourceEncoding||"Unicode",Fs=ge.outputEncoding,(ge.autoencode||Fs)&&gs[fs].metadata&&gs[fs].metadata[Xe]&&gs[fs].metadata[Xe].encoding&&(Os=gs[fs].metadata[Xe].encoding,!Fs&&gs[fs].encoding&&(Fs=gs[fs].encoding),!Fs&&Os.codePages&&(Fs=Os.codePages[0]),typeof Fs=="string"&&(Fs=Os[Fs]),Fs)){for(Nt=!1,mt=[],Ae=0,Ie=ae.length;Ae<Ie;Ae++)(lr=Fs[ae.charCodeAt(Ae)])?mt.push(String.fromCharCode(lr)):mt.push(ae[Ae]),mt[Ae].charCodeAt(0)>>8&&(Nt=!0);ae=mt.join("")}for(Ae=ae.length;Nt===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(Nt=!0),Ae--;if(!Nt)return ae;for(mt=ge.noBOM?[]:[254,255],Ae=0,Ie=ae.length;Ae<Ie;Ae++){if((Jr=(lr=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(Jr),mt.push(lr-(Jr<<8))}return String.fromCharCode.apply(void 0,mt)}(j,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Im=m.__private__.beginPage=function(j){De[++rt]=[],xs[rt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},gf(rt),pe(De[G])},kf=function(j,L){var ae,ge,Ae;switch(r=L||r,typeof j=="string"&&(ae=g(j.toLowerCase()),Array.isArray(ae)&&(ge=ae[0],Ae=ae[1])),Array.isArray(j)&&(ge=j[0]*ys,Ae=j[1]*ys),isNaN(ge)&&(ge=i[0],Ae=i[1]),(ge>14400||Ae>14400)&&(Cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ae=Math.min(14400,Ae)),i=[ge,Ae],r.substr(0,1)){case"l":Ae>ge&&(i=[Ae,ge]);break;case"p":ge>Ae&&(i=[Ae,ge])}Im(i),Lg($m),ee(uc),Gm!==0&&ee(Gm+" J"),Km!==0&&ee(Km+" j"),it.publish("addPage",{pageNumber:rt})},Fm=function(j){j>0&&j<=rt&&(De.splice(j,1),xs.splice(j,1),rt--,G>rt&&(G=rt),this.setPage(G))},gf=function(j){j>0&&j<=rt&&(G=j)},xf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return De.length-1},vf=function(j,L,ae){var ge,Ae=void 0;return ae=ae||{},j=j!==void 0?j:gs[fs].fontName,L=L!==void 0?L:gs[fs].fontStyle,ge=j.toLowerCase(),Zs[ge]!==void 0&&Zs[ge][L]!==void 0?Ae=Zs[ge][L]:Zs[j]!==void 0&&Zs[j][L]!==void 0?Ae=Zs[j][L]:ae.disableWarning===!1&&Cr.warn("Unable to look up font label for font '"+j+"', '"+L+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=Zs.times[L])==null&&(Ae=Zs.times.normal),Ae},dc=m.__private__.putInfo=function(){var j=br(),L=function(ge){return ge};for(var ae in c!==null&&(L=ca.encryptor(j,0)),ee("<<"),ee("/Producer ("+Dn(L("jsPDF "+Gs.version))+")"),hs)hs.hasOwnProperty(ae)&&hs[ae]&&ee("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Dn(L(hs[ae]))+")");ee("/CreationDate ("+Dn(L(Q))+")"),ee(">>"),ee("endobj")},Ug=m.__private__.putCatalog=function(j){var L=(j=j||{}).rootDictionaryObjId||Is;switch(br(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+L+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+se;ae.substr(ae.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+O(se)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Se&&ee("/PageMode /"+Se),it.publish("putCatalog"),ee(">>"),ee("endobj")},wa=m.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ke+1)),ee("/Root "+ke+" 0 R"),ee("/Info "+(ke-1)+" 0 R"),c!==null&&ee("/Encrypt "+ca.oid+" 0 R"),ee("/ID [ <"+ne+"> <"+ne+"> ]"),ee(">>")},Df=m.__private__.putHeader=function(){ee("%PDF-"+f),ee("%")},wf=m.__private__.putXRef=function(){var j="0000000000";ee("xref"),ee("0 "+(ke+1)),ee("0000000000 65535 f ");for(var L=1;L<=ke;L++)typeof we[L]=="function"?ee((j+we[L]()).slice(-10)+" 00000 n "):we[L]!==void 0?ee((j+we[L]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Go=m.__private__.buildDocument=function(){var j;ke=0,Oe=0,We=[],we=[],ye=[],Is=me(),jt=me(),pe(We),it.publish("buildDocument"),Df(),or(),function(){it.publish("putAdditionalObjects");for(var ae=0;ae<ye.length;ae++){var ge=ye[ae];ze(ge.objId,!0),ee(ge.content),ee("endobj")}it.publish("postPutAdditionalObjects")}(),j=[],function(){for(var ae in gs)gs.hasOwnProperty(ae)&&(b===!1||b===!0&&h.hasOwnProperty(ae))&&Da(gs[ae])}(),function(){var ae;for(ae in tt)tt.hasOwnProperty(ae)&&Md(tt[ae])}(),function(){for(var ae in _s)_s.hasOwnProperty(ae)&&Qi(_s[ae])}(),function(ae){var ge;for(ge in zs)zs.hasOwnProperty(ge)&&(zs[ge]instanceof fu?Ui(zs[ge]):zs[ge]instanceof Bc&&ua(zs[ge],ae))}(j),it.publish("putResources"),j.forEach(Ld),Ld({resourcesOid:jt,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources"),c!==null&&(ca.oid=br(),ee("<<"),ee("/Filter /Standard"),ee("/V "+ca.v),ee("/R "+ca.r),ee("/U <"+ca.toHexString(ca.U)+">"),ee("/O <"+ca.toHexString(ca.O)+">"),ee("/P "+ca.P),ee(">>"),ee("endobj")),dc(),Ug();var L=Oe;return wf(),wa(),ee("startxref"),ee(""+L),ee("%%EOF"),pe(De[G]),We.join(`
`)},Id=m.__private__.getBlob=function(j){return new Blob([st(j)],{type:"application/pdf"})},Zn=m.output=m.__private__.output=(tr=function(j,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",j){case void 0:return Go();case"save":m.save(L.filename);break;case"arraybuffer":return st(Go());case"blob":return Id(Go());case"bloburi":case"bloburl":if(ut.URL!==void 0&&typeof ut.URL.createObjectURL=="function")return ut.URL&&ut.URL.createObjectURL(Id(Go()))||void 0;Cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ge=Go();try{ae=vy(ge)}catch{ae=vy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+L.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ut)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(Ae=L.pdfObjectUrl,Ie="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Os=ut.open();return Os!==null&&Os.document.write(Xe),Os}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ut)==="[object Window]"){var Fs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',mt=ut.open();if(mt!==null){mt.document.write(Fs);var Nt=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=L.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',Jr=ut.open();if(Jr!==null&&(Jr.document.write(lr),Jr.document.title=L.filename),Jr||typeof safari>"u")return Jr;break;case"datauri":case"dataurl":return ut.document.location.href=this.output("datauristring",L);default:return null}},tr.foo=function(){try{return tr.apply(this,arguments)}catch(ae){var j=ae.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var L="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ae.message;if(!ut.console)throw new Error(L);ut.console.error(L,ae),ut.alert&&alert(L)}},tr.foo.bar=tr,tr.foo),Fd=function(j){return Array.isArray(Us)===!0&&Us.indexOf(j)>-1};switch(a){case"pt":ys=1;break;case"mm":ys=72/25.4;break;case"cm":ys=72/2.54;break;case"in":ys=72;break;case"px":ys=Fd("px_scaling")==1?.75:96/72;break;case"pc":case"em":ys=12;break;case"ex":ys=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ys=a}var ca=null;fe(),Z();var zm=m.__private__.getPageInfo=m.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xs[j].objId,pageNumber:j,pageContext:xs[j]}},Vg=m.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in xs)if(xs[L].objId===j)break;return zm(L)},_g=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:xs[G].objId,pageNumber:G,pageContext:xs[G]}};m.addPage=function(){return kf.apply(this,arguments),this},m.setPage=function(){return gf.apply(this,arguments),pe.call(this,De[G]),this},m.insertPage=function(j){return this.addPage(),this.movePage(G,j),this},m.movePage=function(j,L){var ae,ge;if(j>L){ae=De[j],ge=xs[j];for(var Ae=j;Ae>L;Ae--)De[Ae]=De[Ae-1],xs[Ae]=xs[Ae-1];De[L]=ae,xs[L]=ge,this.setPage(L)}else if(j<L){ae=De[j],ge=xs[j];for(var Ie=j;Ie<L;Ie++)De[Ie]=De[Ie+1],xs[Ie]=xs[Ie+1];De[L]=ae,xs[L]=ge,this.setPage(L)}return this},m.deletePage=function(){return Fm.apply(this,arguments),this},m.__private__.text=m.text=function(j,L,ae,ge,Ae){var Ie,Xe,Os,Fs,mt,Nt,lr,Jr,ja,Tr=(ge=ge||{}).scope||this;if(typeof j=="number"&&typeof L=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Ca=ae;ae=L,L=j,j=Ca}if(arguments[3]instanceof vs==0?(Os=arguments[4],Fs=arguments[5],wr(lr=arguments[3])==="object"&&lr!==null||(typeof Os=="string"&&(Fs=Os,Os=null),typeof lr=="string"&&(Fs=lr,lr=null),typeof lr=="number"&&(Os=lr,lr=null),ge={flags:lr,angle:Os,align:Fs})):(V("The transform parameter of text() with a Matrix value"),ja=Ae),isNaN(L)||isNaN(ae)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Tr;var Aa,Ja="",wn=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Bd,Vi=Tr.internal.scaleFactor;function Uf(hr){return hr=hr.split("	").join(Array(ge.TabLen||9).join(" ")),Dn(hr,lr)}function hc(hr){for(var Vr,ba=hr.concat(),Sa=[],el=ba.length;el--;)typeof(Vr=ba.shift())=="string"?Sa.push(Vr):Array.isArray(hr)&&(Vr.length===1||Vr[1]===void 0&&Vr[2]===void 0)?Sa.push(Vr[0]):Sa.push([Vr[0],Vr[1],Vr[2]]);return Sa}function Qd(hr,Vr){var ba;if(typeof hr=="string")ba=Vr(hr)[0];else if(Array.isArray(hr)){for(var Sa,el,nb=hr.concat(),Nc=[],Cf=nb.length;Cf--;)typeof(Sa=nb.shift())=="string"?Nc.push(Vr(Sa)[0]):Array.isArray(Sa)&&typeof Sa[0]=="string"&&(el=Vr(Sa[0],Sa[1],Sa[2]),Nc.push([el[0],el[1],el[2]]));ba=Nc}return ba}var Ul=!1,Yd=!0;if(typeof j=="string")Ul=!0;else if(Array.isArray(j)){var Jd=j.concat();Xe=[];for(var Zd,di=Jd.length;di--;)(typeof(Zd=Jd.shift())!="string"||Array.isArray(Zd)&&typeof Zd[0]!="string")&&(Yd=!1);Ul=Yd}if(Ul===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Xd=Je/Tr.internal.scaleFactor,eu=Xd*(wn-1);switch(ge.baseline){case"bottom":ae-=eu;break;case"top":ae+=Xd-eu;break;case"hanging":ae+=Xd-2*eu;break;case"middle":ae+=Xd/2-eu}if((Nt=ge.maxWidth||0)>0&&(typeof j=="string"?j=Tr.splitTextToSize(j,Nt):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(hr,Vr){return hr.concat(Tr.splitTextToSize(Vr,Nt))},[]))),Ie={text:j,x:L,y:ae,options:ge,mutex:{pdfEscape:Dn,activeFontKey:fs,fonts:gs,activeFontSize:Je}},it.publish("preProcessText",Ie),j=Ie.text,Os=(ge=Ie.options).angle,ja instanceof vs==0&&Os&&typeof Os=="number"){Os*=Math.PI/180,ge.rotationDirection===0&&(Os=-Os),A===w&&(Os=-Os);var Jm=Math.cos(Os),Zm=Math.sin(Os);ja=new vs(Jm,Zm,-Zm,Jm,0,0)}else Os&&Os instanceof vs&&(ja=Os);A!==w||ja||(ja=yr),(mt=ge.charSpace||mc)!==void 0&&(Ja+=y(M(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jr=ge.horizontalScale)!==void 0&&(Ja+=y(100*Jr)+` Tz
`),ge.lang;var sa=-1,Zo=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,fc=Tr.internal.getCurrentPageInfo().pageContext;switch(Zo){case 0:case!1:case"fill":sa=0;break;case 1:case!0:case"stroke":sa=1;break;case 2:case"fillThenStroke":sa=2;break;case 3:case"invisible":sa=3;break;case 4:case"fillAndAddForClipping":sa=4;break;case 5:case"strokeAndAddPathForClipping":sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sa=6;break;case 7:case"addToPathForClipping":sa=7}var Vf=fc.usedRenderingMode!==void 0?fc.usedRenderingMode:-1;sa!==-1?Ja+=sa+` Tr
`:Vf!==-1&&(Ja+=`0 Tr
`),sa!==-1&&(fc.usedRenderingMode=sa),Fs=ge.align||"left";var jn,su=Je*wn,Xm=Tr.internal.pageSize.getWidth(),eb=gs[fs];mt=ge.charSpace||mc,Nt=ge.maxWidth||0,lr=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Vl=[],tu=function(hr){return Tr.getStringUnitWidth(hr,{font:eb,charSpace:mt,fontSize:Je,doKerning:!1})*Je/Vi};if(Object.prototype.toString.call(j)==="[object Array]"){var Yi;Xe=hc(j),Fs!=="left"&&(jn=Xe.map(tu));var Ji,_l=0;if(Fs==="right"){L-=jn[0],j=[],di=Xe.length;for(var Xo=0;Xo<di;Xo++)Xo===0?(Ji=Ko(L),Yi=Qo(ae)):(Ji=M(_l-jn[Xo]),Yi=-su),j.push([Xe[Xo],Ji,Yi]),_l=jn[Xo]}else if(Fs==="center"){L-=jn[0]/2,j=[],di=Xe.length;for(var Cl=0;Cl<di;Cl++)Cl===0?(Ji=Ko(L),Yi=Qo(ae)):(Ji=M((_l-jn[Cl])/2),Yi=-su),j.push([Xe[Cl],Ji,Yi]),_l=jn[Cl]}else if(Fs==="left"){j=[],di=Xe.length;for(var sb=0;sb<di;sb++)j.push(Xe[sb])}else if(Fs==="justify"&&eb.encoding==="Identity-H"){j=[],di=Xe.length,Nt=Nt!==0?Nt:Xm;for(var pc=0,ma=0;ma<di;ma++)if(Yi=ma===0?Qo(ae):-su,Ji=ma===0?Ko(L):pc,ma<di-1){var _f=M((Nt-jn[ma])/(Xe[ma].split(" ").length-1)),jo=Xe[ma].split(" ");j.push([jo[0]+" ",Ji,Yi]),pc=0;for(var Ao=1;Ao<jo.length;Ao++){var tb=(tu(jo[Ao-1]+" "+jo[Ao])-tu(jo[Ao]))*Vi+_f;Ao==jo.length-1?j.push([jo[Ao],tb,0]):j.push([jo[Ao]+" ",tb,0]),pc-=tb}}else j.push([Xe[ma],Ji,Yi]);j.push(["",pc,0])}else{if(Fs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],di=Xe.length,Nt=Nt!==0?Nt:Xm,ma=0;ma<di;ma++){Yi=ma===0?Qo(ae):-su,Ji=ma===0?Ko(L):0;var rb=Xe[ma].split(" ").length-1,ab=rb>0?(Nt-jn[ma])/rb:0;ma<di-1?Vl.push(y(M(ab))):Vl.push(0),j.push([Xe[ma],Ji,Yi])}}}(typeof ge.R2L=="boolean"?ge.R2L:Ee)===!0&&(j=Qd(j,function(hr,Vr,ba){return[hr.split("").reverse().join(""),Vr,ba]})),Ie={text:j,x:L,y:ae,options:ge,mutex:{pdfEscape:Dn,activeFontKey:fs,fonts:gs,activeFontSize:Je}},it.publish("postProcessText",Ie),j=Ie.text,Aa=Ie.mutex.isHex||!1;var ib=gs[fs].encoding;ib!=="WinAnsiEncoding"&&ib!=="StandardEncoding"||(j=Qd(j,function(hr,Vr,ba){return[Uf(hr),Vr,ba]})),Xe=hc(j),j=[];for(var Sl,Tl,Rl,ru=Array.isArray(Xe[0])?1:0,Ml="",au=function(hr,Vr,ba){var Sa="";return ba instanceof vs?(ba=typeof ge.angle=="number"?Mt(ba,new vs(1,0,0,1,hr,Vr)):Mt(new vs(1,0,0,1,hr,Vr),ba),A===w&&(ba=Mt(new vs(1,0,0,-1,0,0),ba)),Sa=ba.join(" ")+` Tm
`):Sa=y(hr)+" "+y(Vr)+` Td
`,Sa},An=0;An<Xe.length;An++){switch(Ml="",ru){case 1:Rl=(Aa?"<":"(")+Xe[An][0]+(Aa?">":")"),Sl=parseFloat(Xe[An][1]),Tl=parseFloat(Xe[An][2]);break;case 0:Rl=(Aa?"<":"(")+Xe[An]+(Aa?">":")"),Sl=Ko(L),Tl=Qo(ae)}Vl!==void 0&&Vl[An]!==void 0&&(Ml=Vl[An]+` Tw
`),An===0?j.push(Ml+au(Sl,Tl,ja)+Rl):ru===0?j.push(Ml+Rl):ru===1&&j.push(Ml+au(Sl,Tl,ja)+Rl)}j=ru===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Eo=`BT
/`;return Eo+=fs+" "+Je+` Tf
`,Eo+=y(Je*wn)+` TL
`,Eo+=qd+`
`,Eo+=Ja,Eo+=j,ee(Eo+="ET"),h[fs]=!0,Tr};var Cg=m.__private__.clip=m.clip=function(j){return ee(j==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Cg("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ee("n"),this};var wo=m.__private__.isValidStyle=function(j){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(L=!0),L};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(j){return wo(j)&&(u=j),this};var jf=m.__private__.getStyle=m.getStyle=function(j){var L=u;switch(j){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=j}return L},Af=m.close=function(){return ee("h"),this};m.stroke=function(){return ee("S"),this},m.fill=function(j){return Ol("f",j),this},m.fillEvenOdd=function(j){return Ol("f*",j),this},m.fillStroke=function(j){return Ol("B",j),this},m.fillStrokeEvenOdd=function(j){return Ol("B*",j),this};var Ol=function(j,L){wr(L)==="object"?Tg(L,j):ee(j)},Bm=function(j){j===null||A===w&&j===void 0||(j=jf(j),ee(j))};function Sg(j,L,ae,ge,Ae){var Ie=new Bc(L||this.boundingBox,ae||this.xStep,ge||this.yStep,this.gState,Ae||this.matrix);Ie.stream=this.stream;var Xe=j+"$$"+this.cloneIndex+++"$$";return Lt(Xe,Ie),Ie}var Tg=function(j,L){var ae=bt[j.key],ge=zs[ae];if(ge instanceof fu)ee("q"),ee(Rg(L)),ge.gState&&m.setGState(ge.gState),ee(j.matrix.toString()+" cm"),ee("/"+ae+" sh"),ee("Q");else if(ge instanceof Bc){var Ae=new vs(1,0,0,-1,0,Kd());j.matrix&&(Ae=Ae.multiply(j.matrix||yr),ae=Sg.call(ge,j.key,j.boundingBox,j.xStep,j.yStep,Ae).id),ee("q"),ee("/Pattern cs"),ee("/"+ae+" scn"),ge.gState&&m.setGState(ge.gState),ee(L),ee("Q")}},Rg=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qm=m.moveTo=function(j,L){return ee(y(M(j))+" "+y(R(L))+" m"),this},zd=m.lineTo=function(j,L){return ee(y(M(j))+" "+y(R(L))+" l"),this},Wl=m.curveTo=function(j,L,ae,ge,Ae,Ie){return ee([y(M(j)),y(R(L)),y(M(ae)),y(R(ge)),y(M(Ae)),y(R(Ie)),"c"].join(" ")),this};m.__private__.line=m.line=function(j,L,ae,ge,Ae){if(isNaN(j)||isNaN(L)||isNaN(ae)||isNaN(ge)||!wo(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return A===D?this.lines([[ae-j,ge-L]],j,L,[1,1],Ae||"S"):this.lines([[ae-j,ge-L]],j,L,[1,1]).stroke()},m.__private__.lines=m.lines=function(j,L,ae,ge,Ae,Ie){var Xe,Os,Fs,mt,Nt,lr,Jr,ja,Tr,Ca,Aa,Ja;if(typeof j=="number"&&(Ja=ae,ae=L,L=j,j=Ja),ge=ge||[1,1],Ie=Ie||!1,isNaN(L)||isNaN(ae)||!Array.isArray(j)||!Array.isArray(ge)||!wo(Ae)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qm(L,ae),Xe=ge[0],Os=ge[1],mt=j.length,Ca=L,Aa=ae,Fs=0;Fs<mt;Fs++)(Nt=j[Fs]).length===2?(Ca=Nt[0]*Xe+Ca,Aa=Nt[1]*Os+Aa,zd(Ca,Aa)):(lr=Nt[0]*Xe+Ca,Jr=Nt[1]*Os+Aa,ja=Nt[2]*Xe+Ca,Tr=Nt[3]*Os+Aa,Ca=Nt[4]*Xe+Ca,Aa=Nt[5]*Os+Aa,Wl(lr,Jr,ja,Tr,Ca,Aa));return Ie&&Af(),Bm(Ae),this},m.path=function(j){for(var L=0;L<j.length;L++){var ae=j[L],ge=ae.c;switch(ae.op){case"m":qm(ge[0],ge[1]);break;case"l":zd(ge[0],ge[1]);break;case"c":Wl.apply(this,ge);break;case"h":Af()}}return this},m.__private__.rect=m.rect=function(j,L,ae,ge,Ae){if(isNaN(j)||isNaN(L)||isNaN(ae)||isNaN(ge)||!wo(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return A===D&&(ge=-ge),ee([y(M(j)),y(R(L)),y(M(ae)),y(M(ge)),"re"].join(" ")),Bm(Ae),this},m.__private__.triangle=m.triangle=function(j,L,ae,ge,Ae,Ie,Xe){if(isNaN(j)||isNaN(L)||isNaN(ae)||isNaN(ge)||isNaN(Ae)||isNaN(Ie)||!wo(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-j,ge-L],[Ae-ae,Ie-ge],[j-Ae,L-Ie]],j,L,[1,1],Xe,!0),this},m.__private__.roundedRect=m.roundedRect=function(j,L,ae,ge,Ae,Ie,Xe){if(isNaN(j)||isNaN(L)||isNaN(ae)||isNaN(ge)||isNaN(Ae)||isNaN(Ie)||!wo(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Os=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),Ie=Math.min(Ie,.5*ge),this.lines([[ae-2*Ae,0],[Ae*Os,0,Ae,Ie-Ie*Os,Ae,Ie],[0,ge-2*Ie],[0,Ie*Os,-Ae*Os,Ie,-Ae,Ie],[2*Ae-ae,0],[-Ae*Os,0,-Ae,-Ie*Os,-Ae,-Ie],[0,2*Ie-ge],[0,-Ie*Os,Ae*Os,-Ie,Ae,-Ie]],j+Ae,L,[1,1],Xe,!0),this},m.__private__.ellipse=m.ellipse=function(j,L,ae,ge,Ae){if(isNaN(j)||isNaN(L)||isNaN(ae)||isNaN(ge)||!wo(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ae,Xe=4/3*(Math.SQRT2-1)*ge;return qm(j+ae,L),Wl(j+ae,L-Xe,j+Ie,L-ge,j,L-ge),Wl(j-Ie,L-ge,j-ae,L-Xe,j-ae,L),Wl(j-ae,L+Xe,j-Ie,L+ge,j,L+ge),Wl(j+Ie,L+ge,j+ae,L+Xe,j+ae,L),Bm(Ae),this},m.__private__.circle=m.circle=function(j,L,ae,ge){if(isNaN(j)||isNaN(L)||isNaN(ae)||!wo(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,L,ae,ae,ge)},m.setFont=function(j,L,ae){return ae&&(L=W(L,ae)),fs=vf(j,L,{disableWarning:!1}),this};var Mg=m.__private__.getFont=m.getFont=function(){return gs[vf.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var j,L,ae={};for(j in Zs)if(Zs.hasOwnProperty(j))for(L in ae[j]=[],Zs[j])Zs[j].hasOwnProperty(L)&&ae[j].push(L);return ae},m.addFont=function(j,L,ae,ge,Ae){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ae=W(ae,ge)),Nf.call(this,j,L,ae,Ae=Ae||"Identity-H")};var Bd,$m=s.lineWidth||.200025,ht=m.__private__.getLineWidth=m.getLineWidth=function(){return $m},Lg=m.__private__.setLineWidth=m.setLineWidth=function(j){return $m=j,ee(y(M(j))+" w"),this};m.__private__.setLineDash=Gs.API.setLineDash=Gs.API.setLineDashPattern=function(j,L){if(j=j||[],L=L||0,isNaN(L)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ae){return y(M(ae))}).join(" "),L=y(M(L)),ee("["+j+"] "+L+" d"),this};var Ig=m.__private__.getLineHeight=m.getLineHeight=function(){return Je*Bd};m.__private__.getLineHeight=m.getLineHeight=function(){return Je*Bd};var Fg=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Bd=j),this},zg=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Bd};Fg(s.lineHeight);var Ko=m.__private__.getHorizontalCoordinate=function(j){return M(j)},Qo=m.__private__.getVerticalCoordinate=function(j){return A===w?j:xs[G].mediaBox.topRightY-xs[G].mediaBox.bottomLeftY-M(j)},Bg=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(j){return y(Ko(j))},qg=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(j){return y(Qo(j))},uc=s.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return It(uc)},m.__private__.setStrokeColor=m.setDrawColor=function(j,L,ae,ge){return uc=ct({ch1:j,ch2:L,ch3:ae,ch4:ge,pdfColorType:"draw",precision:2}),ee(uc),this};var Hm=s.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return It(Hm)},m.__private__.setFillColor=m.setFillColor=function(j,L,ae,ge){return Hm=ct({ch1:j,ch2:L,ch3:ae,ch4:ge,pdfColorType:"fill",precision:2}),ee(Hm),this};var qd=s.textColor||"0 g",cc=m.__private__.getTextColor=m.getTextColor=function(){return It(qd)};m.__private__.setTextColor=m.setTextColor=function(j,L,ae,ge){return qd=ct({ch1:j,ch2:L,ch3:ae,ch4:ge,pdfColorType:"text",precision:3}),this};var mc=s.charSpace,$g=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(mc||0)};m.__private__.setCharSpace=m.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mc=j,this};var Gm=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(j){var L=m.CapJoinStyles[j];if(L===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gm=L,ee(L+" J"),this};var Km=0;m.__private__.setLineJoin=m.setLineJoin=function(j){var L=m.CapJoinStyles[j];if(L===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Km=L,ee(L+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(y(M(j))+" M"),this},m.GState=Dk,m.setGState=function(j){(j=typeof j=="string"?tt[Nr[j]]:$d(null,j)).equals(mr)||(ee("/"+j.id+" gs"),mr=j)};var $d=function(j,L){if(!j||!Nr[j]){var ae=!1;for(var ge in tt)if(tt.hasOwnProperty(ge)&&tt[ge].equals(L)){ae=!0;break}if(ae)L=tt[ge];else{var Ae="GS"+(Object.keys(tt).length+1).toString(10);tt[Ae]=L,L.id=Ae}return j&&(Nr[j]=L.id),it.publish("addGState",L),L}};m.addGState=function(j,L){return $d(j,L),this},m.saveGraphicsState=function(){return ee("q"),yt.push({key:fs,size:Je,color:qd}),this},m.restoreGraphicsState=function(){ee("Q");var j=yt.pop();return fs=j.key,Je=j.size,qd=j.color,mr=null,this},m.setCurrentTransformationMatrix=function(j){return ee(j.toString()+" cm"),this},m.comment=function(j){return ee("#"+j),this};var Hd=function(j,L){var ae=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Ie){isNaN(Ie)||(ae=parseFloat(Ie))}});var ge=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Ie){isNaN(Ie)||(ge=parseFloat(Ie))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ie){Ae=Ie.toString()}}),this},Qm=function(j,L,ae,ge){Hd.call(this,j,L),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Xe){isNaN(Xe)||(Ae=parseFloat(Xe))}});var Ie=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Xe){isNaN(Xe)||(Ie=parseFloat(Xe))}}),this},bc=function(){this.page=rt,this.currentPage=G,this.pages=De.slice(0),this.pagesContext=xs.slice(0),this.x=ps,this.y=$t,this.matrix=wt,this.width=Ef(G),this.height=Yo(G),this.outputDestination=ls,this.id="",this.objectNumber=-1};bc.prototype.restore=function(){rt=this.page,G=this.currentPage,xs=this.pagesContext,De=this.pages,ps=this.x,$t=this.y,wt=this.matrix,Pf(G,this.width),Jo(G,this.height),ls=this.outputDestination};var Ym=function(j,L,ae,ge,Ae){Ht.push(new bc),rt=G=0,De=[],ps=j,$t=L,wt=Ae,Im([ae,ge])};for(var Gd in m.beginFormObject=function(j,L,ae,ge,Ae){return Ym(j,L,ae,ge,Ae),this},m.endFormObject=function(j){return function(L){if(at[L])Ht.pop().restore();else{var ae=new bc,ge="Xo"+(Object.keys(_s).length+1).toString(10);ae.id=ge,at[L]=ge,_s[ge]=ae,it.publish("addFormObject",ae),Ht.pop().restore()}}(j),this},m.doFormObject=function(j,L){var ae=_s[at[j]];return ee("q"),ee(L.toString()+" cm"),ee("/"+ae.id+" Do"),ee("Q"),this},m.getFormObject=function(j){var L=_s[at[j]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},m.save=function(j,L){return j=j||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(cu(Id(Go()),j),typeof cu.unload=="function"&&ut.setTimeout&&setTimeout(cu.unload,911),this):new Promise(function(ae,ge){try{var Ae=cu(Id(Go()),j);typeof cu.unload=="function"&&ut.setTimeout&&setTimeout(cu.unload,911),ae(Ae)}catch(Ie){ge(Ie.message)}})},Gs.API)Gs.API.hasOwnProperty(Gd)&&(Gd==="events"&&Gs.API.events.length?function(j,L){var ae,ge,Ae;for(Ae=L.length-1;Ae!==-1;Ae--)ae=L[Ae][0],ge=L[Ae][1],j.subscribe.apply(j,[ae].concat(typeof ge=="function"?[ge]:ge))}(it,Gs.API.events):m[Gd]=Gs.API[Gd]);function Ef(j){return xs[j].mediaBox.topRightX-xs[j].mediaBox.bottomLeftX}function Pf(j,L){xs[j].mediaBox.topRightX=L+xs[j].mediaBox.bottomLeftX}function Yo(j){return xs[j].mediaBox.topRightY-xs[j].mediaBox.bottomLeftY}function Jo(j,L){xs[j].mediaBox.topRightY=L+xs[j].mediaBox.bottomLeftY}var yf=m.getPageWidth=function(j){return Ef(j=j||G)/ys},Of=m.setPageWidth=function(j,L){Pf(j,L*ys)},Kd=m.getPageHeight=function(j){return Yo(j=j||G)/ys},Wf=m.setPageHeight=function(j,L){Jo(j,L*ys)};return m.internal={pdfEscape:Dn,getStyle:jf,getFont:Mg,getFontSize:be,getCharSpace:$g,getTextColor:cc,getLineHeight:Ig,getLineHeightFactor:zg,getLineWidth:ht,write:Ms,getHorizontalCoordinate:Ko,getVerticalCoordinate:Qo,getCoordinateString:Bg,getVerticalCoordinateString:qg,collections:{},newObject:br,newAdditionalObject:cs,newObjectDeferred:me,newObjectDeferredBegin:ze,getFilters:nt,putStream:Or,events:it,scaleFactor:ys,pageSize:{getWidth:function(){return yf(G)},setWidth:function(j){Of(G,j)},getHeight:function(){return Kd(G)},setHeight:function(j){Wf(G,j)}},encryptionOptions:c,encryption:ca,getEncryptor:function(j){return c!==null?ca.encryptor(j,0):function(L){return L}},output:Zn,getNumberOfPages:xf,pages:De,out:ee,f2:O,f3:_,getPageInfo:zm,getPageInfoByObjId:Vg,getCurrentPageInfo:_g,getPDFVersion:p,Point:Hd,Rectangle:Qm,Matrix:vs,hasHotfix:Fd},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return yf(G)},set:function(j){Of(G,j)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Kd(G)},set:function(j){Wf(G,j)},enumerable:!0,configurable:!0}),(function(j){for(var L=0,ae=Ps.length;L<ae;L++){var ge=Nf.call(this,j[L][0],j[L][1],j[L][2],Ps[L][3],!0);b===!1&&(h[ge]=!0);var Ae=j[L][0].split("-");lc({id:ge,fontName:Ae[0],fontStyle:Ae[1]||""})}it.publish("addFonts",{fonts:gs,dictionary:Zs})}).call(m,Ps),fs="F1",kf(i,r),it.publish("initialized"),m}Ic.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},Ic.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ic.prototype.hexToBytes=function(s){for(var e=[],r=0;r<s.length;r+=2)e.push(String.fromCharCode(parseInt(s.substr(r,2),16)));return e.join("")},Ic.prototype.processOwnerPassword=function(s,e){return A1(j1(e).substr(0,5),s)},Ic.prototype.encryptor=function(s,e){var r=j1(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return A1(r,a)}},Dk.prototype.equals=function(s){var e,r="id,objectNumber,equals";if(!s||wr(s)!==wr(this))return!1;var a=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;a++}for(e in s)s.hasOwnProperty(e)&&r.indexOf(e)<0&&a--;return a===0},Gs.API={events:[]},Gs.version="3.0.3";var ia=Gs.API,ej=1,oc=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uc=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(s){return s.toFixed(2)},Jl=function(s){return s.toFixed(5)};ia.__acroform__={};var Ki=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},Ay=function(s){return s*ej},yo=function(s){var e=new QC,r=Es.internal.getHeight(s)||0,a=Es.internal.getWidth(s)||0;return e.BBox=[0,0,Number(kt(a)),Number(kt(r))],e},Dne=ia.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},wne=ia.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},jne=ia.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},pa=ia.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jne(s,e-1)},Na=ia.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Dne(s,e-1)},ka=ia.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wne(s,e-1)},Ane=ia.__acroform__.calculateCoordinates=function(s,e){var r=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,i=s[0],n=s[1],o=s[2],l=s[3],d={};return d.lowerLeft_X=r(i)||0,d.lowerLeft_Y=a(n+l)||0,d.upperRight_X=r(i+o)||0,d.upperRight_Y=a(n)||0,[Number(kt(d.lowerLeft_X)),Number(kt(d.lowerLeft_Y)),Number(kt(d.upperRight_X)),Number(kt(d.upperRight_Y))]},Ene=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],r=s._V||s.DV,a=E1(s,r),i=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+i+" "+kt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var n=yo(s);return n.scope=s.scope,n.stream=e.join(`
`),n}},E1=function(s,e){var r=s.fontSize===0?s.maxFontSize:s.fontSize,a={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=s.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var n=r,o=Es.internal.getHeight(s)||0;o=o<0?-o:o;var l=Es.internal.getWidth(s)||0;l=l<0?-l:l;var d=function(O,_,M){if(O+1<i.length){var R=_+" "+i[O+1][0];return Vp(R,s,M).width<=l-4}return!1};n++;e:for(;n>0;){e="",n--;var u,c,b=Vp("3",s,n).height,h=s.multiline?o-n:(o-b)/2,m=h+=2,f=0,p=0,N=0;if(n<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vp(e,s,n=12).width+", FieldWidth:"+l+`
`;break}for(var g="",D=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var A=!1;if(i[w].length!==1&&N!==i[w].length-1){if((b+2)*(D+2)+2>o)continue e;g+=i[w][N],A=!0,p=w,w--}else{g=(g+=i[w][N]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var U=parseInt(w),E=d(U,g,n),W=w>=i.length-1;if(E&&!W){g+=" ",N=0;continue}if(E||W){if(W)p=U;else if(s.multiline&&(b+2)*(D+2)+2>o)continue e}else{if(!s.multiline||(b+2)*(D+2)+2>o)continue e;p=U}}for(var y="",V=f;V<=p;V++){var S=i[V];if(s.multiline){if(V===p){y+=S[N]+" ",N=(N+1)%S.length;continue}if(V===f){y+=S[S.length-1]+" ";continue}}y+=S[0]+" "}switch(y=y.substr(y.length-1)==" "?y.substr(0,y.length-1):y,c=Vp(y,s,n).width,s.textAlign){case"right":u=l-c-2;break;case"center":u=(l-c)/2;break;default:u=2}e+=kt(u)+" "+kt(m)+` Td
`,e+="("+oc(y)+`) Tj
`,e+=-kt(u)+` 0 Td
`,m=-(n+2),c=0,f=A?p:p+1,D++,g=""}break}return a.text=e,a.fontSize=n,a},Vp=function(s,e,r){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(s,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Pne={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yne=function(s,e){var r={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(r)},One=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(Pne)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ej=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new YC,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var n=a[i];n.objId=void 0,n.hasAnnotation&&yne(n,r)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(r){(function(a,i){var n=!a;for(var o in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],d=[],u=l.Rect;if(l.Rect&&(l.Rect=Ane(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Es.createDefaultAppearanceStream(l),wr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var c=Ene(l);d.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(l.appearanceStreamContent){var b="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(b+="/"+h+" ",b+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var f=m[o];typeof f=="function"&&(f=f.call(i,l)),b+="/"+o+" "+f+" ",i.internal.acroformPlugin.xForms.indexOf(f)>=0||i.internal.acroformPlugin.xForms.push(f)}}else typeof(f=m)=="function"&&(f=f.call(i,l)),b+="/"+o+" "+f,i.internal.acroformPlugin.xForms.indexOf(f)>=0||i.internal.acroformPlugin.xForms.push(f);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:l.objId}),i.internal.out("endobj")}n&&function(p,N){for(var g in p)if(p.hasOwnProperty(g)){var D=g,w=p[g];N.internal.newObjectDeferredBegin(w.objId,!0),wr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[D]}}(i.internal.acroformPlugin.xForms,i)})(r,s)}),s.internal.acroformPlugin.isInitialized=!0}},KC=ia.__acroform__.arrayToPdfArray=function(s,e,r){var a=function(o){return o};if(Array.isArray(s)){for(var i="[",n=0;n<s.length;n++)switch(n!==0&&(i+=" "),wr(s[n])){case"boolean":case"number":case"object":i+=s[n].toString();break;case"string":s[n].substr(0,1)!=="/"?(e!==void 0&&r&&(a=r.internal.getEncryptor(e)),i+="("+oc(a(s[n].toString()))+")"):i+=s[n].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_v=function(s,e,r){var a=function(i){return i};return e!==void 0&&r&&(a=r.internal.getEncryptor(e)),(s=s||"").toString(),"("+oc(a(s))+")"},To=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};To.prototype.toString=function(){return this.objId+" 0 R"},To.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},To.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(n){return n!="content"&&n!="appearanceStreamContent"&&n!="scope"&&n!="objId"&&n.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var a=e[r],i=this[a];i&&(Array.isArray(i)?s.push({key:a,value:KC(i,this.objId,this.scope)}):i instanceof To?(i.scope=this.scope,s.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&s.push({key:a,value:i}))}return s};var QC=function(){To.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){s=r.trim()},get:function(){return s||null}})};Ki(QC,To);var YC=function(){To.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oc(r(s))+")"}},set:function(r){s=r}})};Ki(YC,To);var vo=function s(){To.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(e,3)},set:function(g){g?this.F=Na(e,3):this.F=ka(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(g){a=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(g){a[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(g){a[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(g){a[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(g){a[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var n=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!n||n.length<1){if(this instanceof wk)return;n="FieldObject"+s.FieldNum++}var g=function(D){return D};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+oc(g(n))+")"},set:function(g){n=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return n},set:function(g){n=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ej:u},set:function(g){u=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof wk||this instanceof Su))return _v(b,this.objId,this.scope)},set:function(g){g=g.toString(),b=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ga==0?_v(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Ga==0?g.substr(0,1)==="("?Uc(g.substr(1,g.length-2)):Uc(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Uc(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Ga==1?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ga==0?_v(m,this.objId,this.scope):m},set:function(g){g=g.toString(),m=this instanceof Ga==0?g.substr(0,1)==="("?Uc(g.substr(1,g.length-2)):Uc(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Uc(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof Ga==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){g=!!g,p=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(g){f=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(g){g?this.Ff=Na(this.Ff,1):this.Ff=ka(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(g){g?this.Ff=Na(this.Ff,2):this.Ff=ka(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(g){g?this.Ff=Na(this.Ff,3):this.Ff=ka(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');N=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(N){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ki(vo,To);var em=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(r){s=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KC(e,this.objId,this.scope)},set:function(r){var a,i;i=[],typeof(a=r)=="string"&&(i=function(n,o,l){l||(l=1);for(var d,u=[];d=o.exec(n);)u.push(d[l]);return u}(a,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(r){r?this.Ff=Na(this.Ff,18):this.Ff=ka(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Na(this.Ff,19):this.Ff=ka(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(r){r?(this.Ff=Na(this.Ff,20),e.sort()):this.Ff=ka(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(r){r?this.Ff=Na(this.Ff,22):this.Ff=ka(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(r){r?this.Ff=Na(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(r){r?this.Ff=Na(this.Ff,27):this.Ff=ka(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(em,vo);var sm=function(){em.call(this),this.fontName="helvetica",this.combo=!1};Ki(sm,em);var tm=function(){sm.call(this),this.combo=!0};Ki(tm,sm);var rN=function(){tm.call(this),this.edit=!0};Ki(rN,tm);var Ga=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(r){r?this.Ff=Na(this.Ff,15):this.Ff=ka(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(r){r?this.Ff=Na(this.Ff,16):this.Ff=ka(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(r){r?this.Ff=Na(this.Ff,17):this.Ff=ka(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(r){r?this.Ff=Na(this.Ff,26):this.Ff=ka(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(n){return n};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,i=[];for(a in i.push("<<"),e)i.push("/"+a+" ("+oc(r(e[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){wr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}})};Ki(Ga,vo);var aN=function(){Ga.call(this),this.pushButton=!0};Ki(aN,Ga);var rm=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};Ki(rm,Ga);var wk=function(){var s,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var n,o=[];for(n in o.push("<<"),a)o.push("/"+n+" ("+oc(i(a[n]))+")");return o.push(">>"),o.join(`
`)},set:function(i){wr(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Es.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(wk,vo),rm.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=s.createAppearanceStream(r.optionName),r.caption=s.getCA()}},rm.prototype.createOption=function(s){var e=new wk;return e.Parent=this,e.optionName=s,this.Kids.push(e),Wne.call(this.scope,e),e};var iN=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Es.CheckBox.createAppearanceStream()};Ki(iN,Ga);var Su=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(e){e?this.Ff=Na(this.Ff,13):this.Ff=ka(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(e){e?this.Ff=Na(this.Ff,21):this.Ff=ka(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(e){e?this.Ff=Na(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(e){e?this.Ff=Na(this.Ff,24):this.Ff=ka(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(e){e?this.Ff=Na(this.Ff,25):this.Ff=ka(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(e){e?this.Ff=Na(this.Ff,26):this.Ff=ka(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(Su,vo);var nN=function(){Su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(s){s?this.Ff=Na(this.Ff,14):this.Ff=ka(this.Ff,14)}}),this.password=!0};Ki(nN,Su);var Es={CheckBox:{createAppearanceStream:function(){return{N:{On:Es.CheckBox.YesNormal},D:{On:Es.CheckBox.YesPushDown,Off:Es.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=[],a=s.scope.internal.getFont(s.fontName,s.fontStyle).id,i=s.scope.__private__.encodeColorString(s.color),n=E1(s,s.caption);return r.push("0.749023 g"),r.push("0 0 "+kt(Es.internal.getWidth(s))+" "+kt(Es.internal.getHeight(s))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+kt(n.fontSize)+" Tf "+i),r.push("BT"),r.push(n.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(s){var e=yo(s);e.scope=s.scope;var r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),i=[],n=Es.internal.getHeight(s),o=Es.internal.getWidth(s),l=E1(s,s.caption);return i.push("1 g"),i.push("0 0 "+kt(o)+" "+kt(n)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(o-1)+" "+kt(n-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+kt(l.fontSize)+" Tf "+a),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Es.internal.getWidth(s))+" "+kt(Es.internal.getHeight(s))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:Es.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=Es.RadioButton.Circle.YesNormal,e.D[s]=Es.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=yo(s);e.scope=s.scope;var r=[],a=Es.internal.getWidth(s)<=Es.internal.getHeight(s)?Es.internal.getWidth(s)/4:Es.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var i=Es.internal.Bezier_C,n=Number((a*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jl(Es.internal.getWidth(s)/2)+" "+Jl(Es.internal.getHeight(s)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+n+" "+n+" "+a+" 0 "+a+" c"),r.push("-"+n+" "+a+" -"+a+" "+n+" -"+a+" 0 c"),r.push("-"+a+" -"+n+" -"+n+" -"+a+" 0 -"+a+" c"),r.push(n+" -"+a+" "+a+" -"+n+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=[],a=Es.internal.getWidth(s)<=Es.internal.getHeight(s)?Es.internal.getWidth(s)/4:Es.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),n=Number((i*Es.internal.Bezier_C).toFixed(5)),o=Number((a*Es.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Es.internal.getWidth(s)/2)+" "+Jl(Es.internal.getHeight(s)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+n+" "+n+" "+i+" 0 "+i+" c"),r.push("-"+n+" "+i+" -"+i+" "+n+" -"+i+" 0 c"),r.push("-"+i+" -"+n+" -"+n+" -"+i+" 0 -"+i+" c"),r.push(n+" -"+i+" "+i+" -"+n+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Es.internal.getWidth(s)/2)+" "+Jl(Es.internal.getHeight(s)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=[],a=Es.internal.getWidth(s)<=Es.internal.getHeight(s)?Es.internal.getWidth(s)/4:Es.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),n=Number((i*Es.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jl(Es.internal.getWidth(s)/2)+" "+Jl(Es.internal.getHeight(s)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+n+" "+n+" "+i+" 0 "+i+" c"),r.push("-"+n+" "+i+" -"+i+" "+n+" -"+i+" 0 c"),r.push("-"+i+" -"+n+" -"+n+" -"+i+" 0 -"+i+" c"),r.push(n+" -"+i+" "+i+" -"+n+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:Es.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=Es.RadioButton.Cross.YesNormal,e.D[s]=Es.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=yo(s);e.scope=s.scope;var r=[],a=Es.internal.calculateCross(s);return r.push("q"),r.push("1 1 "+kt(Es.internal.getWidth(s)-2)+" "+kt(Es.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(a.x1.x)+" "+kt(a.x1.y)+" m"),r.push(kt(a.x2.x)+" "+kt(a.x2.y)+" l"),r.push(kt(a.x4.x)+" "+kt(a.x4.y)+" m"),r.push(kt(a.x3.x)+" "+kt(a.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=Es.internal.calculateCross(s),a=[];return a.push("0.749023 g"),a.push("0 0 "+kt(Es.internal.getWidth(s))+" "+kt(Es.internal.getHeight(s))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+kt(Es.internal.getWidth(s)-2)+" "+kt(Es.internal.getHeight(s)-2)+" re"),a.push("W"),a.push("n"),a.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),a.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),a.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),a.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(s){var e=yo(s);e.scope=s.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(Es.internal.getWidth(s))+" "+kt(Es.internal.getHeight(s))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+r}};Es.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=Es.internal.getWidth(s),r=Es.internal.getHeight(s),a=Math.min(e,r);return{x1:{x:(e-a)/2,y:(r-a)/2+a},x2:{x:(e-a)/2+a,y:(r-a)/2},x3:{x:(e-a)/2,y:(r-a)/2},x4:{x:(e-a)/2+a,y:(r-a)/2+a}}}},Es.internal.getWidth=function(s){var e=0;return wr(s)==="object"&&(e=Ay(s.Rect[2])),e},Es.internal.getHeight=function(s){var e=0;return wr(s)==="object"&&(e=Ay(s.Rect[3])),e};var Wne=ia.addField=function(s){if(One(this,s),!(s instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};ia.AcroFormChoiceField=em,ia.AcroFormListBox=sm,ia.AcroFormComboBox=tm,ia.AcroFormEditBox=rN,ia.AcroFormButton=Ga,ia.AcroFormPushButton=aN,ia.AcroFormRadioButton=rm,ia.AcroFormCheckBox=iN,ia.AcroFormTextField=Su,ia.AcroFormPasswordField=nN,ia.AcroFormAppearance=Es,ia.AcroForm={ChoiceField:em,ListBox:sm,ComboBox:tm,EditBox:rN,Button:Ga,PushButton:aN,RadioButton:rm,CheckBox:iN,TextField:Su,PasswordField:nN,Appearance:Es},Gs.AcroForm={ChoiceField:em,ListBox:sm,ComboBox:tm,EditBox:rN,Button:Ga,PushButton:aN,RadioButton:rm,CheckBox:iN,TextField:Su,PasswordField:nN,Appearance:Es};function JC(s){return s.reduce(function(e,r,a){return e[r]=a,e},{})}(function(s){var e="addImage_";s.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=s.__addimage__.getImageFileTypeByImageData=function(O,_){var M,R,Q,ne,ie,Z=r;if((_=_||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(E(O))for(ie in a)for(Q=a[ie],M=0;M<Q.length;M+=1){for(ne=!0,R=0;R<Q[M].length;R+=1)if(Q[M][R]!==void 0&&Q[M][R]!==O[R]){ne=!1;break}if(ne===!0){Z=ie;break}}else for(ie in a)for(Q=a[ie],M=0;M<Q.length;M+=1){for(ne=!0,R=0;R<Q[M].length;R+=1)if(Q[M][R]!==void 0&&Q[M][R]!==O.charCodeAt(R)){ne=!1;break}if(ne===!0){Z=ie;break}}return Z===r&&_!==r&&(Z=_),Z},n=function O(_){for(var M=this.internal.write,R=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:_.width}),ne.push({key:"Height",value:_.height}),_.colorSpace===g.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===g.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)&&_.transparency.length>0){for(var ie="",Z=0,Ne=_.transparency.length;Z<Ne;Z++)ie+=_.transparency[Z]+" "+_.transparency[Z]+" ";ne.push({key:"Mask",value:"["+ie+"]"})}_.sMask!==void 0&&ne.push({key:"SMask",value:_.objectId+1+" 0 R"});var _e=_.filter!==void 0?["/"+_.filter]:void 0;if(R({data:_.data,additionalKeyValues:ne,alreadyAppliedFilters:_e,objectId:_.objectId}),M("endobj"),"sMask"in _&&_.sMask!==void 0){var fe,T=(fe=_.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:_.bitsPerComponent,G={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:_.sMask};"filter"in _&&(G.decodeParameters="/Predictor ".concat(_.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(_.width),G.filter=_.filter),O.call(this,G)}if(_.colorSpace===g.INDEXED){var J=this.internal.newObject();R({data:y(new Uint8Array(_.palette)),objectId:J}),M("endobj")}},o=function(){var O=this.internal.collections[e+"images"];for(var _ in O)n.call(this,O[_])},l=function(){var O,_=this.internal.collections[e+"images"],M=this.internal.write;for(var R in _)M("/I"+(O=_[R]).index,O.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var O=this.internal.collections[e+"images"];return d.call(this),O},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(O){return typeof s["process"+O.toUpperCase()]=="function"},h=function(O){return wr(O)==="object"&&O.nodeType===1},m=function(O,_){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var M=""+O.getAttribute("src");if(M.indexOf("data:image/")===0)return tN(unescape(M).split("base64,").pop());var R=s.loadFile(M,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Q;switch(_){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return tN(O.toDataURL(Q,1).split("base64,").pop())}},f=function(O){var _=this.internal.collections[e+"images"];if(_){for(var M in _)if(O===_[M].alias)return _[M]}},p=function(O,_,M){return O||_||(O=-96,_=-96),O<0&&(O=-1*M.width*72/O/this.internal.scaleFactor),_<0&&(_=-1*M.height*72/_/this.internal.scaleFactor),O===0&&(O=_*M.width/M.height),_===0&&(_=O*M.height/M.width),[O,_]},N=function(O,_,M,R,Q,ne){var ie=p.call(this,M,R,Q),Z=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,_e=u.call(this);if(M=ie[0],R=ie[1],_e[Q.index]=Q,ne){ne*=Math.PI/180;var fe=Math.cos(ne),T=Math.sin(ne),G=function(ce){return ce.toFixed(4)},J=[G(fe),G(T),G(-1*T),G(fe),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,Z(O),Ne(_+R),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Z(M),"0","0",Z(R),"0","0","cm"].join(" "))):this.internal.write([Z(M),"0","0",Z(R),Z(O),Ne(_+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},g=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=s.__addimage__.sHashCode=function(O){var _,M,R=0;if(typeof O=="string")for(M=O.length,_=0;_<M;_++)R=(R<<5)-R+O.charCodeAt(_),R|=0;else if(E(O))for(M=O.byteLength/2,_=0;_<M;_++)R=(R<<5)-R+O[_],R|=0;return R},A=s.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var _=!0;return O.length===0&&(_=!1),O.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(_=!1),_},U=s.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var _=O.indexOf(",");return _<0?null:O.substring(0,_).trim().endsWith("base64")?O.substring(_+1):null};s.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var E=s.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},W=s.__addimage__.binaryStringToUint8Array=function(O){for(var _=O.length,M=new Uint8Array(_),R=0;R<_;R++)M[R]=O.charCodeAt(R);return M},y=s.__addimage__.arrayBufferToBinaryString=function(O){for(var _="",M=E(O)?O:new Uint8Array(O),R=0;R<M.length;R+=8192)_+=String.fromCharCode.apply(null,M.subarray(R,R+8192));return _};s.addImage=function(){var O,_,M,R,Q,ne,ie,Z,Ne;if(typeof arguments[1]=="number"?(_=r,M=arguments[1],R=arguments[2],Q=arguments[3],ne=arguments[4],ie=arguments[5],Z=arguments[6],Ne=arguments[7]):(_=arguments[1],M=arguments[2],R=arguments[3],Q=arguments[4],ne=arguments[5],ie=arguments[6],Z=arguments[7],Ne=arguments[8]),wr(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var _e=O;O=_e.imageData,_=_e.format||_||r,M=_e.x||M||0,R=_e.y||R||0,Q=_e.w||_e.width||Q,ne=_e.h||_e.height||ne,ie=_e.alias||ie,Z=_e.compression||Z,Ne=_e.rotation||_e.angle||Ne}var fe=this.internal.getFilters();if(Z===void 0&&fe.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(M)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var T=V.call(this,O,_,ie,Z);return N.call(this,M,R,Q,ne,T,Ne),this};var V=function(O,_,M,R){var Q,ne,ie;if(typeof O=="string"&&i(O)===r){O=unescape(O);var Z=S(O,!1);(Z!==""||(Z=s.loadFile(O,!0))!==void 0)&&(O=Z)}if(h(O)&&(O=m(O,_)),_=i(O,_),!b(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((ie=M)==null||ie.length===0)&&(M=function(Ne){return typeof Ne=="string"||E(Ne)?w(Ne):E(Ne.data)?w(Ne.data):null}(O)),(Q=f.call(this,M))||(O instanceof Uint8Array||_==="RGBA"||(ne=O,O=W(O)),Q=this["process"+_.toUpperCase()](O,c.call(this),M,function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in s.image_compression?Ne:D.NONE}(R),ne)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},S=s.__addimage__.convertBase64ToBinaryString=function(O,_){_=typeof _!="boolean"||_;var M,R="";if(typeof O=="string"){var Q;M=(Q=U(O))!==null&&Q!==void 0?Q:O;try{R=tN(M)}catch(ne){if(_)throw A(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};s.getImageProperties=function(O){var _,M,R="";if(h(O)&&(O=m(O)),typeof O=="string"&&i(O)===r&&((R=S(O,!1))===""&&(R=s.loadFile(O)||""),O=R),M=i(O),!b(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(O instanceof Uint8Array||(O=W(O)),!(_=this["process"+M.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=M,_}})(Gs.API),function(s){var e=function(r){if(r!==void 0&&r!="")return!0};Gs.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(r){for(var a,i,n,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,b=0;b<u.length&&!c;b++)switch((a=u[b]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){a=u[h];var m=this.internal.pdfEscape,f=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),D=a.title||"Note";n="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+m(g(a.contents))+")",n+=" /Popup "+N.objId+" 0 R",n+=" /P "+d.objId+" 0 R",n+=" /T ("+m(g(D))+") >>",p.content=n;var w=p.objId+" 0 R";n="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+w,a.open&&(n+=" /Open true"),n+=" >>",N.content=n,this.internal.write(p.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var A=a.color||"#000000";n="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(f(a.contents))+")",n+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",n+=" /Border [0 0 0]",n+=" >>",this.internal.write(n);break;case"link":if(a.options.name){var U=this.annotations._nameMap[a.options.name];a.options.pageNumber=U.page,a.options.top=U.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",n="",a.options.url)n="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(f(a.options.url))+") >>";else if(a.options.pageNumber)switch(n="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":n+=" /Fit]";break;case"FitH":n+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,n+=" /FitV "+a.options.left+"]";break;default:var E=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),n+=" /XYZ "+a.options.left+" "+E+" "+a.options.zoom+"]"}n!=""&&(n+=" >>",this.internal.write(n))}}this.internal.write("]")}}]),s.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},s.link=function(r,a,i,n,o){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:u(a),w:d(r+i),h:u(a+n)},options:o,type:"link"})},s.textWithLink=function(r,a,i,n){var o,l,d=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(n.maxWidth!==void 0){l=n.maxWidth;var c=this.splitTextToSize(r,l).length;o=Math.ceil(u*c)}else l=d,o=u;return this.text(r,a,i,n),i+=.2*u,n.align==="center"&&(a-=d/2),n.align==="right"&&(a-=d),this.link(a,i-u,l,o,n),d},s.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Gs.API),function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];s.__arabicParser__={};var n=s.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},o=s.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=s.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&n(p)&&e[p.charCodeAt(0)].length<=2},d=s.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&n(p)&&e[p.charCodeAt(0)].length>=1};var u=s.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&n(p)&&e[p.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&n(p)&&e[p.charCodeAt(0)].length>=3};var c=s.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&n(p)&&e[p.charCodeAt(0)].length==4},b=s.__arabicParser__.resolveLigatures=function(p){var N=0,g=r,D="",w=0;for(N=0;N<p.length;N+=1)g[p.charCodeAt(N)]!==void 0?(w++,typeof(g=g[p.charCodeAt(N)])=="number"&&(D+=String.fromCharCode(g),g=r,w=0),N===p.length-1&&(g=r,D+=p.charAt(N-(w-1)),N-=w-1,w=0)):(g=r,D+=p.charAt(N-w),N-=w,w=0);return D};s.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&a[p.charCodeAt(0)]!==void 0};var h=s.__arabicParser__.getCorrectForm=function(p,N,g){return o(p)?n(p)===!1?-1:!u(p)||!o(N)&&!o(g)||!o(g)&&l(N)||l(p)&&!o(N)||l(p)&&d(N)||l(p)&&l(N)?0:c(p)&&o(N)&&!l(N)&&o(g)&&u(g)?3:l(p)||!o(g)?1:2:-1},m=function(p){var N=0,g=0,D=0,w="",A="",U="",E=(p=p||"").split("\\s+"),W=[];for(N=0;N<E.length;N+=1){for(W.push(""),g=0;g<E[N].length;g+=1)w=E[N][g],A=E[N][g-1],U=E[N][g+1],o(w)?(D=h(w,A,U),W[N]+=D!==-1?String.fromCharCode(e[w.charCodeAt(0)][D]):w):W[N]+=w;W[N]=b(W[N])}return W.join(" ")},f=s.__arabicParser__.processArabic=s.processArabic=function(){var p,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(N)){var D=0;for(g=[],D=0;D<N.length;D+=1)Array.isArray(N[D])?g.push([m(N[D][0]),N[D][1],N[D][2]]):g.push([m(N[D])]);p=g}else p=m(N);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};s.events.push(["preProcessText",f])}(Gs.API),Gs.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(s){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(l){n=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,a){var i;if((r=r||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Gs.API),function(s){var e={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new n,this.internal.__cell__.pages=1},n=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(p){b=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var f=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return f},set:function(p){f=p}}),this};n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},n.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(d){return a.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},s.getTextDimensions=function(d,u){a.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),b=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,f=0,p=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var g=u.maxWidth;g>0?typeof d=="string"?d=this.splitTextToSize(d,g):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(w,A){return w.concat(N.splitTextToSize(A,g))},[])):d=Array.isArray(d)?d:[d];for(var D=0;D<d.length;D++)m<(p=this.getStringUnitWidth(d[D],{font:b})*c)&&(m=p);return m!==0&&(f=d.length),{w:m/=h,h:Math.max((f*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},s.cellAddPage=function(){a.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new n(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=s.cell=function(){var d;d=arguments[0]instanceof n?arguments[0]:new n(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,m&&h&&(this.printHeaderRow(d.lineNumber,!0),d.y+=h[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-c,d.y+c,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+c,{align:"center",baseline:"top",maxWidth:d.width-c-c}):this.text(d.text,d.x+c,d.y+c,{align:"left",baseline:"top",maxWidth:d.width-c-c})),this.internal.__cell__.lastCell=d,this};s.table=function(d,u,c,b,h){if(a.call(this),!c)throw new Error("No data for PDF table.");var m,f,p,N,g=[],D=[],w=[],A={},U={},E=[],W=[],y=(h=h||{}).autoSize||!1,V=h.printHeaders!==!1,S=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},e),_=typeof h.padding=="number"?h.padding:3,M=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=R,this.setFontSize(S),b==null)D=g=Object.keys(c[0]),w=g.map(function(){return"left"});else if(Array.isArray(b)&&wr(b[0])==="object")for(g=b.map(function(_e){return _e.name}),D=b.map(function(_e){return _e.prompt||_e.name||""}),w=b.map(function(_e){return _e.align||"left"}),m=0;m<b.length;m+=1)U[b[m].name]=.7499990551181103*b[m].width;else Array.isArray(b)&&typeof b[0]=="string"&&(D=g=b,w=g.map(function(){return"left"}));if(y||Array.isArray(b)&&typeof b[0]=="string")for(m=0;m<g.length;m+=1){for(A[N=g[m]]=c.map(function(_e){return _e[N]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(D[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=A[N],this.setFont(void 0,"normal"),p=0;p<f.length;p+=1)E.push(this.getTextDimensions(f[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[N]=Math.max.apply(null,E)+_+_,E=[]}if(V){var Q={};for(m=0;m<g.length;m+=1)Q[g[m]]={},Q[g[m]].text=D[m],Q[g[m]].align=w[m];var ne=l.call(this,Q,U);W=g.map(function(_e){return new n(d,u,U[_e],ne,Q[_e].text,void 0,Q[_e].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ie=b.reduce(function(_e,fe){return _e[fe.name]=fe.align,_e},{});for(m=0;m<c.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:c[m]},this);var Z=l.call(this,c[m],U);for(p=0;p<g.length;p+=1){var Ne=c[m][g[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:p,data:Ne},this),o.call(this,new n(d,u,U[g[p]],Z,Ne,m+2,ie[g[p]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var l=function(d,u){var c=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(d).map(function(m){var f=d[m];return this.splitTextToSize(f.hasOwnProperty("text")?f.text:f,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*b/h+c+c},this).reduce(function(m,f){return Math.max(m,f)},0)};s.setTableHeaderRow=function(d){a.call(this),this.internal.__cell__.tableHeaderRow=d},s.printHeaderRow=function(d,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new n(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=d;var f=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(f)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Gs.API);var ZC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P1=JC(XC),eS=[100,200,300,400,500,600,700,800,900],Une=JC(eS);function Cv(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),r=function(n){return ZC[n=n||"normal"]?n:"normal"}(s.style),a=function(n){return n?typeof n=="number"?n>=100&&n<=900&&n%100==0?n:400:/^\d00$/.test(n)?parseInt(n):n==="bold"?700:400:400}(s.weight),i=function(n){return typeof P1[n=n||"normal"]=="number"?n:"normal"}(s.stretch);return{family:e,style:r,weight:a,stretch:i,src:s.src||[],ref:s.ref||{name:e,style:[i,r,a].join(" ")}}}function Ey(s,e,r,a){var i;for(i=r;i>=0&&i<e.length;i+=a)if(s[e[i]])return s[e[i]];for(i=r;i>=0&&i<e.length;i-=a)if(s[e[i]])return s[e[i]]}var Vne={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Py={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yy(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function Oy(s){return s.trimLeft()}function _ne(s,e){for(var r=0;r<s.length;){if(s.charAt(r)===e)return[s.substring(0,r),s.substring(r+1)];r+=1}return null}function Cne(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var _p,Wy,Uy,Vc,Cp,Vy,_y,Cy,Sv=["times"];function Sy(s,e,r,a,i){var n=4,o=Ry;switch(i){case Gs.API.image_compression.FAST:n=1,o=Ty;break;case Gs.API.image_compression.MEDIUM:n=6,o=My;break;case Gs.API.image_compression.SLOW:n=9,o=Ly}s=function(d,u,c,b){for(var h,m=d.length/u,f=new Uint8Array(d.length+m),p=[Sne,Ty,Ry,My,Ly],N=0;N<m;N+=1){var g=N*u,D=d.subarray(g,g+u);if(b)f.set(b(D,c,h),g+N);else{for(var w=p.length,A=[],U=0;U<w;U+=1)A[U]=p[U](D,c,h);var E=Rne(A.concat());f.set(A[E],g+N)}h=D}return f}(s,e,Math.ceil(r*a/8),o);var l=h1(s,{level:n});return Gs.API.__addimage__.arrayBufferToBinaryString(l)}function Sne(s){var e=Array.apply([],s);return e.unshift(0),e}function Ty(s,e){var r=s.length,a=[];a[0]=1;for(var i=0;i<r;i+=1){var n=s[i-e]||0;a[i+1]=s[i]-n+256&255}return a}function Ry(s,e,r){var a=s.length,i=[];i[0]=2;for(var n=0;n<a;n+=1){var o=r&&r[n]||0;i[n+1]=s[n]-o+256&255}return i}function My(s,e,r){var a=s.length,i=[];i[0]=3;for(var n=0;n<a;n+=1){var o=s[n-e]||0,l=r&&r[n]||0;i[n+1]=s[n]+256-(o+l>>>1)&255}return i}function Ly(s,e,r){var a=s.length,i=[];i[0]=4;for(var n=0;n<a;n+=1){var o=Tne(s[n-e]||0,r&&r[n]||0,r&&r[n-e]||0);i[n+1]=s[n]-o+256&255}return i}function Tne(s,e,r){if(s===e&&e===r)return s;var a=Math.abs(e-r),i=Math.abs(s-r),n=Math.abs(s+e-r-r);return a<=i&&a<=n?s:i<=n?e:r}function Rne(s){var e=s.map(function(r){return r.reduce(function(a,i){return a+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Tv(s,e,r){var a=e*r,i=Math.floor(a/8),n=16-(a-8*i+r),o=(1<<r)-1;return sS(s,i)>>n&o}function Iy(s,e,r,a){var i=r*a,n=Math.floor(i/8),o=16-(i-8*n+a),l=(1<<a)-1,d=(e&l)<<o;(function(u,c,b){if(c+1<u.byteLength)u.setUint16(c,b,!1);else{var h=b>>8&255;u.setUint8(c,h)}})(s,n,sS(s,n)&~(l<<o)&65535|d)}function sS(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function Mne(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=s[e++]|s[e++]<<8,a=s[e++]|s[e++]<<8,i=s[e++],n=i>>7,o=1<<1+(7&i);s[e++],s[e++];var l=null,d=null;n&&(l=e,d=o,e+=3*o);var u=!0,c=[],b=0,h=null,m=0,f=null;for(this.width=r,this.height=a;u&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,f=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=s[e++];b=s[e++]|s[e++]<<8,h=s[e++],1&p||(h=null),m=p>>2&7,e++;break;case 254:for(;;){if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var N=s[e++]|s[e++]<<8,g=s[e++]|s[e++]<<8,D=s[e++]|s[e++]<<8,w=s[e++]|s[e++]<<8,A=s[e++],U=A>>6&1,E=1<<1+(7&A),W=l,y=d,V=!1;A>>7&&(V=!0,W=e,y=E,e+=3*E);var S=e;for(e++;;){var O;if(!((O=s[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:N,y:g,width:D,height:w,has_local_palette:V,palette_offset:W,palette_size:y,data_offset:S,data_length:e-S,transparent_index:h,interlaced:!!U,delay:b,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(_){if(_<0||_>=c.length)throw new Error("Frame index out of range.");return c[_]},this.decodeAndBlitFrameBGRA=function(_,M){var R=this.frameInfo(_),Q=R.width*R.height,ne=new Uint8Array(Q);Fy(s,R.data_offset,ne,Q);var ie=R.palette_offset,Z=R.transparent_index;Z===null&&(Z=256);var Ne=R.width,_e=r-Ne,fe=Ne,T=4*(R.y*r+R.x),G=4*((R.y+R.height)*r+R.x),J=T,ce=4*_e;R.interlaced===!0&&(ce+=4*r*7);for(var ke=8,we=0,We=ne.length;we<We;++we){var Oe=ne[we];if(fe===0&&(fe=Ne,(J+=ce)>=G&&(ce=4*_e+4*r*(ke-1),J=T+(Ne+_e)*(ke<<1),ke>>=1)),Oe===Z)J+=4;else{var ye=s[ie+3*Oe],De=s[ie+3*Oe+1],Ye=s[ie+3*Oe+2];M[J++]=Ye,M[J++]=De,M[J++]=ye,M[J++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(_,M){var R=this.frameInfo(_),Q=R.width*R.height,ne=new Uint8Array(Q);Fy(s,R.data_offset,ne,Q);var ie=R.palette_offset,Z=R.transparent_index;Z===null&&(Z=256);var Ne=R.width,_e=r-Ne,fe=Ne,T=4*(R.y*r+R.x),G=4*((R.y+R.height)*r+R.x),J=T,ce=4*_e;R.interlaced===!0&&(ce+=4*r*7);for(var ke=8,we=0,We=ne.length;we<We;++we){var Oe=ne[we];if(fe===0&&(fe=Ne,(J+=ce)>=G&&(ce=4*_e+4*r*(ke-1),J=T+(Ne+_e)*(ke<<1),ke>>=1)),Oe===Z)J+=4;else{var ye=s[ie+3*Oe],De=s[ie+3*Oe+1],Ye=s[ie+3*Oe+2];M[J++]=ye,M[J++]=De,M[J++]=Ye,M[J++]=255}--fe}}}function Fy(s,e,r,a){for(var i=s[e++],n=1<<i,o=n+1,l=o+1,d=i+1,u=(1<<d)-1,c=0,b=0,h=0,m=s[e++],f=new Int32Array(4096),p=null;;){for(;c<16&&m!==0;)b|=s[e++]<<c,c+=8,m===1?m=s[e++]:--m;if(c<d)break;var N=b&u;if(b>>=d,c-=d,N!==n){if(N===o)break;for(var g=N<l?N:p,D=0,w=g;w>n;)w=f[w]>>8,++D;var A=w;if(h+D+(g!==N?1:0)>a)return void Cr.log("Warning, gif stream longer than expected.");r[h++]=A;var U=h+=D;for(g!==N&&(r[h++]=A),w=g;D--;)w=f[w],r[--U]=255&w,w>>=8;p!==null&&l<4096&&(f[l++]=p<<8|A,l>=u+1&&d<12&&(++d,u=u<<1|1)),p=N}else l=o+1,u=(1<<(d=i+1))-1,p=null}return h!==a&&Cr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Rv(s){var e,r,a,i,n,o=Math.floor,l=new Array(64),d=new Array(64),u=new Array(64),c=new Array(64),b=new Array(65535),h=new Array(65535),m=new Array(64),f=new Array(64),p=[],N=0,g=7,D=new Array(64),w=new Array(64),A=new Array(64),U=new Array(256),E=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(T,G){for(var J=0,ce=0,ke=new Array,we=1;we<=16;we++){for(var We=1;We<=T[we];We++)ke[G[ce]]=[],ke[G[ce]][0]=J,ke[G[ce]][1]=we,ce++,J++;J*=2}return ke}function ie(T){for(var G=T[0],J=T[1]-1;J>=0;)G&1<<J&&(N|=1<<g),J--,--g<0&&(N==255?(Z(255),Z(0)):Z(N),g=7,N=0)}function Z(T){p.push(T)}function Ne(T){Z(T>>8&255),Z(255&T)}function _e(T,G,J,ce,ke){for(var we,We=ke[0],Oe=ke[240],ye=function(Je,se){var be,Ee,Se,He,Te,qe,ks,hs,fs,ys,ps=0;for(fs=0;fs<8;++fs){be=Je[ps],Ee=Je[ps+1],Se=Je[ps+2],He=Je[ps+3],Te=Je[ps+4],qe=Je[ps+5],ks=Je[ps+6];var $t=be+(hs=Je[ps+7]),wt=be-hs,gs=Ee+ks,Zs=Ee-ks,yt=Se+qe,zs=Se-qe,bt=He+Te,tt=He-Te,Nr=$t+bt,mr=$t-bt,rt=gs+yt,xs=gs-yt;Je[ps]=Nr+rt,Je[ps+4]=Nr-rt;var it=.707106781*(xs+mr);Je[ps+2]=mr+it,Je[ps+6]=mr-it;var Us=.382683433*((Nr=tt+zs)-(xs=Zs+wt)),_s=.5411961*Nr+Us,at=1.306562965*xs+Us,Ht=.707106781*(rt=zs+Zs),vs=wt+Ht,Mt=wt-Ht;Je[ps+5]=Mt+_s,Je[ps+3]=Mt-_s,Je[ps+1]=vs+at,Je[ps+7]=vs-at,ps+=8}for(ps=0,fs=0;fs<8;++fs){be=Je[ps],Ee=Je[ps+8],Se=Je[ps+16],He=Je[ps+24],Te=Je[ps+32],qe=Je[ps+40],ks=Je[ps+48];var yr=be+(hs=Je[ps+56]),Lt=be-hs,tr=Ee+ks,br=Ee-ks,me=Se+qe,ze=Se-qe,cs=He+Te,Is=He-Te,jt=yr+cs,It=yr-cs,ct=tr+me,nt=tr-me;Je[ps]=jt+ct,Je[ps+32]=jt-ct;var Or=.707106781*(nt+It);Je[ps+16]=It+Or,Je[ps+48]=It-Or;var kr=.382683433*((jt=Is+ze)-(nt=br+Lt)),or=.5411961*jt+kr,Da=1.306562965*nt+kr,Qi=.707106781*(ct=ze+br),Ui=Lt+Qi,ua=Lt-Qi;Je[ps+40]=ua+or,Je[ps+24]=ua-or,Je[ps+8]=Ui+Da,Je[ps+56]=Ui-Da,ps++}for(fs=0;fs<64;++fs)ys=Je[fs]*se[fs],m[fs]=ys>0?ys+.5|0:ys-.5|0;return m}(T,G),De=0;De<64;++De)f[W[De]]=ye[De];var Ye=f[0]-J;J=f[0],Ye==0?ie(ce[0]):(ie(ce[h[we=32767+Ye]]),ie(b[we]));for(var ls=63;ls>0&&f[ls]==0;)ls--;if(ls==0)return ie(We),J;for(var pe,ee=1;ee<=ls;){for(var Ms=ee;f[ee]==0&&ee<=ls;)++ee;var st=ee-Ms;if(st>=16){pe=st>>4;for(var Ps=1;Ps<=pe;++Ps)ie(Oe);st&=15}we=32767+f[ee],ie(ke[(st<<4)+h[we]]),ie(b[we]),ee++}return ls!=63&&ie(We),J}function fe(T){T=Math.min(Math.max(T,1),100),n!=T&&(function(G){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ke=o((J[ce]*G+50)/100);ke=Math.min(Math.max(ke,1),255),l[W[ce]]=ke}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],We=0;We<64;We++){var Oe=o((we[We]*G+50)/100);Oe=Math.min(Math.max(Oe,1),255),d[W[We]]=Oe}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Ye=0;Ye<8;Ye++)for(var ls=0;ls<8;ls++)u[De]=1/(l[W[De]]*ye[Ye]*ye[ls]*8),c[De]=1/(d[W[De]]*ye[Ye]*ye[ls]*8),De++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),n=T)}this.encode=function(T,G){G&&fe(G),p=new Array,N=0,g=7,Ne(65496),Ne(65504),Ne(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),Ne(1),Ne(1),Z(0),Z(0),function(){Ne(65499),Ne(132),Z(0);for(var Ee=0;Ee<64;Ee++)Z(l[Ee]);Z(1);for(var Se=0;Se<64;Se++)Z(d[Se])}(),function(Ee,Se){Ne(65472),Ne(17),Z(8),Ne(Se),Ne(Ee),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(T.width,T.height),function(){Ne(65476),Ne(418),Z(0);for(var Ee=0;Ee<16;Ee++)Z(y[Ee+1]);for(var Se=0;Se<=11;Se++)Z(V[Se]);Z(16);for(var He=0;He<16;He++)Z(S[He+1]);for(var Te=0;Te<=161;Te++)Z(O[Te]);Z(1);for(var qe=0;qe<16;qe++)Z(_[qe+1]);for(var ks=0;ks<=11;ks++)Z(M[ks]);Z(17);for(var hs=0;hs<16;hs++)Z(R[hs+1]);for(var fs=0;fs<=161;fs++)Z(Q[fs])}(),Ne(65498),Ne(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var J=0,ce=0,ke=0;N=0,g=7,this.encode.displayName="_encode_";for(var we,We,Oe,ye,De,Ye,ls,pe,ee,Ms=T.data,st=T.width,Ps=T.height,Je=4*st,se=0;se<Ps;){for(we=0;we<Je;){for(De=Je*se+we,ls=-1,pe=0,ee=0;ee<64;ee++)Ye=De+(pe=ee>>3)*Je+(ls=4*(7&ee)),se+pe>=Ps&&(Ye-=Je*(se+1+pe-Ps)),we+ls>=Je&&(Ye-=we+ls-Je+4),We=Ms[Ye++],Oe=Ms[Ye++],ye=Ms[Ye++],D[ee]=(E[We]+E[Oe+256|0]+E[ye+512|0]>>16)-128,w[ee]=(E[We+768|0]+E[Oe+1024|0]+E[ye+1280|0]>>16)-128,A[ee]=(E[We+1280|0]+E[Oe+1536|0]+E[ye+1792|0]>>16)-128;J=_e(D,u,J,e,a),ce=_e(w,c,ce,r,i),ke=_e(A,c,ke,r,i),we+=32}se+=8}if(g>=0){var be=[];be[1]=g+1,be[0]=(1<<g+1)-1,ie(be)}return Ne(65497),new Uint8Array(p)},s=s||50,function(){for(var T=String.fromCharCode,G=0;G<256;G++)U[G]=T(G)}(),e=ne(y,V),r=ne(_,M),a=ne(S,O),i=ne(R,Q),function(){for(var T=1,G=2,J=1;J<=15;J++){for(var ce=T;ce<G;ce++)h[32767+ce]=J,b[32767+ce]=[],b[32767+ce][1]=J,b[32767+ce][0]=ce;for(var ke=-(G-1);ke<=-T;ke++)h[32767+ke]=J,b[32767+ke]=[],b[32767+ke][1]=J,b[32767+ke][0]=G-1+ke;T<<=1,G<<=1}}(),function(){for(var T=0;T<256;T++)E[T]=19595*T,E[T+256|0]=38470*T,E[T+512|0]=7471*T+32768,E[T+768|0]=-11059*T,E[T+1024|0]=-21709*T,E[T+1280|0]=32768*T+8421375,E[T+1536|0]=-27439*T,E[T+1792|0]=-5329*T}(),fe(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zy(s){function e(V){if(!V)throw Error("assert :P")}function r(V,S,O){for(var _=0;4>_;_++)if(V[S+_]!=O.charCodeAt(_))return!0;return!1}function a(V,S,O,_,M){for(var R=0;R<M;R++)V[S+R]=O[_+R]}function i(V,S,O,_){for(var M=0;M<_;M++)V[S+M]=O}function n(V){return new Int32Array(V)}function o(V,S){for(var O=[],_=0;_<V;_++)O.push(new S);return O}function l(V,S){var O=[];return function _(M,R,Q){for(var ne=Q[R],ie=0;ie<ne&&(M.push(Q.length>R+1?[]:new S),!(Q.length<R+1));ie++)_(M[ie],R+1,Q)}(O,0,V),O}var d=function(){var V=this;function S(k,x){for(var P=1<<x-1>>>0;k&P;)P>>>=1;return P?(k&P-1)+P:k}function O(k,x,P,C,I){e(!(C%P));do k[x+(C-=P)]=I;while(0<C)}function _(k,x,P,C,I){if(e(2328>=I),512>=I)var z=n(512);else if((z=n(I))==null)return 0;return function($,K,Y,te,xe,Ve){var re,je,Pe=K,Re=1<<Y,Ue=n(16),Le=n(16);for(e(xe!=0),e(te!=null),e($!=null),e(0<Y),je=0;je<xe;++je){if(15<te[je])return 0;++Ue[te[je]]}if(Ue[0]==xe)return 0;for(Le[1]=0,re=1;15>re;++re){if(Ue[re]>1<<re)return 0;Le[re+1]=Le[re]+Ue[re]}for(je=0;je<xe;++je)re=te[je],0<te[je]&&(Ve[Le[re]++]=je);if(Le[15]==1)return(te=new M).g=0,te.value=Ve[0],O($,Pe,1,Re,te),Re;var Be,ts=-1,Ze=Re-1,Bs=0,As=1,Ut=1,Cs=1<<Y;for(je=0,re=1,xe=2;re<=Y;++re,xe<<=1){if(As+=Ut<<=1,0>(Ut-=Ue[re]))return 0;for(;0<Ue[re];--Ue[re])(te=new M).g=re,te.value=Ve[je++],O($,Pe+Bs,xe,Cs,te),Bs=S(Bs,re)}for(re=Y+1,xe=2;15>=re;++re,xe<<=1){if(As+=Ut<<=1,0>(Ut-=Ue[re]))return 0;for(;0<Ue[re];--Ue[re]){if(te=new M,(Bs&Ze)!=ts){for(Pe+=Cs,Be=1<<(ts=re)-Y;15>ts&&!(0>=(Be-=Ue[ts]));)++ts,Be<<=1;Re+=Cs=1<<(Be=ts-Y),$[K+(ts=Bs&Ze)].g=Be+Y,$[K+ts].value=Pe-K-ts}te.g=re-Y,te.value=Ve[je++],O($,Pe+(Bs>>Y),xe,Cs,te),Bs=S(Bs,re)}}return As!=2*Le[15]-1?0:Re}(k,x,P,C,I,z)}function M(){this.value=this.g=0}function R(){this.value=this.g=0}function Q(){this.G=o(5,M),this.H=n(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(tu,R)}function ne(k,x,P,C){e(k!=null),e(x!=null),e(2147483648>C),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=x,k.pa=P,k.Jd=x,k.Yc=P+C,k.Zc=4<=C?P+C-4+1:P,We(k)}function ie(k,x){for(var P=0;0<x--;)P|=ye(k,128)<<x;return P}function Z(k,x){var P=ie(k,x);return Oe(k)?-P:P}function Ne(k,x,P,C){var I,z=0;for(e(k!=null),e(x!=null),e(4294967288>C),k.Sb=C,k.Ra=0,k.u=0,k.h=0,4<C&&(C=4),I=0;I<C;++I)z+=x[P+I]<<8*I;k.Ra=z,k.bb=C,k.oa=x,k.pa=P}function _e(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<_l-8>>>0,++k.bb,k.u-=8;ce(k)&&(k.h=1,k.u=0)}function fe(k,x){if(e(0<=x),!k.h&&x<=Ji){var P=J(k)&Yi[x];return k.u+=x,_e(k),P}return k.h=1,k.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(k){return k.Ra>>>(k.u&_l-1)>>>0}function ce(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>_l}function ke(k,x){k.u=x,k.h=ce(k)}function we(k){k.u>=Xo&&(e(k.u>=Xo),_e(k))}function We(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function Oe(k){return ie(k,1)}function ye(k,x){var P=k.Ca;0>k.b&&We(k);var C=k.b,I=P*x>>>8,z=(k.I>>>C>I)+0;for(z?(P-=I,k.I-=I+1<<C>>>0):P=I+1,C=P,I=0;256<=C;)I+=8,C>>=8;return C=7^I+Cl[C],k.b-=C,k.Ca=(P<<C)-1,z}function De(k,x,P){k[x+0]=P>>24&255,k[x+1]=P>>16&255,k[x+2]=P>>8&255,k[x+3]=255&P}function Ye(k,x){return k[x+0]|k[x+1]<<8}function ls(k,x){return Ye(k,x)|k[x+2]<<16}function pe(k,x){return Ye(k,x)|Ye(k,x+2)<<16}function ee(k,x){var P=1<<x;return e(k!=null),e(0<x),k.X=n(P),k.X==null?0:(k.Mb=32-x,k.Xa=x,1)}function Ms(k,x){e(k!=null),e(x!=null),e(k.Xa==x.Xa),a(x.X,0,k.X,0,1<<x.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function Ps(k,x,P,C){e(P!=null),e(C!=null);var I=P[0],z=C[0];return I==0&&(I=(k*z+x/2)/x),z==0&&(z=(x*I+k/2)/k),0>=I||0>=z?0:(P[0]=I,C[0]=z,1)}function Je(k,x){return k+(1<<x)-1>>>x}function se(k,x){return((4278255360&k)+(4278255360&x)>>>0&4278255360)+((16711935&k)+(16711935&x)>>>0&16711935)>>>0}function be(k,x){V[x]=function(P,C,I,z,$,K,Y){var te;for(te=0;te<$;++te){var xe=V[k](K[Y+te-1],I,z+te);K[Y+te]=se(P[C+te],xe)}}}function Ee(){this.ud=this.hd=this.jd=0}function Se(k,x){return((4278124286&(k^x))>>>1)+(k&x)>>>0}function He(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Te(k,x){return He(k+(k-x+.5>>1))}function qe(k,x,P){return Math.abs(x-P)-Math.abs(k-P)}function ks(k,x,P,C,I,z,$){for(C=z[$-1],P=0;P<I;++P)z[$+P]=C=se(k[x+P],C)}function hs(k,x,P,C,I){var z;for(z=0;z<P;++z){var $=k[x+z],K=$>>8&255,Y=16711935&(Y=(Y=16711935&$)+((K<<16)+K));C[I+z]=(4278255360&$)+Y>>>0}}function fs(k,x){x.jd=255&k,x.hd=k>>8&255,x.ud=k>>16&255}function ys(k,x,P,C,I,z){var $;for($=0;$<C;++$){var K=x[P+$],Y=K>>>8,te=K,xe=255&(xe=(xe=K>>>16)+((k.jd<<24>>24)*(Y<<24>>24)>>>5));te=255&(te=(te+=(k.hd<<24>>24)*(Y<<24>>24)>>>5)+((k.ud<<24>>24)*(xe<<24>>24)>>>5)),I[z+$]=(4278255360&K)+(xe<<16)+te}}function ps(k,x,P,C,I){V[x]=function(z,$,K,Y,te,xe,Ve,re,je){for(Y=Ve;Y<re;++Y)for(Ve=0;Ve<je;++Ve)te[xe++]=I(K[C(z[$++])])},V[k]=function(z,$,K,Y,te,xe,Ve){var re=8>>z.b,je=z.Ea,Pe=z.K[0],Re=z.w;if(8>re)for(z=(1<<z.b)-1,Re=(1<<re)-1;$<K;++$){var Ue,Le=0;for(Ue=0;Ue<je;++Ue)Ue&z||(Le=C(Y[te++])),xe[Ve++]=I(Pe[Le&Re]),Le>>=re}else V["VP8LMapColor"+P](Y,te,Pe,Re,xe,Ve,$,K,je)}}function $t(k,x,P,C,I){for(P=x+P;x<P;){var z=k[x++];C[I++]=z>>16&255,C[I++]=z>>8&255,C[I++]=255&z}}function wt(k,x,P,C,I){for(P=x+P;x<P;){var z=k[x++];C[I++]=z>>16&255,C[I++]=z>>8&255,C[I++]=255&z,C[I++]=z>>24&255}}function gs(k,x,P,C,I){for(P=x+P;x<P;){var z=($=k[x++])>>16&240|$>>12&15,$=240&$|$>>28&15;C[I++]=z,C[I++]=$}}function Zs(k,x,P,C,I){for(P=x+P;x<P;){var z=($=k[x++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;C[I++]=z,C[I++]=$}}function yt(k,x,P,C,I){for(P=x+P;x<P;){var z=k[x++];C[I++]=255&z,C[I++]=z>>8&255,C[I++]=z>>16&255}}function zs(k,x,P,C,I,z){if(z==0)for(P=x+P;x<P;)De(C,((z=k[x++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),I+=32;else a(C,I,k,x,P)}function bt(k,x){V[x][0]=V[k+"0"],V[x][1]=V[k+"1"],V[x][2]=V[k+"2"],V[x][3]=V[k+"3"],V[x][4]=V[k+"4"],V[x][5]=V[k+"5"],V[x][6]=V[k+"6"],V[x][7]=V[k+"7"],V[x][8]=V[k+"8"],V[x][9]=V[k+"9"],V[x][10]=V[k+"10"],V[x][11]=V[k+"11"],V[x][12]=V[k+"12"],V[x][13]=V[k+"13"],V[x][14]=V[k+"0"],V[x][15]=V[k+"0"]}function tt(k){return k==Kg||k==Qg||k==If||k==Yg}function Nr(){this.eb=[],this.size=this.A=this.fb=0}function mr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nr,this.f.kb=new mr,this.sd=null}function xs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Us(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function _s(k,x){var P=k.T,C=x.ba.f.RGBA,I=C.eb,z=C.fb+k.ka*C.A,$=Pn[x.ba.S],K=k.y,Y=k.O,te=k.f,xe=k.N,Ve=k.ea,re=k.W,je=x.cc,Pe=x.dc,Re=x.Mc,Ue=x.Nc,Le=k.ka,Be=k.ka+k.T,ts=k.U,Ze=ts+1>>1;for(Le==0?$(K,Y,null,null,te,xe,Ve,re,te,xe,Ve,re,I,z,null,null,ts):($(x.ec,x.fc,K,Y,je,Pe,Re,Ue,te,xe,Ve,re,I,z-C.A,I,z,ts),++P);Le+2<Be;Le+=2)je=te,Pe=xe,Re=Ve,Ue=re,xe+=k.Rc,re+=k.Rc,z+=2*C.A,$(K,(Y+=2*k.fa)-k.fa,K,Y,je,Pe,Re,Ue,te,xe,Ve,re,I,z-C.A,I,z,ts);return Y+=k.fa,k.j+Be<k.o?(a(x.ec,x.fc,K,Y,ts),a(x.cc,x.dc,te,xe,Ze),a(x.Mc,x.Nc,Ve,re,Ze),P--):1&Be||$(K,Y,null,null,te,xe,Ve,re,te,xe,Ve,re,I,z+C.A,null,null,ts),P}function at(k,x,P){var C=k.F,I=[k.J];if(C!=null){var z=k.U,$=x.ba.S,K=$==Lf||$==If;x=x.ba.f.RGBA;var Y=[0],te=k.ka;Y[0]=k.T,k.Kb&&(te==0?--Y[0]:(--te,I[0]-=k.width),k.j+k.ka+k.T==k.o&&(Y[0]=k.o-k.j-te));var xe=x.eb;te=x.fb+te*x.A,k=uj(C,I[0],k.width,z,Y,xe,te+(K?0:3),x.A),e(P==Y),k&&tt($)&&ob(xe,te,K,z,Y,x.A)}return 0}function Ht(k){var x=k.ma,P=x.ba.S,C=11>P,I=P==Rf||P==Mf||P==Lf||P==Gg||P==12||tt(P);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Xm(x.Oa,k,I?11:12))return 0;if(I&&tt(P)&&Uf(),k.da)alert("todo:use_scaling");else{if(C){if(x.Ib=Us,k.Kb){if(P=k.U+1>>1,x.memory=n(k.U+2*P),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+k.U,x.Mc=x.cc,x.Nc=x.dc+P,x.Ib=_s,Uf()}}else alert("todo:EmitYUV");I&&(x.Jb=at,C&&wn())}if(C&&!Pj){for(k=0;256>k;++k)IS[k]=89858*(k-128)+zf>>Ff,BS[k]=-22014*(k-128)+zf,zS[k]=-45773*(k-128),FS[k]=113618*(k-128)+zf>>Ff;for(k=db;k<Xg;++k)x=76283*(k-16)+zf>>Ff,qS[k-db]=sa(x,255),$S[k-db]=sa(x+8>>4,15);Pj=1}return 1}function vs(k){var x=k.ma,P=k.U,C=k.T;return e(!(1&k.ka)),0>=P||0>=C?0:(P=x.Ib(k,x),x.Jb!=null&&x.Jb(k,x,P),x.Dc+=P,1)}function Mt(k){k.ma.memory=null}function yr(k,x,P,C){return fe(k,8)!=47?0:(x[0]=fe(k,14)+1,P[0]=fe(k,14)+1,C[0]=fe(k,1),fe(k,3)!=0?0:!k.h)}function Lt(k,x){if(4>k)return k+1;var P=k-2>>1;return(2+(1&k)<<P)+fe(x,P)+1}function tr(k,x){return 120<x?x-120:1<=(P=((P=ES[x-1])>>4)*k+(8-(15&P)))?P:1;var P}function br(k,x,P){var C=J(P),I=k[x+=255&C].g-8;return 0<I&&(ke(P,P.u+8),C=J(P),x+=k[x].value,x+=C&(1<<I)-1),ke(P,P.u+k[x].g),k[x].value}function me(k,x,P){return P.g+=k.g,P.value+=k.value<<x>>>0,e(8>=P.g),k.g}function ze(k,x,P){var C=k.xc;return e((x=C==0?0:k.vc[k.md*(P>>C)+(x>>C)])<k.Wb),k.Ya[x]}function cs(k,x,P,C){var I=k.ab,z=k.c*x,$=k.C;x=$+x;var K=P,Y=C;for(C=k.Ta,P=k.Ua;0<I--;){var te=k.gc[I],xe=$,Ve=x,re=K,je=Y,Pe=(Y=C,K=P,te.Ea);switch(e(xe<Ve),e(Ve<=te.nc),te.hc){case 2:ma(re,je,(Ve-xe)*Pe,Y,K);break;case 0:var Re=xe,Ue=Ve,Le=Y,Be=K,ts=(Cs=te).Ea;Re==0&&(sb(re,je,null,null,1,Le,Be),ks(re,je+1,0,0,ts-1,Le,Be+1),je+=ts,Be+=ts,++Re);for(var Ze=1<<Cs.b,Bs=Ze-1,As=Je(ts,Cs.b),Ut=Cs.K,Cs=Cs.w+(Re>>Cs.b)*As;Re<Ue;){var Yt=Ut,Ta=Cs,Vt=1;for(pc(re,je,Le,Be-ts,1,Le,Be);Vt<ts;){var Ss=(Vt&~Bs)+Ze;Ss>ts&&(Ss=ts),(0,rb[Yt[Ta++]>>8&15])(re,je+ +Vt,Le,Be+Vt-ts,Ss-Vt,Le,Be+Vt),Vt=Ss}je+=ts,Be+=ts,++Re&Bs||(Cs+=As)}Ve!=te.nc&&a(Y,K-Pe,Y,K+(Ve-xe-1)*Pe,Pe);break;case 1:for(Pe=re,Ue=je,ts=(re=te.Ea)-(Be=re&~(Le=(je=1<<te.b)-1)),Re=Je(re,te.b),Ze=te.K,te=te.w+(xe>>te.b)*Re;xe<Ve;){for(Bs=Ze,As=te,Ut=new Ee,Cs=Ue+Be,Yt=Ue+re;Ue<Cs;)fs(Bs[As++],Ut),ab(Ut,Pe,Ue,je,Y,K),Ue+=je,K+=je;Ue<Yt&&(fs(Bs[As++],Ut),ab(Ut,Pe,Ue,ts,Y,K),Ue+=ts,K+=ts),++xe&Le||(te+=Re)}break;case 3:if(re==Y&&je==K&&0<te.b){for(Ue=Y,re=Pe=K+(Ve-xe)*Pe-(Be=(Ve-xe)*Je(te.Ea,te.b)),je=Y,Le=K,Re=[],Be=(ts=Be)-1;0<=Be;--Be)Re[Be]=je[Le+Be];for(Be=ts-1;0<=Be;--Be)Ue[re+Be]=Re[Be];_f(te,xe,Ve,Y,Pe,Y,K)}else _f(te,xe,Ve,re,je,Y,K)}K=C,Y=P}Y!=P&&a(C,P,K,Y,z)}function Is(k,x){var P=k.V,C=k.Ba+k.c*k.C,I=x-k.C;if(e(x<=k.l.o),e(16>=I),0<I){var z=k.l,$=k.Ta,K=k.Ua,Y=z.width;if(cs(k,I,P,C),I=K=[K],e((P=k.C)<(C=x)),e(z.v<z.va),C>z.o&&(C=z.o),P<z.j){var te=z.j-P;P=z.j,I[0]+=te*Y}if(P>=C?P=0:(I[0]+=4*z.v,z.ka=P-z.j,z.U=z.va-z.v,z.T=C-P,P=1),P){if(K=K[0],11>(P=k.ca).S){var xe=P.f.RGBA,Ve=(C=P.S,I=z.U,z=z.T,te=xe.eb,xe.A),re=z;for(xe=xe.fb+k.Ma*xe.A;0<re--;){var je=$,Pe=K,Re=I,Ue=te,Le=xe;switch(C){case Tf:ib(je,Pe,Re,Ue,Le);break;case Rf:Sl(je,Pe,Re,Ue,Le);break;case Kg:Sl(je,Pe,Re,Ue,Le),ob(Ue,Le,0,Re,1,0);break;case Nj:ru(je,Pe,Re,Ue,Le);break;case Mf:zs(je,Pe,Re,Ue,Le,1);break;case Qg:zs(je,Pe,Re,Ue,Le,1),ob(Ue,Le,0,Re,1,0);break;case Lf:zs(je,Pe,Re,Ue,Le,0);break;case If:zs(je,Pe,Re,Ue,Le,0),ob(Ue,Le,1,Re,1,0);break;case Gg:Tl(je,Pe,Re,Ue,Le);break;case Yg:Tl(je,Pe,Re,Ue,Le),dj(Ue,Le,Re,1,0);break;case kj:Rl(je,Pe,Re,Ue,Le);break;default:e(0)}K+=Y,xe+=Ve}k.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=P.height)}}k.C=x,e(k.C<=k.i)}function jt(k){var x;if(0<k.ua)return 0;for(x=0;x<k.Wb;++x){var P=k.Ya[x].G,C=k.Ya[x].H;if(0<P[1][C[1]+0].g||0<P[2][C[2]+0].g||0<P[3][C[3]+0].g)return 0}return 1}function It(k,x,P,C,I,z){if(k.Z!=0){var $=k.qd,K=k.rd;for(e(Il[k.Z]!=null);x<P;++x)Il[k.Z]($,K,C,I,C,I,z),$=C,K=I,I+=z;k.qd=$,k.rd=K}}function ct(k,x){var P=k.l.ma,C=P.Z==0||P.Z==1?k.l.j:k.C;if(C=k.C<C?C:k.C,e(x<=k.l.o),x>C){var I=k.l.width,z=P.ca,$=P.tb+I*C,K=k.V,Y=k.Ba+k.c*C,te=k.gc;e(k.ab==1),e(te[0].hc==3),Ao(te[0],C,x,K,Y,z,$),It(P,C,x,z,$,I)}k.C=k.Ma=x}function nt(k,x,P,C,I,z,$){var K=k.$/C,Y=k.$%C,te=k.m,xe=k.s,Ve=P+k.$,re=Ve;I=P+C*I;var je=P+C*z,Pe=280+xe.ua,Re=k.Pb?K:16777216,Ue=0<xe.ua?xe.Wa:null,Le=xe.wc,Be=Ve<je?ze(xe,Y,K):null;e(k.C<z),e(je<=I);var ts=!1;e:for(;;){for(;ts||Ve<je;){var Ze=0;if(K>=Re){var Bs=Ve-P;e((Re=k).Pb),Re.wd=Re.m,Re.xd=Bs,0<Re.s.ua&&Ms(Re.s.Wa,Re.s.vb),Re=K+yS}if(Y&Le||(Be=ze(xe,Y,K)),e(Be!=null),Be.Qb&&(x[Ve]=Be.qb,ts=!0),!ts)if(we(te),Be.jc){Ze=te,Bs=x;var As=Ve,Ut=Be.pd[J(Ze)&tu-1];e(Be.jc),256>Ut.g?(ke(Ze,Ze.u+Ut.g),Bs[As]=Ut.value,Ze=0):(ke(Ze,Ze.u+Ut.g-256),e(256<=Ut.value),Ze=Ut.value),Ze==0&&(ts=!0)}else Ze=br(Be.G[0],Be.H[0],te);if(te.h)break;if(ts||256>Ze){if(!ts)if(Be.nd)x[Ve]=(Be.qb|Ze<<8)>>>0;else{if(we(te),ts=br(Be.G[1],Be.H[1],te),we(te),Bs=br(Be.G[2],Be.H[2],te),As=br(Be.G[3],Be.H[3],te),te.h)break;x[Ve]=(As<<24|ts<<16|Ze<<8|Bs)>>>0}if(ts=!1,++Ve,++Y>=C&&(Y=0,++K,$!=null&&K<=z&&!(K%16)&&$(k,K),Ue!=null))for(;re<Ve;)Ze=x[re++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze}else if(280>Ze){if(Ze=Lt(Ze-256,te),Bs=br(Be.G[4],Be.H[4],te),we(te),Bs=tr(C,Bs=Lt(Bs,te)),te.h)break;if(Ve-P<Bs||I-Ve<Ze)break e;for(As=0;As<Ze;++As)x[Ve+As]=x[Ve+As-Bs];for(Ve+=Ze,Y+=Ze;Y>=C;)Y-=C,++K,$!=null&&K<=z&&!(K%16)&&$(k,K);if(e(Ve<=I),Y&Le&&(Be=ze(xe,Y,K)),Ue!=null)for(;re<Ve;)Ze=x[re++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze}else{if(!(Ze<Pe))break e;for(ts=Ze-280,e(Ue!=null);re<Ve;)Ze=x[re++],Ue.X[(506832829*Ze&4294967295)>>>Ue.Mb]=Ze;Ze=Ve,e(!(ts>>>(Bs=Ue).Xa)),x[Ze]=Bs.X[ts],ts=!0}ts||e(te.h==ce(te))}if(k.Pb&&te.h&&Ve<I)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Ms(k.s.vb,k.s.Wa);else{if(te.h)break e;$!=null&&$(k,K>z?z:K),k.a=0,k.$=Ve-P}return 1}return k.a=3,0}function Or(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var x=k.Wa;x!=null&&(x.X=null),k.vb=null,e(k!=null)}function kr(){var k=new Fs;return k==null?null:(k.a=0,k.xb=vj,bt("Predictor","VP8LPredictors"),bt("Predictor","VP8LPredictors_C"),bt("PredictorAdd","VP8LPredictorsAdd"),bt("PredictorAdd","VP8LPredictorsAdd_C"),ma=hs,ab=ys,ib=$t,Sl=wt,Tl=gs,Rl=Zs,ru=yt,V.VP8LMapColor32b=jo,V.VP8LMapColor8b=tb,k)}function or(k,x,P,C,I){var z=1,$=[k],K=[x],Y=C.m,te=C.s,xe=null,Ve=0;e:for(;;){if(P)for(;z&&fe(Y,1);){var re=$,je=K,Pe=C,Re=1,Ue=Pe.m,Le=Pe.gc[Pe.ab],Be=fe(Ue,2);if(Pe.Oc&1<<Be)z=0;else{switch(Pe.Oc|=1<<Be,Le.hc=Be,Le.Ea=re[0],Le.nc=je[0],Le.K=[null],++Pe.ab,e(4>=Pe.ab),Be){case 0:case 1:Le.b=fe(Ue,3)+2,Re=or(Je(Le.Ea,Le.b),Je(Le.nc,Le.b),0,Pe,Le.K),Le.K=Le.K[0];break;case 3:var ts,Ze=fe(Ue,8)+1,Bs=16<Ze?0:4<Ze?1:2<Ze?2:3;if(re[0]=Je(Le.Ea,Bs),Le.b=Bs,ts=Re=or(Ze,1,0,Pe,Le.K)){var As,Ut=Ze,Cs=Le,Yt=1<<(8>>Cs.b),Ta=n(Yt);if(Ta==null)ts=0;else{var Vt=Cs.K[0],Ss=Cs.w;for(Ta[0]=Cs.K[0][0],As=1;As<1*Ut;++As)Ta[As]=se(Vt[Ss+As],Ta[As-1]);for(;As<4*Yt;++As)Ta[As]=0;Cs.K[0]=null,Cs.K[0]=Ta,ts=1}}Re=ts;break;case 2:break;default:e(0)}z=Re}}if($=$[0],K=K[0],z&&fe(Y,1)&&!(z=1<=(Ve=fe(Y,4))&&11>=Ve)){C.a=3;break e}var Ns;if(Ns=z)s:{var ha,At,Xt,Fr=C,Za=$,vi=K,ta=Ve,ui=P,Di=Fr.m,Ra=Fr.s,rr=[null],gr=1,ra=0,xr=PS[ta];t:for(;;){if(ui&&fe(Di,1)){var Xa=fe(Di,3)+2,eo=Je(Za,Xa),fa=Je(vi,Xa),_i=eo*fa;if(!or(eo,fa,0,Fr,rr))break t;for(rr=rr[0],Ra.xc=Xa,ha=0;ha<_i;++ha){var _r=rr[ha]>>8&65535;rr[ha]=_r,_r>=gr&&(gr=_r+1)}}if(Di.h)break t;for(At=0;5>At;++At){var Ma=gj[At];!At&&0<ta&&(Ma+=1<<ta),ra<Ma&&(ra=Ma)}var Xi=o(gr*xr,M),wi=gr,en=o(wi,Q);if(en==null)var sn=null;else e(65536>=wi),sn=en;var Ci=n(ra);if(sn==null||Ci==null||Xi==null){Fr.a=1;break t}var tn=Xi;for(ha=Xt=0;ha<gr;++ha){var Rr=sn[ha],rn=Rr.G,so=Rr.H,iu=0,tl=1,ei=0;for(At=0;5>At;++At){Ma=gj[At],rn[At]=tn,so[At]=Xt,!At&&0<ta&&(Ma+=1<<ta);a:{var qf,ex=Ma,$f=Fr,ub=Ci,KS=tn,QS=Xt,sx=0,Fl=$f.m,YS=fe(Fl,1);if(i(ub,0,0,ex),YS){var JS=fe(Fl,1)+1,ZS=fe(Fl,1),Wj=fe(Fl,ZS==0?1:8);ub[Wj]=1,JS==2&&(ub[Wj=fe(Fl,8)]=1);var Hf=1}else{var Uj=n(19),Vj=fe(Fl,4)+4;if(19<Vj){$f.a=3;var Gf=0;break a}for(qf=0;qf<Vj;++qf)Uj[AS[qf]]=fe(Fl,3);var tx=void 0,cb=void 0,_j=$f,XS=Uj,Kf=ex,Cj=ub,rx=0,zl=_j.m,Sj=8,Tj=o(128,M);r:for(;_(Tj,0,7,XS,19);){if(fe(zl,1)){var eT=2+2*fe(zl,3);if((tx=2+fe(zl,eT))>Kf)break r}else tx=Kf;for(cb=0;cb<Kf&&tx--;){we(zl);var Rj=Tj[0+(127&J(zl))];ke(zl,zl.u+Rj.g);var kc=Rj.value;if(16>kc)Cj[cb++]=kc,kc!=0&&(Sj=kc);else{var sT=kc==16,Mj=kc-16,tT=wS[Mj],Lj=fe(zl,DS[Mj])+tT;if(cb+Lj>Kf)break r;for(var rT=sT?Sj:0;0<Lj--;)Cj[cb++]=rT}}rx=1;break r}rx||(_j.a=3),Hf=rx}(Hf=Hf&&!Fl.h)&&(sx=_(KS,QS,8,ub,ex)),Hf&&sx!=0?Gf=sx:($f.a=3,Gf=0)}if(Gf==0)break t;if(tl&&jS[At]==1&&(tl=tn[Xt].g==0),iu+=tn[Xt].g,Xt+=Gf,3>=At){var mb,ax=Ci[0];for(mb=1;mb<Ma;++mb)Ci[mb]>ax&&(ax=Ci[mb]);ei+=ax}}if(Rr.nd=tl,Rr.Qb=0,tl&&(Rr.qb=(rn[3][so[3]+0].value<<24|rn[1][so[1]+0].value<<16|rn[2][so[2]+0].value)>>>0,iu==0&&256>rn[0][so[0]+0].value&&(Rr.Qb=1,Rr.qb+=rn[0][so[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>ei,Rr.jc){var Qf,rl=Rr;for(Qf=0;Qf<tu;++Qf){var Bl=Qf,ql=rl.pd[Bl],Yf=rl.G[0][rl.H[0]+Bl];256<=Yf.value?(ql.g=Yf.g+256,ql.value=Yf.value):(ql.g=0,ql.value=0,Bl>>=me(Yf,8,ql),Bl>>=me(rl.G[1][rl.H[1]+Bl],16,ql),Bl>>=me(rl.G[2][rl.H[2]+Bl],0,ql),me(rl.G[3][rl.H[3]+Bl],24,ql))}}}Ra.vc=rr,Ra.Wb=gr,Ra.Ya=sn,Ra.yc=Xi,Ns=1;break s}Ns=0}if(!(z=Ns)){C.a=3;break e}if(0<Ve){if(te.ua=1<<Ve,!ee(te.Wa,Ve)){C.a=1,z=0;break e}}else te.ua=0;var ix=C,Ij=$,aT=K,nx=ix.s,ox=nx.xc;if(ix.c=Ij,ix.i=aT,nx.md=Je(Ij,ox),nx.wc=ox==0?-1:(1<<ox)-1,P){C.xb=SS;break e}if((xe=n($*K))==null){C.a=1,z=0;break e}z=(z=nt(C,xe,0,$,K,K,null))&&!Y.h;break e}return z?(I!=null?I[0]=xe:(e(xe==null),e(P)),C.$=0,P||Or(te)):Or(te),z}function Da(k,x){var P=k.c*k.i,C=P+x+16*x;return e(k.c<=x),k.V=n(C),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+P+x,1)}function Qi(k,x){var P=k.C,C=x-P,I=k.V,z=k.Ba+k.c*P;for(e(x<=k.l.o);0<C;){var $=16<C?16:C,K=k.l.ma,Y=k.l.width,te=Y*$,xe=K.ca,Ve=K.tb+Y*P,re=k.Ta,je=k.Ua;cs(k,$,I,z),cj(re,je,xe,Ve,te),It(K,P,P+$,xe,Ve,Y),C-=$,I+=$*k.c,P+=$}e(P==x),k.C=k.Ma=x}function Ui(){this.ub=this.yd=this.td=this.Rb=0}function ua(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Md(){this.Fb=this.Bb=this.Cb=0,this.Zb=n(4),this.Lb=n(4)}function Ld(){this.Yb=function(){var k=[];return function x(P,C,I){for(var z=I[C],$=0;$<z&&(P.push(I.length>C+1?[]:0),!(I.length<C+1));$++)x(P[$],C+1,I)}(k,0,[3,11]),k}()}function lc(){this.jb=n(3),this.Wc=l([4,8],Ld),this.Xc=l([4,17],Ld)}function Nf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new n(4),this.od=new n(4)}function Dn(){this.ld=this.La=this.dd=this.tc=0}function Im(){this.Na=this.la=0}function kf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fm(){this.ad=n(384),this.Za=0,this.Ob=n(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dn),this.Y=0,this.ya=Array(new Fm),this.aa=0,this.l=new dc}function xf(){this.y=n(16),this.f=n(8),this.ea=n(8)}function vf(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Ui,this.Kc=new ua,this.ed=new Nf,this.Qa=new Md,this.Ic=this.$c=this.Aa=0,this.D=new gf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,T),this.ia=0,this.pb=o(4,kf),this.Pa=new lc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xf),this.Hd=0,this.rb=Array(new Im),this.sb=0,this.wa=Array(new Dn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fm),this.L=this.aa=0,this.gd=l([4,2],Dn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ug(){var k=new vf;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,lb||(lb=Go)),k}function wa(k,x,P){return k.a==0&&(k.a=x,k.sc=P,k.cb=0),0}function Df(k,x,P){return 3<=P&&k[x+0]==157&&k[x+1]==1&&k[x+2]==42}function wf(k,x){if(k==null)return 0;if(k.a=0,k.sc="OK",x==null)return wa(k,2,"null VP8Io passed to VP8GetHeaders()");var P=x.data,C=x.w,I=x.ha;if(4>I)return wa(k,7,"Truncated header.");var z=P[C+0]|P[C+1]<<8|P[C+2]<<16,$=k.Od;if($.Rb=!(1&z),$.td=z>>1&7,$.yd=z>>4&1,$.ub=z>>5,3<$.td)return wa(k,3,"Incorrect keyframe parameters.");if(!$.yd)return wa(k,4,"Frame not displayable.");C+=3,I-=3;var K=k.Kc;if($.Rb){if(7>I)return wa(k,7,"cannot parse picture header");if(!Df(P,C,I))return wa(k,3,"Bad code word");K.c=16383&(P[C+4]<<8|P[C+3]),K.Td=P[C+4]>>6,K.i=16383&(P[C+6]<<8|P[C+5]),K.Ud=P[C+6]>>6,C+=7,I-=7,k.za=K.c+15>>4,k.Ub=K.i+15>>4,x.width=K.c,x.height=K.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((z=k.Pa).jb,0,255,z.jb.length),e((z=k.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if($.ub>I)return wa(k,7,"bad partition length");ne(z=k.m,P,C,$.ub),C+=$.ub,I-=$.ub,$.Rb&&(K.Ld=Oe(z),K.Kd=Oe(z)),K=k.Qa;var Y,te=k.Pa;if(e(z!=null),e(K!=null),K.Cb=Oe(z),K.Cb){if(K.Bb=Oe(z),Oe(z)){for(K.Fb=Oe(z),Y=0;4>Y;++Y)K.Zb[Y]=Oe(z)?Z(z,7):0;for(Y=0;4>Y;++Y)K.Lb[Y]=Oe(z)?Z(z,6):0}if(K.Bb)for(Y=0;3>Y;++Y)te.jb[Y]=Oe(z)?ie(z,8):255}else K.Bb=0;if(z.Ka)return wa(k,3,"cannot parse segment header");if((K=k.ed).zd=Oe(z),K.Tb=ie(z,6),K.wb=ie(z,3),K.Pc=Oe(z),K.Pc&&Oe(z)){for(te=0;4>te;++te)Oe(z)&&(K.vd[te]=Z(z,6));for(te=0;4>te;++te)Oe(z)&&(K.od[te]=Z(z,6))}if(k.L=K.Tb==0?0:K.zd?1:2,z.Ka)return wa(k,3,"cannot parse filter header");var xe=I;if(I=Y=C,C=Y+xe,K=xe,k.Xb=(1<<ie(k.m,2))-1,xe<3*(te=k.Xb))P=7;else{for(Y+=3*te,K-=3*te,xe=0;xe<te;++xe){var Ve=P[I+0]|P[I+1]<<8|P[I+2]<<16;Ve>K&&(Ve=K),ne(k.Jc[+xe],P,Y,Ve),Y+=Ve,K-=Ve,I+=3}ne(k.Jc[+te],P,Y,K),P=Y<C?0:5}if(P!=0)return wa(k,P,"cannot parse partitions");for(P=ie(Y=k.m,7),I=Oe(Y)?Z(Y,4):0,C=Oe(Y)?Z(Y,4):0,K=Oe(Y)?Z(Y,4):0,te=Oe(Y)?Z(Y,4):0,Y=Oe(Y)?Z(Y,4):0,xe=k.Qa,Ve=0;4>Ve;++Ve){if(xe.Cb){var re=xe.Zb[Ve];xe.Fb||(re+=P)}else{if(0<Ve){k.pb[Ve]=k.pb[0];continue}re=P}var je=k.pb[Ve];je.Sc[0]=Jg[sa(re+I,127)],je.Sc[1]=Zg[sa(re+0,127)],je.Eb[0]=2*Jg[sa(re+C,127)],je.Eb[1]=101581*Zg[sa(re+K,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Jg[sa(re+te,117)],je.Qc[1]=Zg[sa(re+Y,127)],je.lc=re+Y}if(!$.Rb)return wa(k,4,"Not a key frame.");for(Oe(z),$=k.Pa,P=0;4>P;++P){for(I=0;8>I;++I)for(C=0;3>C;++C)for(K=0;11>K;++K)te=ye(z,_S[P][I][C][K])?ie(z,8):US[P][I][C][K],$.Wc[P][I].Yb[C][K]=te;for(I=0;17>I;++I)$.Xc[P][I]=$.Wc[P][CS[I]]}return k.kc=Oe(z),k.kc&&(k.Bd=ie(z,8)),k.cb=1}function Go(k,x,P,C,I,z,$){var K=x[I].Yb[P];for(P=0;16>I;++I){if(!ye(k,K[P+0]))return I;for(;!ye(k,K[P+1]);)if(K=x[++I].Yb[0],P=0,I==16)return 16;var Y=x[I+1].Yb;if(ye(k,K[P+2])){var te=k,xe=0;if(ye(te,(re=K)[(Ve=P)+3]))if(ye(te,re[Ve+6])){for(K=0,Ve=2*(xe=ye(te,re[Ve+8]))+(re=ye(te,re[Ve+9+xe])),xe=0,re=OS[Ve];re[K];++K)xe+=xe+ye(te,re[K]);xe+=3+(8<<Ve)}else ye(te,re[Ve+7])?(xe=7+2*ye(te,165),xe+=ye(te,145)):xe=5+ye(te,159);else xe=ye(te,re[Ve+4])?3+ye(te,re[Ve+5]):2;K=Y[2]}else xe=1,K=Y[1];Y=$+WS[I],0>(te=k).b&&We(te);var Ve,re=te.b,je=(Ve=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=je,te.Ca|=1,te.I-=(Ve+1&je)<<re,z[Y]=((xe^je)-je)*C[(0<I)+0]}return 16}function Id(k){var x=k.rb[k.sb-1];x.la=0,x.Na=0,i(k.zc,0,0,k.zc.length),k.ja=0}function Zn(k,x,P,C,I){I=k[x+P+32*C]+(I>>3),k[x+P+32*C]=-256&I?0>I?0:255:I}function Fd(k,x,P,C,I,z){Zn(k,x,0,P,C+I),Zn(k,x,1,P,C+z),Zn(k,x,2,P,C-z),Zn(k,x,3,P,C-I)}function ca(k){return(20091*k>>16)+k}function zm(k,x,P,C){var I,z=0,$=n(16);for(I=0;4>I;++I){var K=k[x+0]+k[x+8],Y=k[x+0]-k[x+8],te=(35468*k[x+4]>>16)-ca(k[x+12]),xe=ca(k[x+4])+(35468*k[x+12]>>16);$[z+0]=K+xe,$[z+1]=Y+te,$[z+2]=Y-te,$[z+3]=K-xe,z+=4,x++}for(I=z=0;4>I;++I)K=(k=$[z+0]+4)+$[z+8],Y=k-$[z+8],te=(35468*$[z+4]>>16)-ca($[z+12]),Zn(P,C,0,0,K+(xe=ca($[z+4])+(35468*$[z+12]>>16))),Zn(P,C,1,0,Y+te),Zn(P,C,2,0,Y-te),Zn(P,C,3,0,K-xe),z++,C+=32}function Vg(k,x,P,C){var I=k[x+0]+4,z=35468*k[x+4]>>16,$=ca(k[x+4]),K=35468*k[x+1]>>16;Fd(P,C,0,I+$,k=ca(k[x+1]),K),Fd(P,C,1,I+z,k,K),Fd(P,C,2,I-z,k,K),Fd(P,C,3,I-$,k,K)}function _g(k,x,P,C,I){zm(k,x,P,C),I&&zm(k,x+16,P,C+4)}function Cg(k,x,P,C){au(k,x+0,P,C,1),au(k,x+32,P,C+128,1)}function wo(k,x,P,C){var I;for(k=k[x+0]+4,I=0;4>I;++I)for(x=0;4>x;++x)Zn(P,C,x,I,k)}function jf(k,x,P,C){k[x+0]&&hr(k,x+0,P,C),k[x+16]&&hr(k,x+16,P,C+4),k[x+32]&&hr(k,x+32,P,C+128),k[x+48]&&hr(k,x+48,P,C+128+4)}function Af(k,x,P,C){var I,z=n(16);for(I=0;4>I;++I){var $=k[x+0+I]+k[x+12+I],K=k[x+4+I]+k[x+8+I],Y=k[x+4+I]-k[x+8+I],te=k[x+0+I]-k[x+12+I];z[0+I]=$+K,z[8+I]=$-K,z[4+I]=te+Y,z[12+I]=te-Y}for(I=0;4>I;++I)$=(k=z[0+4*I]+3)+z[3+4*I],K=z[1+4*I]+z[2+4*I],Y=z[1+4*I]-z[2+4*I],te=k-z[3+4*I],P[C+0]=$+K>>3,P[C+16]=te+Y>>3,P[C+32]=$-K>>3,P[C+48]=te-Y>>3,C+=64}function Ol(k,x,P){var C,I=x-32,z=Zi,$=255-k[I-1];for(C=0;C<P;++C){var K,Y=z,te=$+k[x-1];for(K=0;K<P;++K)k[x+K]=Y[te+k[I+K]];x+=32}}function Bm(k,x){Ol(k,x,4)}function Sg(k,x){Ol(k,x,8)}function Tg(k,x){Ol(k,x,16)}function Rg(k,x){var P;for(P=0;16>P;++P)a(k,x+32*P,k,x-32,16)}function qm(k,x){var P;for(P=16;0<P;--P)i(k,x,k[x-1],16),x+=32}function zd(k,x,P){var C;for(C=0;16>C;++C)i(x,P+32*C,k,16)}function Wl(k,x){var P,C=16;for(P=0;16>P;++P)C+=k[x-1+32*P]+k[x+P-32];zd(C>>5,k,x)}function Mg(k,x){var P,C=8;for(P=0;16>P;++P)C+=k[x-1+32*P];zd(C>>4,k,x)}function Bd(k,x){var P,C=8;for(P=0;16>P;++P)C+=k[x+P-32];zd(C>>4,k,x)}function $m(k,x){zd(128,k,x)}function ht(k,x,P){return k+2*x+P+2>>2}function Lg(k,x){var P,C=x-32;for(C=new Uint8Array([ht(k[C-1],k[C+0],k[C+1]),ht(k[C+0],k[C+1],k[C+2]),ht(k[C+1],k[C+2],k[C+3]),ht(k[C+2],k[C+3],k[C+4])]),P=0;4>P;++P)a(k,x+32*P,C,0,C.length)}function Ig(k,x){var P=k[x-1],C=k[x-1+32],I=k[x-1+64],z=k[x-1+96];De(k,x+0,16843009*ht(k[x-1-32],P,C)),De(k,x+32,16843009*ht(P,C,I)),De(k,x+64,16843009*ht(C,I,z)),De(k,x+96,16843009*ht(I,z,z))}function Fg(k,x){var P,C=4;for(P=0;4>P;++P)C+=k[x+P-32]+k[x-1+32*P];for(C>>=3,P=0;4>P;++P)i(k,x+32*P,C,4)}function zg(k,x){var P=k[x-1+0],C=k[x-1+32],I=k[x-1+64],z=k[x-1-32],$=k[x+0-32],K=k[x+1-32],Y=k[x+2-32],te=k[x+3-32];k[x+0+96]=ht(C,I,k[x-1+96]),k[x+1+96]=k[x+0+64]=ht(P,C,I),k[x+2+96]=k[x+1+64]=k[x+0+32]=ht(z,P,C),k[x+3+96]=k[x+2+64]=k[x+1+32]=k[x+0+0]=ht($,z,P),k[x+3+64]=k[x+2+32]=k[x+1+0]=ht(K,$,z),k[x+3+32]=k[x+2+0]=ht(Y,K,$),k[x+3+0]=ht(te,Y,K)}function Ko(k,x){var P=k[x+1-32],C=k[x+2-32],I=k[x+3-32],z=k[x+4-32],$=k[x+5-32],K=k[x+6-32],Y=k[x+7-32];k[x+0+0]=ht(k[x+0-32],P,C),k[x+1+0]=k[x+0+32]=ht(P,C,I),k[x+2+0]=k[x+1+32]=k[x+0+64]=ht(C,I,z),k[x+3+0]=k[x+2+32]=k[x+1+64]=k[x+0+96]=ht(I,z,$),k[x+3+32]=k[x+2+64]=k[x+1+96]=ht(z,$,K),k[x+3+64]=k[x+2+96]=ht($,K,Y),k[x+3+96]=ht(K,Y,Y)}function Qo(k,x){var P=k[x-1+0],C=k[x-1+32],I=k[x-1+64],z=k[x-1-32],$=k[x+0-32],K=k[x+1-32],Y=k[x+2-32],te=k[x+3-32];k[x+0+0]=k[x+1+64]=z+$+1>>1,k[x+1+0]=k[x+2+64]=$+K+1>>1,k[x+2+0]=k[x+3+64]=K+Y+1>>1,k[x+3+0]=Y+te+1>>1,k[x+0+96]=ht(I,C,P),k[x+0+64]=ht(C,P,z),k[x+0+32]=k[x+1+96]=ht(P,z,$),k[x+1+32]=k[x+2+96]=ht(z,$,K),k[x+2+32]=k[x+3+96]=ht($,K,Y),k[x+3+32]=ht(K,Y,te)}function Bg(k,x){var P=k[x+0-32],C=k[x+1-32],I=k[x+2-32],z=k[x+3-32],$=k[x+4-32],K=k[x+5-32],Y=k[x+6-32],te=k[x+7-32];k[x+0+0]=P+C+1>>1,k[x+1+0]=k[x+0+64]=C+I+1>>1,k[x+2+0]=k[x+1+64]=I+z+1>>1,k[x+3+0]=k[x+2+64]=z+$+1>>1,k[x+0+32]=ht(P,C,I),k[x+1+32]=k[x+0+96]=ht(C,I,z),k[x+2+32]=k[x+1+96]=ht(I,z,$),k[x+3+32]=k[x+2+96]=ht(z,$,K),k[x+3+64]=ht($,K,Y),k[x+3+96]=ht(K,Y,te)}function qg(k,x){var P=k[x-1+0],C=k[x-1+32],I=k[x-1+64],z=k[x-1+96];k[x+0+0]=P+C+1>>1,k[x+2+0]=k[x+0+32]=C+I+1>>1,k[x+2+32]=k[x+0+64]=I+z+1>>1,k[x+1+0]=ht(P,C,I),k[x+3+0]=k[x+1+32]=ht(C,I,z),k[x+3+32]=k[x+1+64]=ht(I,z,z),k[x+3+64]=k[x+2+64]=k[x+0+96]=k[x+1+96]=k[x+2+96]=k[x+3+96]=z}function uc(k,x){var P=k[x-1+0],C=k[x-1+32],I=k[x-1+64],z=k[x-1+96],$=k[x-1-32],K=k[x+0-32],Y=k[x+1-32],te=k[x+2-32];k[x+0+0]=k[x+2+32]=P+$+1>>1,k[x+0+32]=k[x+2+64]=C+P+1>>1,k[x+0+64]=k[x+2+96]=I+C+1>>1,k[x+0+96]=z+I+1>>1,k[x+3+0]=ht(K,Y,te),k[x+2+0]=ht($,K,Y),k[x+1+0]=k[x+3+32]=ht(P,$,K),k[x+1+32]=k[x+3+64]=ht(C,P,$),k[x+1+64]=k[x+3+96]=ht(I,C,P),k[x+1+96]=ht(z,I,C)}function Hm(k,x){var P;for(P=0;8>P;++P)a(k,x+32*P,k,x-32,8)}function qd(k,x){var P;for(P=0;8>P;++P)i(k,x,k[x-1],8),x+=32}function cc(k,x,P){var C;for(C=0;8>C;++C)i(x,P+32*C,k,8)}function mc(k,x){var P,C=8;for(P=0;8>P;++P)C+=k[x+P-32]+k[x-1+32*P];cc(C>>4,k,x)}function $g(k,x){var P,C=4;for(P=0;8>P;++P)C+=k[x+P-32];cc(C>>3,k,x)}function Gm(k,x){var P,C=4;for(P=0;8>P;++P)C+=k[x-1+32*P];cc(C>>3,k,x)}function Km(k,x){cc(128,k,x)}function $d(k,x,P){var C=k[x-P],I=k[x+0],z=3*(I-C)+Hg[1020+k[x-2*P]-k[x+P]],$=Sf[112+(z+4>>3)];k[x-P]=Zi[255+C+Sf[112+(z+3>>3)]],k[x+0]=Zi[255+I-$]}function Hd(k,x,P,C){var I=k[x+0],z=k[x+P];return En[255+k[x-2*P]-k[x-P]]>C||En[255+z-I]>C}function Qm(k,x,P,C){return 4*En[255+k[x-P]-k[x+0]]+En[255+k[x-2*P]-k[x+P]]<=C}function bc(k,x,P,C,I){var z=k[x-3*P],$=k[x-2*P],K=k[x-P],Y=k[x+0],te=k[x+P],xe=k[x+2*P],Ve=k[x+3*P];return 4*En[255+K-Y]+En[255+$-te]>C?0:En[255+k[x-4*P]-z]<=I&&En[255+z-$]<=I&&En[255+$-K]<=I&&En[255+Ve-xe]<=I&&En[255+xe-te]<=I&&En[255+te-Y]<=I}function Ym(k,x,P,C){var I=2*C+1;for(C=0;16>C;++C)Qm(k,x+C,P,I)&&$d(k,x+C,P)}function Gd(k,x,P,C){var I=2*C+1;for(C=0;16>C;++C)Qm(k,x+C*P,1,I)&&$d(k,x+C*P,1)}function Ef(k,x,P,C){var I;for(I=3;0<I;--I)Ym(k,x+=4*P,P,C)}function Pf(k,x,P,C){var I;for(I=3;0<I;--I)Gd(k,x+=4,P,C)}function Yo(k,x,P,C,I,z,$,K){for(z=2*z+1;0<I--;){if(bc(k,x,P,z,$))if(Hd(k,x,P,K))$d(k,x,P);else{var Y=k,te=x,xe=P,Ve=Y[te-2*xe],re=Y[te-xe],je=Y[te+0],Pe=Y[te+xe],Re=Y[te+2*xe],Ue=27*(Be=Hg[1020+3*(je-re)+Hg[1020+Ve-Pe]])+63>>7,Le=18*Be+63>>7,Be=9*Be+63>>7;Y[te-3*xe]=Zi[255+Y[te-3*xe]+Be],Y[te-2*xe]=Zi[255+Ve+Le],Y[te-xe]=Zi[255+re+Ue],Y[te+0]=Zi[255+je-Ue],Y[te+xe]=Zi[255+Pe-Le],Y[te+2*xe]=Zi[255+Re-Be]}x+=C}}function Jo(k,x,P,C,I,z,$,K){for(z=2*z+1;0<I--;){if(bc(k,x,P,z,$))if(Hd(k,x,P,K))$d(k,x,P);else{var Y=k,te=x,xe=P,Ve=Y[te-xe],re=Y[te+0],je=Y[te+xe],Pe=Sf[112+(4+(Re=3*(re-Ve))>>3)],Re=Sf[112+(Re+3>>3)],Ue=Pe+1>>1;Y[te-2*xe]=Zi[255+Y[te-2*xe]+Ue],Y[te-xe]=Zi[255+Ve+Re],Y[te+0]=Zi[255+re-Pe],Y[te+xe]=Zi[255+je-Ue]}x+=C}}function yf(k,x,P,C,I,z){Yo(k,x,P,1,16,C,I,z)}function Of(k,x,P,C,I,z){Yo(k,x,1,P,16,C,I,z)}function Kd(k,x,P,C,I,z){var $;for($=3;0<$;--$)Jo(k,x+=4*P,P,1,16,C,I,z)}function Wf(k,x,P,C,I,z){var $;for($=3;0<$;--$)Jo(k,x+=4,1,P,16,C,I,z)}function j(k,x,P,C,I,z,$,K){Yo(k,x,I,1,8,z,$,K),Yo(P,C,I,1,8,z,$,K)}function L(k,x,P,C,I,z,$,K){Yo(k,x,1,I,8,z,$,K),Yo(P,C,1,I,8,z,$,K)}function ae(k,x,P,C,I,z,$,K){Jo(k,x+4*I,I,1,8,z,$,K),Jo(P,C+4*I,I,1,8,z,$,K)}function ge(k,x,P,C,I,z,$,K){Jo(k,x+4,1,I,8,z,$,K),Jo(P,C+4,1,I,8,z,$,K)}function Ae(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Os(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function Fs(){this.xb=this.a=0,this.l=new dc,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Os,this.ab=0,this.gc=o(4,Xe),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(k,x,P,C,I,z,$){for(k=k==null?0:k[x+0],x=0;x<$;++x)I[z+x]=k+P[C+x]&255,k=I[z+x]}function lr(k,x,P,C,I,z,$){var K;if(k==null)Nt(null,null,P,C,I,z,$);else for(K=0;K<$;++K)I[z+K]=k[x+K]+P[C+K]&255}function Jr(k,x,P,C,I,z,$){if(k==null)Nt(null,null,P,C,I,z,$);else{var K,Y=k[x+0],te=Y,xe=Y;for(K=0;K<$;++K)te=xe+(Y=k[x+K])-te,xe=P[C+K]+(-256&te?0>te?0:255:te)&255,te=Y,I[z+K]=xe}}function ja(k,x,P,C){var I=x.width,z=x.o;if(e(k!=null&&x!=null),0>P||0>=C||P+C>z)return null;if(!k.Cc){if(k.ga==null){var $;if(k.ga=new mt,($=k.ga==null)||($=x.width*x.o,e(k.Gb.length==0),k.Gb=n($),k.Uc=0,k.Gb==null?$=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,$=1),$=!$),!$){$=k.ga;var K=k.Fa,Y=k.P,te=k.qc,xe=k.mb,Ve=k.nb,re=Y+1,je=te-1,Pe=$.l;if(e(K!=null&&xe!=null&&x!=null),Il[0]=null,Il[1]=Nt,Il[2]=lr,Il[3]=Jr,$.ca=xe,$.tb=Ve,$.c=x.width,$.i=x.height,e(0<$.c&&0<$.i),1>=te)x=0;else if($.$a=3&K[Y+0],$.Z=K[Y+0]>>2&3,$.Lc=K[Y+0]>>4&3,Y=K[Y+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||Y)x=0;else if(Pe.put=vs,Pe.ac=Ht,Pe.bc=Mt,Pe.ma=$,Pe.width=x.width,Pe.height=x.height,Pe.Da=x.Da,Pe.v=x.v,Pe.va=x.va,Pe.j=x.j,Pe.o=x.o,$.$a)e:{e($.$a==1),x=kr();s:for(;;){if(x==null){x=0;break e}if(e($!=null),$.mc=x,x.c=$.c,x.i=$.i,x.l=$.l,x.l.ma=$,x.l.width=$.c,x.l.height=$.i,x.a=0,Ne(x.m,K,re,je),!or($.c,$.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&jt(x.s)?($.ic=1,K=x.c*x.i,x.Ta=null,x.Ua=0,x.V=n(K),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):($.ic=0,x=Da(x,$.c)),!x))break s;x=1;break e}$.mc=null,x=0}else x=je>=$.c*$.i;$=!x}if($)return null;k.ga.Lc!=1?k.Ga=0:C=z-P}e(k.ga!=null),e(P+C<=z);e:{if(x=(K=k.ga).c,z=K.l.o,K.$a==0){if(re=k.rc,je=k.Vc,Pe=k.Fa,Y=k.P+1+P*x,te=k.mb,xe=k.nb+P*x,e(Y<=k.P+k.qc),K.Z!=0)for(e(Il[K.Z]!=null),$=0;$<C;++$)Il[K.Z](re,je,Pe,Y,te,xe,x),re=te,je=xe,xe+=x,Y+=x;else for($=0;$<C;++$)a(te,xe,Pe,Y,x),re=te,je=xe,xe+=x,Y+=x;k.rc=re,k.Vc=je}else{if(e(K.mc!=null),x=P+C,e(($=K.mc)!=null),e(x<=$.i),$.C>=x)x=1;else if(K.ic||wn(),K.ic){K=$.V,re=$.Ba,je=$.c;var Re=$.i,Ue=(Pe=1,Y=$.$/je,te=$.$%je,xe=$.m,Ve=$.s,$.$),Le=je*Re,Be=je*x,ts=Ve.wc,Ze=Ue<Be?ze(Ve,te,Y):null;e(Ue<=Le),e(x<=Re),e(jt(Ve));s:for(;;){for(;!xe.h&&Ue<Be;){if(te&ts||(Ze=ze(Ve,te,Y)),e(Ze!=null),we(xe),256>(Re=br(Ze.G[0],Ze.H[0],xe)))K[re+Ue]=Re,++Ue,++te>=je&&(te=0,++Y<=x&&!(Y%16)&&ct($,Y));else{if(!(280>Re)){Pe=0;break s}Re=Lt(Re-256,xe);var Bs,As=br(Ze.G[4],Ze.H[4],xe);if(we(xe),!(Ue>=(As=tr(je,As=Lt(As,xe)))&&Le-Ue>=Re)){Pe=0;break s}for(Bs=0;Bs<Re;++Bs)K[re+Ue+Bs]=K[re+Ue+Bs-As];for(Ue+=Re,te+=Re;te>=je;)te-=je,++Y<=x&&!(Y%16)&&ct($,Y);Ue<Be&&te&ts&&(Ze=ze(Ve,te,Y))}e(xe.h==ce(xe))}ct($,Y>x?x:Y);break s}!Pe||xe.h&&Ue<Le?(Pe=0,$.a=xe.h?5:3):$.$=Ue,x=Pe}else x=nt($,$.V,$.Ba,$.c,$.i,x,Qi);if(!x){C=0;break e}}P+C>=z&&(k.Cc=1),C=1}if(!C)return null;if(k.Cc&&((C=k.ga)!=null&&(C.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+P*I}function Tr(k,x,P,C,I,z){for(;0<I--;){var $,K=k,Y=x+(P?1:0),te=k,xe=x+(P?0:3);for($=0;$<C;++$){var Ve=te[xe+4*$];Ve!=255&&(Ve*=32897,K[Y+4*$+0]=K[Y+4*$+0]*Ve>>23,K[Y+4*$+1]=K[Y+4*$+1]*Ve>>23,K[Y+4*$+2]=K[Y+4*$+2]*Ve>>23)}x+=z}}function Ca(k,x,P,C,I){for(;0<C--;){var z;for(z=0;z<P;++z){var $=k[x+2*z+0],K=15&(te=k[x+2*z+1]),Y=4369*K,te=(240&te|te>>4)*Y>>16;k[x+2*z+0]=(240&$|$>>4)*Y>>16&240|(15&$|$<<4)*Y>>16>>4&15,k[x+2*z+1]=240&te|K}x+=I}}function Aa(k,x,P,C,I,z,$,K){var Y,te,xe=255;for(te=0;te<I;++te){for(Y=0;Y<C;++Y){var Ve=k[x+Y];z[$+4*Y]=Ve,xe&=Ve}x+=P,$+=K}return xe!=255}function Ja(k,x,P,C,I){var z;for(z=0;z<I;++z)P[C+z]=k[x+z]>>8}function wn(){ob=Tr,dj=Ca,uj=Aa,cj=Ja}function Vi(k,x,P){V[k]=function(C,I,z,$,K,Y,te,xe,Ve,re,je,Pe,Re,Ue,Le,Be,ts){var Ze,Bs=ts-1>>1,As=K[Y+0]|te[xe+0]<<16,Ut=Ve[re+0]|je[Pe+0]<<16;e(C!=null);var Cs=3*As+Ut+131074>>2;for(x(C[I+0],255&Cs,Cs>>16,Re,Ue),z!=null&&(Cs=3*Ut+As+131074>>2,x(z[$+0],255&Cs,Cs>>16,Le,Be)),Ze=1;Ze<=Bs;++Ze){var Yt=K[Y+Ze]|te[xe+Ze]<<16,Ta=Ve[re+Ze]|je[Pe+Ze]<<16,Vt=As+Yt+Ut+Ta+524296,Ss=Vt+2*(Yt+Ut)>>3;Cs=Ss+As>>1,As=(Vt=Vt+2*(As+Ta)>>3)+Yt>>1,x(C[I+2*Ze-1],255&Cs,Cs>>16,Re,Ue+(2*Ze-1)*P),x(C[I+2*Ze-0],255&As,As>>16,Re,Ue+(2*Ze-0)*P),z!=null&&(Cs=Vt+Ut>>1,As=Ss+Ta>>1,x(z[$+2*Ze-1],255&Cs,Cs>>16,Le,Be+(2*Ze-1)*P),x(z[$+2*Ze+0],255&As,As>>16,Le,Be+(2*Ze+0)*P)),As=Yt,Ut=Ta}1&ts||(Cs=3*As+Ut+131074>>2,x(C[I+ts-1],255&Cs,Cs>>16,Re,Ue+(ts-1)*P),z!=null&&(Cs=3*Ut+As+131074>>2,x(z[$+ts-1],255&Cs,Cs>>16,Le,Be+(ts-1)*P)))}}function Uf(){Pn[Tf]=TS,Pn[Rf]=Dj,Pn[Nj]=RS,Pn[Mf]=wj,Pn[Lf]=jj,Pn[Gg]=Aj,Pn[kj]=MS,Pn[Kg]=Dj,Pn[Qg]=wj,Pn[If]=jj,Pn[Yg]=Aj}function hc(k){return k&~LS?0>k?0:255:k>>Ej}function Qd(k,x){return hc((19077*k>>8)+(26149*x>>8)-14234)}function Ul(k,x,P){return hc((19077*k>>8)-(6419*x>>8)-(13320*P>>8)+8708)}function Yd(k,x){return hc((19077*k>>8)+(33050*x>>8)-17685)}function Jd(k,x,P,C,I){C[I+0]=Qd(k,P),C[I+1]=Ul(k,x,P),C[I+2]=Yd(k,x)}function Zd(k,x,P,C,I){C[I+0]=Yd(k,x),C[I+1]=Ul(k,x,P),C[I+2]=Qd(k,P)}function di(k,x,P,C,I){var z=Ul(k,x,P);x=z<<3&224|Yd(k,x)>>3,C[I+0]=248&Qd(k,P)|z>>5,C[I+1]=x}function Xd(k,x,P,C,I){var z=240&Yd(k,x)|15;C[I+0]=240&Qd(k,P)|Ul(k,x,P)>>4,C[I+1]=z}function eu(k,x,P,C,I){C[I+0]=255,Jd(k,x,P,C,I+1)}function Jm(k,x,P,C,I){Zd(k,x,P,C,I),C[I+3]=255}function Zm(k,x,P,C,I){Jd(k,x,P,C,I),C[I+3]=255}function sa(k,x){return 0>k?0:k>x?x:k}function Zo(k,x,P){V[k]=function(C,I,z,$,K,Y,te,xe,Ve){for(var re=xe+(-2&Ve)*P;xe!=re;)x(C[I+0],z[$+0],K[Y+0],te,xe),x(C[I+1],z[$+0],K[Y+0],te,xe+P),I+=2,++$,++Y,xe+=2*P;1&Ve&&x(C[I+0],z[$+0],K[Y+0],te,xe)}}function fc(k,x,P){return P==0?k==0?x==0?6:5:x==0?4:0:P}function Vf(k,x,P,C,I){switch(k>>>30){case 3:au(x,P,C,I,0);break;case 2:An(x,P,C,I);break;case 1:hr(x,P,C,I)}}function jn(k,x){var P,C,I=x.M,z=x.Nb,$=k.oc,K=k.pc+40,Y=k.oc,te=k.pc+584,xe=k.oc,Ve=k.pc+600;for(P=0;16>P;++P)$[K+32*P-1]=129;for(P=0;8>P;++P)Y[te+32*P-1]=129,xe[Ve+32*P-1]=129;for(0<I?$[K-1-32]=Y[te-1-32]=xe[Ve-1-32]=129:(i($,K-32-1,127,21),i(Y,te-32-1,127,9),i(xe,Ve-32-1,127,9)),C=0;C<k.za;++C){var re=x.ya[x.aa+C];if(0<C){for(P=-1;16>P;++P)a($,K+32*P-4,$,K+32*P+12,4);for(P=-1;8>P;++P)a(Y,te+32*P-4,Y,te+32*P+4,4),a(xe,Ve+32*P-4,xe,Ve+32*P+4,4)}var je=k.Gd,Pe=k.Hd+C,Re=re.ad,Ue=re.Hc;if(0<I&&(a($,K-32,je[Pe].y,0,16),a(Y,te-32,je[Pe].f,0,8),a(xe,Ve-32,je[Pe].ea,0,8)),re.Za){var Le=$,Be=K-32+16;for(0<I&&(C>=k.za-1?i(Le,Be,je[Pe].y[15],4):a(Le,Be,je[Pe+1].y,0,4)),P=0;4>P;P++)Le[Be+128+P]=Le[Be+256+P]=Le[Be+384+P]=Le[Be+0+P];for(P=0;16>P;++P,Ue<<=2)Le=$,Be=K+yj[P],Xn[re.Ob[P]](Le,Be),Vf(Ue,Re,16*+P,Le,Be)}else if(Le=fc(C,I,re.Ob[0]),Ll[Le]($,K),Ue!=0)for(P=0;16>P;++P,Ue<<=2)Vf(Ue,Re,16*+P,$,K+yj[P]);for(P=re.Gc,Le=fc(C,I,re.Dd),sl[Le](Y,te),sl[Le](xe,Ve),Ue=Re,Le=Y,Be=te,255&(re=0|P)&&(170&re?Eo(Ue,256,Le,Be):Vr(Ue,256,Le,Be)),re=xe,Ue=Ve,255&(P>>=8)&&(170&P?Eo(Re,320,re,Ue):Vr(Re,320,re,Ue)),I<k.Ub-1&&(a(je[Pe].y,0,$,K+480,16),a(je[Pe].f,0,Y,te+224,8),a(je[Pe].ea,0,xe,Ve+224,8)),P=8*z*k.B,je=k.sa,Pe=k.ta+16*C+16*z*k.R,Re=k.qa,re=k.ra+8*C+P,Ue=k.Ha,Le=k.Ia+8*C+P,P=0;16>P;++P)a(je,Pe+P*k.R,$,K+32*P,16);for(P=0;8>P;++P)a(Re,re+P*k.B,Y,te+32*P,8),a(Ue,Le+P*k.B,xe,Ve+32*P,8)}}function su(k,x,P,C,I,z,$,K,Y){var te=[0],xe=[0],Ve=0,re=Y!=null?Y.kd:0,je=Y??new Ie;if(k==null||12>P)return 7;je.data=k,je.w=x,je.ha=P,x=[x],P=[P],je.gb=[je.gb];e:{var Pe=x,Re=P,Ue=je.gb;if(e(k!=null),e(Re!=null),e(Ue!=null),Ue[0]=0,12<=Re[0]&&!r(k,Pe[0],"RIFF")){if(r(k,Pe[0]+8,"WEBP")){Ue=3;break e}var Le=pe(k,Pe[0]+4);if(12>Le||4294967286<Le){Ue=3;break e}if(re&&Le>Re[0]-8){Ue=7;break e}Ue[0]=Le,Pe[0]+=12,Re[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Le=0<je.gb[0],P=P[0];;){e:{var Be=k;Re=x,Ue=P;var ts=te,Ze=xe,Bs=Pe=[0];if((Cs=Ve=[Ve])[0]=0,8>Ue[0])Ue=7;else{if(!r(Be,Re[0],"VP8X")){if(pe(Be,Re[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var As=pe(Be,Re[0]+8),Ut=1+ls(Be,Re[0]+12);if(2147483648<=Ut*(Be=1+ls(Be,Re[0]+15))){Ue=3;break e}Bs!=null&&(Bs[0]=As),ts!=null&&(ts[0]=Ut),Ze!=null&&(Ze[0]=Be),Re[0]+=18,Ue[0]-=18,Cs[0]=1}Ue=0}}if(Ve=Ve[0],Pe=Pe[0],Ue!=0)return Ue;if(Re=!!(2&Pe),!Le&&Ve)return 3;if(z!=null&&(z[0]=!!(16&Pe)),$!=null&&($[0]=Re),K!=null&&(K[0]=0),$=te[0],Pe=xe[0],Ve&&Re&&Y==null){Ue=0;break}if(4>P){Ue=7;break}if(Le&&Ve||!Le&&!Ve&&!r(k,x[0],"ALPH")){P=[P],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{As=k,Ue=x,Le=P;var Cs=je.gb;ts=je.na,Ze=je.P,Bs=je.Sa,Ut=22,e(As!=null),e(Le!=null),Be=Ue[0];var Yt=Le[0];for(e(ts!=null),e(Bs!=null),ts[0]=null,Ze[0]=null,Bs[0]=0;;){if(Ue[0]=Be,Le[0]=Yt,8>Yt){Ue=7;break e}var Ta=pe(As,Be+4);if(4294967286<Ta){Ue=3;break e}var Vt=8+Ta+1&-2;if(Ut+=Vt,0<Cs&&Ut>Cs){Ue=3;break e}if(!r(As,Be,"VP8 ")||!r(As,Be,"VP8L")){Ue=0;break e}if(Yt[0]<Vt){Ue=7;break e}r(As,Be,"ALPH")||(ts[0]=As,Ze[0]=Be+8,Bs[0]=Ta),Be+=Vt,Yt-=Vt}}if(P=P[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ue!=0)break}P=[P],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Cs=k,Ue=x,Le=P,ts=je.gb[0],Ze=je.Ja,Bs=je.xa,As=Ue[0],Be=!r(Cs,As,"VP8 "),Ut=!r(Cs,As,"VP8L"),e(Cs!=null),e(Le!=null),e(Ze!=null),e(Bs!=null),8>Le[0])Ue=7;else{if(Be||Ut){if(Cs=pe(Cs,As+4),12<=ts&&Cs>ts-12){Ue=3;break e}if(re&&Cs>Le[0]-8){Ue=7;break e}Ze[0]=Cs,Ue[0]+=8,Le[0]-=8,Bs[0]=Ut}else Bs[0]=5<=Le[0]&&Cs[As+0]==47&&!(Cs[As+4]>>5),Ze[0]=Le[0];Ue=0}if(P=P[0],je.Ja=je.Ja[0],je.xa=je.xa[0],x=x[0],Ue!=0)break;if(4294967286<je.Ja)return 3;if(K==null||Re||(K[0]=je.xa?2:1),$=[$],Pe=[Pe],je.xa){if(5>P){Ue=7;break}K=$,re=Pe,Re=z,k==null||5>P?k=0:5<=P&&k[x+0]==47&&!(k[x+4]>>5)?(Le=[0],Cs=[0],ts=[0],Ne(Ze=new G,k,x,P),yr(Ze,Le,Cs,ts)?(K!=null&&(K[0]=Le[0]),re!=null&&(re[0]=Cs[0]),Re!=null&&(Re[0]=ts[0]),k=1):k=0):k=0}else{if(10>P){Ue=7;break}K=Pe,k==null||10>P||!Df(k,x+3,P-3)?k=0:(re=k[x+0]|k[x+1]<<8|k[x+2]<<16,Re=16383&(k[x+7]<<8|k[x+6]),k=16383&(k[x+9]<<8|k[x+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=je.Ja||!Re||!k?k=0:($&&($[0]=Re),K&&(K[0]=k),k=1))}if(!k||($=$[0],Pe=Pe[0],Ve&&(te[0]!=$||xe[0]!=Pe)))return 3;Y!=null&&(Y[0]=je,Y.offset=x-Y.w,e(4294967286>x-Y.w),e(Y.offset==Y.ha-P));break}return Ue==0||Ue==7&&Ve&&Y==null?(z!=null&&(z[0]|=je.na!=null&&0<je.na.length),C!=null&&(C[0]=$),I!=null&&(I[0]=Pe),0):Ue}function Xm(k,x,P){var C=x.width,I=x.height,z=0,$=0,K=C,Y=I;if(x.Da=k!=null&&0<k.Da,x.Da&&(K=k.cd,Y=k.bd,z=k.v,$=k.j,11>P||(z&=-2,$&=-2),0>z||0>$||0>=K||0>=Y||z+K>C||$+Y>I))return 0;if(x.v=z,x.j=$,x.va=z+K,x.o=$+Y,x.U=K,x.T=Y,x.da=k!=null&&0<k.da,x.da){if(!Ps(K,Y,P=[k.ib],z=[k.hb]))return 0;x.ib=P[0],x.hb=z[0]}return x.ob=k!=null&&k.ob,x.Kb=k==null||!k.Sd,x.da&&(x.ob=x.ib<3*C/4&&x.hb<3*I/4,x.Kb=0),1}function eb(k){if(k==null)return 2;if(11>k.S){var x=k.f.RGBA;x.fb+=(k.height-1)*x.A,x.A=-x.A}else x=k.f.kb,k=k.height,x.O+=(k-1)*x.fa,x.fa=-x.fa,x.N+=(k-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(k-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(k-1)*x.lb,x.lb=-x.lb);return 0}function Vl(k,x,P,C){if(C==null||0>=k||0>=x)return 2;if(P!=null){if(P.Da){var I=P.cd,z=P.bd,$=-2&P.v,K=-2&P.j;if(0>$||0>K||0>=I||0>=z||$+I>k||K+z>x)return 2;k=I,x=z}if(P.da){if(!Ps(k,x,I=[P.ib],z=[P.hb]))return 2;k=I[0],x=z[0]}}C.width=k,C.height=x;e:{var Y=C.width,te=C.height;if(k=C.S,0>=Y||0>=te||!(k>=Tf&&13>k))k=2;else{if(0>=C.Rd&&C.sd==null){$=z=I=x=0;var xe=(K=Y*Oj[k])*te;if(11>k||(z=(te+1)/2*(x=(Y+1)/2),k==12&&($=(I=Y)*te)),(te=n(xe+2*z+$))==null){k=1;break e}C.sd=te,11>k?((Y=C.f.RGBA).eb=te,Y.fb=0,Y.A=K,Y.size=xe):((Y=C.f.kb).y=te,Y.O=0,Y.fa=K,Y.Fd=xe,Y.f=te,Y.N=0+xe,Y.Ab=x,Y.Cd=z,Y.ea=te,Y.W=0+xe+z,Y.Db=x,Y.Ed=z,k==12&&(Y.F=te,Y.J=0+xe+2*z),Y.Tc=$,Y.lb=I)}if(x=1,I=C.S,z=C.width,$=C.height,I>=Tf&&13>I)if(11>I)k=C.f.RGBA,x&=(K=Math.abs(k.A))*($-1)+z<=k.size,x&=K>=z*Oj[I],x&=k.eb!=null;else{k=C.f.kb,K=(z+1)/2,xe=($+1)/2,Y=Math.abs(k.fa),te=Math.abs(k.Ab);var Ve=Math.abs(k.Db),re=Math.abs(k.lb),je=re*($-1)+z;x&=Y*($-1)+z<=k.Fd,x&=te*(xe-1)+K<=k.Cd,x=(x&=Ve*(xe-1)+K<=k.Ed)&Y>=z&te>=K&Ve>=K,x&=k.y!=null,x&=k.f!=null,x&=k.ea!=null,I==12&&(x&=re>=z,x&=je<=k.Tc,x&=k.F!=null)}else x=0;k=x?0:2}}return k!=0||P!=null&&P.fd&&(k=eb(C)),k}var tu=64,Yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ji=24,_l=32,Xo=8,Cl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];be("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(k){return k},V.Predictor2=function(k,x,P){return x[P+0]},V.Predictor3=function(k,x,P){return x[P+1]},V.Predictor4=function(k,x,P){return x[P-1]},V.Predictor5=function(k,x,P){return Se(Se(k,x[P+1]),x[P+0])},V.Predictor6=function(k,x,P){return Se(k,x[P-1])},V.Predictor7=function(k,x,P){return Se(k,x[P+0])},V.Predictor8=function(k,x,P){return Se(x[P-1],x[P+0])},V.Predictor9=function(k,x,P){return Se(x[P+0],x[P+1])},V.Predictor10=function(k,x,P){return Se(Se(k,x[P-1]),Se(x[P+0],x[P+1]))},V.Predictor11=function(k,x,P){var C=x[P+0];return 0>=qe(C>>24&255,k>>24&255,(x=x[P-1])>>24&255)+qe(C>>16&255,k>>16&255,x>>16&255)+qe(C>>8&255,k>>8&255,x>>8&255)+qe(255&C,255&k,255&x)?C:k},V.Predictor12=function(k,x,P){var C=x[P+0];return(He((k>>24&255)+(C>>24&255)-((x=x[P-1])>>24&255))<<24|He((k>>16&255)+(C>>16&255)-(x>>16&255))<<16|He((k>>8&255)+(C>>8&255)-(x>>8&255))<<8|He((255&k)+(255&C)-(255&x)))>>>0},V.Predictor13=function(k,x,P){var C=x[P-1];return(Te((k=Se(k,x[P+0]))>>24&255,C>>24&255)<<24|Te(k>>16&255,C>>16&255)<<16|Te(k>>8&255,C>>8&255)<<8|Te(255&k,255&C))>>>0};var sb=V.PredictorAdd0;V.PredictorAdd1=ks,be("Predictor2","PredictorAdd2"),be("Predictor3","PredictorAdd3"),be("Predictor4","PredictorAdd4"),be("Predictor5","PredictorAdd5"),be("Predictor6","PredictorAdd6"),be("Predictor7","PredictorAdd7"),be("Predictor8","PredictorAdd8"),be("Predictor9","PredictorAdd9"),be("Predictor10","PredictorAdd10"),be("Predictor11","PredictorAdd11"),be("Predictor12","PredictorAdd12"),be("Predictor13","PredictorAdd13");var pc=V.PredictorAdd2;ps("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),ps("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var ma,_f=V.ColorIndexInverseTransform,jo=V.MapARGB,Ao=V.VP8LColorIndexInverseTransformAlpha,tb=V.MapAlpha,rb=V.VP8LPredictorsAdd=[];rb.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var ab,ib,Sl,Tl,Rl,ru,Ml,au,An,Eo,hr,Vr,ba,Sa,el,nb,Nc,Cf,rj,aj,ij,nj,oj,lj,ob,dj,uj,cj,mj=n(511),bj=n(2041),hj=n(225),fj=n(767),pj=0,Hg=bj,Sf=hj,Zi=fj,En=mj,Tf=0,Rf=1,Nj=2,Mf=3,Lf=4,Gg=5,kj=6,Kg=7,Qg=8,If=9,Yg=10,DS=[2,3,7],wS=[3,3,11],gj=[280,256,256,256,40],jS=[0,1,1,1,0],AS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ES=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],PS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yS=8,Jg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],lb=null,OS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],US=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],VS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_S=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],CS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ll=[],Xn=[],sl=[],SS=1,vj=2,Il=[],Pn=[];Vi("UpsampleRgbLinePair",Jd,3),Vi("UpsampleBgrLinePair",Zd,3),Vi("UpsampleRgbaLinePair",Zm,4),Vi("UpsampleBgraLinePair",Jm,4),Vi("UpsampleArgbLinePair",eu,4),Vi("UpsampleRgba4444LinePair",Xd,2),Vi("UpsampleRgb565LinePair",di,2);var TS=V.UpsampleRgbLinePair,RS=V.UpsampleBgrLinePair,Dj=V.UpsampleRgbaLinePair,wj=V.UpsampleBgraLinePair,jj=V.UpsampleArgbLinePair,Aj=V.UpsampleRgba4444LinePair,MS=V.UpsampleRgb565LinePair,Ff=16,zf=1<<Ff-1,db=-227,Xg=482,Ej=6,LS=(256<<Ej)-1,Pj=0,IS=n(256),FS=n(256),zS=n(256),BS=n(256),qS=n(Xg-db),$S=n(Xg-db);Zo("YuvToRgbRow",Jd,3),Zo("YuvToBgrRow",Zd,3),Zo("YuvToRgbaRow",Zm,4),Zo("YuvToBgraRow",Jm,4),Zo("YuvToArgbRow",eu,4),Zo("YuvToRgba4444Row",Xd,2),Zo("YuvToRgb565Row",di,2);var yj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bf=[0,2,8],HS=[8,7,6,4,4,2,2,2,1,1,1,1],GS=1;this.WebPDecodeRGBA=function(k,x,P,C,I){var z=Rf,$=new Ae,K=new rt;$.ba=K,K.S=z,K.width=[K.width],K.height=[K.height];var Y=K.width,te=K.height,xe=new xs;if(xe==null||k==null)var Ve=2;else e(xe!=null),Ve=su(k,x,P,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ve!=0?Y=0:(Y!=null&&(Y[0]=xe.width[0]),te!=null&&(te[0]=xe.height[0]),Y=1),Y){K.width=K.width[0],K.height=K.height[0],C!=null&&(C[0]=K.width),I!=null&&(I[0]=K.height);e:{if(C=new dc,(I=new Ie).data=k,I.w=x,I.ha=P,I.kd=1,x=[0],e(I!=null),((k=su(I.data,I.w,I.ha,null,null,null,x,null,I))==0||k==7)&&x[0]&&(k=4),(x=k)==0){if(e($!=null),C.data=I.data,C.w=I.w+I.offset,C.ha=I.ha-I.offset,C.put=vs,C.ac=Ht,C.bc=Mt,C.ma=$,I.xa){if((k=kr())==null){$=1;break e}if(function(re,je){var Pe=[0],Re=[0],Ue=[0];s:for(;;){if(re==null)return 0;if(je==null)return re.a=2,0;if(re.l=je,re.a=0,Ne(re.m,je.data,je.w,je.ha),!yr(re.m,Pe,Re,Ue)){re.a=3;break s}if(re.xb=vj,je.width=Pe[0],je.height=Re[0],!or(Pe[0],Re[0],1,re,null))break s;return 1}return e(re.a!=0),0}(k,C)){if(C=(x=Vl(C.width,C.height,$.Oa,$.ba))==0){s:{C=k;t:for(;;){if(C==null){C=0;break s}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((P=C.l)!=null),e((I=P.ma)!=null),C.xb!=0){if(C.ca=I.ba,C.tb=I.tb,e(C.ca!=null),!Xm(I.Oa,P,Mf)){C.a=2;break t}if(!Da(C,P.width)||P.da)break t;if((P.da||tt(C.ca.S))&&wn(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&wn()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!ee(C.s.vb,C.s.Wa.Xa)){C.a=1;break t}C.xb=0}if(!nt(C,C.V,C.Ba,C.c,C.i,P.o,Is))break t;I.Dc=C.Ma,C=1;break s}e(C.a!=0),C=0}C=!C}C&&(x=k.a)}else x=k.a}else{if((k=new Ug)==null){$=1;break e}if(k.Fa=I.na,k.P=I.P,k.qc=I.Sa,wf(k,C)){if((x=Vl(C.width,C.height,$.Oa,$.ba))==0){if(k.Aa=0,P=$.Oa,e((I=k)!=null),P!=null){if(0<(Y=0>(Y=P.Md)?0:100<Y?255:255*Y/100)){for(te=xe=0;4>te;++te)12>(Ve=I.pb[te]).lc&&(Ve.ia=Y*HS[0>Ve.lc?0:Ve.lc]>>3),xe|=Ve.ia;xe&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=P.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(re,je){if(re==null)return 0;if(je==null)return wa(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!wf(re,je))return 0;if(e(re.cb),je.ac==null||je.ac(je)){je.ob&&(re.L=0);var Pe=Bf[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=je.v-Pe>>4,re.zb=je.j-Pe>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=je.o+15+Pe>>4,re.Hb=je.va+15+Pe>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Re=re.ed;for(Pe=0;4>Pe;++Pe){var Ue;if(re.Qa.Cb){var Le=re.Qa.Lb[Pe];re.Qa.Fb||(Le+=Re.Tb)}else Le=Re.Tb;for(Ue=0;1>=Ue;++Ue){var Be=re.gd[Pe][Ue],ts=Le;if(Re.Pc&&(ts+=Re.vd[0],Ue&&(ts+=Re.od[0])),0<(ts=0>ts?0:63<ts?63:ts)){var Ze=ts;0<Re.wb&&(Ze=4<Re.wb?Ze>>2:Ze>>1)>9-Re.wb&&(Ze=9-Re.wb),1>Ze&&(Ze=1),Be.dd=Ze,Be.tc=2*ts+Ze,Be.ld=40<=ts?2:15<=ts?1:0}else Be.tc=0;Be.La=Ue}}}Pe=0}else wa(re,6,"Frame setup failed"),Pe=re.a;if(Pe=Pe==0){if(Pe){re.$c=0,0<re.Aa||(re.Ic=GS);s:{Pe=re.Ic,Re=4*(Ze=re.za);var Bs=32*Ze,As=Ze+1,Ut=0<re.L?Ze*(0<re.Aa?2:1):0,Cs=(re.Aa==2?2:1)*Ze;if((Be=Re+832+(Ue=3*(16*Pe+Bf[re.L])/2*Bs)+(Le=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Be)Pe=0;else{if(Be>re.Vb){if(re.Vb=0,re.Ec=n(Be),re.Fc=0,re.Ec==null){Pe=wa(re,1,"no memory during frame initialization.");break s}re.Vb=Be}Be=re.Ec,ts=re.Fc,re.Ac=Be,re.Bc=ts,ts+=Re,re.Gd=o(Bs,xf),re.Hd=0,re.rb=o(As+1,Im),re.sb=1,re.wa=Ut?o(Ut,Dn):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Ze),e(!0),re.oc=Be,re.pc=ts,ts+=832,re.ya=o(Cs,Fm),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Ze),re.R=16*Ze,re.B=8*Ze,Ze=(Bs=Bf[re.L])*re.R,Bs=Bs/2*re.B,re.sa=Be,re.ta=ts+Ze,re.qa=re.sa,re.ra=re.ta+16*Pe*re.R+Bs,re.Ha=re.qa,re.Ia=re.ra+8*Pe*re.B+Bs,re.$c=0,ts+=Ue,re.mb=Le?Be:null,re.nb=Le?ts:null,e(ts+Le<=re.Fc+re.Vb),Id(re),i(re.Ac,re.Bc,0,Re),Pe=1}}if(Pe){if(je.ka=0,je.y=re.sa,je.O=re.ta,je.f=re.qa,je.N=re.ra,je.ea=re.Ha,je.Vd=re.Ia,je.fa=re.R,je.Rc=re.B,je.F=null,je.J=0,!pj){for(Pe=-255;255>=Pe;++Pe)mj[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)bj[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)hj[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)fj[255+Pe]=0>Pe?0:255<Pe?255:Pe;pj=1}Ml=Af,au=_g,Eo=Cg,hr=wo,Vr=jf,An=Vg,ba=yf,Sa=Of,el=j,nb=L,Nc=Kd,Cf=Wf,rj=ae,aj=ge,ij=Ym,nj=Gd,oj=Ef,lj=Pf,Xn[0]=Fg,Xn[1]=Bm,Xn[2]=Lg,Xn[3]=Ig,Xn[4]=zg,Xn[5]=Qo,Xn[6]=Ko,Xn[7]=Bg,Xn[8]=uc,Xn[9]=qg,Ll[0]=Wl,Ll[1]=Tg,Ll[2]=Rg,Ll[3]=qm,Ll[4]=Mg,Ll[5]=Bd,Ll[6]=$m,sl[0]=mc,sl[1]=Sg,sl[2]=Hm,sl[3]=qd,sl[4]=Gm,sl[5]=$g,sl[6]=Km,Pe=1}else Pe=0}Pe&&(Pe=function(Yt,Ta){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var Vt,Ss=Yt.Jc[Yt.M&Yt.Xb],Ns=Yt.m,ha=Yt;for(Vt=0;Vt<ha.za;++Vt){var At=Ns,Xt=ha,Fr=Xt.Ac,Za=Xt.Bc+4*Vt,vi=Xt.zc,ta=Xt.ya[Xt.aa+Vt];if(Xt.Qa.Bb?ta.$b=ye(At,Xt.Pa.jb[0])?2+ye(At,Xt.Pa.jb[2]):ye(At,Xt.Pa.jb[1]):ta.$b=0,Xt.kc&&(ta.Ad=ye(At,Xt.Bd)),ta.Za=!ye(At,145)+0,ta.Za){var ui=ta.Ob,Di=0;for(Xt=0;4>Xt;++Xt){var Ra,rr=vi[0+Xt];for(Ra=0;4>Ra;++Ra){rr=VS[Fr[Za+Ra]][rr];for(var gr=xj[ye(At,rr[0])];0<gr;)gr=xj[2*gr+ye(At,rr[gr])];rr=-gr,Fr[Za+Ra]=rr}a(ui,Di,Fr,Za,4),Di+=4,vi[0+Xt]=rr}}else rr=ye(At,156)?ye(At,128)?1:3:ye(At,163)?2:0,ta.Ob[0]=rr,i(Fr,Za,rr,4),i(vi,0,rr,4);ta.Dd=ye(At,142)?ye(At,114)?ye(At,183)?1:3:2:0}if(ha.m.Ka)return wa(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(ha=Ss,At=(Ns=Yt).rb[Ns.sb-1],Fr=Ns.rb[Ns.sb+Ns.ja],Vt=Ns.ya[Ns.aa+Ns.ja],Za=Ns.kc?Vt.Ad:0)At.la=Fr.la=0,Vt.Za||(At.Na=Fr.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var ra,xr;if(At=Fr,Fr=ha,Za=Ns.Pa.Xc,vi=Ns.ya[Ns.aa+Ns.ja],ta=Ns.pb[vi.$b],Xt=vi.ad,ui=0,Di=Ns.rb[Ns.sb-1],rr=Ra=0,i(Xt,ui,0,384),vi.Za)var Xa=0,eo=Za[3];else{gr=n(16);var fa=At.Na+Di.Na;if(fa=lb(Fr,Za[1],fa,ta.Eb,0,gr,0),At.Na=Di.Na=(0<fa)+0,1<fa)Ml(gr,0,Xt,ui);else{var _i=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)Xt[ui+gr]=_i}Xa=1,eo=Za[0]}var _r=15&At.la,Ma=15&Di.la;for(gr=0;4>gr;++gr){var Xi=1&Ma;for(_i=xr=0;4>_i;++_i)_r=_r>>1|(Xi=(fa=lb(Fr,eo,fa=Xi+(1&_r),ta.Sc,Xa,Xt,ui))>Xa)<<7,xr=xr<<2|(3<fa?3:1<fa?2:Xt[ui+0]!=0),ui+=16;_r>>=4,Ma=Ma>>1|Xi<<7,Ra=(Ra<<8|xr)>>>0}for(eo=_r,Xa=Ma>>4,ra=0;4>ra;ra+=2){for(xr=0,_r=At.la>>4+ra,Ma=Di.la>>4+ra,gr=0;2>gr;++gr){for(Xi=1&Ma,_i=0;2>_i;++_i)fa=Xi+(1&_r),_r=_r>>1|(Xi=0<(fa=lb(Fr,Za[2],fa,ta.Qc,0,Xt,ui)))<<3,xr=xr<<2|(3<fa?3:1<fa?2:Xt[ui+0]!=0),ui+=16;_r>>=2,Ma=Ma>>1|Xi<<5}rr|=xr<<4*ra,eo|=_r<<4<<ra,Xa|=(240&Ma)<<ra}At.la=eo,Di.la=Xa,vi.Hc=Ra,vi.Gc=rr,vi.ia=43690&rr?0:ta.ia,Za=!(Ra|rr)}if(0<Ns.L&&(Ns.wa[Ns.Y+Ns.ja]=Ns.gd[Vt.$b][Vt.Za],Ns.wa[Ns.Y+Ns.ja].La|=!Za),ha.Ka)return wa(Yt,7,"Premature end-of-file encountered.")}if(Id(Yt),Ns=Ta,ha=1,Vt=(Ss=Yt).D,At=0<Ss.L&&Ss.M>=Ss.zb&&Ss.M<=Ss.Va,Ss.Aa==0)s:{if(Vt.M=Ss.M,Vt.uc=At,jn(Ss,Vt),ha=1,Vt=(xr=Ss.D).Nb,At=(rr=Bf[Ss.L])*Ss.R,Fr=rr/2*Ss.B,gr=16*Vt*Ss.R,_i=8*Vt*Ss.B,Za=Ss.sa,vi=Ss.ta-At+gr,ta=Ss.qa,Xt=Ss.ra-Fr+_i,ui=Ss.Ha,Di=Ss.Ia-Fr+_i,Ma=(_r=xr.M)==0,Ra=_r>=Ss.Va-1,Ss.Aa==2&&jn(Ss,xr),xr.uc)for(Xi=(fa=Ss).D.M,e(fa.D.uc),xr=fa.yb;xr<fa.Hb;++xr){Xa=xr,eo=Xi;var wi=(en=(ei=fa).D).Nb;ra=ei.R;var en=en.wa[en.Y+Xa],sn=ei.sa,Ci=ei.ta+16*wi*ra+16*Xa,tn=en.dd,Rr=en.tc;if(Rr!=0)if(e(3<=Rr),ei.L==1)0<Xa&&nj(sn,Ci,ra,Rr+4),en.La&&lj(sn,Ci,ra,Rr),0<eo&&ij(sn,Ci,ra,Rr+4),en.La&&oj(sn,Ci,ra,Rr);else{var rn=ei.B,so=ei.qa,iu=ei.ra+8*wi*rn+8*Xa,tl=ei.Ha,ei=ei.Ia+8*wi*rn+8*Xa;wi=en.ld,0<Xa&&(Sa(sn,Ci,ra,Rr+4,tn,wi),nb(so,iu,tl,ei,rn,Rr+4,tn,wi)),en.La&&(Cf(sn,Ci,ra,Rr,tn,wi),aj(so,iu,tl,ei,rn,Rr,tn,wi)),0<eo&&(ba(sn,Ci,ra,Rr+4,tn,wi),el(so,iu,tl,ei,rn,Rr+4,tn,wi)),en.La&&(Nc(sn,Ci,ra,Rr,tn,wi),rj(so,iu,tl,ei,rn,Rr,tn,wi))}}if(Ss.ia&&alert("todo:DitherRow"),Ns.put!=null){if(xr=16*_r,_r=16*(_r+1),Ma?(Ns.y=Ss.sa,Ns.O=Ss.ta+gr,Ns.f=Ss.qa,Ns.N=Ss.ra+_i,Ns.ea=Ss.Ha,Ns.W=Ss.Ia+_i):(xr-=rr,Ns.y=Za,Ns.O=vi,Ns.f=ta,Ns.N=Xt,Ns.ea=ui,Ns.W=Di),Ra||(_r-=rr),_r>Ns.o&&(_r=Ns.o),Ns.F=null,Ns.J=null,Ss.Fa!=null&&0<Ss.Fa.length&&xr<_r&&(Ns.J=ja(Ss,Ns,xr,_r-xr),Ns.F=Ss.mb,Ns.F==null&&Ns.F.length==0)){ha=wa(Ss,3,"Could not decode alpha data.");break s}xr<Ns.j&&(rr=Ns.j-xr,xr=Ns.j,e(!(1&rr)),Ns.O+=Ss.R*rr,Ns.N+=Ss.B*(rr>>1),Ns.W+=Ss.B*(rr>>1),Ns.F!=null&&(Ns.J+=Ns.width*rr)),xr<_r&&(Ns.O+=Ns.v,Ns.N+=Ns.v>>1,Ns.W+=Ns.v>>1,Ns.F!=null&&(Ns.J+=Ns.v),Ns.ka=xr-Ns.j,Ns.U=Ns.va-Ns.v,Ns.T=_r-xr,ha=Ns.put(Ns))}Vt+1!=Ss.Ic||Ra||(a(Ss.sa,Ss.ta-At,Za,vi+16*Ss.R,At),a(Ss.qa,Ss.ra-Fr,ta,Xt+8*Ss.B,Fr),a(Ss.Ha,Ss.Ia-Fr,ui,Di+8*Ss.B,Fr))}if(!ha)return wa(Yt,6,"Output aborted.")}return 1}(re,je)),je.bc!=null&&je.bc(je),Pe&=1}return Pe?(re.cb=0,Pe):0})(k,C)||(x=k.a)}}else x=k.a}x==0&&$.Oa!=null&&$.Oa.fd&&(x=eb($.ba))}$=x}z=$!=0?null:11>z?K.f.RGBA.eb:K.f.kb.y}else z=null;return z};var Oj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(V,S){for(var O="",_=0;_<4;_++)O+=String.fromCharCode(V[S++]);return O}function c(V,S){return V[S+0]|V[S+1]<<8}function b(V,S){return(V[S+0]|V[S+1]<<8|V[S+2]<<16)>>>0}function h(V,S){return(V[S+0]|V[S+1]<<8|V[S+2]<<16|V[S+3]<<24)>>>0}new d;var m=[0],f=[0],p=[],N=new d,g=s,D=function(V,S){var O={},_=0,M=!1,R=0,Q=0;if(O.frames=[],!function(T,G){for(var J=0;J<4;J++)if(T[G+J]!="RIFF".charCodeAt(J))return!0;return!1}(V,S)){for(h(V,S+=4),S+=8;S<V.length;){var ne=u(V,S),ie=h(V,S+=4);S+=4;var Z=ie+(1&ie);switch(ne){case"VP8 ":case"VP8L":O.frames[_]===void 0&&(O.frames[_]={}),(fe=O.frames[_]).src_off=M?Q:S-8,fe.src_size=R+ie+8,_++,M&&(M=!1,R=0,Q=0);break;case"VP8X":(fe=O.header={}).feature_flags=V[S];var Ne=S+4;fe.canvas_width=1+b(V,Ne),Ne+=3,fe.canvas_height=1+b(V,Ne),Ne+=3;break;case"ALPH":M=!0,R=Z+8,Q=S-8;break;case"ANIM":(fe=O.header).bgcolor=h(V,S),Ne=S+4,fe.loop_count=c(V,Ne),Ne+=2;break;case"ANMF":var _e,fe;(fe=O.frames[_]={}).offset_x=2*b(V,S),S+=3,fe.offset_y=2*b(V,S),S+=3,fe.width=1+b(V,S),S+=3,fe.height=1+b(V,S),S+=3,fe.duration=b(V,S),S+=3,_e=V[S++],fe.dispose=1&_e,fe.blend=_e>>1&1}ne!="ANMF"&&(S+=Z)}return O}}(g,0);D.response=g,D.rgbaoutput=!0,D.dataurl=!1;var w=D.header?D.header:null,A=D.frames?D.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],f=[w.canvas_width];for(var U=0;U<A.length&&A[U].blend!=0;U++);}var E=A[0],W=N.WebPDecodeRGBA(g,E.src_off,E.src_size,f,m);E.rgba=W,E.imgwidth=f[0],E.imgheight=m[0];for(var y=0;y<f[0]*m[0]*4;y++)p[y]=W[y];return this.width=f,this.height=m,this.data=p,this}(function(s){var e,r,a,i,n,o,l,d,u,c=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new d,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,u=new c}]);var b=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=T;Object.defineProperty(this,"pdf",{get:function(){return G}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(pe){J=!!pe}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(pe){ce=!!pe}});var ke=0;Object.defineProperty(this,"posX",{get:function(){return ke},set:function(pe){isNaN(pe)||(ke=pe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(pe){isNaN(pe)||(we=pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(pe){var ee;typeof pe=="number"?ee=[pe,pe,pe,pe]:((ee=new Array(4))[0]=pe[0],ee[1]=pe.length>=2?pe[1]:ee[0],ee[2]=pe.length>=3?pe[2]:ee[0],ee[3]=pe.length>=4?pe[3]:ee[1]),u.margin=ee}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(pe){We=pe}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(pe){Oe=pe}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(pe){ye=pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(pe){pe instanceof c&&(u=pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(pe){u.path=pe}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(pe){De=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var ee;ee=h(pe),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var ee=h(pe);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var Ye=null,ls=null;Object.defineProperty(this,"fontFaces",{get:function(){return ls},set:function(pe){Ye=null,ls=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var ee;if(this.ctx.font=pe,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var Ms=ee[1];ee[2];var st=ee[3],Ps=ee[4];ee[5];var Je=ee[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ps)[2];Ps=Math.floor(se==="px"?parseFloat(Ps)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Ps)*this.pdf.getFontSize():parseFloat(Ps)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ps);var be=function(ys){var ps,$t,wt=[],gs=ys.trim();if(gs==="")return Sv;if(gs in Py)return[Py[gs]];for(;gs!=="";){switch($t=null,ps=(gs=Oy(gs)).charAt(0)){case'"':case"'":$t=_ne(gs.substring(1),ps);break;default:$t=Cne(gs)}if($t===null||(wt.push($t[0]),(gs=Oy($t[1]))!==""&&gs.charAt(0)!==","))return Sv;gs=gs.replace(/^,/,"")}return wt}(Je);if(this.fontFaces){var Ee=function(ys,ps){if(Ye===null){var $t=function(wt){var gs=[];return Object.keys(wt).forEach(function(Zs){wt[Zs].forEach(function(yt){var zs=null;switch(yt){case"bold":zs={family:Zs,weight:"bold"};break;case"italic":zs={family:Zs,style:"italic"};break;case"bolditalic":zs={family:Zs,weight:"bold",style:"italic"};break;case"":case"normal":zs={family:Zs}}zs!==null&&(zs.ref={name:Zs,style:yt},gs.push(zs))})}),gs}(ys.getFontList());Ye=function(wt){for(var gs={},Zs=0;Zs<wt.length;++Zs){var yt=Cv(wt[Zs]),zs=yt.family,bt=yt.stretch,tt=yt.style,Nr=yt.weight;gs[zs]=gs[zs]||{},gs[zs][bt]=gs[zs][bt]||{},gs[zs][bt][tt]=gs[zs][bt][tt]||{},gs[zs][bt][tt][Nr]=yt}return gs}($t.concat(ps))}return Ye}(this.pdf,this.fontFaces),Se=be.map(function(ys){return{family:ys,stretch:"normal",weight:st,style:Ms}}),He=function(ys,ps,$t){for(var wt=($t=$t||{}).defaultFontFamily||"times",gs=Object.assign({},Vne,$t.genericFontFamilies||{}),Zs=null,yt=null,zs=0;zs<ps.length;++zs)if(gs[(Zs=Cv(ps[zs])).family]&&(Zs.family=gs[Zs.family]),ys.hasOwnProperty(Zs.family)){yt=ys[Zs.family];break}if(!(yt=yt||ys[wt]))throw new Error("Could not find a font-family for the rule '"+yy(Zs)+"' and default family '"+wt+"'.");if(yt=function(bt,tt){if(tt[bt])return tt[bt];var Nr=P1[bt],mr=Nr<=P1.normal?-1:1,rt=Ey(tt,XC,Nr,mr);if(!rt)throw new Error("Could not find a matching font-stretch value for "+bt);return rt}(Zs.stretch,yt),yt=function(bt,tt){if(tt[bt])return tt[bt];for(var Nr=ZC[bt],mr=0;mr<Nr.length;++mr)if(tt[Nr[mr]])return tt[Nr[mr]];throw new Error("Could not find a matching font-style for "+bt)}(Zs.style,yt),!(yt=function(bt,tt){if(tt[bt])return tt[bt];if(bt===400&&tt[500])return tt[500];if(bt===500&&tt[400])return tt[400];var Nr=Une[bt],mr=Ey(tt,eS,Nr,bt<400?-1:1);if(!mr)throw new Error("Could not find a matching font-weight for value "+bt);return mr}(Zs.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+yy(Zs)+"'.");return yt}(Ee,Se);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Te="";(st==="bold"||parseInt(st,10)>=700||Ms==="bold")&&(Te="bold"),Ms==="italic"&&(Te+="italic"),Te.length===0&&(Te="normal");for(var qe="",ks={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},hs=0;hs<be.length;hs++){if(this.pdf.internal.getFont(be[hs],Te,{noFallback:!0,disableWarning:!0})!==void 0){qe=be[hs];break}if(Te==="bolditalic"&&this.pdf.internal.getFont(be[hs],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=be[hs],Te="bold";else if(this.pdf.internal.getFont(be[hs],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=be[hs],Te="normal";break}}if(qe===""){for(var fs=0;fs<be.length;fs++)if(ks[be[fs]]){qe=ks[be[fs]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,Te)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};b.prototype.setLineDash=function(T){this.lineDash=T},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){A.call(this,"fill",!1)},b.prototype.stroke=function(){A.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(T,G){if(isNaN(T)||isNaN(G))throw Cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(T,G)},b.prototype.closePath=function(){var T=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&wr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){T=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},b.prototype.lineTo=function(T,G){if(isNaN(T)||isNaN(G))throw Cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},b.prototype.quadraticCurveTo=function(T,G,J,ce){if(isNaN(J)||isNaN(ce)||isNaN(T)||isNaN(G))throw Cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ke=this.ctx.transform.applyToPoint(new o(J,ce)),we=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new o(ke.x,ke.y)},b.prototype.bezierCurveTo=function(T,G,J,ce,ke,we){if(isNaN(ke)||isNaN(we)||isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce))throw Cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var We=this.ctx.transform.applyToPoint(new o(ke,we)),Oe=this.ctx.transform.applyToPoint(new o(T,G)),ye=this.ctx.transform.applyToPoint(new o(J,ce));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:ye.x,y2:ye.y,x:We.x,y:We.y}),this.ctx.lastPoint=new o(We.x,We.y)},b.prototype.arc=function(T,G,J,ce,ke,we){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce)||isNaN(ke))throw Cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var We=this.ctx.transform.applyToPoint(new o(T,G));T=We.x,G=We.y;var Oe=this.ctx.transform.applyToPoint(new o(0,J)),ye=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(Oe.x-ye.x,2)+Math.pow(Oe.y-ye.y,2))}Math.abs(ke-ce)>=2*Math.PI&&(ce=0,ke=2*Math.PI),this.path.push({type:"arc",x:T,y:G,radius:J,startAngle:ce,endAngle:ke,counterclockwise:we})},b.prototype.arcTo=function(T,G,J,ce,ke){throw new Error("arcTo not implemented.")},b.prototype.rect=function(T,G,J,ce){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce))throw Cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,G),this.lineTo(T+J,G),this.lineTo(T+J,G+ce),this.lineTo(T,G+ce),this.lineTo(T,G),this.lineTo(T+J,G),this.lineTo(T,G)},b.prototype.fillRect=function(T,G,J,ce){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce))throw Cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ke={};this.lineCap!=="butt"&&(ke.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ke.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,G,J,ce),this.fill(),ke.hasOwnProperty("lineCap")&&(this.lineCap=ke.lineCap),ke.hasOwnProperty("lineJoin")&&(this.lineJoin=ke.lineJoin)}},b.prototype.strokeRect=function(T,G,J,ce){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce))throw Cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(T,G,J,ce),this.stroke())},b.prototype.clearRect=function(T,G,J,ce){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce))throw Cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,G,J,ce))},b.prototype.save=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},b.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(G),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(T){var G,J,ce,ke;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))G=0,J=0,ce=0,ke=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(we!==null)G=parseInt(we[1]),J=parseInt(we[2]),ce=parseInt(we[3]),ke=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)G=parseInt(we[1]),J=parseInt(we[2]),ce=parseInt(we[3]),ke=parseFloat(we[4]);else{if(ke=1,typeof T=="string"&&T.charAt(0)!=="#"){var We=new $C(T);T=We.ok?We.toHex():"#000000"}T.length===4?(G=T.substring(1,2),G+=G,J=T.substring(2,3),J+=J,ce=T.substring(3,4),ce+=ce):(G=T.substring(1,3),J=T.substring(3,5),ce=T.substring(5,7)),G=parseInt(G,16),J=parseInt(J,16),ce=parseInt(ce,16)}}return{r:G,g:J,b:ce,a:ke,style:T}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},f=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(T,G,J,ce){if(isNaN(G)||isNaN(J)||typeof T!="string")throw Cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!m.call(this)){var ke=Z(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;_.call(this,{text:T,x:G,y:J,scale:we,angle:ke,align:this.textAlign,maxWidth:ce})}},b.prototype.strokeText=function(T,G,J,ce){if(isNaN(G)||isNaN(J)||typeof T!="string")throw Cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){ce=isNaN(ce)?void 0:ce;var ke=Z(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;_.call(this,{text:T,x:G,y:J,scale:we,renderingMode:"stroke",angle:ke,align:this.textAlign,maxWidth:ce})}},b.prototype.measureText=function(T){if(typeof T!="string")throw Cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,J=this.pdf.internal.scaleFactor,ce=G.internal.getFontSize(),ke=G.getStringUnitWidth(T)*ce/G.internal.scaleFactor;return new function(we){var We=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return We}}),this}({width:ke*=Math.round(96*J/72*1e4)/1e4})},b.prototype.scale=function(T,G){if(isNaN(T)||isNaN(G))throw Cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new d(T,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},b.prototype.rotate=function(T){if(isNaN(T))throw Cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new d(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},b.prototype.translate=function(T,G){if(isNaN(T)||isNaN(G))throw Cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new d(1,0,0,1,T,G);this.ctx.transform=this.ctx.transform.multiply(J)},b.prototype.transform=function(T,G,J,ce,ke,we){if(isNaN(T)||isNaN(G)||isNaN(J)||isNaN(ce)||isNaN(ke)||isNaN(we))throw Cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var We=new d(T,G,J,ce,ke,we);this.ctx.transform=this.ctx.transform.multiply(We)},b.prototype.setTransform=function(T,G,J,ce,ke,we){T=isNaN(T)?1:T,G=isNaN(G)?0:G,J=isNaN(J)?0:J,ce=isNaN(ce)?1:ce,ke=isNaN(ke)?0:ke,we=isNaN(we)?0:we,this.ctx.transform=new d(T,G,J,ce,ke,we)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(T,G,J,ce,ke,we,We,Oe,ye){var De=this.pdf.getImageProperties(T),Ye=1,ls=1,pe=1,ee=1;ce!==void 0&&Oe!==void 0&&(pe=Oe/ce,ee=ye/ke,Ye=De.width/ce*Oe/ce,ls=De.height/ke*ye/ke),we===void 0&&(we=G,We=J,G=0,J=0),ce!==void 0&&Oe===void 0&&(Oe=ce,ye=ke),ce===void 0&&Oe===void 0&&(Oe=De.width,ye=De.height);for(var Ms,st=this.ctx.transform.decompose(),Ps=Z(st.rotate.shx),Je=new d,se=(Je=(Je=(Je=Je.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new l(we-G*pe,We-J*ee,ce*Ye,ke*ls)),be=N.call(this,se),Ee=[],Se=0;Se<be.length;Se+=1)Ee.indexOf(be[Se])===-1&&Ee.push(be[Se]);if(w(Ee),this.autoPaging)for(var He=Ee[0],Te=Ee[Ee.length-1],qe=He;qe<Te+1;qe++){this.pdf.setPage(qe);var ks=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hs=qe===1?this.posY+this.margin[0]:this.margin[0],fs=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ys=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ps=qe===1?0:fs+(qe-2)*ys;if(this.ctx.clip_path.length!==0){var $t=this.path;Ms=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ms,this.posX+this.margin[3],-ps+hs+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=$t}var wt=JSON.parse(JSON.stringify(se));wt=D([wt],this.posX+this.margin[3],-ps+hs+this.ctx.prevPageLastElemOffset)[0];var gs=(qe>He||qe<Te)&&p.call(this);gs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ks,ys,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Ps),gs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",se.x,se.y,se.w,se.h,null,null,Ps)};var N=function(T,G,J){var ce=[];G=G||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ke=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ce.push(Math.floor((T.y+ke)/J)+1);break;case"arc":ce.push(Math.floor((T.y+ke-T.radius)/J)+1),ce.push(Math.floor((T.y+ke+T.radius)/J)+1);break;case"qct":var we=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ce.push(Math.floor((we.y+ke)/J)+1),ce.push(Math.floor((we.y+we.h+ke)/J)+1);break;case"bct":var We=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ce.push(Math.floor((We.y+ke)/J)+1),ce.push(Math.floor((We.y+We.h+ke)/J)+1);break;case"rect":ce.push(Math.floor((T.y+ke)/J)+1),ce.push(Math.floor((T.y+T.h+ke)/J)+1)}for(var Oe=0;Oe<ce.length;Oe+=1)for(;this.pdf.internal.getNumberOfPages()<ce[Oe];)g.call(this);return ce},g=function(){var T=this.fillStyle,G=this.strokeStyle,J=this.font,ce=this.lineCap,ke=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=G,this.font=J,this.lineCap=ce,this.lineWidth=ke,this.lineJoin=we},D=function(T,G,J){for(var ce=0;ce<T.length;ce++)switch(T[ce].type){case"bct":T[ce].x2+=G,T[ce].y2+=J;case"qct":T[ce].x1+=G,T[ce].y1+=J;default:T[ce].x+=G,T[ce].y+=J}return T},w=function(T){return T.sort(function(G,J){return G-J})},A=function(T,G){for(var J,ce,ke=this.fillStyle,we=this.strokeStyle,We=this.lineCap,Oe=this.lineWidth,ye=Math.abs(Oe*this.ctx.transform.scaleX),De=this.lineJoin,Ye=JSON.parse(JSON.stringify(this.path)),ls=JSON.parse(JSON.stringify(this.path)),pe=[],ee=0;ee<ls.length;ee++)if(ls[ee].x!==void 0)for(var Ms=N.call(this,ls[ee]),st=0;st<Ms.length;st+=1)pe.indexOf(Ms[st])===-1&&pe.push(Ms[st]);for(var Ps=0;Ps<pe.length;Ps++)for(;this.pdf.internal.getNumberOfPages()<pe[Ps];)g.call(this);if(w(pe),this.autoPaging)for(var Je=pe[0],se=pe[pe.length-1],be=Je;be<se+1;be++){this.pdf.setPage(be),this.fillStyle=ke,this.strokeStyle=we,this.lineCap=We,this.lineWidth=ye,this.lineJoin=De;var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=be===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=be===1?0:He+(be-2)*Te;if(this.ctx.clip_path.length!==0){var ks=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(J,this.posX+this.margin[3],-qe+Se+this.ctx.prevPageLastElemOffset),U.call(this,T,!0),this.path=ks}if(ce=JSON.parse(JSON.stringify(Ye)),this.path=D(ce,this.posX+this.margin[3],-qe+Se+this.ctx.prevPageLastElemOffset),G===!1||be===0){var hs=(be>Je||be<se)&&p.call(this);hs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,Te,null).clip().discardPath()),U.call(this,T,G),hs&&this.pdf.restoreGraphicsState()}this.lineWidth=Oe}else this.lineWidth=ye,U.call(this,T,G),this.lineWidth=Oe;this.path=Ye},U=function(T,G){if((T!=="stroke"||G||!f.call(this))&&(T==="stroke"||G||!m.call(this))){for(var J,ce,ke=[],we=this.path,We=0;We<we.length;We++){var Oe=we[We];switch(Oe.type){case"begin":ke.push({begin:!0});break;case"close":ke.push({close:!0});break;case"mt":ke.push({start:Oe,deltas:[],abs:[]});break;case"lt":var ye=ke.length;if(we[We-1]&&!isNaN(we[We-1].x)&&(J=[Oe.x-we[We-1].x,Oe.y-we[We-1].y],ye>0)){for(;ye>=0;ye--)if(ke[ye-1].close!==!0&&ke[ye-1].begin!==!0){ke[ye-1].deltas.push(J),ke[ye-1].abs.push(Oe);break}}break;case"bct":J=[Oe.x1-we[We-1].x,Oe.y1-we[We-1].y,Oe.x2-we[We-1].x,Oe.y2-we[We-1].y,Oe.x-we[We-1].x,Oe.y-we[We-1].y],ke[ke.length-1].deltas.push(J);break;case"qct":var De=we[We-1].x+2/3*(Oe.x1-we[We-1].x),Ye=we[We-1].y+2/3*(Oe.y1-we[We-1].y),ls=Oe.x+2/3*(Oe.x1-Oe.x),pe=Oe.y+2/3*(Oe.y1-Oe.y),ee=Oe.x,Ms=Oe.y;J=[De-we[We-1].x,Ye-we[We-1].y,ls-we[We-1].x,pe-we[We-1].y,ee-we[We-1].x,Ms-we[We-1].y],ke[ke.length-1].deltas.push(J);break;case"arc":ke.push({deltas:[],abs:[],arc:!0}),Array.isArray(ke[ke.length-1].abs)&&ke[ke.length-1].abs.push(Oe)}}ce=G?null:T==="stroke"?"stroke":"fill";for(var st=!1,Ps=0;Ps<ke.length;Ps++)if(ke[Ps].arc)for(var Je=ke[Ps].abs,se=0;se<Je.length;se++){var be=Je[se];be.type==="arc"?y.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,G,!st):M.call(this,be.x,be.y),st=!0}else if(ke[Ps].close===!0)this.pdf.internal.out("h"),st=!1;else if(ke[Ps].begin!==!0){var Ee=ke[Ps].start.x,Se=ke[Ps].start.y;R.call(this,ke[Ps].deltas,Ee,Se),st=!0}ce&&V.call(this,ce),G&&S.call(this)}},E=function(T){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+G-J;case"hanging":return T+G-2*J;case"middle":return T+G/2-J;default:return T}},W=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(G,J){this.colorStops.push([G,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(T,G,J,ce,ke,we,We,Oe,ye){for(var De=ne.call(this,J,ce,ke,we),Ye=0;Ye<De.length;Ye++){var ls=De[Ye];Ye===0&&(ye?O.call(this,ls.x1+T,ls.y1+G):M.call(this,ls.x1+T,ls.y1+G)),Q.call(this,T,G,ls.x2,ls.y2,ls.x3,ls.y3,ls.x4,ls.y4)}Oe?S.call(this):V.call(this,We)},V=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(T,G){this.pdf.internal.out(r(T)+" "+a(G)+" m")},_=function(T){var G;switch(T.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var J=this.pdf.getTextDimensions(T.text),ce=E.call(this,T.y),ke=W.call(this,ce)-J.h,we=this.ctx.transform.applyToPoint(new o(T.x,ce)),We=this.ctx.transform.decompose(),Oe=new d;Oe=(Oe=(Oe=Oe.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var ye,De,Ye,ls=this.ctx.transform.applyToRectangle(new l(T.x,ce,J.w,J.h)),pe=Oe.applyToRectangle(new l(T.x,ke,J.w,J.h)),ee=N.call(this,pe),Ms=[],st=0;st<ee.length;st+=1)Ms.indexOf(ee[st])===-1&&Ms.push(ee[st]);if(w(Ms),this.autoPaging)for(var Ps=Ms[0],Je=Ms[Ms.length-1],se=Ps;se<Je+1;se++){this.pdf.setPage(se);var be=se===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],He=Se-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],qe=Te-this.margin[3],ks=se===1?0:Ee+(se-2)*He;if(this.ctx.clip_path.length!==0){var hs=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ye,this.posX+this.margin[3],-1*ks+be),U.call(this,"fill",!0),this.path=hs}var fs=D([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-ks+be+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*T.scale),Ye=this.lineWidth,this.lineWidth=Ye*T.scale);var ys=this.autoPaging!=="text";if(ys||fs.y+fs.h<=Se){if(ys||fs.y>=be&&fs.x<=Te){var ps=ys?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Te-fs.x)[0],$t=D([JSON.parse(JSON.stringify(ls))],this.posX+this.margin[3],-ks+be+this.ctx.prevPageLastElemOffset)[0],wt=ys&&(se>Ps||se<Je)&&p.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,He,null).clip().discardPath()),this.pdf.text(ps,$t.x,$t.y,{angle:T.angle,align:G,renderingMode:T.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else fs.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-fs.y);T.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ye)}else T.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*T.scale),Ye=this.lineWidth,this.lineWidth=Ye*T.scale),this.pdf.text(T.text,we.x+this.posX,we.y+this.posY,{angle:T.angle,align:G,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ye)},M=function(T,G,J,ce){J=J||0,ce=ce||0,this.pdf.internal.out(r(T+J)+" "+a(G+ce)+" l")},R=function(T,G,J){return this.pdf.lines(T,G,J,null,null)},Q=function(T,G,J,ce,ke,we,We,Oe){this.pdf.internal.out([e(i(J+T)),e(n(ce+G)),e(i(ke+T)),e(n(we+G)),e(i(We+T)),e(n(Oe+G)),"c"].join(" "))},ne=function(T,G,J,ce){for(var ke=2*Math.PI,we=Math.PI/2;G>J;)G-=ke;var We=Math.abs(J-G);We<ke&&ce&&(We=ke-We);for(var Oe=[],ye=ce?-1:1,De=G;We>1e-5;){var Ye=De+ye*Math.min(We,we);Oe.push(ie.call(this,T,De,Ye)),We-=Math.abs(Ye-De),De=Ye}return Oe},ie=function(T,G,J){var ce=(J-G)/2,ke=T*Math.cos(ce),we=T*Math.sin(ce),We=ke,Oe=-we,ye=We*We+Oe*Oe,De=ye+We*ke+Oe*we,Ye=4/3*(Math.sqrt(2*ye*De)-De)/(We*we-Oe*ke),ls=We-Ye*Oe,pe=Oe+Ye*We,ee=ls,Ms=-pe,st=ce+G,Ps=Math.cos(st),Je=Math.sin(st);return{x1:T*Math.cos(G),y1:T*Math.sin(G),x2:ls*Ps-pe*Je,y2:ls*Je+pe*Ps,x3:ee*Ps-Ms*Je,y3:ee*Je+Ms*Ps,x4:T*Math.cos(J),y4:T*Math.sin(J)}},Z=function(T){return 180*T/Math.PI},Ne=function(T,G,J,ce,ke,we){var We=T+.5*(J-T),Oe=G+.5*(ce-G),ye=ke+.5*(J-ke),De=we+.5*(ce-we),Ye=Math.min(T,ke,We,ye),ls=Math.max(T,ke,We,ye),pe=Math.min(G,we,Oe,De),ee=Math.max(G,we,Oe,De);return new l(Ye,pe,ls-Ye,ee-pe)},_e=function(T,G,J,ce,ke,we,We,Oe){var ye,De,Ye,ls,pe,ee,Ms,st,Ps,Je,se,be,Ee,Se,He=J-T,Te=ce-G,qe=ke-J,ks=we-ce,hs=We-ke,fs=Oe-we;for(De=0;De<41;De++)Ps=(Ms=(Ye=T+(ye=De/40)*He)+ye*((pe=J+ye*qe)-Ye))+ye*(pe+ye*(ke+ye*hs-pe)-Ms),Je=(st=(ls=G+ye*Te)+ye*((ee=ce+ye*ks)-ls))+ye*(ee+ye*(we+ye*fs-ee)-st),De==0?(se=Ps,be=Je,Ee=Ps,Se=Je):(se=Math.min(se,Ps),be=Math.min(be,Je),Ee=Math.max(Ee,Ps),Se=Math.max(Se,Je));return new l(Math.round(se),Math.round(be),Math.round(Ee-se),Math.round(Se-be))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,G,J=(T=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:G}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Gs.API),function(s){var e=function(o){var l,d,u,c,b,h,m,f,p,N;for(d=[],u=0,c=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(b=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(b=((b=((b=((b=(b-(N=b%85))/85)-(p=b%85))/85)-(f=b%85))/85)-(m=b%85))/85)%85,d.push(h+33,m+33,f+33,p+33,N+33)):d.push(122);return function(g,D){for(var w=D;w>0;w--)g.pop()}(d,l.length),String.fromCharCode.apply(String,d)+"~>"},r=function(o){var l,d,u,c,b,h=String,m="length",f=255,p="charCodeAt",N="slice",g="replace";for(o[N](-2),o=o[N](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],c=0,b=(o+=l="uuuuu"[N](o[m]%5||5))[m];b>c;c+=5)d=52200625*(o[p](c)-33)+614125*(o[p](c+1)-33)+7225*(o[p](c+2)-33)+85*(o[p](c+3)-33)+(o[p](c+4)-33),u.push(f&d>>24,f&d>>16,f&d>>8,f&d);return function(D,w){for(var A=w;A>0;A--)D.pop()}(u,l[m]),h.fromCharCode.apply(h,u)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var d="",u=0;u<o.length;u+=2)d+=String.fromCharCode("0x"+(o[u]+o[u+1]));return d},n=function(o){for(var l=new Uint8Array(o.length),d=o.length;d--;)l[d]=o.charCodeAt(d);return(l=h1(l)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};s.processDataByFilters=function(o,l){var d=0,u=o||"",c=[];for(typeof(l=l||[])=="string"&&(l=[l]),d=0;d<l.length;d+=1)switch(l[d]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=a(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=n(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[d]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(Gs.API),function(s){s.loadFile=function(e,r,a){return function(i,n,o){n=n!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(d,u,c){var b=new XMLHttpRequest,h=0,m=function(f){var p=f.length,N=[],g=String.fromCharCode;for(h=0;h<p;h+=1)N.push(g(255&f.charCodeAt(h)));return N.join("")};if(b.open("GET",d,!u),b.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(b.onload=function(){b.status===200?c(m(this.responseText)):c(void 0)}),b.send(null),u&&b.status===200)return m(b.responseText)}(i,n,o)}catch{}return l}(e,r,a)},s.loadImageFile=s.loadFile}(Gs.API),function(s){function e(){return(ut.html2canvas?Promise.resolve(ut.html2canvas):Tb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ut.DOMPurify?Promise.resolve(ut.DOMPurify):Tb(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var d=wr(l);return d==="undefined"?"undefined":d==="string"||l instanceof String?"string":d==="number"||l instanceof Number?"number":d==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(l,d){var u=document.createElement(l);for(var c in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[c]=d.style[c];return u},n=function l(d,u){for(var c=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)u!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||c.appendChild(l(b,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(c.width=d.width,c.height=d.height,c.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(c.value=d.value),c.addEventListener("load",function(){c.scrollTop=d.scrollTop,c.scrollLeft=d.scrollLeft},!0)),c},o=function l(d){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),c=l.convert(Promise.resolve(),u);return(c=c.setProgress(1,l,1,[l])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,d){return l.__proto__=d||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,d){return this.then(function(){switch(d=d||function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),d){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=n(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(d){var u=this.opt.jsPDF,c=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var f=c[m],p=f.src.find(function(N){return N.format==="truetype"});p&&u.addFont(p.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),d(this.prop.container,h)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,d):this.outputPdf(l,d)},o.prototype.outputPdf=function(l,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,d)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var d=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(l,d){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return d?d(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function d(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(l=l||Gs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:d(l.inner.width,l.k),height:d(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,d,u,c){return l!=null&&(this.progress.val=l),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,d,u,c){return this.setProgress(l?this.progress.val+l:null,d||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(l,d){var u=this;return this.thenCore(l,d,function(c,b){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,c),h}).then(c,b).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(l,d,u){u=u||Promise.prototype.then;var c=this;l&&(l=l.bind(c)),d&&(d=d.bind(c));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),h=u.call(b,l,d);return o.convert(h,c.__proto__)},o.prototype.thenExternal=function(l,d){return Promise.prototype.then.call(this,l,d)},o.prototype.thenList=function(l){var d=this;return l.forEach(function(u){d=d.thenCore(u)}),d},o.prototype.catch=function(l){l&&(l=l.bind(this));var d=Promise.prototype.catch.call(this,l);return o.convert(d,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Gs.getPageSize=function(l,d,u){if(wr(l)==="object"){var c=l;l=c.orientation,d=c.unit||d,u=c.format||u}d=d||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var b,h=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var f,p=0,N=0;if(m.hasOwnProperty(h))p=m[h][1]/b,N=m[h][0]/b;else try{p=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",N>p&&(f=N,N=p,p=f);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>N&&(f=N,N=p,p=f)}return{width:N,height:p,unit:d,k:b,orientation:l}},s.html=function(l,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Cv):null;var u=new o(d);return d.worker?u:u.from(l).doCallback()}}(Gs.API),Gs.API.addJS=function(s){return Uy=s,this.internal.events.subscribe("postPutResources",function(){_p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Wy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_p!==void 0&&Wy!==void 0&&this.internal.out("/Names <</JavaScript "+_p+" 0 R>>")}),this},function(s){var e;s.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),n=0;n<i.length;n++){var o=i[n],l=a.exec(o);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(n=0;n<u;n++){var b=r.internal.newObject();c.push(b);var h=r.internal.getPageInfo(n+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),n=0;n<c.length;n++)r.internal.write("(page_"+(n+1)+")"+c[n]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,i,n){var o={title:i,options:n,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<a.children.length;n++){var o=a.children[n];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),n>0&&this.line("/Prev "+this.makeRef(a.children[n-1])),n<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[n+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,i){for(var n=0;n<i.children.length;n++)a.count++,this.count_r(a,i.children[n]);return a.count}}])}(Gs.API),function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(r,a,i,n,o,l){var d,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=function(b){for(var h,m=256*b.charCodeAt(4)+b.charCodeAt(5),f=b.length,p={width:0,height:0,numcomponents:1},N=4;N<f;N+=2){if(N+=m,e.indexOf(b.charCodeAt(N+1))!==-1){h=256*b.charCodeAt(N+5)+b.charCodeAt(N+6),p={width:256*b.charCodeAt(N+7)+b.charCodeAt(N+8),height:h,numcomponents:b.charCodeAt(N+9)};break}m=256*b.charCodeAt(N+2)+b.charCodeAt(N+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}c={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:i}}return c}}(Gs.API),Gs.API.processPNG=function(s,e,r,a){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var i,n=Nne(s,{checkCrc:!0}),o=n.width,l=n.height,d=n.channels,u=n.palette,c=n.depth;i=u&&d===1?function(y){for(var V=y.width,S=y.height,O=y.data,_=y.palette,M=y.depth,R=!1,Q=[],ne=[],ie=void 0,Z=!1,Ne=0,_e=0;_e<_.length;_e++){var fe=A2(_[_e],4),T=fe[0],G=fe[1],J=fe[2],ce=fe[3];Q.push(T,G,J),ce!=null&&(ce===0?(Ne++,ne.length<1&&ne.push(_e)):ce<255&&(Z=!0))}if(Z||Ne>1){R=!0,ne=void 0;var ke=V*S;ie=new Uint8Array(ke);for(var we=new DataView(O.buffer),We=0;We<ke;We++){var Oe=Tv(we,We,M),ye=A2(_[Oe],4)[3];ie[We]=ye}}else Ne===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:O,alphaBytes:ie,needSMask:R,palette:Q,mask:ne}}(n):d===2||d===4?function(y){for(var V=y.data,S=y.width,O=y.height,_=y.channels,M=y.depth,R=_===2?"DeviceGray":"DeviceRGB",Q=_-1,ne=S*O,ie=Q,Z=ne*ie,Ne=1*ne,_e=Math.ceil(Z*M/8),fe=Math.ceil(Ne*M/8),T=new Uint8Array(_e),G=new Uint8Array(fe),J=new DataView(V.buffer),ce=new DataView(T.buffer),ke=new DataView(G.buffer),we=!1,We=0;We<ne;We++){for(var Oe=We*_,ye=0;ye<ie;ye++)Iy(ce,Tv(J,Oe+ye,M),We*ie+ye,M);var De=Tv(J,Oe+ie,M);De<(1<<M)-1&&(we=!0),Iy(ke,De,1*We,M)}return{colorSpace:R,colorsPerPixel:Q,sMaskBitsPerComponent:we?M:void 0,colorBytes:T,alphaBytes:G,needSMask:we}}(n):function(y){var V=y.data,S=y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:S,colorsPerPixel:S==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?function(O){for(var _=O.length,M=new Uint8Array(2*_),R=new DataView(M.buffer,M.byteOffset,M.byteLength),Q=0;Q<_;Q++)R.setUint16(2*Q,O[Q],!1);return M}(V):V,needSMask:!1}}(n);var b,h,m,f=i,p=f.colorSpace,N=f.colorsPerPixel,g=f.sMaskBitsPerComponent,D=f.colorBytes,w=f.alphaBytes,A=f.needSMask,U=f.palette,E=f.mask,W=null;return a!==Gs.API.image_compression.NONE&&typeof h1=="function"?(W=function(y){var V;switch(y){case Gs.API.image_compression.FAST:V=11;break;case Gs.API.image_compression.MEDIUM:V=13;break;case Gs.API.image_compression.SLOW:V=14;break;default:V=12}return V}(a),b=this.decode.FLATE_DECODE,h="/Predictor ".concat(W," /Colors ").concat(N," /BitsPerComponent ").concat(c," /Columns ").concat(o),s=Sy(D,Math.ceil(o*N*c/8),N,c,a),A&&(m=Sy(w,Math.ceil(o*g/8),1,g,a))):(b=void 0,h=void 0,s=D,A&&(m=w)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:s,index:e,filter:b,decodeParameters:h,transparency:E,palette:U,sMask:m,predictor:W,width:o,height:l,bitsPerComponent:c,sMaskBitsPerComponent:g,colorSpace:p}}},function(s){s.processGIF89A=function(e,r,a,i){var n=new Mne(e),o=n.width,l=n.height,d=[];n.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:o,height:l},c=new Rv(100).encode(u,100);return s.processJPEG.call(this,c,r,a,i)},s.processGIF87A=s.processGIF89A}(Gs.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:a,blue:r,quad:n}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(r){Cr.log("bit decode error:"+r)}},ro.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),r=e%4;for(s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<e;i++)for(var n=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var d=this.palette[n>>7-l&1];this.data[o+4*l]=d.blue,this.data[o+4*l+1]=d.green,this.data[o+4*l+2]=d.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ro.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<s;i++){var n=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*i*4,l=n>>4,d=15&n,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[d],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),n=r*this.width*4+4*a;if(i<this.palette.length){var o=this.palette[i];this.data[n]=o.red,this.data[n+1]=o.green,this.data[n+2]=o.blue,this.data[n+3]=255}else this.data[n]=255,this.data[n+1]=255,this.data[n+2]=255,this.data[n+3]=255}s!==0&&(this.pos+=4-s)}},ro.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var n=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(n&e)/e*255|0,l=(n>>5&e)/e*255|0,d=(n>>10&e)/e*255|0,u=n>>15?255:0,c=a*this.width*4+4*i;this.data[c]=d,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=u}this.pos+=s}},ro.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,d=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*n;this.data[c]=u,this.data[c+1]=d,this.data[c+2]=l,this.data[c+3]=255}this.pos+=s}},ro.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=n,this.data[o+1]=i,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=n,this.data[l+1]=i,this.data[l+2]=a,this.data[l+3]=o}},ro.prototype.getData=function(){return this.data},function(s){s.processBMP=function(e,r,a,i){var n=new ro(e,!1),o=n.width,l=n.height,d={data:n.getData(),width:o,height:l},u=new Rv(100).encode(d,100);return s.processJPEG.call(this,u,r,a,i)}}(Gs.API),zy.prototype.getData=function(){return this.data},function(s){s.processWEBP=function(e,r,a,i){var n=new zy(e),o=n.width,l=n.height,d={data:n.getData(),width:o,height:l},u=new Rv(100).encode(d,100);return s.processJPEG.call(this,u,r,a,i)}}(Gs.API),Gs.API.processRGBA=function(s,e,r){for(var a=s.data,i=a.length,n=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,d=0,u=0;u<i;u+=4){var c=a[u],b=a[u+1],h=a[u+2],m=a[u+3];n[l++]=c,n[l++]=b,n[l++]=h,o[d++]=m}var f=this.__addimage__.arrayBufferToBinaryString(n);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Gs.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vc=Gs.API,Cp=Vc.getCharWidthsArray=function(s,e){var r,a,i=(e=e||{}).font||this.internal.getFont(),n=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,d=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,b=e.doKerning!==!1,h=0,m=s.length,f=0,p=l[0]||d,N=[];for(r=0;r<m;r++)a=s.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+o*(1e3/n)||0)/1e3):(h=b&&wr(u[a])==="object"&&!isNaN(parseInt(u[a][f],10))?u[a][f]/c:0,N.push((l[a]||p)/d+h)),f=a;return N},Vy=Vc.getStringUnitWidth=function(s,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Vc.processArabic&&(s=Vc.processArabic(s)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(s,r,i)/r:Cp.apply(this,arguments).reduce(function(n,o){return n+o},0)},_y=function(s,e,r,a){for(var i=[],n=0,o=s.length,l=0;n!==o&&l+e[n]<r;)l+=e[n],n++;i.push(s.slice(0,n));var d=n;for(l=0;n!==o;)l+e[n]>a&&(i.push(s.slice(d,n)),l=0,d=n),l+=e[n],n++;return d!==n&&i.push(s.slice(d,n)),i},Cy=function(s,e,r){r||(r={});var a,i,n,o,l,d,u,c=[],b=[c],h=r.textIndent||0,m=0,f=0,p=s.split(" "),N=Cp.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var g=Array(d).join(" "),D=[];p.map(function(A){(A=A.split(/\s*\n/)).length>1?D=D.concat(A.map(function(U,E){return(E&&U.length?`
`:"")+U})):D.push(A[0])}),p=D,d=Vy.apply(this,[g,r])}for(n=0,o=p.length;n<o;n++){var w=0;if(a=p[n],d&&a[0]==`
`&&(a=a.substr(1),w=1),h+m+(f=(i=Cp.apply(this,[a,r])).reduce(function(A,U){return A+U},0))>e||w){if(f>e){for(l=_y.apply(this,[a,i,e-(h+m),e]),c.push(l.shift()),c=[l.pop()];l.length;)b.push([l.shift()]);f=i.slice(a.length-(c[0]?c[0].length:0)).reduce(function(A,U){return A+U},0)}else c=[a];b.push(c),h=f+d,m=N}else c.push(a),h+=m+f,m=N}return u=d?function(A,U){return(U?g:"")+A.join(" ")}:function(A){return A.join(" ")},b.map(u)},Vc.splitTextToSize=function(s,e,r){var a,i=(r=r||{}).fontSize||this.internal.getFontSize(),n=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var b=this.internal.getFont(c.fontName,c.fontStyle),h="Unicode";return b.metadata[h]?{widths:b.metadata[h].widths||{0:1},kerning:b.metadata[h].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(s)?s:String(s).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;n.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,n.lineIndent=r.lineIndent;var l,d,u=[];for(l=0,d=a.length;l<d;l++)u=u.concat(Cy.apply(this,[a[l],o,n]));return u},function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",a={},i={},n=0;n<16;n++)a[r[n]]=e[n],i[e[n]]=r[n];var o=function(h){return"0x"+parseInt(h,10).toString(16)},l=s.__fontmetrics__.compress=function(h){var m,f,p,N,g=["{"];for(var D in h){if(m=h[D],isNaN(parseInt(D,10))?f="'"+D+"'":(D=parseInt(D,10),f=(f=o(D).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof m=="number")m<0?(p=o(m).slice(3),N="-"):(p=o(m).slice(2),N=""),p=N+p.slice(0,-1)+i[p.slice(-1)];else{if(wr(m)!=="object")throw new Error("Don't know what to do with value type "+wr(m)+".");p=l(m)}g.push(f+p)}return g.push("}"),g.join("")},d=s.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,f,p,N,g={},D=1,w=g,A=[],U="",E="",W=h.length-1,y=1;y<W;y+=1)(N=h[y])=="'"?m?(p=m.join(""),m=void 0):m=[]:m?m.push(N):N=="{"?(A.push([w,p]),w={},p=void 0):N=="}"?((f=A.pop())[0][f[1]]=w,p=void 0,w=f[0]):N=="-"?D=-1:p===void 0?a.hasOwnProperty(N)?(U+=a[N],p=parseInt(U,16)*D,D=1,U=""):U+=N:a.hasOwnProperty(N)?(E+=a[N],w[p]=parseInt(E,16)*D,D=1,p=void 0,E=""):E+=N;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(h){var m=h.font,f=b.Unicode[m.postScriptName];f&&(m.metadata.Unicode={},m.metadata.Unicode.widths=f.widths,m.metadata.Unicode.kerning=f.kerning);var p=c.Unicode[m.postScriptName];p&&(m.metadata.Unicode.encoding=p,m.encoding=p.codePages[0])}])}(Gs.API),function(s){var e=function(r){for(var a=r.length,i=new Uint8Array(a),n=0;n<a;n++)i[n]=r.charCodeAt(n);return i};s.API.events.push(["addFont",function(r){var a=void 0,i=r.font,n=r.instance;if(!i.isStandardFont){if(n===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=n.existsFileInVFS(i.postScriptName)===!1?n.loadFile(i.postScriptName):n.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(tN(l)),o.metadata=s.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,a)}}])}(Gs),Gs.API.addSvgAsImage=function(s,e,r,a,i,n,o,l){if(isNaN(e)||isNaN(r))throw Cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=i;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(ut.canvg?Promise.resolve(ut.canvg):Tb(()=>import("./index.es-D4Bj4hvz.js"),__vite__mapDeps([2,1,3,4,5]))).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(u,s,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(c)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),e,r,a,i,o,l)})},Gs.API.putTotalPages=function(s){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(e,r);return this},Gs.API.viewerPreferences=function(s,e){var r;s=s||{},e=e||!1;var a,i,n,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),d=[],u=0,c=0,b=0;function h(f,p){var N,g=!1;for(N=0;N<f.length;N+=1)f[N]===p&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var m=l.length;for(b=0;b<m;b+=1)r[l[b]].value=r[l[b]].defaultValue,r[l[b]].explicitSet=!1}if(wr(s)==="object"){for(i in s)if(n=s[i],h(l,i)&&n!==void 0){if(r[i].type==="boolean"&&typeof n=="boolean")r[i].value=n;else if(r[i].type==="name"&&h(r[i].valueSet,n))r[i].value=n;else if(r[i].type==="integer"&&Number.isInteger(n))r[i].value=n;else if(r[i].type==="array"){for(u=0;u<n.length;u+=1)if(a=!0,n[u].length===1&&typeof n[u][0]=="number")d.push(String(n[u]-1));else if(n[u].length>1){for(c=0;c<n[u].length;c+=1)typeof n[u][c]!="number"&&(a=!1);a===!0&&d.push([n[u][0]-1,n[u][1]-1].join(" "))}r[i].value="["+d.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var f,p=[];for(f in r)r[f].explicitSet===!0&&(r[f].type==="name"?p.push("/"+f+" /"+r[f].value):p.push("/"+f+" "+r[f].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(s){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=n.length+o.length+l.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+n+o+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Gs.API),function(s){var e=s.API,r=e.pdfEscape16=function(n,o){for(var l,d=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],b=0,h=n.length;b<h;++b){if(l=o.metadata.characterToGlyph(n.charCodeAt(b)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=n.charCodeAt(b),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return c.join("");l=l.toString(16),c.push(u[4-l.length],l)}return c.join("")},a=function(n){var o,l,d,u,c,b,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,h=(l=Object.keys(n).sort(function(m,f){return m-f})).length;b<h;b++)o=l[b],d.length>=100&&(c+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),n[o]!==void 0&&n[o]!==null&&typeof n[o].toString=="function"&&(u=("0000"+n[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+u+">"));return d.length&&(c+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(n){(function(o){var l=o.font,d=o.out,u=o.newObject,c=o.putStream;if(l.metadata instanceof s.API.TTFFont&&l.encoding==="Identity-H"){for(var b=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var p=u();c({data:m,addLength1:!0,objectId:p}),d("endobj");var N=u();c({data:a(l.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var g=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Fc(l.fontName)),d("/FontFile2 "+p+" 0 R"),d("/FontBBox "+s.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var D=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+Fc(l.fontName)),d("/FontDescriptor "+g+" 0 R"),d("/W "+s.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Fc(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+D+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(n)}]),e.events.push(["putFont",function(n){(function(o){var l=o.font,d=o.out,u=o.newObject,c=o.putStream;if(l.metadata instanceof s.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var b=l.metadata.rawData,h="",m=0;m<b.length;m++)h+=String.fromCharCode(b[m]);var f=u();c({data:h,addLength1:!0,objectId:f}),d("endobj");var p=u();c({data:a(l.metadata.toUnicode),addLength1:!0,objectId:p}),d("endobj");var N=u();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+f+" 0 R"),d("/Flags 96"),d("/FontBBox "+s.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+Fc(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Fc(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(n)}]);var i=function(n){var o,l=n.text||"",d=n.x,u=n.y,c=n.options||{},b=n.mutex||{},h=b.pdfEscape,m=b.activeFontKey,f=b.fonts,p=m,N="",g=0,D="",w=f[p].encoding;if(f[p].encoding!=="Identity-H")return{text:l,x:d,y:u,options:c,mutex:b};for(D=l,p=m,Array.isArray(l)&&(D=l[0]),g=0;g<D.length;g+=1)f[p].metadata.hasOwnProperty("cmap")&&(o=f[p].metadata.cmap.unicode.codeMap[D[g].charCodeAt(0)]),o||D[g].charCodeAt(0)<256&&f[p].metadata.hasOwnProperty("Unicode")?N+=D[g]:N+="";var A="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?A=h(N,p).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(A=r(N,f[p])),b.isHex=!0,{text:A,x:d,y:u,options:c,mutex:b}};e.events.push(["postProcessText",function(n){var o=n.text||"",l=[],d={text:o,x:n.x,y:n.y,options:n.options,mutex:n.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},d,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},d,{text:o[u]})).text);n.text=l}else n.text=i(Object.assign({},d,{text:o})).text}])}(Gs),function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},s.addFileToVFS=function(r,a){return e.call(this),this.internal.vFS[r]=a,this},s.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Gs.API),function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(a){var i,n,o,l,d,u,c,b=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,w=0;this.__bidiEngine__={};var A=function(O){var _=O.charCodeAt(),M=_>>8,R=p[M];return R!==void 0?b[256*R+(255&_)]:M===252||M===253?"AL":g.test(M)?"L":M===8?"R":"N"},U=function(O){for(var _,M=0;M<O.length;M++){if((_=A(O.charAt(M)))==="L")return!1;if(_==="R")return!0}return!1},E=function(O,_,M,R){var Q,ne,ie,Z,Ne=_[R];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(Ne="AN");break;case"AL":D=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":R<1||R+1>=_.length||(Q=M[R-1])!=="EN"&&Q!=="AN"||(ne=_[R+1])!=="EN"&&ne!=="AN"?Ne="N":D&&(ne="AN"),Ne=ne===Q?ne:"N";break;case"ES":Ne=(Q=R>0?M[R-1]:"B")==="EN"&&R+1<_.length&&_[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&M[R-1]==="EN"){Ne="EN";break}if(D){Ne="N";break}for(ie=R+1,Z=_.length;ie<Z&&_[ie]==="ET";)ie++;Ne=ie<Z&&_[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Z=_.length,ie=R+1;ie<Z&&_[ie]==="NSM";)ie++;if(ie<Z){var _e=O[R],fe=_e>=1425&&_e<=2303||_e===64286;if(Q=_[ie],fe&&(Q==="R"||Q==="AL")){Ne="R";break}}}Ne=R<1||(Q=_[R-1])==="B"?"N":M[R-1];break;case"B":D=!1,i=!0,Ne=w;break;case"S":n=!0,Ne="N"}return Ne},W=function(O,_,M){var R=O.split("");return M&&y(R,M,{hiLevel:w}),R.reverse(),_&&_.reverse(),R.join("")},y=function(O,_,M){var R,Q,ne,ie,Z,Ne=-1,_e=O.length,fe=0,T=[],G=w?m:h,J=[];for(D=!1,i=!1,n=!1,Q=0;Q<_e;Q++)J[Q]=A(O[Q]);for(ne=0;ne<_e;ne++){if(Z=fe,T[ne]=E(O,J,T,ne),R=240&(fe=G[Z][f[T[ne]]]),fe&=15,_[ne]=ie=G[fe][5],R>0)if(R===16){for(Q=Ne;Q<ne;Q++)_[Q]=1;Ne=-1}else Ne=-1;if(G[fe][6])Ne===-1&&(Ne=ne);else if(Ne>-1){for(Q=Ne;Q<ne;Q++)_[Q]=ie;Ne=-1}J[ne]==="B"&&(_[ne]=0),M.hiLevel|=ie}n&&function(ce,ke,we){for(var We=0;We<we;We++)if(ce[We]==="S"){ke[We]=w;for(var Oe=We-1;Oe>=0&&ce[Oe]==="WS";Oe--)ke[Oe]=w}}(J,_,_e)},V=function(O,_,M,R,Q){if(!(Q.hiLevel<O)){if(O===1&&w===1&&!i)return _.reverse(),void(M&&M.reverse());for(var ne,ie,Z,Ne,_e=_.length,fe=0;fe<_e;){if(R[fe]>=O){for(Z=fe+1;Z<_e&&R[Z]>=O;)Z++;for(Ne=fe,ie=Z-1;Ne<ie;Ne++,ie--)ne=_[Ne],_[Ne]=_[ie],_[ie]=ne,M&&(ne=M[Ne],M[Ne]=M[ie],M[ie]=ne);fe=Z}fe++}}},S=function(O,_,M){var R=O.split(""),Q={hiLevel:w};return M||(M=[]),y(R,M,Q),function(ne,ie,Z){if(Z.hiLevel!==0&&c)for(var Ne,_e=0;_e<ne.length;_e++)ie[_e]===1&&(Ne=N.indexOf(ne[_e]))>=0&&(ne[_e]=N[Ne+1])}(R,M,Q),V(2,R,_,M,Q),V(1,R,_,M,Q),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,_,M){if(function(Q,ne){if(ne)for(var ie=0;ie<Q.length;ie++)ne[ie]=ie;l===void 0&&(l=U(Q)),u===void 0&&(u=U(Q))}(O,_),o||!d||u)if(o&&d&&l^u)w=l?1:0,O=W(O,_,M);else if(!o&&d&&u)w=l?1:0,O=S(O,_,M),O=W(O,_);else if(!o||l||d||u){if(o&&!d&&l^u)O=W(O,_),l?(w=0,O=S(O,_,M)):(w=1,O=S(O,_,M),O=W(O,_));else if(o&&l&&!d&&u)w=1,O=S(O,_,M),O=W(O,_);else if(!o&&!d&&l^u){var R=c;l?(w=1,O=S(O,_,M),w=0,c=!1,O=S(O,_,M),c=R):(w=0,O=S(O,_,M),O=W(O,_),w=1,c=!1,O=S(O,_,M),c=R,O=W(O,_))}}else w=0,O=S(O,_,M);else w=l?1:0,O=S(O,_,M);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,d=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var n=a.options||{};a.mutex,n.lang;var o=[];if(n.isInputVisual=typeof n.isInputVisual!="boolean"||n.isInputVisual,r.setOptions(n),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);a.text=o}else a.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Gs),Gs.API.TTFFont=function(){function s(e){var r;if(this.rawData=e,r=this.contents=new Vd(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Xne(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new Lne(this.contents),this.head=new Fne(this),this.name=new Hne(this),this.cmap=new tS(this),this.toUnicode={},this.hhea=new zne(this),this.maxp=new Gne(this),this.hmtx=new Kne(this),this.post=new qne(this),this.os2=new Bne(this),this.loca=new Zne(this),this.glyf=new Qne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,r,a,i,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,d,u;for(u=[],o=0,l=(d=this.bbox).length;o<l;o++)e=d[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(n=this.familyClass)===1||n===2||n===3||n===4||n===5||n===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},s.prototype.widthOfString=function(e,r,a){var i,n,o,l;for(o=0,n=0,l=(e=""+e).length;0<=l?n<l:n>l;n=0<=l?++n:--n)i=e.charCodeAt(n),o+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/r)||0;return o*(r/1e3)},s.prototype.lineHeight=function(e,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},s}();var Do,Vd=function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var r,a;for(a=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},s.prototype.writeString=function(e){var r,a,i;for(i=[],r=0,a=e.length;0<=a?r<a:r>a;r=0<=a?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,r,a,i,n,o,l,d;return e=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),n=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^n)+65536*(255^o)+256*(255^l)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*a+4294967296*i+16777216*n+65536*o+256*l+d},s.prototype.writeLongLong=function(e){var r,a;return r=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var r,a;for(r=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)r.push(this.readByte());return r},s.prototype.write=function(e){var r,a,i,n;for(n=[],a=0,i=e.length;a<i;a++)r=e[a],n.push(this.writeByte(r));return n},s}(),Lne=function(){var s;function e(r){var a,i,n;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,n=this.tableCount;0<=n?i<n:i>n;i=0<=n?++i:--i)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(r){var a,i,n,o,l,d,u,c,b,h,m,f,p;for(p in m=Object.keys(r).length,d=Math.log(2),b=16*Math.floor(Math.log(m)/d),o=Math.floor(b/d),c=16*m-b,(i=new Vd).writeInt(this.scalarType),i.writeShort(m),i.writeShort(b),i.writeShort(o),i.writeShort(c),n=16*m,u=i.pos+n,l=null,f=[],r)for(h=r[p],i.writeString(p),i.writeInt(s(h)),i.writeInt(u),i.writeInt(h.length),f=f.concat(h),p==="head"&&(l=u),u+=h.length;u%4;)f.push(0),u++;return i.write(f),a=2981146554-s(i.data),i.pos=l+8,i.writeUInt32(a),i.data},s=function(r){var a,i,n,o;for(r=rS.call(r);r.length%4;)r.push(0);for(n=new Vd(r),i=0,a=0,o=r.length;a<o;a=a+=4)i+=n.readUInt32();return 4294967295&i},e}(),Ine={}.hasOwnProperty,Ho=function(s,e){for(var r in e)Ine.call(e,r)&&(s[r]=e[r]);function a(){this.constructor=s}return a.prototype=e.prototype,s.prototype=new a,s.__super__=e.prototype,s};Do=function(){function s(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s}();var Fne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var r;return(r=new Vd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},s}(),By=function(){function s(e,r){var a,i,n,o,l,d,u,c,b,h,m,f,p,N,g,D,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(m=e.readUInt16(),h=m/2,e.pos+=6,n=function(){var A,U;for(U=[],d=A=0;0<=h?A<h:A>h;d=0<=h?++A:--A)U.push(e.readUInt16());return U}(),e.pos+=2,p=function(){var A,U;for(U=[],d=A=0;0<=h?A<h:A>h;d=0<=h?++A:--A)U.push(e.readUInt16());return U}(),u=function(){var A,U;for(U=[],d=A=0;0<=h?A<h:A>h;d=0<=h?++A:--A)U.push(e.readUInt16());return U}(),c=function(){var A,U;for(U=[],d=A=0;0<=h?A<h:A>h;d=0<=h?++A:--A)U.push(e.readUInt16());return U}(),i=(this.length-e.pos+this.offset)/2,l=function(){var A,U;for(U=[],d=A=0;0<=i?A<i:A>i;d=0<=i?++A:--A)U.push(e.readUInt16());return U}(),d=g=0,w=n.length;g<w;d=++g)for(N=n[d],a=D=f=p[d];f<=N?D<=N:D>=N;a=f<=N?++D:--D)c[d]===0?o=a+u[d]:(o=l[c[d]/2+(a-f)-(h-d)]||0)!==0&&(o+=u[d]),this.codeMap[a]=65535&o}e.pos=b}return s.encode=function(e,r){var a,i,n,o,l,d,u,c,b,h,m,f,p,N,g,D,w,A,U,E,W,y,V,S,O,_,M,R,Q,ne,ie,Z,Ne,_e,fe,T,G,J,ce,ke,we,We,Oe,ye,De,Ye;switch(R=new Vd,o=Object.keys(e).sort(function(ls,pe){return ls-pe}),r){case"macroman":for(p=0,N=function(){var ls=[];for(f=0;f<256;++f)ls.push(0);return ls}(),D={0:0},n={},Q=0,Ne=o.length;Q<Ne;Q++)D[Oe=e[i=o[Q]]]==null&&(D[Oe]=++p),n[i]={old:e[i],new:D[e[i]]},N[i]=D[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(N),{charMap:n,subtable:R.data,maxGlyphID:p+1};case"unicode":for(_=[],b=[],w=0,D={},a={},g=u=null,ne=0,_e=o.length;ne<_e;ne++)D[U=e[i=o[ne]]]==null&&(D[U]=++w),a[i]={old:U,new:D[U]},l=D[U]-i,g!=null&&l===u||(g&&b.push(g),_.push(i),u=l),g=i;for(g&&b.push(g),b.push(65535),_.push(65535),S=2*(V=_.length),y=2*Math.pow(Math.log(V)/Math.LN2,2),h=Math.log(y/2)/Math.LN2,W=2*V-y,d=[],E=[],m=[],f=ie=0,fe=_.length;ie<fe;f=++ie){if(O=_[f],c=b[f],O===65535){d.push(0),E.push(0);break}if(O-(M=a[O].new)>=32768)for(d.push(0),E.push(2*(m.length+V-f)),i=Z=O;O<=c?Z<=c:Z>=c;i=O<=c?++Z:--Z)m.push(a[i].new);else d.push(M-O),E.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*V+2*m.length),R.writeUInt16(0),R.writeUInt16(S),R.writeUInt16(y),R.writeUInt16(h),R.writeUInt16(W),we=0,T=b.length;we<T;we++)i=b[we],R.writeUInt16(i);for(R.writeUInt16(0),We=0,G=_.length;We<G;We++)i=_[We],R.writeUInt16(i);for(ye=0,J=d.length;ye<J;ye++)l=d[ye],R.writeUInt16(l);for(De=0,ce=E.length;De<ce;De++)A=E[De],R.writeUInt16(A);for(Ye=0,ke=m.length;Ye<ke;Ye++)p=m[Ye],R.writeUInt16(p);return{charMap:a,subtable:R.data,maxGlyphID:w+1}}},s}(),tS=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="cmap",s.prototype.parse=function(e){var r,a,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new By(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},s.encode=function(e,r){var a,i;return r==null&&(r="macroman"),a=By.encode(e,r),(i=new Vd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},s}(),zne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s}(),Bne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(e.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s}(),qne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="post",s.prototype.parse=function(e){var r,a,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var n;for(a=e.readUInt16(),this.glyphNameIndex=[],n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var o,l,d;for(d=[],n=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;n=0<=l?++o:--o)d.push(e.readUInt32());return d}).call(this)}},s}(),$ne=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Hne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="name",s.prototype.parse=function(e){var r,a,i,n,o,l,d,u,c,b,h;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),a=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(d={},n=c=0,b=a.length;c<b;n=++c)i=a[n],e.pos=i.offset,u=e.readString(i.length),o=new $ne(u,i),d[h=i.nameID]==null&&(d[h]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},s}(),Gne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s}(),Kne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="hmtx",s.prototype.parse=function(e){var r,a,i,n,o,l,d;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,b,h;for(h=[],u=0,c=(b=this.metrics).length;u<c;u++)n=b[u],h.push(n.advance);return h}).call(this),a=this.widths[this.widths.length-1],d=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)d.push(this.widths.push(a));return d},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s}(),rS=[].slice,Qne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var r,a,i,n,o,l,d,u,c,b;return e in this.cache?this.cache[e]:(n=this.file.loca,r=this.file.contents,a=n.indexOf(e),(i=n.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+a,o=(l=new Vd(r.read(i))).readShort(),u=l.readShort(),b=l.readShort(),d=l.readShort(),c=l.readShort(),this.cache[e]=o===-1?new Jne(l,u,b,d,c):new Yne(l,o,u,b,d,c),this.cache[e]))},s.prototype.encode=function(e,r,a){var i,n,o,l,d;for(o=[],n=[],l=0,d=r.length;l<d;l++)i=e[r[l]],n.push(o.length),i&&(o=o.concat(i.encode(a)));return n.push(o.length),{table:o,offsets:n}},s}(),Yne=function(){function s(e,r,a,i,n,o){this.raw=e,this.numberOfContours=r,this.xMin=a,this.yMin=i,this.xMax=n,this.yMax=o,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s}(),Jne=function(){function s(e,r,a,i,n){var o,l;for(this.raw=e,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=n,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return s.prototype.encode=function(){var e,r,a;for(r=new Vd(rS.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)r.pos=this.glyphOffsets[e];return r.data},s}(),Zne=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Ho(s,Do),s.prototype.tag="loca",s.prototype.parse=function(e){var r,a;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,n;for(n=[],a=0,i=this.length;a<i;a+=2)n.push(2*e.readUInt16());return n}).call(this):(function(){var i,n;for(n=[],a=0,i=this.length;a<i;a+=4)n.push(e.readUInt32());return n}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,r){for(var a=new Uint32Array(this.offsets.length),i=0,n=0,o=0;o<a.length;++o)if(a[o]=i,n<r.length&&r[n]==o){++n,a[o]=i;var l=this.offsets[o],d=this.offsets[o+1]-l;d>0&&(i+=d)}for(var u=new Array(4*a.length),c=0;c<a.length;++c)u[4*c+3]=255&a[c],u[4*c+2]=(65280&a[c])>>8,u[4*c+1]=(16711680&a[c])>>16,u[4*c]=(4278190080&a[c])>>24;return u},s}(),Xne=function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,r,a,i,n;for(r in i=this.font.cmap.tables[0].codeMap,e={},n=this.subset)a=n[r],e[r]=i[a];return e},s.prototype.glyphsFor=function(e){var r,a,i,n,o,l,d;for(i={},o=0,l=e.length;o<l;o++)i[n=e[o]]=this.font.glyf.glyphFor(n);for(n in r=[],i)(a=i[n])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(n in d=this.glyphsFor(r))a=d[n],i[n]=a;return i},s.prototype.encode=function(e,r){var a,i,n,o,l,d,u,c,b,h,m,f,p,N,g;for(i in a=tS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},g=a.charMap)m[(d=g[i]).old]=d.new;for(f in h=a.maxGlyphID,o)f in m||(m[f]=h++);return c=function(D){var w,A;for(w in A={},D)A[D[w]]=w;return A}(m),b=Object.keys(c).sort(function(D,w){return D-w}),p=function(){var D,w,A;for(A=[],D=0,w=b.length;D<w;D++)l=b[D],A.push(c[l]);return A}(),n=this.font.glyf.encode(o,p,m),u=this.font.loca.encode(n.offsets,p),N={cmap:this.font.cmap.raw(),glyf:n.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},s}();Gs.API.PDFObject=function(){var s;function e(){}return s=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},e.convert=function(r){var a,i,n,o;if(Array.isArray(r))return"["+function(){var l,d,u;for(u=[],l=0,d=r.length;l<d;l++)a=r[l],u.push(e.convert(a));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+s(r.getUTCFullYear(),4)+s(r.getUTCMonth(),2)+s(r.getUTCDate(),2)+s(r.getUTCHours(),2)+s(r.getUTCMinutes(),2)+s(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in n=["<<"],r)o=r[i],n.push("/"+i+" "+e.convert(o));return n.push(">>"),n.join(`
`)}return""+r},e}();class eoe{constructor(e,r=K4){qs(this,"doc");qs(this,"options");qs(this,"metadata");qs(this,"currentY",72);qs(this,"pageNumber",1);qs(this,"pageWidth");qs(this,"pageHeight");qs(this,"contentWidth");qs(this,"leftMargin");qs(this,"rightMargin");this.options=r,this.metadata=e,this.doc=new Gs({orientation:r.orientation,unit:"pt",format:r.pageSize}),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.leftMargin=r.margins.left,this.rightMargin=r.margins.right,this.contentWidth=this.pageWidth-this.leftMargin-this.rightMargin,this.currentY=r.margins.top,this.doc.setFont(r.font.family==="Times-Roman"?"times":"helvetica","normal"),this.doc.setFontSize(r.font.size)}checkPageBreak(e=50){const r=this.pageHeight-this.options.margins.bottom;this.currentY+e>r&&this.addPage()}addPage(){this.options.includeFooter&&this.addFooter(),this.doc.addPage(),this.pageNumber++,this.currentY=this.options.margins.top,this.options.includeHeader&&this.addHeader()}addHeader(){this.doc.setFontSize(9),this.doc.setTextColor(100,100,100),this.doc.text(this.metadata.clientName,this.leftMargin,30);const r=Jte(this.metadata.documentType);this.doc.text(r,this.pageWidth-this.rightMargin,30,{align:"right"}),this.doc.setDrawColor(200,200,200),this.doc.line(this.leftMargin,40,this.pageWidth-this.rightMargin,40),this.doc.setFontSize(this.options.font.size),this.doc.setTextColor(0,0,0)}addFooter(){const e=this.pageHeight-30;this.doc.setFontSize(9),this.doc.setTextColor(100,100,100),this.doc.setDrawColor(200,200,200),this.doc.line(this.leftMargin,e-10,this.pageWidth-this.rightMargin,e-10),this.metadata.referenceNumber&&this.doc.text(`Ref: ${this.metadata.referenceNumber}`,this.leftMargin,e),this.doc.text(`Page ${this.pageNumber}`,this.pageWidth-this.rightMargin,e,{align:"right"}),this.doc.setFontSize(this.options.font.size),this.doc.setTextColor(0,0,0)}addWatermark(){if(!this.options.includeWatermark||!this.options.watermarkText)return;const e=this.options.watermarkText;this.doc.setFontSize(60),this.doc.setTextColor(230,230,230);const r=this.pageWidth/2,a=this.pageHeight/2;this.doc.text(e,r,a,{align:"center",angle:45}),this.doc.setFontSize(this.options.font.size),this.doc.setTextColor(0,0,0)}addTitle(e){this.checkPageBreak(40),this.doc.setFontSize(16),this.doc.setFont("times","bold"),this.doc.text(e.toUpperCase(),this.pageWidth/2,this.currentY,{align:"center"}),this.currentY+=30,this.doc.setFontSize(this.options.font.size),this.doc.setFont("times","normal")}addHeading(e,r=1){const a={1:14,2:12,3:11},i={1:25,2:20,3:18};this.checkPageBreak(40),this.currentY+=10,this.doc.setFontSize(a[r]),this.doc.setFont("times","bold"),this.doc.text(e,this.leftMargin,this.currentY),this.currentY+=i[r],this.doc.setFontSize(this.options.font.size),this.doc.setFont("times","normal")}addParagraph(e,r={}){const a=r.maxWidth||this.contentWidth,i=this.doc.splitTextToSize(e,a),n=this.options.font.size*1.5;i.forEach(o=>{this.checkPageBreak(n);const l=r.align==="center"?this.pageWidth/2:r.align==="right"?this.pageWidth-this.rightMargin:this.leftMargin;this.doc.text(o,l,this.currentY,{align:r.align||"left"}),this.currentY+=n}),this.currentY+=10}addBoldParagraph(e,r={}){this.doc.setFont("times","bold"),this.addParagraph(e,r),this.doc.setFont("times","normal")}addBulletList(e){const r=this.options.font.size*1.5,a=20;e.forEach(i=>{this.checkPageBreak(r),this.doc.text("",this.leftMargin,this.currentY),this.doc.splitTextToSize(i,this.contentWidth-a).forEach((o,l)=>{l>0&&this.checkPageBreak(r),this.doc.text(o,this.leftMargin+a,this.currentY),this.currentY+=r})}),this.currentY+=5}addNumberedList(e){const r=this.options.font.size*1.5,a=25;e.forEach((i,n)=>{this.checkPageBreak(r),this.doc.text(`${n+1}.`,this.leftMargin,this.currentY),this.doc.splitTextToSize(i,this.contentWidth-a).forEach((l,d)=>{d>0&&this.checkPageBreak(r),this.doc.text(l,this.leftMargin+a,this.currentY),this.currentY+=r})}),this.currentY+=5}addSpace(e=20){this.currentY+=e,this.checkPageBreak()}addLine(){this.checkPageBreak(5),this.doc.setDrawColor(150,150,150),this.doc.line(this.leftMargin,this.currentY,this.pageWidth-this.rightMargin,this.currentY),this.currentY+=10}addTable(e,r,a){const l=this.contentWidth,d=a||e.map(()=>l/e.length);this.checkPageBreak(25+20*Math.min(r.length,3));let u=this.leftMargin;this.doc.setFillColor(240,240,240),this.doc.rect(this.leftMargin,this.currentY-15,l,25,"F"),this.doc.setFont("times","bold"),this.doc.setFontSize(10),e.forEach((c,b)=>{this.doc.text(c,u+5,this.currentY),u+=d[b]}),this.currentY+=20,this.doc.setFont("times","normal"),r.forEach((c,b)=>{this.checkPageBreak(20),b%2===1&&(this.doc.setFillColor(250,250,250),this.doc.rect(this.leftMargin,this.currentY-12,l,20,"F")),u=this.leftMargin,c.forEach((h,m)=>{let f=h;const p=d[m]-5*2;for(;this.doc.getTextWidth(f)>p&&f.length>3;)f=f.slice(0,-4)+"...";this.doc.text(f,u+5,this.currentY),u+=d[m]}),this.currentY+=20}),this.doc.setDrawColor(200,200,200),this.doc.rect(this.leftMargin,this.currentY-20*r.length-25,l,20*r.length+25),this.currentY+=10,this.doc.setFontSize(this.options.font.size)}addSignatureBlock(e,r,a,i,n){this.checkPageBreak(100),this.currentY+=30,this.doc.setFont("times","bold"),this.addParagraph(e),this.doc.setFont("times","normal"),n&&this.addParagraph(n),this.addParagraph(`${r}, ${a}`),this.addParagraph(ju(i))}addPreparedByBlock(){this.checkPageBreak(60),this.currentY+=20,this.doc.setDrawColor(200,200,200),this.doc.line(this.leftMargin,this.currentY,this.leftMargin+200,this.currentY),this.currentY+=15,this.doc.setFontSize(9),this.doc.setTextColor(100,100,100),this.addParagraph(`Prepared by: ${this.metadata.preparedBy} | ${ju(this.metadata.preparedDate)}`),this.metadata.reviewedBy&&this.metadata.reviewedDate&&this.addParagraph(`Reviewed by: ${this.metadata.reviewedBy} | ${ju(this.metadata.reviewedDate)}`),this.doc.setFontSize(this.options.font.size),this.doc.setTextColor(0,0,0)}finalize(){if(this.options.includeWatermark){const e=this.doc.internal.pages.length-1;for(let r=1;r<=e;r++)this.doc.setPage(r),this.addWatermark()}return this.options.includeFooter&&this.addFooter(),this.doc}download(e){this.finalize(),this.doc.save(e)}getBlob(){return this.finalize(),this.doc.output("blob")}getBase64(){return this.finalize(),this.doc.output("datauristring")}}function soe(s,e,r){const a=new eoe(e,{...K4,...r});return a.addParagraph(ju(s.date),{align:"right"}),a.addSpace(10),a.addParagraph(s.addressee),a.addParagraph(s.clientName),a.addSpace(20),a.addHeading("Engagement Objective",2),a.addParagraph(s.engagementObjective),a.addHeading("Scope of Services",2),a.addParagraph(s.scope),a.addHeading("Management Responsibilities",2),a.addBulletList(s.managementResponsibilities),a.addHeading("Auditor Responsibilities",2),a.addBulletList(s.auditorResponsibilities),s.limitations.length>0&&(a.addHeading("Limitations",2),a.addBulletList(s.limitations)),a.addHeading("Engagement Timeline",2),a.addTable(["Phase","Date"],[["Fieldwork Begins",ju(s.timing.fieldworkStart)],["Fieldwork Ends",ju(s.timing.fieldworkEnd)],["Report Delivery",ju(s.timing.reportDelivery)]],[300,200]),a.addHeading("Professional Fees",2),a.addParagraph(`Estimated fees: ${Zte(s.fees.estimatedFees)}`),a.addParagraph(`Billing terms: ${s.fees.billingTerms}`),s.fees.additionalCharges&&a.addParagraph(`Additional charges: ${s.fees.additionalCharges}`),a.addSpace(40),a.addLine(),a.addParagraph("Please sign below to indicate your acceptance of the terms of this engagement."),a.addSpace(30),a.addParagraph("_______________________________          _______________"),a.addParagraph("Client Signature                                           Date"),a.addSpace(20),a.addParagraph("_______________________________          _______________"),a.addParagraph("Print Name                                                   Title"),a}const toe=[{value:"engagement",label:"Engagement Letter",description:"Initial engagement terms and scope"},{value:"representation",label:"Management Representation",description:"Management assertions and confirmations"},{value:"independence",label:"Independence Confirmation",description:"Auditor independence declaration"},{value:"tcwg",label:"TCWG Communication",description:"Communication with Those Charged with Governance"}];function roe({open:s,onOpenChange:e,engagement:r}){const{toast:a}=Hs(),[i,n]=v.useState("engagement"),[o,l]=v.useState("edit"),[d,u]=v.useState({addressee:"",addresseeTitle:"",customTerms:"",estimatedFees:"",billingTerms:"Net 30 days",fieldworkStart:"",fieldworkEnd:"",reportDelivery:""});v.useState(()=>{r&&u(h=>{var m,f;return{...h,addressee:((m=r.clients)==null?void 0:m.client_name)||"",fieldworkStart:r.fieldwork_start||"",fieldworkEnd:r.fieldwork_end||"",reportDelivery:r.report_due_date||"",estimatedFees:((f=r.budget_allocated)==null?void 0:f.toString())||""}})});const c=Rs({mutationFn:async()=>{var p,N,g,D;const h={date:new Date,clientName:((p=r==null?void 0:r.clients)==null?void 0:p.client_name)||"Client",addressee:d.addressee||"Management",engagementObjective:`We are pleased to confirm our understanding of the services we are to provide for ${((N=r==null?void 0:r.clients)==null?void 0:N.client_name)||"the Company"}. This letter confirms the arrangements for our audit of the financial statements for the year ended ${r!=null&&r.period_end?Ds(new Date(r.period_end),"MMMM d, yyyy"):"[Period End]"}.`,scope:`We will audit the financial statements of ${((g=r==null?void 0:r.clients)==null?void 0:g.client_name)||"the Company"}, which comprise the balance sheet as of ${r!=null&&r.period_end?Ds(new Date(r.period_end),"MMMM d, yyyy"):"[Period End]"}, and the related statements of income, changes in equity, and cash flows for the year then ended, and the related notes to the financial statements.`,managementResponsibilities:["Preparation and fair presentation of the financial statements in accordance with the applicable financial reporting framework","Design, implementation, and maintenance of internal control relevant to the preparation and fair presentation of financial statements","Providing us with access to all information relevant to the preparation of the financial statements","Providing written representations at the conclusion of the engagement"],auditorResponsibilities:["Conduct the audit in accordance with auditing standards generally accepted in the United States of America","Obtain reasonable assurance about whether the financial statements are free from material misstatement","Express an opinion on the financial statements based on our audit","Communicate significant findings to those charged with governance"],limitations:["An audit does not provide assurance about future viability or efficiency of operations","Our audit is not designed to detect fraud or error that is immaterial to the financial statements"],fees:{estimatedFees:parseFloat(d.estimatedFees)||0,billingTerms:d.billingTerms,additionalCharges:"Additional services requested will be billed at our standard hourly rates"},timing:{fieldworkStart:d.fieldworkStart?new Date(d.fieldworkStart):new Date,fieldworkEnd:d.fieldworkEnd?new Date(d.fieldworkEnd):new Date,reportDelivery:d.reportDelivery?new Date(d.reportDelivery):new Date},acceptanceBlock:{clientSignature:!1,firmSignature:!1}},m={documentType:"engagement_letter",engagementId:(r==null?void 0:r.id)||"",clientName:((D=r==null?void 0:r.clients)==null?void 0:D.client_name)||"Client",periodEndDate:r!=null&&r.period_end?new Date(r.period_end):new Date,preparedBy:"System",preparedDate:new Date,version:1};return soe(h,m)},onSuccess:h=>{h.download(`engagement-letter-${(r==null?void 0:r.audit_number)||"draft"}.pdf`),a({title:"Letter Generated",description:"Engagement letter has been downloaded."})},onError:h=>{a({title:"Error",description:"Failed to generate letter.",variant:"destructive"})}}),b=()=>{var f;const h=((f=r==null?void 0:r.clients)==null?void 0:f.client_name)||"[Client Name]",m=r!=null&&r.period_end?Ds(new Date(r.period_end),"MMMM d, yyyy"):"[Period End]";switch(i){case"engagement":return`
${Ds(new Date,"MMMM d, yyyy")}

${d.addressee||"[Addressee]"}
${d.addresseeTitle||"[Title]"}
${h}

Dear ${d.addressee||"[Addressee]"}:

We are pleased to confirm our understanding of the services we are to provide for ${h}. This letter confirms the arrangements for our audit of the financial statements for the year ended ${m}.

OBJECTIVE AND SCOPE OF THE AUDIT

We will audit the financial statements of ${h}, which comprise the balance sheet as of ${m}, and the related statements of income, changes in equity, and cash flows for the year then ended.

Our audit will be conducted in accordance with auditing standards generally accepted in the United States of America (GAAS). Those standards require that we plan and perform the audit to obtain reasonable assurance about whether the financial statements are free from material misstatement.

MANAGEMENT'S RESPONSIBILITIES

Management is responsible for:
 Preparation and fair presentation of the financial statements
 Design and maintenance of internal control
 Providing access to all information relevant to the audit
 Providing written representations

FEES AND TIMING

Our estimated fees for this engagement are $${d.estimatedFees||"[Amount]"}.
Billing terms: ${d.billingTerms}

Fieldwork is expected to begin ${d.fieldworkStart?Ds(new Date(d.fieldworkStart),"MMMM d, yyyy"):"[Date]"} and conclude ${d.fieldworkEnd?Ds(new Date(d.fieldworkEnd),"MMMM d, yyyy"):"[Date]"}.

Please sign and return the enclosed copy of this letter to indicate your acknowledgment of, and agreement with, the arrangements for our audit.

Sincerely,

[Firm Name]


ACCEPTED AND AGREED:

_______________________________          _______________
Signature                                Date

_______________________________
Print Name and Title
        `.trim();case"representation":return`
MANAGEMENT REPRESENTATION LETTER

${Ds(new Date,"MMMM d, yyyy")}

To: [Auditor Firm Name]

In connection with your audit of the financial statements of ${h} as of and for the year ended ${m}, we confirm the following representations:

GENERAL REPRESENTATIONS

1. We have fulfilled our responsibilities for the preparation and fair presentation of the financial statements.

2. We have provided you with access to all information relevant to the preparation of the financial statements.

3. All transactions have been recorded and are reflected in the financial statements.

4. We acknowledge our responsibility for the design, implementation, and maintenance of internal control.

SPECIFIC REPRESENTATIONS

5. There are no material transactions that have not been properly recorded.

6. We have no knowledge of any fraud or suspected fraud.

7. We have disclosed all known actual or possible litigation and claims.

8. The company has complied with all aspects of contractual agreements.

_______________________________          _______________
Management Signature                      Date

_______________________________
Print Name and Title
        `.trim();default:return"Select a letter type to preview."}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxDEV(Ct,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:282,columnNumber:13},this),t.jsxDEV(St,{children:"Generate Letter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:281,columnNumber:11},this),t.jsxDEV(Bt,{children:["Create professional letters for ",(r==null?void 0:r.audit_title)||"this engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:285,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:280,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:toe.map(h=>t.jsxDEV(F,{variant:i===h.value?"default":"outline",size:"sm",onClick:()=>n(h.value),children:h.label},h.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:294,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:292,columnNumber:11},this),t.jsxDEV(Pr,{value:o,onValueChange:h=>l(h),children:[t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"edit",children:"Edit Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:307,columnNumber:15},this),t.jsxDEV($e,{value:"preview",children:[t.jsxDEV(pn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:309,columnNumber:17},this),"Preview"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:308,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:306,columnNumber:13},this),t.jsxDEV(es,{value:"edit",className:"space-y-4 mt-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"addressee",children:"Addressee Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:317,columnNumber:19},this),t.jsxDEV(ve,{id:"addressee",value:d.addressee,onChange:h=>u(m=>({...m,addressee:h.target.value})),placeholder:"John Smith"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:318,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:316,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"addresseeTitle",children:"Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:326,columnNumber:19},this),t.jsxDEV(ve,{id:"addresseeTitle",value:d.addresseeTitle,onChange:h=>u(m=>({...m,addresseeTitle:h.target.value})),placeholder:"Chief Financial Officer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:327,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:325,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:315,columnNumber:15},this),i==="engagement"&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"estimatedFees",children:"Estimated Fees ($)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:340,columnNumber:23},this),t.jsxDEV(ve,{id:"estimatedFees",type:"number",value:d.estimatedFees,onChange:h=>u(m=>({...m,estimatedFees:h.target.value})),placeholder:"50000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:341,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:339,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"billingTerms",children:"Billing Terms"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:350,columnNumber:23},this),t.jsxDEV(is,{value:d.billingTerms,onValueChange:h=>u(m=>({...m,billingTerms:h})),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:356,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:355,columnNumber:25},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"Net 30 days",children:"Net 30 days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:359,columnNumber:27},this),t.jsxDEV(X,{value:"Net 45 days",children:"Net 45 days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:360,columnNumber:27},this),t.jsxDEV(X,{value:"Net 60 days",children:"Net 60 days"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:361,columnNumber:27},this),t.jsxDEV(X,{value:"Due upon receipt",children:"Due upon receipt"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:362,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:358,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:351,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:349,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:338,columnNumber:19},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"fieldworkStart",children:"Fieldwork Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:370,columnNumber:23},this),t.jsxDEV(ve,{id:"fieldworkStart",type:"date",value:d.fieldworkStart,onChange:h=>u(m=>({...m,fieldworkStart:h.target.value}))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:371,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:369,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"fieldworkEnd",children:"Fieldwork End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:379,columnNumber:23},this),t.jsxDEV(ve,{id:"fieldworkEnd",type:"date",value:d.fieldworkEnd,onChange:h=>u(m=>({...m,fieldworkEnd:h.target.value}))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:380,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:378,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"reportDelivery",children:"Report Delivery"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:388,columnNumber:23},this),t.jsxDEV(ve,{id:"reportDelivery",type:"date",value:d.reportDelivery,onChange:h=>u(m=>({...m,reportDelivery:h.target.value}))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:389,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:387,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:368,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:337,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"customTerms",children:"Additional Terms (optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:401,columnNumber:17},this),t.jsxDEV(Wt,{id:"customTerms",value:d.customTerms,onChange:h=>u(m=>({...m,customTerms:h.target.value})),placeholder:"Enter any additional terms or modifications...",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:402,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:400,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:314,columnNumber:13},this),t.jsxDEV(es,{value:"preview",className:"mt-4",children:t.jsxDEV(Wa,{className:"h-[400px] border rounded-lg p-4 bg-white",children:t.jsxDEV("pre",{className:"whitespace-pre-wrap font-serif text-sm leading-relaxed",children:b()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:414,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:413,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:412,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:305,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:290,columnNumber:9},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:423,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",onClick:()=>l("preview"),children:[t.jsxDEV(pn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:430,columnNumber:13},this),"Preview"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:426,columnNumber:11},this),t.jsxDEV(F,{onClick:()=>c.mutate(),disabled:c.isPending,children:[c.isPending?t.jsxDEV(oi,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:438,columnNumber:15},this):t.jsxDEV(Bi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:440,columnNumber:15},this),"Download PDF"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:433,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:422,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:279,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/letters/EngagementLetterGenerator.tsx",lineNumber:278,columnNumber:5},this)}function aoe({open:s,onOpenChange:e,engagementId:r,engagementTitle:a,onSuccess:i}){const[n,o]=v.useState(!1),[l,d]=v.useState(""),[u,c]=v.useState(""),[b,h]=v.useState([]),{toast:m}=Hs();v.useState(()=>{s&&(async()=>{const{data:N}=await le.from("profiles").select("id, full_name, email").or("role.eq.partner,role.eq.manager").order("full_name");N&&h(N)})()});const f=async()=>{if(!l||!u.trim()){m({title:"Required fields missing",description:"Please select an approver and provide justification.",variant:"destructive"});return}o(!0);try{const{data:{user:p}}=await le.auth.getUser();if(!p)throw new Error("Not authenticated");const{error:N}=await le.from("audits").update({workflow_status:"pending_approval",approval_requested_at:new Date().toISOString(),approval_requested_by:p.id,approval_comments:[{type:"request",user_id:p.id,approver_id:l,comment:u,timestamp:new Date().toISOString()}]}).eq("id",r);if(N)throw N;const{error:g}=await le.from("notifications").insert({user_id:l,type:"approval_request",title:"Engagement Approval Required",message:`${a} requires your approval`,metadata:{engagement_id:r,engagement_title:a,requested_by:p.id}});g&&console.error("Error creating notification:",g),m({title:"Approval requested",description:"The engagement has been submitted for approval."}),i(),e(!1),c(""),d("")}catch(p){console.error("Error requesting approval:",p),m({title:"Error requesting approval",description:p.message,variant:"destructive"})}finally{o(!1)}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"sm:max-w-[500px]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Request Engagement Approval"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV(Bt,{children:["Submit ",a," for partner/manager approval"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:123,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"approver",children:"Select Approver *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:132,columnNumber:13},this),t.jsxDEV(is,{value:l,onValueChange:d,children:[t.jsxDEV(rs,{id:"approver",children:t.jsxDEV(ns,{placeholder:"Choose approver"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:135,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:134,columnNumber:15},this),t.jsxDEV(as,{children:b.map(p=>t.jsxDEV(X,{value:p.id,children:[p.full_name," (",p.email,")"]},p.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:139,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:131,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"justification",children:"Justification *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV(Wt,{id:"justification",placeholder:"Explain why this engagement should be approved...",value:u,onChange:p=>c(p.target.value),rows:5,className:"resize-none"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Minimum 20 characters required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:130,columnNumber:9},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),disabled:n,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:164,columnNumber:11},this),t.jsxDEV(F,{onClick:f,disabled:n||!l||u.length<20,children:[n&&t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:172,columnNumber:25},this),"Submit for Approval"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:122,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/ApprovalRequestDialog.tsx",lineNumber:121,columnNumber:5},this)}function sj(s){return bs({queryKey:["risk-assessment",s],queryFn:async()=>{if(!s)return null;const{data:e,error:r}=await le.from("engagement_risk_assessments").select("*").eq("engagement_id",s).eq("is_current",!0).single();if(r&&r.code!=="PGRST116")throw r;return e},enabled:!!s})}function ioe(){const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async r=>{const{engagementId:a,businessProfile:i,riskAreas:n,fraudRisk:o,itRisk:l}=r,{data:{user:d}}=await le.auth.getUser();if(!d)throw new Error("Not authenticated");const{data:u}=await le.from("profiles").select("firm_id").eq("id",d.id).single();if(!u)throw new Error("Profile not found");const c=calculateOverallRisk(n,o.overall_fraud_risk,l.overall_it_dependency);await le.from("engagement_risk_assessments").update({is_current:!1}).eq("engagement_id",a);const{data:b,error:h}=await le.from("engagement_risk_assessments").insert({engagement_id:a,firm_id:u.firm_id,industry:i.industry,company_size:i.company_size,revenue_range:i.revenue_range,complexity_factors:i.complexity_factors,engagement_type:"first_year",overall_risk_rating:c,fraud_risk_rating:o.overall_fraud_risk,it_dependency_rating:l.overall_it_dependency,assessed_by:d.id,review_status:"draft",version:1,is_current:!0}).select().single();if(h)throw h;const m=n.map(p=>({...p,risk_assessment_id:b.id})),{error:f}=await le.from("risk_assessment_areas").insert(m);if(f)throw f;return b},onSuccess:r=>{s.invalidateQueries({queryKey:["risk-assessment",r.engagement_id]}),s.invalidateQueries({queryKey:["risk-assessment-areas",r.id]}),e({title:"Risk assessment created",description:"Risk assessment has been saved successfully."})},onError:r=>{e({title:"Error creating risk assessment",description:r.message,variant:"destructive"})}})}function noe(s){return{required:"text-red-600 bg-red-50",recommended:"text-blue-600 bg-blue-50",optional:"text-gray-600 bg-gray-50"}[s]}function Mv({recommendation:s,isSelected:e,onToggle:r,showRiskRationale:a=!0}){const{procedure:i,priority:n,recommendation_reason:o,adjusted_hours:l,adjusted_sample_size:d,risk_areas:u}=s,c=n==="required"?t.jsxDEV(Ys,{className:"h-4 w-4 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:25,columnNumber:5},this):n==="recommended"?t.jsxDEV(Ks,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:27,columnNumber:5},this):t.jsxDEV(Dl,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:29,columnNumber:5},this);return t.jsxDEV(B,{className:`transition-all ${e?"ring-2 ring-primary":"hover:border-primary/50"}`,children:t.jsxDEV(q,{className:"p-4",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(ga,{id:i.id,checked:e,onCheckedChange:()=>r(i.id),className:"mt-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:37,columnNumber:11},this),t.jsxDEV("div",{className:"flex-1 space-y-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("label",{htmlFor:i.id,className:"font-medium text-sm cursor-pointer hover:text-primary transition-colors",children:i.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:48,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5",children:i.procedure_code},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:47,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(he,{className:noe(n),children:t.jsxDEV("span",{className:"flex items-center gap-1",children:[c,n.toUpperCase()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:61,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:60,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:59,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:46,columnNumber:13},this),a&&o&&t.jsxDEV("div",{className:"bg-muted/50 rounded-md p-3 space-y-2",children:[t.jsxDEV("p",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(Dl,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:73,columnNumber:19},this),"Why this procedure?"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:72,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:76,columnNumber:17},this),u&&u.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-2",children:u.map((b,h)=>t.jsxDEV(he,{variant:"outline",className:"text-xs",children:b},h,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:81,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:71,columnNumber:15},this),i.objective&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-1",children:"Objective:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:93,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm",children:i.objective},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:92,columnNumber:15},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:98,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-1",children:"Estimated Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:103,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:105,columnNumber:19},this),t.jsxDEV("span",{className:"font-medium text-sm",children:[l||i.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:106,columnNumber:19},this),l&&l!==i.estimated_hours&&t.jsxDEV("span",{className:"text-xs text-muted-foreground line-through",children:[i.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:110,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:102,columnNumber:15},this),d&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground mb-1",children:"Sample Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:119,columnNumber:19},this),t.jsxDEV("p",{className:"text-sm font-medium",children:d},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:120,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:118,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:101,columnNumber:13},this),s.is_industry_specific&&t.jsxDEV(he,{variant:"outline",className:"text-xs",children:t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(Ks,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:129,columnNumber:19},this),"Industry-Specific"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:128,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:127,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:44,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:35,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:34,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/ProcedureRecommendationCard.tsx",lineNumber:33,columnNumber:5},this)}function ooe(s){switch(s){case"significant":return 4;case"high":return 3;case"medium":return 2;case"low":return 1;default:return 1}}function loe(s,e){return s===0?"critical":s<e?"warning":"adequate"}function doe(s,e){const r=new Map;e.forEach(d=>{d.risk_areas&&d.risk_areas.length>0&&d.risk_areas.forEach(u=>{r.set(u,(r.get(u)||0)+1)})});const a=s.map(d=>{const u=r.get(d.area_name)||0,c=ooe(d.combined_risk),b=Math.max(0,c-u),h=loe(u,c);return{area:d,procedureCount:u,status:h,requiredCount:c,missingCount:b}}),i=a.filter(d=>d.status==="critical"),n=a.filter(d=>d.status==="warning"),o=a.filter(d=>d.status==="adequate").length;return{overallScore:s.length>0?Math.round(o/s.length*100):0,totalAreas:s.length,adequateAreas:o,warningAreas:n.length,criticalAreas:i.length,coverageByArea:a,criticalGaps:i,warnings:n}}function Lv(s){switch(s){case"significant":case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}}function uoe(s){switch(s){case"adequate":return"text-green-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}}function coe(s){switch(s){case"adequate":return"[&>div]:bg-green-600";case"warning":return"[&>div]:bg-yellow-600";case"critical":return"[&>div]:bg-red-600";default:return""}}function moe(s){switch(s){case"adequate":return t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:174,columnNumber:14},this);case"warning":return t.jsxDEV(Er,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:176,columnNumber:14},this);case"critical":return t.jsxDEV(Ys,{className:"h-4 w-4 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:178,columnNumber:14},this)}}function boe({riskAreas:s,selectedRecommendations:e,mode:r="full",className:a}){const i=v.useMemo(()=>doe(s,e),[s,e]),n=i.overallScore>=80?"text-green-600":i.overallScore>=60?"text-yellow-600":"text-red-600";return t.jsxDEV(B,{className:a,children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"text-lg",children:"Risk Coverage Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:202,columnNumber:9},this),t.jsxDEV(Ke,{children:"Ensuring adequate procedure coverage for all identified risk areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:203,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:201,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-4",children:[i.criticalGaps.length>0&&t.jsxDEV("div",{className:"space-y-3",children:i.criticalGaps.map((o,l)=>t.jsxDEV(jr,{variant:"destructive",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:213,columnNumber:17},this),t.jsxDEV(ho,{className:"flex items-center gap-2",children:[t.jsxDEV("span",{children:o.area.area_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:215,columnNumber:19},this),t.jsxDEV(he,{variant:Lv(o.area.combined_risk),children:[o.area.combined_risk.toUpperCase()," RISK"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:216,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:214,columnNumber:17},this),t.jsxDEV(Ar,{children:[t.jsxDEV("strong",{children:"NO PROCEDURES SELECTED"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:221,columnNumber:19},this)," - This"," ",o.area.combined_risk,"-risk area requires at least"," ",o.requiredCount," procedure",o.requiredCount!==1?"s":""," to ensure adequate audit coverage. Please select appropriate procedures to address this gap."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:220,columnNumber:17},this)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:212,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:210,columnNumber:11},this),r==="full"&&i.warnings.length>0&&t.jsxDEV("div",{className:"space-y-3",children:i.warnings.map((o,l)=>t.jsxDEV(jr,{children:[t.jsxDEV(Er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:236,columnNumber:17},this),t.jsxDEV(ho,{className:"flex items-center gap-2",children:[t.jsxDEV("span",{children:o.area.area_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:238,columnNumber:19},this),t.jsxDEV(he,{variant:Lv(o.area.combined_risk),children:[o.area.combined_risk.toUpperCase()," RISK"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:239,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:237,columnNumber:17},this),t.jsxDEV(Ar,{children:["Only ",o.procedureCount," procedure",o.procedureCount!==1?"s":""," ","selected. Recommend adding ",o.missingCount," more procedure",o.missingCount!==1?"s":""," to achieve adequate coverage for this"," ",o.area.combined_risk,"-risk area."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:243,columnNumber:17},this)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:235,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:233,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm font-medium",children:"Overall Coverage Score"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:258,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[i.adequateAreas," of ",i.totalAreas," areas adequately covered"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:257,columnNumber:13},this),t.jsxDEV("div",{className:`text-3xl font-bold ${n}`,children:[i.overallScore,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:256,columnNumber:11},this),t.jsxDEV(cr,{value:i.overallScore,className:i.overallScore>=80?"[&>div]:bg-green-600":i.overallScore>=60?"[&>div]:bg-yellow-600":"[&>div]:bg-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:267,columnNumber:11},this),i.overallScore<80&&t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Target: 80% or higher for comprehensive audit coverage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:255,columnNumber:9},this),r==="full"&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h4",{className:"text-sm font-medium",children:"Coverage by Risk Area"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:287,columnNumber:13},this),i.coverageByArea.map((o,l)=>{const d=o.requiredCount>0?Math.min(100,o.procedureCount/o.requiredCount*100):0;return t.jsxDEV("div",{className:"space-y-2 border rounded-lg p-3",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:o.area.area_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:298,columnNumber:25},this),t.jsxDEV(he,{variant:Lv(o.area.combined_risk),className:"text-xs",children:o.area.combined_risk.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:299,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:297,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[o.procedureCount," of ",o.requiredCount," required procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:303,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:296,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[moe(o.status),t.jsxDEV("span",{className:`text-sm font-medium ${uoe(o.status)}`,children:o.status==="adequate"?"Adequate":o.status==="warning"?"Warning":"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:309,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:307,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:295,columnNumber:19},this),t.jsxDEV(cr,{value:d,className:coe(o.status)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:314,columnNumber:19},this)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:294,columnNumber:17},this)})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:286,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:207,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageAnalysisPanel.tsx",lineNumber:200,columnNumber:5},this)}function hoe(s,e,r,a){const i=[],n={engagement_id:s.engagement_id,risk_assessment_id:s.id,industry:s.industry,company_size:s.company_size,engagement_type:s.engagement_type,overall_risk:s.overall_risk_rating},o=e.filter(b=>b.is_material_area);for(const b of o){const h=foe(b,r,a,n);i.push(...h)}const l=goe(i),d=xoe(l),u=voe(o,d),c=d.reduce((b,h)=>b+(h.adjusted_hours||h.procedure.estimated_hours),0);return{recommendations:d,coverage_analysis:u,total_estimated_hours:c}}function foe(s,e,r,a){var o;const i=[],n=r.filter(l=>l.risk_area===s.area_name.toLowerCase().replace(/ /g,"_")&&l.risk_level_required===s.combined_risk&&l.is_recommended);for(const l of n){const d=e.find(c=>c.id===l.procedure_id);if(!d||!d.is_active||d.applicable_industries&&d.applicable_industries.length>0&&!d.applicable_industries.includes(a.industry))continue;const u={procedure:d,recommendation_reason:poe(s,l),is_auto_recommended:!0,risk_areas:[s.area_name],priority:l.is_required?"required":"recommended",adjusted_sample_size:l.sample_size_override||Noe(d,s.combined_risk),adjusted_hours:l.estimated_hours_override||koe(d,s.combined_risk),depth_guidance:l.depth_guidance,is_industry_specific:(o=d.applicable_industries)==null?void 0:o.includes(a.industry)};i.push(u)}return i}function poe(s,e){const r=s.combined_risk,a=s.area_name;return e.is_required?`Required for ${a} (assessed as ${r} risk)`:r==="significant"?`Recommended for ${a} due to significant risk level`:r==="high"?`Recommended for ${a} (high risk)`:`Recommended for ${a} (${r} risk)`}function Noe(s,e){if(!s.dynamic_parameters)return s.sample_size_guidance;const r=s.dynamic_parameters[`${e}_risk`];return(r==null?void 0:r.sample_size)||s.sample_size_guidance}function koe(s,e){if(!s.dynamic_parameters)return s.estimated_hours;const r=s.dynamic_parameters[`${e}_risk`];return(r==null?void 0:r.estimated_hours)||s.estimated_hours}function goe(s){const e=new Map;for(const r of s){const a=e.get(r.procedure.id);if(!a)e.set(r.procedure.id,r);else{const i=Array.from(new Set([...a.risk_areas,...r.risk_areas])),n=a.priority==="required"||r.priority==="required"?"required":a.priority==="recommended"||r.priority==="recommended"?"recommended":"optional",o=i.length>1?`Recommended for multiple areas: ${i.join(", ")}`:a.recommendation_reason;e.set(r.procedure.id,{...a,risk_areas:i,priority:n,recommendation_reason:o})}}return Array.from(e.values())}function xoe(s){const e={required:0,recommended:1,optional:2};return[...s].sort((r,a)=>{const i=e[r.priority]-e[a.priority];return i!==0?i:(r.procedure.procedure_code||"").localeCompare(a.procedure.procedure_code||"")})}function voe(s,e){const r=new Set,a=s.map(l=>l.area_name);e.forEach(l=>{l.risk_areas.forEach(d=>r.add(d))});const i=Array.from(r),n=a.filter(l=>!r.has(l)),o=s.filter(l=>!r.has(l.area_name)&&(l.combined_risk==="high"||l.combined_risk==="significant")).map(l=>({area_name:l.area_name,risk_level:l.combined_risk,reason:"No procedures selected for this high-risk area",suggested_procedures:[]}));return{areas_covered:i,areas_missing:n,coverage_percentage:a.length>0?Math.round(i.length/a.length*100):0,risk_gaps:o}}function Iv(s,e){return s.filter(r=>r.priority===e)}function Doe(s){return bs({queryKey:["recommendations",s],queryFn:async()=>{if(!s)return null;const{data:e,error:r}=await le.from("engagement_risk_assessments").select("*").eq("id",s).single();if(r)throw r;const{data:a,error:i}=await le.from("risk_assessment_areas").select("*").eq("risk_assessment_id",s);if(i)throw i;const{data:n,error:o}=await le.from("audit_procedures").select("*").eq("is_active",!0);if(o)throw o;const{data:l,error:d}=await le.from("procedure_risk_mappings").select("*").eq("is_recommended",!0);if(d)throw d;return hoe(e,a||[],n||[],l||[])},enabled:!!s,staleTime:10*60*1e3,gcTime:15*60*1e3})}function woe({open:s,onOpenChange:e,engagementId:r,riskAssessmentId:a,onSuccess:i}){const{data:n,isLoading:o}=Doe(a),{data:l}=sj(r);zw(r);const[d,u]=v.useState(new Set),[c,b]=v.useState(!1),h=v.useMemo(()=>n?Iv(n.recommendations,"required"):[],[n]),m=v.useMemo(()=>n?Iv(n.recommendations,"recommended"):[],[n]),f=v.useMemo(()=>n?Iv(n.recommendations,"optional"):[],[n]);v.useMemo(()=>{if(h.length>0&&d.size===0){const U=new Set(h.map(E=>E.procedure.id));u(U)}},[h]);const p=v.useMemo(()=>n?n.recommendations.filter(U=>d.has(U.procedure.id)):[],[d,n]),N=v.useMemo(()=>{if(!n)return null;const U=p.reduce((V,S)=>V+(S.adjusted_hours||S.procedure.estimated_hours),0),E=p.filter(V=>V.priority==="required").length,W=p.filter(V=>V.priority==="recommended").length,y=p.filter(V=>V.priority==="optional").length;return{totalSelected:d.size,totalHours:U,requiredSelected:E,recommendedSelected:W,optionalSelected:y,coverageScore:n.coverage_analysis.coverage_percentage}},[d,n,p]),g=U=>{u(E=>{const W=new Set(E);return W.has(U)?W.delete(U):W.add(U),W})},D=U=>{u(E=>{const W=new Set(E);return U.forEach(y=>W.add(y.procedure.id)),W})},w=U=>{u(E=>{const W=new Set(E);return U.forEach(y=>W.delete(y.procedure.id)),W})},A=async()=>{if(d.size!==0){if(l!=null&&l.areas){const U=new Map;p.forEach(W=>{W.risk_areas&&W.risk_areas.length>0&&W.risk_areas.forEach(y=>{U.set(y,(U.get(y)||0)+1)})});const E=l.areas.filter(W=>(U.get(W.area_name)||0)===0&&(W.combined_risk==="high"||W.combined_risk==="significant"));if(E.length>0&&!window.confirm(`Warning: ${E.length} high-risk area${E.length!==1?"s":""} have NO procedures selected:

`+E.map(y=>` ${y.area_name} (${y.combined_risk.toUpperCase()} RISK)`).join(`
`)+`

This may result in insufficient audit coverage. Do you want to create the program anyway?`))return}b(!0);try{await new Promise(U=>setTimeout(U,1e3)),i==null||i(),e(!1)}catch(U){console.error("Error creating program:",U)}finally{b(!1)}}};return o?t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:[t.jsxDEV(oi,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:183,columnNumber:13},this),t.jsxDEV("span",{className:"ml-3 text-muted-foreground",children:"Analyzing risk assessment and generating recommendations..."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:182,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:181,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:180,columnNumber:7},this):n?t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-6xl max-h-[90vh] flex flex-col",children:[t.jsxDEV(Ct,{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(A6,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:212,columnNumber:13},this),t.jsxDEV(St,{children:"AI-Powered Audit Program Builder"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:213,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:211,columnNumber:11},this),t.jsxDEV(Bt,{children:"Procedures recommended based on your risk assessment. Required procedures are pre-selected."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:215,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:210,columnNumber:9},this),N&&t.jsxDEV("div",{className:"grid grid-cols-5 gap-3 p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:N.totalSelected},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:224,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Selected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:223,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-2xl font-bold text-red-600",children:N.requiredSelected},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:228,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:229,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:227,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:N.recommendedSelected},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:232,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Recommended"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:233,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:231,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:[N.totalHours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:236,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Est. Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:235,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV("p",{className:"text-2xl font-bold text-green-600",children:[N.coverageScore,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:241,columnNumber:17},this),N.coverageScore>=80?t.jsxDEV(Ks,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:243,columnNumber:19},this):t.jsxDEV(Ys,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:240,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Coverage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:222,columnNumber:11},this),N&&N.coverageScore<80&&t.jsxDEV(jr,{children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:256,columnNumber:13},this),t.jsxDEV(ho,{children:"Coverage Below 80%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:257,columnNumber:13},this),t.jsxDEV(Ar,{children:"Consider selecting more recommended procedures to achieve adequate risk coverage."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:255,columnNumber:11},this),t.jsxDEV(Pr,{defaultValue:"required",className:"flex-1 flex flex-col min-h-0",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-3",children:[t.jsxDEV($e,{value:"required",className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"destructive",className:"h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:h.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:268,columnNumber:15},this),"Required"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:267,columnNumber:13},this),t.jsxDEV($e,{value:"recommended",className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"default",className:"h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:m.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:274,columnNumber:15},this),"Recommended"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:273,columnNumber:13},this),t.jsxDEV($e,{value:"optional",className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"secondary",className:"h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:f.length},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:280,columnNumber:15},this),"Optional"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:279,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:266,columnNumber:11},this),t.jsxDEV(es,{value:"required",className:"flex-1 flex flex-col min-h-0 mt-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Required procedures for high-risk areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:289,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>D(h),children:"Select All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:293,columnNumber:17},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>w(h),children:"Deselect All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:300,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:288,columnNumber:13},this),t.jsxDEV(Wa,{className:"flex-1 pr-4",children:t.jsxDEV("div",{className:"space-y-3",children:h.map(U=>t.jsxDEV(Mv,{recommendation:U,isSelected:d.has(U.procedure.id),onToggle:g},U.procedure.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:312,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:310,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:309,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:287,columnNumber:11},this),t.jsxDEV(es,{value:"recommended",className:"flex-1 flex flex-col min-h-0 mt-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Recommended for comprehensive audit coverage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:325,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>D(m),children:"Select All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:329,columnNumber:17},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>w(m),children:"Deselect All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:336,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:324,columnNumber:13},this),t.jsxDEV(Wa,{className:"flex-1 pr-4",children:t.jsxDEV("div",{className:"space-y-3",children:m.map(U=>t.jsxDEV(Mv,{recommendation:U,isSelected:d.has(U.procedure.id),onToggle:g},U.procedure.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:348,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:346,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:345,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:323,columnNumber:11},this),t.jsxDEV(es,{value:"optional",className:"flex-1 flex flex-col min-h-0 mt-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Optional procedures based on engagement specifics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:361,columnNumber:15},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>D(f),children:"Select All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:365,columnNumber:17},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>w(f),children:"Deselect All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:372,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:364,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:360,columnNumber:13},this),t.jsxDEV(Wa,{className:"flex-1 pr-4",children:t.jsxDEV("div",{className:"space-y-3",children:f.map(U=>t.jsxDEV(Mv,{recommendation:U,isSelected:d.has(U.procedure.id),onToggle:g},U.procedure.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:384,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:382,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:381,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:359,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:265,columnNumber:9},this),(l==null?void 0:l.areas)&&t.jsxDEV(boe,{riskAreas:l.areas,selectedRecommendations:p,mode:"compact",className:"mt-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:398,columnNumber:11},this),t.jsxDEV(Ur,{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:408,columnNumber:13},this),t.jsxDEV("span",{children:"AI-powered recommendations based on risk assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:409,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:407,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>e(!1),disabled:c,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:412,columnNumber:13},this),t.jsxDEV(F,{onClick:A,disabled:d.size===0||c,children:[c&&t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:419,columnNumber:30},this),"Create Program (",d.size," procedures)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:415,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:411,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:406,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:209,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:208,columnNumber:5},this):t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl",children:t.jsxDEV(jr,{variant:"destructive",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:196,columnNumber:13},this),t.jsxDEV(ho,{children:"No Recommendations Available"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:197,columnNumber:13},this),t.jsxDEV(Ar,{children:"Unable to generate procedure recommendations. Please ensure the risk assessment is complete."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:195,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:194,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/program/EnhancedProgramBuilderWizard.tsx",lineNumber:193,columnNumber:7},this)}function joe({onStartRiskAssessment:s,onSkipToManual:e}){return t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-16",children:[t.jsxDEV("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 rounded-full p-4 mb-6",children:t.jsxDEV(Ys,{className:"h-16 w-16 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:17,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:16,columnNumber:9},this),t.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"Risk Assessment Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:20,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground text-center max-w-md mb-8",children:"Professional auditing standards require risk assessment before designing audit procedures. This ensures your testing is responsive to engagement-specific risks."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:22,columnNumber:9},this),t.jsxDEV("div",{className:"flex flex-col gap-3 w-full max-w-md",children:[t.jsxDEV(F,{onClick:s,size:"lg",className:"w-full",children:[t.jsxDEV(Ks,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:29,columnNumber:13},this),"Start Risk Assessment"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:28,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",onClick:e,size:"sm",className:"w-full",children:[t.jsxDEV(Ys,{className:"h-4 w-4 mr-2 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:39,columnNumber:13},this),"Skip to Manual Program (Not Recommended)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:33,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:27,columnNumber:9},this),t.jsxDEV(jr,{className:"mt-8 max-w-md",children:[t.jsxDEV(Dl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:45,columnNumber:11},this),t.jsxDEV(ho,{children:"Why Risk Assessment?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:46,columnNumber:11},this),t.jsxDEV(Ar,{children:t.jsxDEV("ul",{className:"list-disc list-inside mt-2 space-y-1 text-sm",children:[t.jsxDEV("li",{children:"Focus testing on high-risk areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:49,columnNumber:15},this),t.jsxDEV("li",{children:"Avoid over-testing low-risk areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:50,columnNumber:15},this),t.jsxDEV("li",{children:"Match procedures to client industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:51,columnNumber:15},this),t.jsxDEV("li",{children:"Meet professional standards (AU-C 315, 330)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:52,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:48,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:47,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:15,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/EmptyStates/RiskAssessmentRequiredView.tsx",lineNumber:14,columnNumber:5},this)}const Aoe=[{factor:"multi_entity",description:"Multiple legal entities or consolidated operations",impact_on_risk:"increases"},{factor:"international",description:"International operations or foreign subsidiaries",impact_on_risk:"increases"},{factor:"complex_instruments",description:"Complex financial instruments or derivatives",impact_on_risk:"increases"},{factor:"recent_acquisition",description:"Significant acquisitions or disposals in current year",impact_on_risk:"increases"},{factor:"new_systems",description:"New accounting or IT systems implemented",impact_on_risk:"increases"},{factor:"regulatory_changes",description:"Significant regulatory or accounting standard changes",impact_on_risk:"increases"},{factor:"management_turnover",description:"Recent turnover in key management or accounting personnel",impact_on_risk:"increases"},{factor:"strong_controls",description:"Well-established, tested internal controls",impact_on_risk:"decreases"}],Eoe=[{category:"incentive",factor:"financial_performance_pressure",description:"Management under pressure to meet financial targets or debt covenants"},{category:"incentive",factor:"compensation_based_on_performance",description:"Significant bonuses or compensation tied to financial results"},{category:"incentive",factor:"going_concern_issues",description:"Company facing going concern or liquidity issues"},{category:"incentive",factor:"pending_transaction",description:"Pending merger, acquisition, or financing dependent on financial results"},{category:"opportunity",factor:"weak_internal_controls",description:"Weak or ineffective internal controls over financial reporting"},{category:"opportunity",factor:"management_override",description:"Management ability to override controls or influence accounting"},{category:"opportunity",factor:"complex_transactions",description:"Complex or unusual transactions near year-end"},{category:"opportunity",factor:"related_party_transactions",description:"Significant related party transactions or off-balance sheet entities"},{category:"rationalization",factor:"aggressive_accounting",description:"History of aggressive accounting or pushing boundaries"},{category:"rationalization",factor:"management_tone",description:"Management tone suggests disregard for controls or compliance"},{category:"rationalization",factor:"disputes_with_auditors",description:"Frequent disputes with auditors or regulators"}],Ad=[{value:"low",label:"Low",color:"green"},{value:"medium",label:"Medium",color:"yellow"},{value:"high",label:"High",color:"orange"},{value:"significant",label:"Significant",color:"red"}],Poe=[{value:"small",label:"Small",description:"Revenue < $10M"},{value:"medium",label:"Medium",description:"Revenue $10M - $100M"},{value:"large",label:"Large",description:"Revenue $100M - $1B"},{value:"enterprise",label:"Enterprise",description:"Revenue > $1B"}],yoe=["healthcare","financial_services","technology","manufacturing","retail","real_estate","construction","professional_services","nonprofit","government","other"],aS={healthcare:"Healthcare",financial_services:"Financial Services",technology:"Technology/SaaS",manufacturing:"Manufacturing",retail:"Retail/E-commerce",real_estate:"Real Estate",construction:"Construction",professional_services:"Professional Services",nonprofit:"Non-Profit",government:"Government",other:"Other"};function Ooe(s,e){return{low:{low:"low",medium:"medium",high:"high",significant:"high"},medium:{low:"medium",medium:"medium",high:"high",significant:"significant"},high:{low:"high",medium:"high",high:"significant",significant:"significant"},significant:{low:"high",medium:"significant",high:"significant",significant:"significant"}}[s][e]}function Woe(s,e,r){const a=s.filter(o=>o.is_material_area);if(a.length===0)return"medium";const i=a.filter(o=>o.combined_risk==="significant").length,n=a.filter(o=>o.combined_risk==="high").length;return e==="significant"||i>0?"significant":e==="high"||n>=2||r==="high"?"high":n===1||r==="medium"?"medium":"low"}function Uoe(s){return{low:"outline",medium:"secondary",high:"default",significant:"destructive"}[s]}const iS=({riskAreas:s,onAreaClick:e,highlightMaterialAreas:r=!0})=>{const a=s.filter(d=>d.is_material_area),i={significant:a.filter(d=>d.combined_risk==="significant"),high:a.filter(d=>d.combined_risk==="high"),medium:a.filter(d=>d.combined_risk==="medium"),low:a.filter(d=>d.combined_risk==="low")},n={total:a.length,significant:i.significant.length,high:i.high.length,medium:i.medium.length,low:i.low.length},o=d=>({low:"bg-green-100 border-green-300",medium:"bg-yellow-100 border-yellow-300",high:"bg-orange-100 border-orange-300",significant:"bg-red-100 border-red-300"})[d],l=d=>({low:"text-green-800",medium:"text-yellow-800",high:"text-orange-800",significant:"text-red-800"})[d];return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Risk Summary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:65,columnNumber:11},void 0),t.jsxDEV(Ke,{children:["Distribution of risk across ",n.total," material financial statement areas"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:66,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:64,columnNumber:9},void 0),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-red-600",children:n.significant},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:73,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-gray-600",children:"Significant"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:74,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:72,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-orange-600",children:n.high},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:77,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-gray-600",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:78,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:76,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-yellow-600",children:n.medium},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:81,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-gray-600",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:82,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:80,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-green-600",children:n.low},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:85,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-gray-600",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:86,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:71,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:63,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Risk Heat Map"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:95,columnNumber:11},void 0),t.jsxDEV(Ke,{children:"Click on any area to view details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:96,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:94,columnNumber:9},void 0),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"space-y-4",children:Ad.slice().reverse().map(({value:d,label:u})=>{const c=i[d];return c.length===0?null:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:d==="significant"||d==="high"?"destructive":"outline",children:[u," Risk"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:110,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",c.length," areas)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:113,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:109,columnNumber:19},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(b=>t.jsxDEV("div",{onClick:()=>e==null?void 0:e(b),className:`
                          p-4 rounded-lg border-2 cursor-pointer transition-all
                          ${o(d)}
                          hover:shadow-md hover:scale-105
                        `,children:[t.jsxDEV("div",{className:`font-semibold ${l(d)}`,children:b.area_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:126,columnNumber:25},void 0),b.risk_rationale&&t.jsxDEV("div",{className:"text-xs mt-2 text-gray-600 line-clamp-2",children:b.risk_rationale},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:130,columnNumber:27},void 0),t.jsxDEV("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600",children:[t.jsxDEV("span",{children:["I: ",b.inherent_risk]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:135,columnNumber:27},void 0),t.jsxDEV("span",{children:"|"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:136,columnNumber:27},void 0),t.jsxDEV("span",{children:["C: ",b.control_risk]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:134,columnNumber:25},void 0),b.key_risk_factors&&b.key_risk_factors.length>0&&t.jsxDEV("div",{className:"mt-2 flex flex-wrap gap-1",children:[b.key_risk_factors.slice(0,2).map((h,m)=>t.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white/50",children:h},m,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:142,columnNumber:31},void 0)),b.key_risk_factors.length>2&&t.jsxDEV("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-white/50",children:["+",b.key_risk_factors.length-2," more"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:150,columnNumber:31},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:140,columnNumber:27},void 0)]},b.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:117,columnNumber:23},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:115,columnNumber:19},void 0)]},d,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:108,columnNumber:17},void 0)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:101,columnNumber:11},void 0),a.length===0&&t.jsxDEV("div",{className:"text-center py-12 text-gray-500",children:"No risk areas have been assessed yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:165,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:100,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:93,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-sm",children:"Risk Matrix Legend"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:175,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:174,columnNumber:9},void 0),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-semibold",children:"I:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:180,columnNumber:15},void 0)," Inherent Risk (risk before controls)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:179,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-semibold",children:"C:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:183,columnNumber:15},void 0)," Control Risk (risk controls won't prevent/detect)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:182,columnNumber:13},void 0),t.jsxDEV("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:Ad.map(({value:d,label:u,color:c})=>t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:`w-4 h-4 rounded ${o(d)}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:188,columnNumber:19},void 0),t.jsxDEV("span",{children:[u," Risk"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:189,columnNumber:19},void 0)]},d,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:187,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:185,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:178,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:173,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskHeatMap.tsx",lineNumber:61,columnNumber:5},void 0)};function y1({assessment:s,mode:e="full",defaultShowHeatMap:r=!1,showCoverageAnalysis:a=!1,procedures:i,onReassess:n,onBuildProgram:o,className:l}){var b,h,m,f,p;const[d,u]=v.useState(r),c={significant:((b=s.areas)==null?void 0:b.filter(N=>N.combined_risk==="significant").length)||0,high:((h=s.areas)==null?void 0:h.filter(N=>N.combined_risk==="high").length)||0,medium:((m=s.areas)==null?void 0:m.filter(N=>N.combined_risk==="medium").length)||0,low:((f=s.areas)==null?void 0:f.filter(N=>N.combined_risk==="low").length)||0,total:((p=s.areas)==null?void 0:p.length)||0};return t.jsxDEV(B,{className:l,children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxDEV(ue,{className:"text-xl",children:"Risk Assessment Summary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:40,columnNumber:15},this),t.jsxDEV(he,{variant:Uoe(s.overall_risk_rating),children:[s.overall_risk_rating.toUpperCase()," RISK"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:41,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:39,columnNumber:13},this),t.jsxDEV(Ke,{className:"flex items-center gap-2",children:[t.jsxDEV("span",{children:["Assessed ",Ds(new Date(s.assessment_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:46,columnNumber:15},this),t.jsxDEV("span",{className:"text-muted-foreground",children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:49,columnNumber:15},this),t.jsxDEV("span",{children:["by ",s.assessed_by||"Team"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:50,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:38,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[e==="full"&&t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>u(!d),children:d?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(e6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:62,columnNumber:21},this),"Hide Heat Map"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:62,columnNumber:19},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(pn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:64,columnNumber:21},this),"View Heat Map"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:64,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:56,columnNumber:15},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:n,children:[t.jsxDEV(lN,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:69,columnNumber:15},this),"Reassess"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:36,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.significant>0&&t.jsxDEV(Sp,{label:"Significant Risk",count:c.significant,color:"red"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:80,columnNumber:13},this),t.jsxDEV(Sp,{label:"High Risk",count:c.high,color:"orange"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:86,columnNumber:11},this),t.jsxDEV(Sp,{label:"Medium Risk",count:c.medium,color:"yellow"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:91,columnNumber:11},this),t.jsxDEV(Sp,{label:"Low Risk",count:c.low,color:"green"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:78,columnNumber:9},this),e==="full"&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:106,columnNumber:13},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground mb-1",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:109,columnNumber:17},this),t.jsxDEV("p",{className:"font-medium",children:s.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:108,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-muted-foreground mb-1",children:"Company Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:113,columnNumber:17},this),t.jsxDEV("p",{className:"font-medium",children:s.company_size},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:107,columnNumber:13},this),s.complexity_factors&&s.complexity_factors.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:"Complexity Factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:120,columnNumber:17},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:s.complexity_factors.filter(N=>N.is_selected).map((N,g)=>{var D;return t.jsxDEV(he,{variant:"outline",children:(D=N.factor)==null?void 0:D.replace(/_/g," ")},g,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:125,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:121,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:119,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:105,columnNumber:11},this),d&&e==="full"&&s.areas&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:138,columnNumber:13},this),t.jsxDEV("div",{className:"p-4 border rounded-lg bg-muted/50",children:t.jsxDEV(iS,{areas:s.areas},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:137,columnNumber:11},this),o&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-primary/5",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-1",children:"Ready to Build Your Audit Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:151,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Use AI-recommended procedures based on your risk assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:150,columnNumber:15},this),t.jsxDEV(F,{onClick:o,size:"lg",children:[t.jsxDEV(da,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:157,columnNumber:17},this),"Build Risk-Based Program"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:147,columnNumber:11},this),a&&i&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:167,columnNumber:13},this),t.jsxDEV(jr,{children:[t.jsxDEV(ho,{children:"Coverage Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV(Ar,{children:[i.length," procedures selected covering ",c.total," risk areas"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:35,columnNumber:5},this)}function Sp({label:s,count:e,color:r}){const a={red:"text-red-600 dark:text-red-400",orange:"text-orange-600 dark:text-orange-400",yellow:"text-yellow-600 dark:text-yellow-400",green:"text-green-600 dark:text-green-400"};return t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:196,columnNumber:7},this),t.jsxDEV("p",{className:`text-3xl font-bold ${a[r]}`,children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:197,columnNumber:7},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:e===1?"Risk Area":"Risk Areas"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:200,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentSummaryCard.tsx",lineNumber:195,columnNumber:5},this)}function Voe(s){switch(s){case"significant":return 4;case"high":return 3;case"medium":return 2;case"low":return 1;default:return 1}}function _oe(s){switch(s){case"significant":case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}}function Coe(s){switch(s){case"adequate":return t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:64,columnNumber:14},this);case"warning":return t.jsxDEV(Er,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:66,columnNumber:14},this);case"critical":return t.jsxDEV(Ys,{className:"h-4 w-4 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:68,columnNumber:14},this)}}function Soe(s){switch(s){case"adequate":return"text-green-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600"}}function Toe({assessment:s,procedures:e,className:r}){const a=v.useMemo(()=>{const n=new Map;e.forEach(()=>{});const o=(s.areas||[]).map(f=>{const p=n.get(f.area_name)||0,N=Voe(f.combined_risk);let g;return p===0?g="critical":p<N?g="warning":g="adequate",{areaName:f.area_name,riskLevel:f.combined_risk,procedureCount:p,requiredCount:N,status:g}}),l=e.filter(f=>f.priority==="required").length,d=e.filter(f=>f.priority==="recommended").length,u=e.filter(f=>f.priority==="optional").length,c=o.filter(f=>f.status==="adequate").length,b=o.filter(f=>f.status==="warning").length,h=o.filter(f=>f.status==="critical").length,m=s.areas&&s.areas.length>0?Math.round(c/s.areas.length*100):0;return{areaCoverage:o,requiredCount:l,recommendedCount:d,optionalCount:u,adequateAreas:c,warningAreas:b,criticalAreas:h,overallCoverage:m}},[s,e]),i=a.overallCoverage>=80?"text-green-600":a.overallCoverage>=60?"text-yellow-600":"text-red-600";return t.jsxDEV(B,{className:r,children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"text-lg",children:"Risk Coverage Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:162,columnNumber:9},this),t.jsxDEV(Ke,{children:"Procedure coverage at time of program creation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:161,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[t.jsxDEV("div",{className:`text-3xl font-bold ${i}`,children:[a.overallCoverage,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:171,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall Coverage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:170,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:179,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:a.adequateAreas},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:178,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Adequate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:177,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(Er,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:187,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:a.warningAreas},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:188,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Warning"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-4 text-center",children:[t.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:195,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:a.criticalAreas},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:196,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:194,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:169,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-medium",children:"Procedure Breakdown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:204,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxDEV("div",{className:"border rounded-lg p-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:208,columnNumber:17},this),t.jsxDEV(he,{variant:"destructive",className:"text-xs",children:a.requiredCount},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:207,columnNumber:15},this),t.jsxDEV(cr,{value:a.requiredCount>0?100:0,className:"[&>div]:bg-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:206,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg p-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Recommended"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:221,columnNumber:17},this),t.jsxDEV(he,{variant:"default",className:"text-xs",children:a.recommendedCount},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:220,columnNumber:15},this),t.jsxDEV(cr,{value:a.recommendedCount>0?100:0,className:"[&>div]:bg-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV("div",{className:"border rounded-lg p-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Optional"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:234,columnNumber:17},this),t.jsxDEV(he,{variant:"secondary",className:"text-xs",children:a.optionalCount},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:233,columnNumber:15},this),t.jsxDEV(cr,{value:a.optionalCount>0?100:0,className:"[&>div]:bg-gray-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:203,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-medium",children:"High-Risk Area Coverage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:249,columnNumber:11},this),a.areaCoverage.filter(n=>n.riskLevel==="high"||n.riskLevel==="significant").map((n,o)=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 border rounded",children:[t.jsxDEV("div",{className:"flex items-center gap-2 flex-1",children:[t.jsxDEV("span",{className:"text-sm",children:n.areaName},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:255,columnNumber:19},this),t.jsxDEV(he,{variant:_oe(n.riskLevel),className:"text-xs",children:n.riskLevel.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:256,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:254,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[n.procedureCount,"/",n.requiredCount]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:261,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[Coe(n.status),t.jsxDEV("span",{className:`text-xs font-medium ${Soe(n.status)}`,children:n.status==="adequate"?"OK":n.status.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:266,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:264,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:260,columnNumber:17},this)]},o,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:253,columnNumber:15},this)),a.areaCoverage.filter(n=>n.riskLevel==="high"||n.riskLevel==="significant").length===0&&t.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No high-risk areas identified"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:248,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:167,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskCoverageStatusCard.tsx",lineNumber:160,columnNumber:5},this)}var tj="Radio",[Roe,nS]=Gn(tj),[Moe,Loe]=Roe(tj),oS=v.forwardRef((s,e)=>{const{__scopeRadio:r,name:a,checked:i=!1,required:n,disabled:o,value:l="on",onCheck:d,form:u,...c}=s,[b,h]=v.useState(null),m=va(e,N=>h(N)),f=v.useRef(!1),p=b?u||!!b.closest("form"):!0;return de.jsxs(Moe,{scope:r,checked:i,disabled:o,children:[de.jsx(sr.button,{type:"button",role:"radio","aria-checked":i,"data-state":cS(i),"data-disabled":o?"":void 0,disabled:o,value:l,...c,ref:m,onClick:Ft(s.onClick,N=>{i||d==null||d(),p&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),p&&de.jsx(uS,{control:b,bubbles:!f.current,name:a,value:l,checked:i,required:n,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});oS.displayName=tj;var lS="RadioIndicator",dS=v.forwardRef((s,e)=>{const{__scopeRadio:r,forceMount:a,...i}=s,n=Loe(lS,r);return de.jsx(xo,{present:a||n.checked,children:de.jsx(sr.span,{"data-state":cS(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:e})})});dS.displayName=lS;var Ioe="RadioBubbleInput",uS=v.forwardRef(({__scopeRadio:s,control:e,checked:r,bubbles:a=!0,...i},n)=>{const o=v.useRef(null),l=va(o,n),d=_1(r),u=C1(e);return v.useEffect(()=>{const c=o.current;if(!c)return;const b=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(b,"checked").set;if(d!==r&&m){const f=new Event("click",{bubbles:a});m.call(c,r),c.dispatchEvent(f)}},[d,r,a]),de.jsx(sr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uS.displayName=Ioe;function cS(s){return s?"checked":"unchecked"}var Foe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wg="RadioGroup",[zoe,Mde]=Gn(Wg,[Ek,nS]),mS=Ek(),bS=nS(),[Boe,qoe]=zoe(Wg),hS=v.forwardRef((s,e)=>{const{__scopeRadioGroup:r,name:a,defaultValue:i,value:n,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:c=!0,onValueChange:b,...h}=s,m=mS(r),f=S1(u),[p,N]=Yu({prop:n,defaultProp:i??null,onChange:b,caller:Wg});return de.jsx(Boe,{scope:r,name:a,required:o,disabled:l,value:p,onValueChange:N,children:de.jsx(mO,{asChild:!0,...m,orientation:d,dir:f,loop:c,children:de.jsx(sr.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:f,...h,ref:e})})})});hS.displayName=Wg;var fS="RadioGroupItem",pS=v.forwardRef((s,e)=>{const{__scopeRadioGroup:r,disabled:a,...i}=s,n=qoe(fS,r),o=n.disabled||a,l=mS(r),d=bS(r),u=v.useRef(null),c=va(e,u),b=n.value===i.value,h=v.useRef(!1);return v.useEffect(()=>{const m=p=>{Foe.includes(p.key)&&(h.current=!0)},f=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",f)}},[]),de.jsx(bO,{asChild:!0,...l,focusable:!o,active:b,children:de.jsx(oS,{disabled:o,required:n.required,checked:b,...d,...i,name:n.name,ref:c,onCheck:()=>n.onValueChange(i.value),onKeyDown:Ft(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ft(i.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});pS.displayName=fS;var $oe="RadioGroupIndicator",NS=v.forwardRef((s,e)=>{const{__scopeRadioGroup:r,...a}=s,i=bS(r);return de.jsx(dS,{...i,...a,ref:e})});NS.displayName=$oe;var kS=hS,gS=pS,Hoe=NS;const xS=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(kS,{className:Ce("grid gap-2",s),...e,ref:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/radio-group.tsx",lineNumber:11,columnNumber:10},void 0));xS.displayName=kS.displayName;const vS=v.forwardRef(({className:s,...e},r)=>t.jsxDEV(gS,{ref:r,className:Ce("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...e,children:t.jsxDEV(Hoe,{className:"flex items-center justify-center",children:t.jsxDEV(ZO,{className:"h-2.5 w-2.5 fill-current text-current"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/radio-group.tsx",lineNumber:29,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/radio-group.tsx",lineNumber:28,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/ui/radio-group.tsx",lineNumber:20,columnNumber:5},void 0));vS.displayName=gS.displayName;const Tp=5,nh=({engagementId:s,isOpen:e,onClose:r,onComplete:a})=>{const[i,n]=v.useState(1),o=ioe(),[l,d]=v.useState({industry:"",company_size:"medium",revenue_range:"",complexity_factors:Aoe.map(E=>({...E,is_selected:!1}))}),[u,c]=v.useState([{area_name:"Cash",area_category:"balance_sheet",inherent_risk:"medium",control_risk:"medium",combined_risk:"medium",is_material_area:!0,key_risk_factors:[],fraud_risk_factors:[]},{area_name:"Accounts Receivable",area_category:"balance_sheet",inherent_risk:"medium",control_risk:"medium",combined_risk:"medium",is_material_area:!0,key_risk_factors:[],fraud_risk_factors:[]},{area_name:"Inventory",area_category:"balance_sheet",inherent_risk:"medium",control_risk:"medium",combined_risk:"medium",is_material_area:!0,key_risk_factors:[],fraud_risk_factors:[]},{area_name:"Revenue",area_category:"income_statement",inherent_risk:"high",control_risk:"medium",combined_risk:"high",is_material_area:!0,key_risk_factors:[],fraud_risk_factors:[]},{area_name:"Expenses",area_category:"income_statement",inherent_risk:"low",control_risk:"medium",combined_risk:"medium",is_material_area:!0,key_risk_factors:[],fraud_risk_factors:[]}]),[b,h]=v.useState({overall_fraud_risk:"medium",fraud_factors:Eoe.map(E=>({...E,is_present:!1})),specific_fraud_risks:[],fraud_procedures_required:!1}),[m,f]=v.useState({overall_it_dependency:"medium",systems:[],control_environment_rating:"medium",cybersecurity_risk:"medium",data_integrity_risk:"medium",it_general_controls_tested:!1}),p=(E,W)=>{const y=[...u];if(y[E]={...y[E],...W},W.inherent_risk||W.control_risk){const V=W.inherent_risk||y[E].inherent_risk,S=W.control_risk||y[E].control_risk;y[E].combined_risk=Ooe(V,S)}c(y)},N=()=>{i<Tp&&n(i+1)},g=()=>{i>1&&n(i-1)},D=async()=>{try{const E=await o.mutateAsync({engagementId:s,businessProfile:l,riskAreas:u,fraudRisk:b,itRisk:m});a==null||a(E.id),r()}catch(E){console.error("Error creating risk assessment:",E)}},w=()=>{switch(i){case 1:return t.jsxDEV(Goe,{profile:l,onChange:d},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:139,columnNumber:16},void 0);case 2:return t.jsxDEV(Koe,{areas:u,onUpdate:p},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:141,columnNumber:16},void 0);case 3:return t.jsxDEV(Qoe,{fraudRisk:b,onChange:h},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:143,columnNumber:16},void 0);case 4:return t.jsxDEV(Yoe,{itRisk:m,onChange:f},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:145,columnNumber:16},void 0);case 5:return t.jsxDEV(Joe,{businessProfile:l,riskAreas:u,fraudRisk:b,itRisk:m},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:148,columnNumber:11},void 0);default:return null}},A=["Business Understanding","Risk Scoring","Fraud Risk Assessment","IT Risk Assessment","Review & Submit"],U=i/Tp*100;return t.jsxDEV(Pt,{open:e,onOpenChange:r,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Risk Assessment Wizard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:174,columnNumber:11},void 0),t.jsxDEV(Bt,{children:["Step ",i," of ",Tp,": ",A[i-1]]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:175,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:173,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(cr,{value:U,className:"w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:181,columnNumber:11},void 0),t.jsxDEV("div",{className:"min-h-[400px]",children:w()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:183,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex justify-between pt-4 border-t",children:[t.jsxDEV(F,{variant:"outline",onClick:g,disabled:i===1,children:[t.jsxDEV(Sk,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:191,columnNumber:15},void 0),"Back"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:186,columnNumber:13},void 0),i<Tp?t.jsxDEV(F,{onClick:N,children:["Next",t.jsxDEV(Cd,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:198,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:196,columnNumber:15},void 0):t.jsxDEV(F,{onClick:D,disabled:o.isPending,children:[o.isPending?"Saving...":"Complete Assessment",t.jsxDEV(Ni,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:206,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:185,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:172,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:171,columnNumber:5},void 0)},Goe=({profile:s,onChange:e})=>{const r=a=>{const i=[...s.complexity_factors];i[a].is_selected=!i[a].is_selected,e({...s,complexity_factors:i})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"industry",children:"Industry *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:230,columnNumber:9},void 0),t.jsxDEV(is,{value:s.industry,onValueChange:a=>e({...s,industry:a}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:233,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:232,columnNumber:11},void 0),t.jsxDEV(as,{children:yoe.map(a=>t.jsxDEV(X,{value:a,children:aS[a]},a,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:237,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:235,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:231,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:229,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Company Size *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:246,columnNumber:9},void 0),t.jsxDEV(xS,{value:s.company_size,onValueChange:a=>e({...s,company_size:a}),children:Poe.map(({value:a,label:i,description:n})=>t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(vS,{value:a,id:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:250,columnNumber:15},void 0),t.jsxDEV(H,{htmlFor:a,className:"cursor-pointer",children:[i," ",t.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",n,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:252,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:251,columnNumber:15},void 0)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:249,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:247,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:245,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"revenue",children:"Revenue Range (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:260,columnNumber:9},void 0),t.jsxDEV(ve,{id:"revenue",placeholder:"e.g., $10M - $25M",value:s.revenue_range||"",onChange:a=>e({...s,revenue_range:a.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:261,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:259,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Complexity Factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:270,columnNumber:9},void 0),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-4",children:t.jsxDEV("div",{className:"space-y-3",children:s.complexity_factors.map((a,i)=>t.jsxDEV("div",{className:"flex items-start space-x-2",children:[t.jsxDEV(ga,{id:a.factor,checked:a.is_selected,onCheckedChange:()=>r(i)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:276,columnNumber:19},void 0),t.jsxDEV(H,{htmlFor:a.factor,className:"cursor-pointer flex-1",children:[t.jsxDEV("div",{className:"font-medium",children:a.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:282,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["Impact: ",a.impact_on_risk==="increases"?" Increases":a.impact_on_risk==="decreases"?" Decreases":" Neutral"," risk"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:283,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:281,columnNumber:19},void 0)]},a.factor,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:275,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:273,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:272,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:271,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:269,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:228,columnNumber:5},void 0)},Koe=({areas:s,onUpdate:e})=>t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(jr,{children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:304,columnNumber:9},void 0),t.jsxDEV(Ar,{children:"Rate each financial statement area based on inherent risk (before controls) and control risk (controls won't prevent/detect). Combined risk is calculated automatically."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:305,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:303,columnNumber:7},void 0),s.map((r,a)=>{var i;return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV(ue,{className:"text-base",children:r.area_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:315,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ga,{id:`material-${a}`,checked:r.is_material_area,onCheckedChange:n=>e(a,{is_material_area:!!n})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:317,columnNumber:17},void 0),t.jsxDEV(H,{htmlFor:`material-${a}`,className:"cursor-pointer",children:"Material"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:322,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:316,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:314,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:313,columnNumber:11},void 0),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Inherent Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:329,columnNumber:17},void 0),t.jsxDEV(is,{value:r.inherent_risk,onValueChange:n=>e(a,{inherent_risk:n}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:335,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:334,columnNumber:19},void 0),t.jsxDEV(as,{children:Ad.map(({value:n,label:o})=>t.jsxDEV(X,{value:n,children:o},n,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:339,columnNumber:23},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:337,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:330,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:328,columnNumber:15},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Control Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:346,columnNumber:17},void 0),t.jsxDEV(is,{value:r.control_risk,onValueChange:n=>e(a,{control_risk:n}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:352,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:351,columnNumber:19},void 0),t.jsxDEV(as,{children:Ad.map(({value:n,label:o})=>t.jsxDEV(X,{value:n,children:o},n,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:356,columnNumber:23},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:354,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:345,columnNumber:15},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Combined Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:363,columnNumber:17},void 0),t.jsxDEV(he,{variant:r.combined_risk==="significant"||r.combined_risk==="high"?"destructive":"outline",className:"w-full justify-center py-2",children:(i=r.combined_risk)==null?void 0:i.toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:364,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:327,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Risk Rationale (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:371,columnNumber:15},void 0),t.jsxDEV(Wt,{placeholder:"Explain the risk assessment for this area...",value:r.risk_rationale||"",onChange:n=>e(a,{risk_rationale:n.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:372,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:370,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:326,columnNumber:11},void 0)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:312,columnNumber:9},void 0)})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:302,columnNumber:5},void 0),Qoe=({fraudRisk:s,onChange:e})=>{const r=a=>{const i=[...s.fraud_factors];i[a].is_present=!i[a].is_present,e({...s,fraud_factors:i})};return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(jr,{children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:399,columnNumber:9},void 0),t.jsxDEV(Ar,{children:"Assess fraud risk factors based on the Fraud Triangle: Incentive/Pressure, Opportunity, and Rationalization."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:400,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:398,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-4",children:["incentive","opportunity","rationalization"].map(a=>{const i=s.fraud_factors.filter(n=>n.category===a);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-base capitalize",children:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:410,columnNumber:15},void 0),t.jsxDEV(q,{className:"space-y-3",children:i.map((n,o)=>{const l=s.fraud_factors.indexOf(n);return t.jsxDEV("div",{className:"flex items-start space-x-2",children:[t.jsxDEV(ga,{id:n.factor,checked:n.is_present,onCheckedChange:()=>r(l)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:418,columnNumber:23},void 0),t.jsxDEV(H,{htmlFor:n.factor,className:"cursor-pointer flex-1",children:n.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:423,columnNumber:23},void 0)]},n.factor,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:417,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:413,columnNumber:15},void 0)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:409,columnNumber:13},void 0)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:405,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Overall Fraud Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:436,columnNumber:9},void 0),t.jsxDEV(is,{value:s.overall_fraud_risk,onValueChange:a=>e({...s,overall_fraud_risk:a}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:442,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:441,columnNumber:11},void 0),t.jsxDEV(as,{children:Ad.map(({value:a,label:i})=>t.jsxDEV(X,{value:a,children:i},a,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:446,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:444,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:437,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:435,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:397,columnNumber:5},void 0)},Yoe=({itRisk:s,onChange:e})=>t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Overall IT Dependency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:462,columnNumber:9},void 0),t.jsxDEV(is,{value:s.overall_it_dependency,onValueChange:r=>e({...s,overall_it_dependency:r}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:468,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:467,columnNumber:11},void 0),t.jsxDEV(as,{children:Ad.map(({value:r,label:a})=>t.jsxDEV(X,{value:r,children:a},r,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:472,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:470,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:463,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:461,columnNumber:7},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Control Environment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:480,columnNumber:11},void 0),t.jsxDEV(is,{value:s.control_environment_rating,onValueChange:r=>e({...s,control_environment_rating:r}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:486,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:485,columnNumber:13},void 0),t.jsxDEV(as,{children:Ad.map(({value:r,label:a})=>t.jsxDEV(X,{value:r,children:a},r,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:490,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:488,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:481,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:479,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Cybersecurity Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:497,columnNumber:11},void 0),t.jsxDEV(is,{value:s.cybersecurity_risk,onValueChange:r=>e({...s,cybersecurity_risk:r}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:503,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:502,columnNumber:13},void 0),t.jsxDEV(as,{children:Ad.map(({value:r,label:a})=>t.jsxDEV(X,{value:r,children:a},r,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:507,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:505,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:498,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:496,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:478,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Notes (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:515,columnNumber:9},void 0),t.jsxDEV(Wt,{placeholder:"Additional IT risk notes...",value:s.notes||"",onChange:r=>e({...s,notes:r.target.value}),rows:4},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:516,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:514,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:460,columnNumber:5},void 0),Joe=({businessProfile:s,riskAreas:e,fraudRisk:r,itRisk:a})=>{const i=Woe(e,r.overall_fraud_risk,a.overall_it_dependency),n=s.complexity_factors.filter(l=>l.is_selected),o=r.fraud_factors.filter(l=>l.is_present);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(jr,{className:i==="significant"||i==="high"?"border-red-500":"",children:[t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:540,columnNumber:9},void 0),t.jsxDEV(Ar,{children:["Overall Engagement Risk: ",t.jsxDEV("strong",{className:"uppercase",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:542,columnNumber:36},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:541,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:539,columnNumber:7},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Business Profile"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:548,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:547,columnNumber:9},void 0),t.jsxDEV(q,{className:"space-y-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Industry:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:551,columnNumber:16},void 0)," ",aS[s.industry]]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:551,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Company Size:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:552,columnNumber:16},void 0)," ",s.company_size]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:552,columnNumber:11},void 0),n.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Complexity Factors:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:555,columnNumber:15},void 0),t.jsxDEV("ul",{className:"list-disc list-inside ml-4 mt-1",children:n.map(l=>t.jsxDEV("li",{children:l.description},l.factor,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:558,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:556,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:554,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:550,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:546,columnNumber:7},void 0),t.jsxDEV(iS,{riskAreas:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:566,columnNumber:7},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-sm",children:"Fraud Risk Factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:571,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:570,columnNumber:11},void 0),t.jsxDEV(q,{children:[t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Overall:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:574,columnNumber:18},void 0)," ",r.overall_fraud_risk.toUpperCase()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:574,columnNumber:13},void 0),o.length>0&&t.jsxDEV("div",{className:"mt-2 text-sm",children:[o.length," fraud risk factor(s) identified"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:576,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:573,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:569,columnNumber:9},void 0),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"text-sm",children:"IT Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:585,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:584,columnNumber:11},void 0),t.jsxDEV(q,{children:[t.jsxDEV("div",{children:[t.jsxDEV("strong",{children:"Overall:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:588,columnNumber:18},void 0)," ",a.overall_it_dependency.toUpperCase()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:588,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-sm mt-2",children:["Cybersecurity: ",a.cybersecurity_risk]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:589,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:587,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:583,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:568,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit/risk/RiskAssessmentWizard.tsx",lineNumber:538,columnNumber:5},void 0)};function Zoe(s){return bs({queryKey:["risk-requirement",s],queryFn:async()=>{if(!s)return!1;const{data:e,error:r}=await le.rpc("check_risk_assessment_complete",{engagement_id_param:s});if(r)throw console.error("Error checking risk requirement:",r),r;return e},enabled:!!s,staleTime:2*60*1e3,gcTime:5*60*1e3})}function Xoe(s){return bs({queryKey:["risk-requirement-details",s],queryFn:async()=>{if(!s)return null;const{data:e,error:r}=await le.from("risk_assessment_requirements").select("*").eq("engagement_id",s).maybeSingle();if(r)throw r;return e},enabled:!!s,staleTime:2*60*1e3})}function ele(){const s=Lr(),{toast:e}=Hs();return Rs({mutationFn:async({engagementId:r,justification:a})=>{if(!a||a.trim().length<20)throw new Error("Override justification must be at least 20 characters");const{data:{user:i}}=await le.auth.getUser();if(!i)throw new Error("User not authenticated");const{data:n,error:o}=await le.from("risk_assessment_requirements").upsert({engagement_id:r,override_allowed:!0,override_justification:a,override_by:i.id,override_at:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"engagement_id"}).select().single();if(o)throw o;return n},onSuccess:(r,a)=>{s.invalidateQueries({queryKey:["risk-requirement",a.engagementId]}),s.invalidateQueries({queryKey:["risk-requirement-details",a.engagementId]}),s.invalidateQueries({queryKey:["engagement",a.engagementId]}),e({title:"Risk Requirement Overridden",description:"The risk assessment requirement has been overridden. This action has been logged for quality control review.",variant:"default"})},onError:r=>{e({title:"Override Failed",description:r.message||"Failed to override risk requirement. You may not have sufficient permissions.",variant:"destructive"})}})}function sle({engagementId:s,engagementName:e="this engagement",children:r,softGate:a=!1}){const i=Qt(),{data:n,isLoading:o}=Zoe(s),{data:l}=Xoe(s),d=ele(),[u,c]=v.useState(!1),[b,h]=v.useState("");if(o)return t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Xs,{className:"h-24 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:69,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:68,columnNumber:7},this);if(n)return l!=null&&l.override_allowed?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(jr,{className:"border-orange-500 bg-orange-50",children:[t.jsxDEV(Qv,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:82,columnNumber:13},this),t.jsxDEV(ho,{className:"text-orange-900 font-semibold",children:"Partner Override Active"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:83,columnNumber:13},this),t.jsxDEV(Ar,{className:"text-orange-800",children:[t.jsxDEV("p",{className:"mb-2",children:"Risk assessment requirement was overridden by partner. This engagement is flagged for quality control review."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:87,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm",children:[t.jsxDEV("strong",{children:"Justification:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:92,columnNumber:17},this)," ",l.override_justification||"None provided"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:91,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:81,columnNumber:11},this),r]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:80,columnNumber:9},this):t.jsxDEV(t.Fragment,{children:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:102,columnNumber:12},this);const m=async()=>{!b||b.trim().length<20||(await d.mutateAsync({engagementId:s,justification:b.trim()}),c(!1),h(""))},f=()=>{i(`/engagements/${s}?tab=planning&wizard=risk`)};return a?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(jr,{variant:"default",className:"border-yellow-500 bg-yellow-50",children:[t.jsxDEV(Er,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:130,columnNumber:11},this),t.jsxDEV(ho,{className:"text-yellow-900 font-semibold",children:"Risk Assessment Recommended"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:131,columnNumber:11},this),t.jsxDEV(Ar,{className:"text-yellow-800",children:[t.jsxDEV("p",{className:"mb-3",children:"Best practice recommends completing a risk assessment before building your audit program. This ensures procedures are properly tailored to identified risks."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:135,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:f,className:"bg-white",children:"Complete Risk Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:129,columnNumber:9},this),r]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:128,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(jr,{variant:"destructive",className:"border-red-500 bg-red-50",children:[t.jsxDEV(eA,{className:"h-6 w-6 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:159,columnNumber:9},this),t.jsxDEV(ho,{className:"text-lg font-semibold text-red-900 flex items-center gap-2",children:["Risk Assessment Required",t.jsxDEV(he,{variant:"destructive",className:"ml-2",children:"AU-C 315"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:160,columnNumber:9},this),t.jsxDEV(Ar,{className:"space-y-4 text-red-800",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{className:"font-medium",children:["Professional auditing standards ",t.jsxDEV("strong",{children:"require"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:169,columnNumber:47},this)," a risk assessment to be completed before selecting audit procedures."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:168,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm",children:[t.jsxDEV("strong",{children:"Why this matters:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:173,columnNumber:15},this)," Risk assessment ensures that audit procedures are appropriately tailored to the specific risks identified in the engagement. This prevents:"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:172,columnNumber:13},this),t.jsxDEV("ul",{className:"list-disc list-inside text-sm space-y-1 ml-4",children:[t.jsxDEV("li",{children:"Over-testing of low-risk areas (inefficiency)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:178,columnNumber:15},this),t.jsxDEV("li",{children:"Under-testing of high-risk areas (quality deficiency)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:179,columnNumber:15},this),t.jsxDEV("li",{children:"Inappropriate procedure selection (audit failure risk)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:180,columnNumber:15},this),t.jsxDEV("li",{children:"Non-compliance with professional standards (regulatory issue)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:181,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:167,columnNumber:11},this),t.jsxDEV("div",{className:"flex flex-wrap gap-3 pt-2",children:[t.jsxDEV(F,{onClick:f,className:"bg-red-600 hover:bg-red-700 text-white",children:[t.jsxDEV(Ni,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:190,columnNumber:15},this),"Complete Risk Assessment Now"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",onClick:()=>c(!0),className:"border-red-300 text-red-700 hover:bg-red-100",children:[t.jsxDEV(p6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:198,columnNumber:15},this),"Partner Override (Not Recommended)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:193,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV("div",{className:"mt-4 p-3 bg-white rounded-md border border-red-200",children:t.jsxDEV("p",{className:"text-xs text-red-700",children:[t.jsxDEV("strong",{children:"Note for Partners:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:205,columnNumber:15},this)," Overriding this requirement should only be done in exceptional circumstances (e.g., interim review where full risk assessment was completed for year-end audit). All overrides are logged and flagged for quality control review."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:204,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:203,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:158,columnNumber:7},this),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/50 to-white z-10 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white border border-red-300 rounded-lg p-6 shadow-xl max-w-md text-center",children:[t.jsxDEV(eA,{className:"h-12 w-12 mx-auto text-red-500 mb-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:218,columnNumber:13},this),t.jsxDEV("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Content Locked"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:219,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-red-700",children:"Complete the risk assessment to unlock audit program features"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:217,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:216,columnNumber:9},this),t.jsxDEV("div",{className:"pointer-events-none blur-sm opacity-40",children:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:225,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:215,columnNumber:7},this),t.jsxDEV(Pt,{open:u,onOpenChange:c,children:t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{className:"flex items-center gap-2",children:[t.jsxDEV(Qv,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:233,columnNumber:15},this),"Override Risk Assessment Requirement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:232,columnNumber:13},this),t.jsxDEV(Bt,{children:"This action requires partner authority and will be logged for quality control review."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:236,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:231,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(jr,{variant:"destructive",children:[t.jsxDEV(Er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:244,columnNumber:15},this),t.jsxDEV(Ar,{children:[t.jsxDEV("strong",{children:"Warning:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:246,columnNumber:17},this)," Overriding this requirement may result in audit quality deficiencies and regulatory non-compliance. Only exercise this override if you have documented justification for why a risk assessment is not necessary for"," ",e,"."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:243,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"justification",className:"text-base font-semibold",children:["Override Justification ",t.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:255,columnNumber:40},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:254,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Provide a detailed explanation for why the risk assessment requirement should be bypassed for this engagement. Minimum 20 characters required."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:257,columnNumber:15},this),t.jsxDEV(Wt,{id:"justification",value:b,onChange:p=>h(p.target.value),placeholder:"Example: This is an interim review engagement where a comprehensive risk assessment was completed for the December 31, 2024 year-end audit. The risk environment has not changed materially since that assessment was performed.",rows:5,className:"resize-none"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:261,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground text-right",children:[b.length," / 20 minimum"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:269,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:253,columnNumber:13},this),t.jsxDEV("div",{className:"bg-muted p-4 rounded-md",children:[t.jsxDEV("h4",{className:"font-semibold text-sm mb-2",children:"This override will be logged with:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Your user ID and timestamp"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV("li",{children:"Engagement ID and name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:278,columnNumber:17},this),t.jsxDEV("li",{children:"Override justification (shown above)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:279,columnNumber:17},this),t.jsxDEV("li",{children:"Automatic notification to quality control team"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:280,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:274,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:242,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>c(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:286,columnNumber:13},this),t.jsxDEV(F,{onClick:m,disabled:!b||b.trim().length<20||d.isPending,className:"bg-orange-600 hover:bg-orange-700",children:d.isPending?"Processing...":"Confirm Override"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:285,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:230,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:229,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/RiskRequirementGate.tsx",lineNumber:156,columnNumber:5},this)}function tle({engagementId:s,engagementName:e}){var D;const r=Qt(),{programs:a,isLoading:i}=zw(s),{procedures:n,isLoading:o}=ic(s),{data:l,isLoading:d}=sj(s),[u,c]=v.useState(!1),[b,h]=v.useState(!1),m=a==null?void 0:a[0],f={not_started:(n==null?void 0:n.filter(w=>w.status==="not_started").length)||0,in_progress:(n==null?void 0:n.filter(w=>w.status==="in_progress").length)||0,in_review:(n==null?void 0:n.filter(w=>w.status==="in_review").length)||0,complete:(n==null?void 0:n.filter(w=>w.status==="complete").length)||0},p=n!=null&&n.length?Math.round(f.complete/n.length*100):0,N=(n==null?void 0:n.filter(w=>!w.assigned_to).length)||0,g=(n==null?void 0:n.filter(w=>w.assigned_to).length)||0;return i||o||d?t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Xs,{className:"h-32 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:54,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:53,columnNumber:7},this):l?m?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(y1,{assessment:l,mode:"compact",onReassess:()=>h(!0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:128,columnNumber:7},this),t.jsxDEV(nh,{engagementId:s,open:b,onOpenChange:h,onComplete:()=>{h(!1)}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:134,columnNumber:7},this),n&&n.length>0&&t.jsxDEV(Toe,{assessment:l,procedures:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:145,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:m.program_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:156,columnNumber:15},this),t.jsxDEV(Ke,{children:["Based on ",(D=m.audit_program_templates)==null?void 0:D.template_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:155,columnNumber:13},this),t.jsxDEV(he,{variant:m.status==="complete"?"default":"secondary",children:m.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:154,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:153,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Total Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:m.total_procedures},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:168,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:173,columnNumber:15},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:f.complete},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:174,columnNumber:15},this),t.jsxDEV(cr,{value:p,className:"mt-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:175,columnNumber:15},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[p,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:172,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:179,columnNumber:15},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:f.in_progress},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:178,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Not Started"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:183,columnNumber:15},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:f.not_started},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:184,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:167,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:152,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:195,columnNumber:15},this),"Assignment Status"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:194,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:193,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:202,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:g},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:201,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Unassigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:206,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:N},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:205,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:200,columnNumber:13},this),N>0&&t.jsxDEV(F,{className:"w-full mt-4",size:"sm",onClick:()=>r(`/engagements/${s}/assign-procedures`),children:"Assign Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:192,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:225,columnNumber:15},this),"Time Tracking"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:224,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:223,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Estimated"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:232,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:[(n==null?void 0:n.reduce((w,A)=>w+A.estimated_hours,0))||0,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:233,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:231,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Actual"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:238,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:[(n==null?void 0:n.reduce((w,A)=>w+A.actual_hours,0))||0,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:239,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:230,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:229,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:222,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:250,columnNumber:15},this),"Quality Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:249,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:248,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"In Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:257,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:f.in_review},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:258,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:256,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-between text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:261,columnNumber:17},this),t.jsxDEV("span",{className:"font-medium",children:f.complete},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:255,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:254,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:191,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:274,columnNumber:15},this),t.jsxDEV(Ke,{children:"View and manage audit test procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:275,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:273,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",onClick:()=>r(`/engagements/${s}/assign-procedures`),children:"Manage Assignments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:279,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:272,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:271,columnNumber:9},this),t.jsxDEV(q,{children:n&&n.length>0?t.jsxDEV("div",{className:"space-y-3",children:[n.slice(0,5).map(w=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:border-primary transition-colors",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-sm",children:w.procedure_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:296,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxDEV(he,{variant:"outline",className:"text-xs",children:w.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:298,columnNumber:23},this),w.assigned_to&&t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Assigned to team member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:302,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:297,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:295,columnNumber:19},this),t.jsxDEV("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:309,columnNumber:21},this),w.estimated_hours,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:308,columnNumber:19},this)]},w.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:291,columnNumber:17},this)),n.length>5&&t.jsxDEV(F,{variant:"ghost",className:"w-full",onClick:()=>r(`/engagements/${s}/assign-procedures`),children:["View All ",n.length," Procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:289,columnNumber:13},this):t.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"No procedures in this program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:325,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:287,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:270,columnNumber:7},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:332,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("h3",{className:"text-xl font-semibold",children:"Sampling Calculator"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:337,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Calculate sample sizes using statistical methods (random, stratified, systematic, monetary unit sampling)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:338,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:336,columnNumber:9},this),t.jsxDEV(I4,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:342,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:335,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:126,columnNumber:5},this):t.jsxDEV(sle,{engagementId:s,engagementName:e,children:t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(y1,{assessment:l,mode:"full",onReassess:()=>h(!0),onBuildProgram:()=>c(!0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:94,columnNumber:11},this),t.jsxDEV(nh,{engagementId:s,open:b,onOpenChange:h,onComplete:()=>{h(!1)}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:101,columnNumber:11},this),t.jsxDEV(woe,{engagementId:s,riskAssessmentId:l.id,open:u,onOpenChange:c,onSuccess:()=>{c(!1)}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:92,columnNumber:7},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(joe,{onStartRiskAssessment:()=>h(!0),onSkipToManual:()=>c(!0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:64,columnNumber:9},this),t.jsxDEV(nh,{engagementId:s,open:b,onOpenChange:h,onComplete:()=>{h(!1)}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:69,columnNumber:9},this),t.jsxDEV(Ase,{engagementId:s,engagementName:e,open:u,onOpenChange:c},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementProgramTab.tsx",lineNumber:63,columnNumber:7},this)}const rle=[{id:"financial-analysis",name:"Financial Statement Analysis",description:"Analyze financial statements and key ratios",type:"financial",icon:Ws},{id:"internal-controls",name:"Internal Controls Testing",description:"Document and test internal controls",type:"controls",icon:Ks},{id:"revenue-recognition",name:"Revenue Recognition Review",description:"Review revenue recognition policies",type:"revenue",icon:Ws},{id:"it-controls",name:"IT General Controls",description:"Assess IT general controls",type:"it",icon:Ws},{id:"substantive-testing",name:"Substantive Testing",description:"Document substantive audit procedures",type:"substantive",icon:Ws},{id:"blank",name:"Blank Workpaper",description:"Start from scratch",type:"blank",icon:Ws}];function ale({engagementId:s}){const e=Qt(),{workpapers:r,isLoading:a,createWorkpaper:i}=_D(s),[n,o]=v.useState(!1),[l,d]=v.useState({title:"",workpaper_type:"analysis",template:""}),u=m=>{switch(m){case"approved":return"default";case"in_review":return"secondary";case"rejected":return"destructive";default:return"outline"}},c=m=>{switch(m){case"approved":return t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:114,columnNumber:16},this);case"in_review":return t.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:116,columnNumber:16},this);case"rejected":return t.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:118,columnNumber:16},this);default:return t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:120,columnNumber:16},this)}},b=async()=>{await i.mutateAsync({title:l.title,workpaper_type:l.workpaper_type}),o(!1),d({title:"",workpaper_type:"analysis",template:""})},h={draft:(r==null?void 0:r.filter(m=>m.status==="draft").length)||0,in_review:(r==null?void 0:r.filter(m=>m.status==="in_review").length)||0,approved:(r==null?void 0:r.filter(m=>m.status==="approved").length)||0,rejected:(r==null?void 0:r.filter(m=>m.status==="rejected").length)||0};return a?t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV(Xs,{className:"h-32 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:143,columnNumber:9},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:142,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:154,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:158,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:153,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:163,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:162,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-muted-foreground",children:h.draft},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:166,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:161,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"In Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:171,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:170,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-blue-500",children:h.in_review},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:174,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:169,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:179,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:178,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold text-green-500",children:h.approved},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:152,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsxDEV(h6,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:192,columnNumber:15},this),"Workpaper Templates"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:191,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Start with a template or create a blank workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:190,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:189,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:rle.map(m=>{const f=m.icon;return t.jsxDEV(B,{className:"hover:border-primary cursor-pointer transition-colors",children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsxDEV(f,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:207,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:206,columnNumber:21},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(ue,{className:"text-base",children:m.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:210,columnNumber:23},this),t.jsxDEV(Ke,{className:"text-xs mt-1",children:m.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:211,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:209,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:205,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:204,columnNumber:17},this),t.jsxDEV(q,{children:t.jsxDEV(Pt,{children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full",onClick:()=>d({...l,template:m.id,workpaper_type:m.type}),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:226,columnNumber:25},this),"Use Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:220,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:219,columnNumber:21},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create Workpaper from Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:232,columnNumber:25},this),t.jsxDEV(Bt,{children:["Create a new workpaper based on the ",m.name," template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:233,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:231,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"title",children:"Workpaper Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:239,columnNumber:27},this),t.jsxDEV(ve,{id:"title",placeholder:"e.g., Cash and Equivalents Analysis",value:l.title,onChange:p=>d({...l,title:p.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:240,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:238,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"reference",children:"Reference Number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:248,columnNumber:27},this),t.jsxDEV(ve,{id:"reference",placeholder:"e.g., A-1",defaultValue:`WP-${r!=null&&r.length?r.length+1:1}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:249,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:247,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:237,columnNumber:23},this),t.jsxDEV("div",{className:"flex justify-end gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>o(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:257,columnNumber:25},this),t.jsxDEV(F,{onClick:b,disabled:!l.title,children:"Create Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:260,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:256,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:230,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:218,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:217,columnNumber:17},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:203,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:188,columnNumber:7},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:273,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsxDEV(tW,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:280,columnNumber:15},this),"Engagement Workpapers"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:279,columnNumber:13},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(r==null?void 0:r.length)||0," workpaper",(r==null?void 0:r.length)!==1?"s":""," in this engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:278,columnNumber:11},this),t.jsxDEV(Pt,{open:n,onOpenChange:o,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:290,columnNumber:17},this),"New Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:289,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:288,columnNumber:13},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create New Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:296,columnNumber:17},this),t.jsxDEV(Bt,{children:"Create a new blank workpaper for this engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:297,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:295,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"new-title",children:"Workpaper Title"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:303,columnNumber:19},this),t.jsxDEV(ve,{id:"new-title",placeholder:"e.g., Cash and Equivalents Analysis",value:l.title,onChange:m=>d({...l,title:m.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:302,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"type",children:"Workpaper Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:312,columnNumber:19},this),t.jsxDEV(is,{value:l.workpaper_type,onValueChange:m=>d({...l,workpaper_type:m}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:318,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:317,columnNumber:21},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"analysis",children:"Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:321,columnNumber:23},this),t.jsxDEV(X,{value:"testing",children:"Testing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:322,columnNumber:23},this),t.jsxDEV(X,{value:"documentation",children:"Documentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:323,columnNumber:23},this),t.jsxDEV(X,{value:"review",children:"Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:324,columnNumber:23},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:325,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:320,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:313,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:311,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:301,columnNumber:15},this),t.jsxDEV("div",{className:"flex justify-end gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>o(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:331,columnNumber:17},this),t.jsxDEV(F,{onClick:b,disabled:!l.title,children:"Create Workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:334,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:294,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:287,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:277,columnNumber:9},this),r&&r.length>0?t.jsxDEV("div",{className:"grid gap-3",children:r.map(m=>t.jsxDEV(B,{className:"hover:border-primary cursor-pointer transition-colors",onClick:()=>e(`/workpapers/${m.id}`),children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[t.jsxDEV(Ws,{className:"h-5 w-5 text-muted-foreground mt-0.5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:353,columnNumber:23},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ue,{className:"text-base",children:m.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:356,columnNumber:27},this),t.jsxDEV(he,{variant:u(m.status),className:"text-xs",children:m.status.replace("_"," ")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:357,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:355,columnNumber:25},this),t.jsxDEV(Ke,{className:"text-xs mt-1",children:["Ref: ",m.reference_number,"  Type: ",m.workpaper_type]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:361,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:354,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:352,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[c(m.status),t.jsxDEV(F,{size:"sm",variant:"ghost",onClick:f=>{f.stopPropagation(),e(`/workpapers/${m.id}`)},children:t.jsxDEV(Yh,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:376,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:368,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:366,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:351,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:350,columnNumber:17},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxDEV("span",{children:["Prepared: ",Ds(new Date(m.prepared_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:383,columnNumber:21},this),m.reviewed_date&&t.jsxDEV("span",{children:["Reviewed: ",Ds(new Date(m.reviewed_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:385,columnNumber:23},this),t.jsxDEV("span",{children:["Updated: ",Ds(new Date(m.updated_at),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:387,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:382,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:381,columnNumber:17},this)]},m.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:345,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:343,columnNumber:11},this):t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ws,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:396,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg font-medium mb-2",children:"No workpapers yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:397,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4 text-center max-w-md",children:"Start by creating a workpaper from a template above or create a blank workpaper"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:398,columnNumber:15},this),t.jsxDEV(F,{onClick:()=>o(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:402,columnNumber:17},this),"Create First Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:395,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:394,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:276,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementWorkpapersTab.tsx",lineNumber:150,columnNumber:5},this)}function ile({engagementId:s}){const{data:e,isLoading:r}=sj(s),[a,i]=v.useState(!1);return r?t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:20,columnNumber:7},this):e?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Risk Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:69,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"AU-C 315: Understanding the Entity and Assessing Risks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:68,columnNumber:9},this),t.jsxDEV(F,{onClick:()=>i(!0),children:[t.jsxDEV(Lu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:75,columnNumber:11},this),"Update Assessment"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:67,columnNumber:7},this),t.jsxDEV(y1,{assessment:e,mode:"full",onReassess:()=>i(!0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:81,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Risk Matrix"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:90,columnNumber:11},this),t.jsxDEV(Ke,{children:"Inherent risk vs control risk evaluation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:89,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-medium text-sm",children:"Inherent Risk Factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:98,columnNumber:15},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsxDEV("li",{children:"Industry complexity and volatility"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:100,columnNumber:17},this),t.jsxDEV("li",{children:"Financial statement complexity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:101,columnNumber:17},this),t.jsxDEV("li",{children:"Management integrity and competence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:102,columnNumber:17},this),t.jsxDEV("li",{children:"Related party transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:97,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("h4",{className:"font-medium text-sm",children:"Control Risk Factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:107,columnNumber:15},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsxDEV("li",{children:"Control environment effectiveness"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:109,columnNumber:17},this),t.jsxDEV("li",{children:"IT general controls maturity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:110,columnNumber:17},this),t.jsxDEV("li",{children:"Segregation of duties"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:111,columnNumber:17},this),t.jsxDEV("li",{children:"Management override risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:112,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:106,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:95,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:88,columnNumber:7},this),t.jsxDEV(nh,{engagementId:s,open:a,onOpenChange:i,onComplete:()=>i(!1)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:119,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:66,columnNumber:5},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Risk Assessment Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:31,columnNumber:13},this),t.jsxDEV(Ke,{children:"Complete a risk assessment to identify and evaluate engagement risks per AU-C 315"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:32,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:30,columnNumber:11},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"A comprehensive risk assessment is the foundation of an effective audit approach. The risk assessment should identify and evaluate:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:37,columnNumber:13},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsxDEV("li",{children:"Fraud risks and indicators"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:42,columnNumber:15},this),t.jsxDEV("li",{children:"Going concern considerations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:43,columnNumber:15},this),t.jsxDEV("li",{children:"Related party transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:44,columnNumber:15},this),t.jsxDEV("li",{children:"Material account balances and assertions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:45,columnNumber:15},this),t.jsxDEV("li",{children:"Business risks and industry factors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:41,columnNumber:13},this),t.jsxDEV(F,{onClick:()=>i(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:49,columnNumber:15},this),"Start Risk Assessment"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:29,columnNumber:9},this),t.jsxDEV(nh,{engagementId:s,open:a,onOpenChange:i,onComplete:()=>i(!1)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementRiskAssessmentTab.tsx",lineNumber:28,columnNumber:7},this)}function nle({engagementId:s}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Evidence Library"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:15,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Manage audit evidence and supporting documentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:14,columnNumber:9},this),t.jsxDEV(F,{children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:21,columnNumber:11},this),"Upload Evidence"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:13,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Engagement Evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:29,columnNumber:11},this),t.jsxDEV(Ke,{children:"Supporting documentation collected during fieldwork"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Evidence library will display uploaded documents, images, and supporting materials organized by workpaper and procedure."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:35,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:27,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementEvidenceTab.tsx",lineNumber:12,columnNumber:5},this)}function ole({engagementId:s}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Information Requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:15,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"PBC list and client document requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:14,columnNumber:9},this),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:21,columnNumber:11},this),"New Request"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:13,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:30,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:29,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:36,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:37,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"In Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:43,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:50,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:42,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:57,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:64,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"15"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:27,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Active Requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:74,columnNumber:11},this),t.jsxDEV(Ke,{children:"Document requests sent to client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:73,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Information requests list will display all PBC items, document requests, and their fulfillment status with client portal integration."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:72,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementInformationRequestsTab.tsx",lineNumber:12,columnNumber:5},this)}function lle({engagementId:s}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Task Board"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:15,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Team task management and coordination"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:14,columnNumber:9},this),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:21,columnNumber:11},this),"New Task"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:13,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Total Tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:30,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:29,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:"24"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"To Do"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:41,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:40,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Yv,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:47,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:48,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:39,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:55,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:54,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:61,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"11"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:62,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:60,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:53,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Complete"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:69,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:68,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dW,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:75,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:73,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:67,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:27,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Team Tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:85,columnNumber:11},this),t.jsxDEV(Ke,{children:"Kanban-style task management"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:86,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:84,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Task board will display cards organized by status (To Do, In Progress, Review, Done) with drag-and-drop functionality and team member assignments."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementTasksTab.tsx",lineNumber:12,columnNumber:5},this)}function dle({engagementId:s}){return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Findings & Observations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:15,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Audit findings, deficiencies, and recommendations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:14,columnNumber:9},this),t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:21,columnNumber:11},this),"New Finding"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:20,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:13,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Material Weaknesses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:30,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:29,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Er,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:36,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold text-red-500",children:"2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:37,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Significant Deficiencies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:43,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:50,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold text-orange-500",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:42,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Control Deficiencies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:58,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:57,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Dl,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:64,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold text-yellow-500",children:"8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:56,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm font-medium text-muted-foreground",children:"Observations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:72,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:71,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:78,columnNumber:15},this),t.jsxDEV("span",{className:"text-2xl font-bold",children:"12"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:77,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:27,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"All Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:88,columnNumber:11},this),t.jsxDEV(Ke,{children:"Documented findings and management responses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Findings list will display all identified issues with:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:95,columnNumber:13},this),t.jsxDEV("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsxDEV("li",{children:"Condition, Criteria, Cause, and Effect (4 C's)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:99,columnNumber:15},this),t.jsxDEV("li",{children:"Severity classification and risk rating"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:100,columnNumber:15},this),t.jsxDEV("li",{children:"Management response and remediation status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:101,columnNumber:15},this),t.jsxDEV("li",{children:"Links to related workpapers and procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:102,columnNumber:15},this),t.jsxDEV("li",{children:"Approval workflow and sign-off tracking"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:103,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:93,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:86,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/EngagementFindingsTab.tsx",lineNumber:12,columnNumber:5},this)}function ule(){var m,f,p;const{id:s}=Al(),e=Qt(),{toast:r}=Hs(),[a,i]=v.useState(null),[n,o]=v.useState(!0),[l,d]=v.useState(!1),[u,c]=v.useState(!1),b=async()=>{try{o(!0);const{data:N,error:g}=await le.from("audits").select(`
          *,
          clients(id, client_name),
          profiles:created_by(full_name)
        `).eq("id",s).single();if(g)throw g;i(N)}catch(N){console.error("Error fetching engagement:",N),r({title:"Error loading engagement",description:N.message,variant:"destructive"})}finally{o(!1)}};if(v.useEffect(()=>{s&&b()},[s]),n)return t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:78,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:76,columnNumber:7},this);if(!a)return t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"flex flex-col items-center justify-center h-96 space-y-4",children:[t.jsxDEV(Ys,{className:"h-12 w-12 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:88,columnNumber:11},this),t.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Engagement not found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:89,columnNumber:11},this),t.jsxDEV(F,{onClick:()=>e("/engagements"),children:"Back to Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:87,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:86,columnNumber:7},this);const h=N=>({draft:"bg-secondary text-secondary-foreground",pending_approval:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",approved:"bg-blue-500/10 text-blue-500 border-blue-500/20",active:"bg-green-500/10 text-green-500 border-green-500/20",fieldwork:"bg-purple-500/10 text-purple-500 border-purple-500/20",reporting:"bg-orange-500/10 text-orange-500 border-orange-500/20",complete:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20"})[N]||"bg-secondary text-secondary-foreground";return t.jsxDEV(vd,{children:[t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>e("/engagements"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:121,columnNumber:17},this),"Back"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:116,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:115,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:a.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:126,columnNumber:15},this),t.jsxDEV(he,{className:h(a.workflow_status),children:a.workflow_status.replace("_"," ").toUpperCase()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:127,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground",children:[(m=a.clients)==null?void 0:m.client_name,"  ",a.audit_number]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:114,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>c(!0),children:[t.jsxDEV(qi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:138,columnNumber:15},this),"Generate Letter"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:137,columnNumber:13},this),a.workflow_status==="draft"&&t.jsxDEV(F,{onClick:()=>d(!0),children:[t.jsxDEV(qi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:143,columnNumber:17},this),"Request Approval"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:142,columnNumber:15},this),a.workflow_status==="pending_approval"&&t.jsxDEV(he,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:"Pending Approval"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:113,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:161,columnNumber:19},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:["$",((f=a.budget_allocated)==null?void 0:f.toLocaleString())||"0"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:162,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["$",((p=a.budget_spent)==null?void 0:p.toLocaleString())||"0"," spent"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:165,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:160,columnNumber:17},this),t.jsxDEV(fo,{className:"h-8 w-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:169,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:159,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:158,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:157,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:178,columnNumber:19},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:a.hours_allocated||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:179,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[a.hours_spent||0," logged"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:182,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:177,columnNumber:17},this),t.jsxDEV(dt,{className:"h-8 w-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:186,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:176,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:175,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:174,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:195,columnNumber:19},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:"45%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:196,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"On track"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:197,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV(Ks,{className:"h-8 w-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:199,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:193,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:191,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Team"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:208,columnNumber:19},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:209,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"members"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:210,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:207,columnNumber:17},this),t.jsxDEV(er,{className:"h-8 w-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:206,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:205,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:156,columnNumber:9},this),t.jsxDEV(Pr,{defaultValue:"overview",className:"space-y-4",children:[t.jsxDEV(pr,{className:"w-full justify-start flex-wrap h-auto",children:[t.jsxDEV($e,{value:"overview",children:"Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:222,columnNumber:13},this),t.jsxDEV($e,{value:"risk",children:"Risk Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:223,columnNumber:13},this),t.jsxDEV($e,{value:"scope",children:"Scope & Planning"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:224,columnNumber:13},this),t.jsxDEV($e,{value:"program",children:"Audit Program"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:225,columnNumber:13},this),t.jsxDEV($e,{value:"team",children:"Team & Resources"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:228,columnNumber:13},this),t.jsxDEV($e,{value:"workpapers",children:"Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:229,columnNumber:13},this),t.jsxDEV($e,{value:"evidence",children:"Evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:230,columnNumber:13},this),t.jsxDEV($e,{value:"requests",children:"Info Requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:231,columnNumber:13},this),t.jsxDEV($e,{value:"tasks",children:"Tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:232,columnNumber:13},this),t.jsxDEV($e,{value:"documents",children:"Documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:233,columnNumber:13},this),t.jsxDEV($e,{value:"findings",children:"Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:234,columnNumber:13},this),t.jsxDEV($e,{value:"milestones",children:"Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:237,columnNumber:13},this),t.jsxDEV($e,{value:"budget",children:"Budget & Time"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:238,columnNumber:13},this),t.jsxDEV($e,{value:"schedule",children:"Schedule"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:239,columnNumber:13},this),t.jsxDEV($e,{value:"calendar",children:"Calendar"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:240,columnNumber:13},this),t.jsxDEV($e,{value:"deliverables",children:"Deliverables"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:243,columnNumber:13},this),t.jsxDEV($e,{value:"communications",children:"Communications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:244,columnNumber:13},this),t.jsxDEV($e,{value:"change-orders",children:"Change Orders"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:220,columnNumber:11},this),t.jsxDEV(es,{value:"overview",children:t.jsxDEV(Ute,{engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:250,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:249,columnNumber:11},this),t.jsxDEV(es,{value:"risk",children:t.jsxDEV(ile,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:254,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:253,columnNumber:11},this),t.jsxDEV(es,{value:"scope",children:t.jsxDEV(_te,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:258,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:257,columnNumber:11},this),t.jsxDEV(es,{value:"program",children:t.jsxDEV(tle,{engagementId:a.id,engagementName:a.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:262,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:261,columnNumber:11},this),t.jsxDEV(es,{value:"team",children:t.jsxDEV(Cte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:267,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:266,columnNumber:11},this),t.jsxDEV(es,{value:"workpapers",children:t.jsxDEV(ale,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:271,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:270,columnNumber:11},this),t.jsxDEV(es,{value:"evidence",children:t.jsxDEV(nle,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:275,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:274,columnNumber:11},this),t.jsxDEV(es,{value:"requests",children:t.jsxDEV(ole,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:279,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:278,columnNumber:11},this),t.jsxDEV(es,{value:"tasks",children:t.jsxDEV(lle,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:283,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:282,columnNumber:11},this),t.jsxDEV(es,{value:"documents",children:t.jsxDEV(Qte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:287,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:286,columnNumber:11},this),t.jsxDEV(es,{value:"findings",children:t.jsxDEV(dle,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:291,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:290,columnNumber:11},this),t.jsxDEV(es,{value:"milestones",children:t.jsxDEV(Tte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:296,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:295,columnNumber:11},this),t.jsxDEV(es,{value:"budget",children:t.jsxDEV(Ite,{engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:300,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:299,columnNumber:11},this),t.jsxDEV(es,{value:"schedule",children:t.jsxDEV(Fte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:304,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:303,columnNumber:11},this),t.jsxDEV(es,{value:"calendar",children:t.jsxDEV(Yte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:308,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:307,columnNumber:11},this),t.jsxDEV(es,{value:"deliverables",children:t.jsxDEV(Gte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:313,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:312,columnNumber:11},this),t.jsxDEV(es,{value:"communications",children:t.jsxDEV($te,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:317,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:316,columnNumber:11},this),t.jsxDEV(es,{value:"change-orders",children:t.jsxDEV(Bte,{engagementId:a.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:321,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:320,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:219,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:111,columnNumber:7},this),t.jsxDEV(aoe,{open:l,onOpenChange:d,engagementId:(a==null?void 0:a.id)||"",engagementTitle:(a==null?void 0:a.audit_title)||"",onSuccess:b},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:326,columnNumber:7},this),t.jsxDEV(roe,{open:u,onOpenChange:c,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:334,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetail.tsx",lineNumber:110,columnNumber:5},this)}function cle({engagement:s}){var l,d,u,c;const e=(s==null?void 0:s.budgeted_hours)||0,r=(s==null?void 0:s.hours_spent)||87,a=e>0?(r-e)/e*100:0,i=e>0?Math.min(r/e*100,100):0,n=b=>{switch(b==null?void 0:b.toLowerCase()){case"complete":return"default";case"in_progress":return"default";case"planning":return"secondary";case"draft":return"outline";default:return"secondary"}},o=()=>a>10?"destructive":a>0?"secondary":"default";return t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-6",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:(s==null?void 0:s.audit_title)||"Untitled Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:79,columnNumber:17},this),t.jsxDEV(he,{variant:n(s==null?void 0:s.status),children:(s==null?void 0:s.current_phase)||((l=s==null?void 0:s.status)==null?void 0:l.replace("_"," "))||"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:80,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:78,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(fn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:86,columnNumber:19},this),((d=s==null?void 0:s.client)==null?void 0:d.name)||"No client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:85,columnNumber:17},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:89,columnNumber:17},this),t.jsxDEV("span",{children:(s==null?void 0:s.audit_number)||"No number"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:90,columnNumber:17},this),t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:91,columnNumber:17},this),t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:93,columnNumber:19},this),"FYE ",s!=null&&s.year_end_date?new Date(s.year_end_date).toLocaleDateString():"N/A"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:84,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:77,columnNumber:13},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"outline",size:"icon",children:t.jsxDEV(Tk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:103,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:102,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:101,columnNumber:15},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(fr,{children:[t.jsxDEV(Yh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:108,columnNumber:19},this),"Edit Engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:107,columnNumber:17},this),t.jsxDEV(fr,{children:[t.jsxDEV(la,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:112,columnNumber:19},this),"Update Dates"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:111,columnNumber:17},this),t.jsxDEV(fr,{children:[t.jsxDEV(fo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:116,columnNumber:19},this),"Update Budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:76,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(wl,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:128,columnNumber:17},this),"Partner"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:127,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium text-sm",children:((u=s==null?void 0:s.partner)==null?void 0:u.full_name)||"Not assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:126,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(wl,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:139,columnNumber:17},this),"Manager"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:138,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium text-sm",children:((c=s==null?void 0:s.manager)==null?void 0:c.full_name)||"Not assigned"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:137,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(la,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:150,columnNumber:17},this),"Period"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:149,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium text-sm",children:s!=null&&s.planned_start_date&&(s!=null&&s.planned_end_date)?`${new Date(s.planned_start_date).toLocaleDateString()} - ${new Date(s.planned_end_date).toLocaleDateString()}`:"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:153,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:148,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:163,columnNumber:17},this),"Days to Deadline"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:162,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium text-sm",children:s!=null&&s.planned_end_date?(()=>{const b=Math.ceil((new Date(s.planned_end_date).getTime()-new Date().getTime())/864e5);return b>0?`${b} days`:"Overdue"})():"N/A"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"flex items-center gap-1 font-medium",children:[t.jsxDEV(Lu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:186,columnNumber:19},this),"Completion Progress"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:185,columnNumber:17},this),t.jsxDEV("span",{className:"text-muted-foreground",children:[Math.round(i),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:184,columnNumber:15},this),t.jsxDEV(cr,{value:i,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:191,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Based on hours logged (",r," / ",e," hours)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:183,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[t.jsxDEV("span",{className:"flex items-center gap-1 font-medium",children:[t.jsxDEV(fo,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:201,columnNumber:19},this),"Budget Variance"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:200,columnNumber:17},this),t.jsxDEV(he,{variant:o(),children:a>0?t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(da,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:207,columnNumber:23},this),"+",a.toFixed(1),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:206,columnNumber:21},this):t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(Pd,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:212,columnNumber:23},this),a.toFixed(1),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:211,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:204,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:199,columnNumber:15},this),t.jsxDEV(cr,{value:Math.abs(a),className:`h-2 ${a>10?"bg-red-100":""}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:218,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:a>10?"Over budget - review resource allocation":a>0?"Approaching budget limit":"Within budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:222,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:74,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:73,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementHeader.tsx",lineNumber:72,columnNumber:5},this)}function mle({engagement:s}){var i,n,o,l,d;const e=s==null?void 0:s.id,{data:r}=F4(e||""),a=u=>u?u.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2):"?";return t.jsxDEV("aside",{className:"space-y-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:55,columnNumber:13},this),"Team Members"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:54,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:53,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-3",children:[(s==null?void 0:s.partner)&&t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(Mn,{className:"h-8 w-8",children:[t.jsxDEV(Gc,{src:s.partner.avatar_url},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:64,columnNumber:17},this),t.jsxDEV(Ln,{className:"text-xs",children:a(s.partner.full_name)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:65,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:63,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:s.partner.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:70,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Partner"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:71,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:62,columnNumber:13},this),(s==null?void 0:s.manager)&&t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(Mn,{className:"h-8 w-8",children:[t.jsxDEV(Gc,{src:s.manager.avatar_url},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:80,columnNumber:17},this),t.jsxDEV(Ln,{className:"text-xs",children:a(s.manager.full_name)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:79,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:s.manager.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:86,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:78,columnNumber:13},this),(i=s==null?void 0:s.team_members)==null?void 0:i.map(u=>{var c,b,h;return t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(Mn,{className:"h-8 w-8",children:[t.jsxDEV(Gc,{src:(c=u.user)==null?void 0:c.avatar_url},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:96,columnNumber:17},this),t.jsxDEV(Ln,{className:"text-xs",children:a((b=u.user)==null?void 0:b.full_name)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:97,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:95,columnNumber:15},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:(h=u.user)==null?void 0:h.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:102,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:u.role||"Team Member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:103,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:101,columnNumber:15},this)]},u.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:94,columnNumber:13},this)}),t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full mt-2",children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:109,columnNumber:13},this),"Add Member"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:108,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:52,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:119,columnNumber:13},this),"Key Dates"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:117,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Year End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:125,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:s!=null&&s.year_end_date?new Date(s.year_end_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Planning Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:133,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:s!=null&&s.planning_start_date?new Date(s.planning_start_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:132,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Fieldwork Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:141,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:s!=null&&s.fieldwork_start_date?new Date(s.fieldwork_start_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:140,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Report Due"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:s!=null&&s.planned_end_date?new Date(s.planned_end_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:116,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:163,columnNumber:13},this),"Engagement Stats"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:162,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:161,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between items-center text-sm mb-1",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Hours Logged"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:171,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:["87 / ",(s==null?void 0:s.budgeted_hours)||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:170,columnNumber:13},this),t.jsxDEV(cr,{value:s!=null&&s.budgeted_hours?Math.min(87/s.budgeted_hours*100,100):0,className:"h-1.5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:169,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground flex items-center gap-1",children:[t.jsxDEV(Ws,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:187,columnNumber:15},this),"Workpapers"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:"18 / 25"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:185,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Open Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:195,columnNumber:13},this),t.jsxDEV(he,{variant:"secondary",className:"h-5 text-xs",children:"12"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:194,columnNumber:11},this),t.jsxDEV("div",{className:"flex justify-between items-center text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"PBC Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:203,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"28/42"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:205,columnNumber:15},this),t.jsxDEV(he,{variant:"outline",className:"h-5 text-xs",children:"5 Overdue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:206,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:167,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:160,columnNumber:7},this),r&&t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(Zu,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:219,columnNumber:15},this),"Materiality"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:217,columnNumber:11},this),t.jsxDEV(q,{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Overall"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:225,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:["$",(n=r.overall_materiality)==null?void 0:n.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:226,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:224,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Performance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:231,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:["$",(o=r.performance_materiality)==null?void 0:o.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:230,columnNumber:13},this),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Clearly Trivial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:237,columnNumber:15},this),t.jsxDEV("span",{className:"font-medium",children:["$",(l=r.clearly_trivial_threshold)==null?void 0:l.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:238,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:236,columnNumber:13},this),t.jsxDEV("div",{className:"pt-2 border-t",children:t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["Benchmark: ",(d=r.benchmark_type)==null?void 0:d.replace("_"," ")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:243,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:242,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:223,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:216,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:255,columnNumber:13},this),"Client Contact"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:254,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:253,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-2",children:(s==null?void 0:s.client)&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"text-sm font-medium",children:s.client.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:262,columnNumber:15},this),s.client.contact_email&&t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(Ii,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:265,columnNumber:19},this),t.jsxDEV("a",{href:`mailto:${s.client.contact_email}`,className:"hover:underline truncate",children:s.client.contact_email},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:266,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:264,columnNumber:17},this),s.client.contact_phone&&t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(Q1,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:276,columnNumber:19},this),t.jsxDEV("a",{href:`tel:${s.client.contact_phone}`,className:"hover:underline",children:s.client.contact_phone},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:277,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:261,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:259,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:252,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV(ue,{className:"text-sm",children:"Quick Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:290,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:289,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsxDEV(dt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:294,columnNumber:13},this),"Log Time"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:293,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsxDEV(Ws,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:298,columnNumber:13},this),"Add Workpaper"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:297,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsxDEV(Ii,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:302,columnNumber:13},this),"Contact Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:301,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:292,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:288,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/EngagementSidebar.tsx",lineNumber:50,columnNumber:5},this)}function ble({engagementId:s,engagement:e}){var l;const r=()=>({planning:15,fieldwork:50,review:75,reporting:90,complete:100})[(e==null?void 0:e.current_phase)||(e==null?void 0:e.status)]||0,a=()=>{if(!(e!=null&&e.budgeted_hours))return"Unknown";const u=87/e.budgeted_hours*100;return u>110?"Over Budget":u>90?"At Risk":"On Track"},i=d=>d==="Over Budget"?"destructive":d==="At Risk"?"secondary":"default",n=r(),o=a();return t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:69,columnNumber:13},this),"Engagement Status"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:67,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:75,columnNumber:13},this),t.jsxDEV(he,{variant:(e==null?void 0:e.status)==="in_progress"?"default":"secondary",children:(e==null?void 0:e.current_phase)||((l=e==null?void 0:e.status)==null?void 0:l.replace("_"," "))||"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:74,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{children:"Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:83,columnNumber:15},this),t.jsxDEV("span",{children:[n,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:84,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:82,columnNumber:13},this),t.jsxDEV(cr,{value:n,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:81,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm",children:"Hours Logged"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:90,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium",children:["87 / ",(e==null?void 0:e.budgeted_hours)||0]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:89,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm",children:"Budget Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:97,columnNumber:13},this),t.jsxDEV(he,{variant:i(o),children:o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:98,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:96,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm",children:"Days to Deadline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:104,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:106,columnNumber:15},this),e!=null&&e.planned_end_date?Math.max(0,Math.ceil((new Date(e.planned_end_date).getTime()-new Date().getTime())/(1e3*60*60*24))):"N/A"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:66,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:120,columnNumber:13},this),"Risk Heatmap"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:119,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:118,columnNumber:9},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[{account:"Cash",risk:"Low",color:"bg-green-100 text-green-800 border-green-200"},{account:"AR",risk:"High",color:"bg-red-100 text-red-800 border-red-200"},{account:"Inventory",risk:"Medium",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},{account:"Revenue",risk:"High",color:"bg-red-100 text-red-800 border-red-200"},{account:"Payroll",risk:"Low",color:"bg-green-100 text-green-800 border-green-200"},{account:"AP",risk:"Medium",color:"bg-yellow-100 text-yellow-800 border-yellow-200"}].map((d,u)=>t.jsxDEV("div",{className:`p-3 rounded border text-center ${d.color}`,children:[t.jsxDEV("div",{className:"font-semibold text-sm",children:d.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:138,columnNumber:17},this),t.jsxDEV("div",{className:"text-xs mt-1",children:d.risk},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:139,columnNumber:17},this)]},u,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:134,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-4",children:"Account-level risk assessment for planning and scoping"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:117,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:153,columnNumber:13},this),"Open Findings (12)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:151,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-3 w-3 rounded-full bg-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:160,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:159,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:158,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-3 w-3 rounded-full bg-orange-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:167,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:166,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:165,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-3 w-3 rounded-full bg-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:174,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:175,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:173,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:172,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-3 w-3 rounded-full bg-blue-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:181,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:182,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:180,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm font-medium",children:"0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:179,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:150,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:193,columnNumber:13},this),"Team Utilization"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:192,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:191,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-3",children:[{name:"Partner",hours:10,budgeted:15,percent:67},{name:"Manager",hours:35,budgeted:40,percent:88},{name:"Senior",hours:42,budgeted:50,percent:84}].map((d,u)=>t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{children:d.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:206,columnNumber:19},this),t.jsxDEV("span",{className:"text-muted-foreground",children:[d.hours,"/",d.budgeted," hrs (",d.percent,"%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:207,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:205,columnNumber:17},this),t.jsxDEV(cr,{value:d.percent,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:211,columnNumber:17},this)]},u,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:204,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:197,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:190,columnNumber:7},this),t.jsxDEV(B,{className:"lg:col-span-2",children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:222,columnNumber:13},this),"Recent Activity"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:221,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:220,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-4",children:[{action:"Bob uploaded AR confirmation responses",time:"2 hours ago",icon:Ws},{action:"Jane reviewed materiality calculation",time:"5 hours ago",icon:fo},{action:"John approved finding F-001",time:"1 day ago",icon:Ys},{action:"Team meeting scheduled for planning phase review",time:"2 days ago",icon:la}].map((d,u)=>t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"mt-1 text-muted-foreground",children:t.jsxDEV(d.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:252,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:251,columnNumber:17},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-sm",children:d.action},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:255,columnNumber:19},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5",children:d.time},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:256,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:254,columnNumber:17},this)]},u,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:250,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:227,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:226,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:219,columnNumber:7},this),t.jsxDEV(B,{className:"lg:col-span-2",children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:268,columnNumber:13},this),"Key Dates"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:267,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:266,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Planning Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:275,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium mt-1",children:e!=null&&e.planning_start_date?new Date(e.planning_start_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:274,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Fieldwork Start"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:281,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium mt-1",children:e!=null&&e.fieldwork_start_date?new Date(e.fieldwork_start_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:280,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Report Due"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:287,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium mt-1",children:e!=null&&e.planned_end_date?new Date(e.planned_end_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:286,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Year End"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:293,columnNumber:15},this),t.jsxDEV("div",{className:"font-medium mt-1",children:e!=null&&e.year_end_date?new Date(e.year_end_date).toLocaleDateString():"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:292,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:273,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:272,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:265,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditOverviewTab.tsx",lineNumber:64,columnNumber:5},this)}function hle({engagementId:s,engagement:e}){return t.jsxDEV("div",{className:"p-6",children:t.jsxDEV(Pr,{defaultValue:"materiality",className:"w-full",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-4 mb-6",children:[t.jsxDEV($e,{value:"materiality",children:"Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:49,columnNumber:11},this),t.jsxDEV($e,{value:"risk",children:"Risk Assessment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:50,columnNumber:11},this),t.jsxDEV($e,{value:"plan",children:"Audit Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:51,columnNumber:11},this),t.jsxDEV($e,{value:"team",children:"Team"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:48,columnNumber:9},this),t.jsxDEV(es,{value:"materiality",className:"space-y-4",children:t.jsxDEV(fle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:56,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV(es,{value:"risk",className:"space-y-4",children:t.jsxDEV(ple,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:59,columnNumber:9},this),t.jsxDEV(es,{value:"plan",className:"space-y-4",children:t.jsxDEV(Nle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:64,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:63,columnNumber:9},this),t.jsxDEV(es,{value:"team",className:"space-y-4",children:t.jsxDEV(kle,{engagementId:s,engagement:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:67,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:47,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:46,columnNumber:5},this)}function fle({engagementId:s}){F4(s);const[e,r]=v.useState("total_assets"),[a,i]=v.useState(1e7),[n,o]=v.useState(5),l=Math.round(a*(n/100)),d=Math.round(l*.75),u=Math.round(l*.05);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Zu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:95,columnNumber:11},this),"Materiality Calculator"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:94,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Calculate overall materiality, performance materiality, and clearly trivial threshold per AU-C 320"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:98,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:93,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmark",children:"Benchmark"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:106,columnNumber:13},this),t.jsxDEV(is,{value:e,onValueChange:r,children:[t.jsxDEV(rs,{id:"benchmark",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:109,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:108,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"total_assets",children:"Total Assets"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:112,columnNumber:17},this),t.jsxDEV(X,{value:"total_revenue",children:"Total Revenue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:113,columnNumber:17},this),t.jsxDEV(X,{value:"gross_profit",children:"Gross Profit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:114,columnNumber:17},this),t.jsxDEV(X,{value:"net_income",children:"Net Income (Loss)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:115,columnNumber:17},this),t.jsxDEV(X,{value:"total_equity",children:"Total Equity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:116,columnNumber:17},this),t.jsxDEV(X,{value:"total_expenses",children:"Total Expenses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:105,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"benchmarkAmount",children:"Benchmark Amount"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:123,columnNumber:13},this),t.jsxDEV(ve,{id:"benchmarkAmount",type:"number",value:a,onChange:c=>i(Number(c.target.value)),placeholder:"10,000,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:122,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"percentage",children:"Percentage (%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:134,columnNumber:13},this),t.jsxDEV(ve,{id:"percentage",type:"number",value:n,onChange:c=>o(Number(c.target.value)),min:"0",max:"100",step:"0.1",placeholder:"5.0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:104,columnNumber:9},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Overall Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:151,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:["$",l.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:150,columnNumber:11},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Performance Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:158,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:["$",d.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:159,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"(75% of OM)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:157,columnNumber:11},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Clearly Trivial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:166,columnNumber:13},this),t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:["$",u.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:167,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"(5% of OM)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:149,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsxDEV(da,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:177,columnNumber:13},this),"Component Allocations (Optional)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:176,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[{component:"Revenue",amount:3e5,color:"bg-blue-500"},{component:"Receivables",amount:2e5,color:"bg-green-500"},{component:"Inventory",amount:15e4,color:"bg-orange-500"}].map(c=>t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:`h-3 w-3 rounded-full ${c.color}`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:187,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm font-medium w-32",children:c.component},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:188,columnNumber:17},this),t.jsxDEV(ve,{type:"number",defaultValue:c.amount,className:"w-40",placeholder:"Amount"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:189,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["(",(c.amount/l*100).toFixed(0),"% of OM)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:195,columnNumber:17},this)]},c.component,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:186,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:175,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{className:"flex items-center gap-2",children:[t.jsxDEV(po,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:206,columnNumber:13},this),"Save Calculation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:205,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:210,columnNumber:13},this),"Export to Excel"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:204,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:102,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:92,columnNumber:5},this)}function ple({engagementId:s}){const e=[{name:"Cash",inherent:"Medium",control:"Low",detection:"Medium",overall:"Low"},{name:"Accounts Receivable",inherent:"High",control:"Medium",detection:"High",overall:"High"},{name:"Inventory",inherent:"High",control:"Medium",detection:"Medium",overall:"Medium"},{name:"Revenue",inherent:"High",control:"Medium",detection:"High",overall:"High"},{name:"Cost of Goods Sold",inherent:"Medium",control:"Low",detection:"Medium",overall:"Medium"},{name:"Payroll",inherent:"Low",control:"Low",detection:"Low",overall:"Low"},{name:"Accounts Payable",inherent:"Medium",control:"Medium",detection:"Medium",overall:"Medium"}],r=a=>{switch(a.toLowerCase()){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:251,columnNumber:11},this),"Risk Assessment Matrix"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:250,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Account-level risk assessment using Audit Risk Model (AR = IR  CR  DR)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:254,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:249,columnNumber:7},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"overflow-x-auto",children:t.jsxDEV("table",{className:"w-full border-collapse",children:[t.jsxDEV("thead",{children:t.jsxDEV("tr",{className:"border-b",children:[t.jsxDEV("th",{className:"text-left p-3 font-medium",children:"Account / Assertion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:263,columnNumber:17},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Inherent Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:264,columnNumber:17},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Control Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:265,columnNumber:17},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Detection Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:266,columnNumber:17},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Overall Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:267,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:262,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:261,columnNumber:13},this),t.jsxDEV("tbody",{children:e.map((a,i)=>t.jsxDEV("tr",{className:"border-b hover:bg-muted/50",children:[t.jsxDEV("td",{className:"p-3 font-medium",children:a.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:273,columnNumber:19},this),t.jsxDEV("td",{className:"p-3",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(he,{className:r(a.inherent),variant:"outline",children:a.inherent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:276,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:275,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:274,columnNumber:19},this),t.jsxDEV("td",{className:"p-3",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(he,{className:r(a.control),variant:"outline",children:a.control},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:283,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:282,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:281,columnNumber:19},this),t.jsxDEV("td",{className:"p-3",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(he,{className:r(a.detection),variant:"outline",children:a.detection},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:290,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:289,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:288,columnNumber:19},this),t.jsxDEV("td",{className:"p-3",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(he,{className:r(a.overall),variant:"outline",children:a.overall},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:297,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:296,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:295,columnNumber:19},this)]},i,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:272,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:270,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:260,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:259,columnNumber:9},this),t.jsxDEV("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("h4",{className:"font-medium mb-2",children:"Risk Legend"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:309,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"High Risk:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:312,columnNumber:15},this)," Increased substantive testing required"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:311,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Medium Risk:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:315,columnNumber:15},this)," Normal audit procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:314,columnNumber:13},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Low Risk:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:318,columnNumber:15},this)," Reduced substantive testing"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:308,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:258,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:248,columnNumber:5},this)}function Nle({engagementId:s}){const e=[{account:"Cash",assertion:"Existence",procedure:"Bank confirmation as of year-end",reference:"A-1",status:"Complete"},{account:"Cash",assertion:"Completeness",procedure:"Bank reconciliation review",reference:"A-2",status:"In Progress"},{account:"Accounts Receivable",assertion:"Existence",procedure:"AR confirmation - positive confirmations",reference:"B-1",status:"Not Started"},{account:"Accounts Receivable",assertion:"Valuation",procedure:"Allowance for doubtful accounts analysis",reference:"B-2",status:"Not Started"},{account:"Revenue",assertion:"Occurrence",procedure:"Sales cutoff testing",reference:"R-1",status:"In Progress"}],r=a=>{switch(a){case"Complete":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Not Started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:387,columnNumber:11},this),"Audit Plan Builder"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:386,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Planned audit procedures by account and assertion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:390,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:385,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:"3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:399,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Complete"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:400,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:398,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:"7"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:403,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:402,columnNumber:13},this),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-gray-600",children:"15"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:407,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Not Started"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:397,columnNumber:11},this),t.jsxDEV("div",{className:"overflow-x-auto",children:t.jsxDEV("table",{className:"w-full border-collapse",children:[t.jsxDEV("thead",{children:t.jsxDEV("tr",{className:"border-b bg-muted/50",children:[t.jsxDEV("th",{className:"text-left p-3 font-medium",children:"Account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:417,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-3 font-medium",children:"Assertion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:418,columnNumber:19},this),t.jsxDEV("th",{className:"text-left p-3 font-medium",children:"Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:419,columnNumber:19},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Ref"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:420,columnNumber:19},this),t.jsxDEV("th",{className:"text-center p-3 font-medium",children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:421,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:416,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:415,columnNumber:15},this),t.jsxDEV("tbody",{children:e.map((a,i)=>t.jsxDEV("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxDEV("td",{className:"p-3 font-medium",children:a.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:427,columnNumber:21},this),t.jsxDEV("td",{className:"p-3",children:a.assertion},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:428,columnNumber:21},this),t.jsxDEV("td",{className:"p-3",children:a.procedure},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:429,columnNumber:21},this),t.jsxDEV("td",{className:"p-3 text-center",children:t.jsxDEV("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:a.reference},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:431,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:430,columnNumber:21},this),t.jsxDEV("td",{className:"p-3",children:t.jsxDEV("div",{className:"flex justify-center",children:t.jsxDEV(he,{className:r(a.status),variant:"outline",children:a.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:435,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:434,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:433,columnNumber:21},this)]},i,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:426,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:424,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:414,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:413,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{children:"Add Procedure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:447,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",children:"Import Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:448,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:446,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:395,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:394,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:384,columnNumber:5},this)}function kle({engagementId:s,engagement:e}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:471,columnNumber:11},this),"Team Assignment"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:470,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Role assignments and workpaper allocations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:474,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:469,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Partner"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:482,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"John Smith"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:483,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"10 hrs budgeted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:484,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:481,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:487,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"Jane Doe"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:488,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"35 hrs budgeted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:489,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:486,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Senior"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:492,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"Bob Johnson"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:493,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"50 hrs budgeted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:494,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:491,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Staff"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:497,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"Alice Williams"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:498,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"40 hrs budgeted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:499,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:496,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:480,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Workpaper Assignments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:505,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[{section:"Cash (A)",assignee:"Alice Williams",status:"In Progress",progress:60},{section:"AR (B)",assignee:"Bob Johnson",status:"In Progress",progress:40},{section:"Inventory (C)",assignee:"Bob Johnson",status:"Not Started",progress:0},{section:"Revenue (R)",assignee:"Jane Doe",status:"Complete",progress:100}].map((r,a)=>t.jsxDEV("div",{className:"p-3 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:r.section},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:516,columnNumber:21},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Assigned to: ",r.assignee]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:517,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:515,columnNumber:19},this),t.jsxDEV(he,{variant:r.progress===100?"default":"secondary",children:r.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:519,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:514,columnNumber:17},this),t.jsxDEV(cr,{value:r.progress,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:521,columnNumber:17},this)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:513,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:506,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:504,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{children:"Add Team Member"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:528,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",children:"Reassign Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:529,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:527,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:478,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditPlanningTab.tsx",lineNumber:468,columnNumber:5},this)}function gle({engagementId:s,engagement:e}){return t.jsxDEV("div",{className:"p-6",children:t.jsxDEV(Pr,{defaultValue:"sampling",className:"w-full",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-5 mb-6",children:[t.jsxDEV($e,{value:"sampling",children:"Sampling"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:56,columnNumber:11},this),t.jsxDEV($e,{value:"confirmations",children:"Confirmations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:57,columnNumber:11},this),t.jsxDEV($e,{value:"analytics",children:"Analytics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:58,columnNumber:11},this),t.jsxDEV($e,{value:"tod",children:"Test of Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:59,columnNumber:11},this),t.jsxDEV($e,{value:"pbc",children:"PBC Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV(es,{value:"sampling",children:t.jsxDEV(xle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:64,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:63,columnNumber:9},this),t.jsxDEV(es,{value:"confirmations",children:t.jsxDEV(vle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:68,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:67,columnNumber:9},this),t.jsxDEV(es,{value:"analytics",children:t.jsxDEV(Dle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:71,columnNumber:9},this),t.jsxDEV(es,{value:"tod",children:t.jsxDEV(wle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:75,columnNumber:9},this),t.jsxDEV(es,{value:"pbc",children:t.jsxDEV(jle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:53,columnNumber:5},this)}function xle({engagementId:s}){const{data:e,isLoading:r}=nte(s);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Zu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:98,columnNumber:11},this),"Sampling Calculator"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:97,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Calculate sample sizes using MUS, Classical Variables, or Attribute sampling per AU-C 530"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:96,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Sampling Method"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:108,columnNumber:11},this),t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsxDEV("input",{type:"radio",name:"method",value:"MUS",defaultChecked:!0,className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:111,columnNumber:15},this),t.jsxDEV("span",{children:"MUS (Monetary Unit Sampling)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:110,columnNumber:13},this),t.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsxDEV("input",{type:"radio",name:"method",value:"classical",className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:115,columnNumber:15},this),t.jsxDEV("span",{children:"Classical Variables"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:114,columnNumber:13},this),t.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsxDEV("input",{type:"radio",name:"method",value:"attribute",className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:119,columnNumber:15},this),t.jsxDEV("span",{children:"Attribute Sampling"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Population"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:127,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"totalValue",children:"Total Value"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:130,columnNumber:15},this),t.jsxDEV(ve,{id:"totalValue",type:"number",defaultValue:5e6,placeholder:"5,000,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:131,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:129,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"itemCount",children:"Number of Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:139,columnNumber:15},this),t.jsxDEV(ve,{id:"itemCount",type:"number",defaultValue:1250,placeholder:"1,250"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:128,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:126,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Risk Parameters"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:147,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"confidence",children:"Confidence Level"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:150,columnNumber:15},this),t.jsxDEV(is,{defaultValue:"95",children:[t.jsxDEV(rs,{id:"confidence",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:153,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:152,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"90",children:"90%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:156,columnNumber:19},this),t.jsxDEV(X,{value:"95",children:"95%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:157,columnNumber:19},this),t.jsxDEV(X,{value:"99",children:"99%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:158,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"expectedMis",children:"Expected Misstatement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:163,columnNumber:15},this),t.jsxDEV(ve,{id:"expectedMis",type:"number",defaultValue:5e4,placeholder:"50,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:162,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"tolerableMis",children:"Tolerable Misstatement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:172,columnNumber:15},this),t.jsxDEV(ve,{id:"tolerableMis",type:"number",defaultValue:2e5,placeholder:"200,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:146,columnNumber:9},this),t.jsxDEV("div",{className:"p-6 bg-primary/10 border-2 border-primary rounded-lg",children:t.jsxDEV("div",{className:"text-center space-y-2",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"CALCULATED SAMPLE SIZE"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV("div",{className:"text-4xl font-bold text-primary",children:"87 items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:187,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Sampling Interval: $57,471"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:185,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:184,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:197,columnNumber:13},this),"Generate Sample"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:196,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:201,columnNumber:13},this),"Export to Excel"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:195,columnNumber:9},this),e&&e.length>0&&t.jsxDEV("div",{className:"mt-6",children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Previous Samples"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:209,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:e.slice(0,3).map(a=>t.jsxDEV("div",{className:"p-3 border rounded-lg flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:a.population_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:214,columnNumber:21},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[a.sample_size," items selected from ",a.population_size]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:215,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:213,columnNumber:19},this),t.jsxDEV(he,{children:a.sampling_method},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:219,columnNumber:19},this)]},a.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:212,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:210,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:95,columnNumber:5},this)}function vle({engagementId:s}){z4(s);const e={sent:45,received:32,pending:13,exceptions:3};return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ii,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:248,columnNumber:11},this),"Confirmation Tracker"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:247,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track AR, AP, and bank confirmations per AU-C 505"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:251,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:246,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:e.sent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:259,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-blue-700",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:258,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:e.received},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:263,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-green-700",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:262,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:e.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:267,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-yellow-700",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:266,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:e.exceptions},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:271,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-red-700",children:"Exceptions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:270,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:257,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{children:"Response Rate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:279,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:[Math.round(e.received/e.sent*100),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:278,columnNumber:11},this),t.jsxDEV(cr,{value:e.received/e.sent*100,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:282,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:277,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("h4",{className:"font-medium",children:"Confirmations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:288,columnNumber:13},this),t.jsxDEV(F,{size:"sm",className:"flex items-center gap-2",children:[t.jsxDEV(qi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:290,columnNumber:15},this),"Send Batch"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:287,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[{type:"AR",recipient:"ABC Corporation",amount:125e3,status:"Received",exception:!1},{type:"AR",recipient:"XYZ Industries",amount:87500,status:"Pending",exception:!1},{type:"AR",recipient:"Smith & Co",amount:45e3,status:"Exception",exception:!0},{type:"Bank",recipient:"First National Bank",amount:25e5,status:"Received",exception:!1}].map((r,a)=>t.jsxDEV("div",{className:"p-3 border rounded-lg flex items-center justify-between hover:bg-muted/50",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",children:r.type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:326,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:r.recipient},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:327,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:325,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:["Amount: $",r.amount.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:329,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:324,columnNumber:17},this),t.jsxDEV(he,{variant:r.status==="Received"?"default":r.status==="Exception"?"destructive":"secondary",children:r.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:333,columnNumber:17},this)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:320,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:295,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:286,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Ro,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:351,columnNumber:13},this),"Import Recipients"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:350,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:355,columnNumber:13},this),"Export Results"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:354,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:349,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:255,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:245,columnNumber:5},this)}function Dle({engagementId:s}){return B4(s),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ck,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:375,columnNumber:11},this),"Analytical Procedures"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:374,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Ratio, trend, and variance analysis per AU-C 520"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:378,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:373,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",children:"Ratio Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:385,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:"Trend Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:388,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:"Variance Analysis"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:391,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:384,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Key Financial Ratios"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:398,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{ratio:"Current Ratio",current:2.45,prior:2.31,change:6.1,threshold:10},{ratio:"Quick Ratio",current:1.82,prior:1.76,change:3.4,threshold:10},{ratio:"Gross Margin %",current:42.3,prior:44.1,change:-4.1,threshold:10},{ratio:"AR Days",current:48,prior:42,change:14.3,threshold:10}].map((e,r)=>t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("span",{className:"font-medium",children:e.ratio},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:408,columnNumber:19},this),Math.abs(e.change)>e.threshold&&t.jsxDEV(Ys,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:410,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:407,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground",children:"Current"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:415,columnNumber:21},this),t.jsxDEV("div",{className:"font-medium",children:e.current},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:416,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:414,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground",children:"Prior"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:419,columnNumber:21},this),t.jsxDEV("div",{className:"font-medium",children:e.prior},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:420,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:418,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-muted-foreground",children:"Change"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:423,columnNumber:21},this),t.jsxDEV("div",{className:`font-medium ${Math.abs(e.change)>e.threshold?"text-orange-600":"text-green-600"}`,children:[e.change>0?"+":"",e.change,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:424,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:422,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:413,columnNumber:17},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:406,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:399,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:397,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:["Variance Analysis (",">","10% flagged)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:443,columnNumber:11},this),t.jsxDEV("div",{className:"overflow-x-auto",children:t.jsxDEV("table",{className:"w-full border-collapse text-sm",children:[t.jsxDEV("thead",{children:t.jsxDEV("tr",{className:"border-b bg-muted/50",children:[t.jsxDEV("th",{className:"text-left p-2",children:"Account"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:448,columnNumber:19},this),t.jsxDEV("th",{className:"text-right p-2",children:"Current Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:449,columnNumber:19},this),t.jsxDEV("th",{className:"text-right p-2",children:"Prior Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:450,columnNumber:19},this),t.jsxDEV("th",{className:"text-right p-2",children:"Variance $"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:451,columnNumber:19},this),t.jsxDEV("th",{className:"text-right p-2",children:"Variance %"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:452,columnNumber:19},this),t.jsxDEV("th",{className:"text-center p-2",children:"Flag"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:453,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:447,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:446,columnNumber:15},this),t.jsxDEV("tbody",{children:[{account:"Revenue",cy:52e5,py:485e4,variance:35e4,pct:7.2},{account:"Cost of Sales",cy:31e5,py:275e4,variance:35e4,pct:12.7},{account:"Operating Exp",cy:145e4,py:138e4,variance:7e4,pct:5.1}].map((e,r)=>t.jsxDEV("tr",{className:"border-b hover:bg-muted/30",children:[t.jsxDEV("td",{className:"p-2 font-medium",children:e.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:463,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 text-right",children:["$",(e.cy/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:464,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 text-right",children:["$",(e.py/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:465,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 text-right",children:["$",(e.variance/1e3).toFixed(0),"K"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:466,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 text-right",children:[e.pct,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:467,columnNumber:21},this),t.jsxDEV("td",{className:"p-2 text-center",children:Math.abs(e.pct)>10&&t.jsxDEV(Ys,{className:"h-4 w-4 text-orange-500 mx-auto"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:470,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:468,columnNumber:21},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:462,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:456,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:445,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:444,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:442,columnNumber:9},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:481,columnNumber:11},this),"Export Analysis"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:480,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:382,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:372,columnNumber:5},this)}function wle({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Qh,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:498,columnNumber:11},this),"Test of Details Tracker"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:497,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track substantive testing procedures and results"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:501,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:496,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:"12"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:509,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:510,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:508,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:"8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:513,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"In Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:514,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:512,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-gray-600",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:517,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Not Started"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:518,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:516,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:507,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:[{test:"Inventory Observation",account:"Inventory",sampleSize:15,tested:15,exceptions:0,status:"Complete"},{test:"Revenue Cutoff Testing",account:"Revenue",sampleSize:25,tested:18,exceptions:2,status:"In Progress"},{test:"Fixed Asset Existence",account:"PPE",sampleSize:20,tested:0,exceptions:0,status:"Not Started"}].map((e,r)=>t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:e.test},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:553,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:e.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:554,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:552,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Complete"?"default":e.status==="In Progress"?"secondary":"outline",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:556,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:551,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Sample:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:570,columnNumber:19},this)," ",e.sampleSize]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:569,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Tested:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:573,columnNumber:19},this)," ",e.tested]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:572,columnNumber:17},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Exceptions:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:576,columnNumber:19},this)," ",t.jsxDEV("span",{className:e.exceptions>0?"text-red-600 font-medium":"",children:e.exceptions},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:577,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:575,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:568,columnNumber:15},this),e.tested>0&&t.jsxDEV(cr,{value:e.tested/e.sampleSize*100,className:"h-2 mt-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:583,columnNumber:17},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:550,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:523,columnNumber:9},this),t.jsxDEV(F,{children:"Add Test"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:589,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:505,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:495,columnNumber:5},this)}function jle({engagementId:s}){hte(s);const{data:e}=fte();return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(s6,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:607,columnNumber:11},this),"Client PBC Tracker"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:606,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track items requested from client (Provided By Client)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:610,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:605,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-3 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold",children:"42"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:618,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:619,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:617,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-green-600",children:"28"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:622,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-green-700",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:623,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:621,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-yellow-600",children:"9"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:626,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-yellow-700",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:627,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:625,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-red-600",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:630,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-red-700",children:"Overdue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:631,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:629,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:616,columnNumber:9},this),e&&e.length>0&&t.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-red-800 font-medium mb-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:639,columnNumber:15},this),e.length," Overdue Items Require Follow-up"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:638,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-red-700",children:"Contact client to obtain outstanding items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:642,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:637,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("h4",{className:"font-medium",children:"PBC Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:651,columnNumber:13},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",children:[t.jsxDEV(Ro,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:654,columnNumber:17},this),"Import List"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:653,columnNumber:15},this),t.jsxDEV(F,{size:"sm",children:"Add Item"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:657,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:652,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:650,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[{item:"Bank Reconciliations - December 2023",category:"Cash",requested:"2024-01-05",due:"2024-01-15",status:"Received"},{item:"AR Aging Report - Year End",category:"Receivables",requested:"2024-01-05",due:"2024-01-12",status:"Pending"},{item:"Inventory Count Sheets",category:"Inventory",requested:"2024-01-05",due:"2024-01-10",status:"Overdue"},{item:"Payroll Tax Returns (Q4)",category:"Payroll",requested:"2024-01-08",due:"2024-01-18",status:"Received"}].map((r,a)=>t.jsxDEV("div",{className:"p-3 border rounded-lg flex items-center justify-between hover:bg-muted/50",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-medium",children:r.item},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:697,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:[t.jsxDEV(he,{variant:"outline",className:"mr-2",children:r.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:699,columnNumber:21},this),"Due: ",new Date(r.due).toLocaleDateString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:698,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:696,columnNumber:17},this),t.jsxDEV(he,{variant:r.status==="Received"?"default":r.status==="Overdue"?"destructive":"secondary",children:r.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:705,columnNumber:17},this)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:692,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:661,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:649,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(qi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:723,columnNumber:13},this),"Send Reminder"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:722,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:727,columnNumber:13},this),"Export List"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:726,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:721,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:614,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditFieldworkTab.tsx",lineNumber:604,columnNumber:5},this)}function Ale({engagementId:s}){const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["related-parties",s],queryFn:async()=>{const{data:pe,error:ee}=await le.from("related_parties").select("*").eq("engagement_id",s).order("party_name");if(ee)throw ee;return pe},enabled:!!s}),{data:n,isLoading:o}=bs({queryKey:["related-party-transactions",s],queryFn:async()=>{const{data:pe,error:ee}=await le.from("related_party_transactions").select("*, related_party:related_parties(party_name)").eq("engagement_id",s).order("transaction_date",{ascending:!1});if(ee)throw ee;return pe},enabled:!!s}),[l,d]=v.useState(!1),[u,c]=v.useState(""),[b,h]=v.useState("owner_shareholder"),[m,f]=v.useState(""),[p,N]=v.useState(""),[g,D]=v.useState("medium"),[w,A]=v.useState(!1),[U,E]=v.useState(""),[W,y]=v.useState("sale"),[V,S]=v.useState(""),[O,_]=v.useState(""),[M,R]=v.useState(""),[Q,ne]=v.useState(!1),[ie,Z]=v.useState(!0),[Ne,_e]=v.useState(!0),fe=Rs({mutationFn:async pe=>{const{data:ee,error:Ms}=await le.from("related_parties").insert([pe]).select().single();if(Ms)throw Ms;return ee},onSuccess:()=>{r.invalidateQueries({queryKey:["related-parties",s]}),d(!1),G(),e({title:"Related party added",description:"The related party has been documented."})},onError:pe=>{e({title:"Error",description:pe.message||"Failed to add related party",variant:"destructive"})}}),T=Rs({mutationFn:async pe=>{const{data:ee,error:Ms}=await le.from("related_party_transactions").insert([pe]).select().single();if(Ms)throw Ms;return ee},onSuccess:()=>{r.invalidateQueries({queryKey:["related-party-transactions",s]}),A(!1),J(),e({title:"Transaction added",description:"The related party transaction has been documented."})},onError:pe=>{e({title:"Error",description:pe.message||"Failed to add transaction",variant:"destructive"})}}),G=()=>{c(""),h("owner_shareholder"),f(""),N(""),D("medium")},J=()=>{E(""),y("sale"),S(""),_(""),R(""),ne(!1),Z(!0),_e(!0)},ce=()=>{if(!u||!m){e({title:"Validation Error",description:"Please provide party name and relationship description",variant:"destructive"});return}fe.mutate({engagement_id:s,party_name:u,relationship_type:b,relationship_description:m,ownership_percentage:p?parseFloat(p):void 0,risk_assessment:g,identified_date:new Date().toISOString(),identified_by:"current_user",is_disclosed:!1})},ke=()=>{if(!U||!V||!O||!M){e({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}T.mutate({engagement_id:s,related_party_id:U,transaction_type:W,transaction_description:V,transaction_date:O,amount:parseFloat(M),is_recurring:Q,is_arms_length:ie,requires_disclosure:Ne,is_disclosed:!1,tested:!1})},we=(a==null?void 0:a.filter(pe=>pe.risk_assessment==="high").length)||0,We=(a==null?void 0:a.filter(pe=>!pe.is_disclosed).length)||0,Oe=(n==null?void 0:n.reduce((pe,ee)=>pe+ee.amount,0))||0,ye=(n==null?void 0:n.filter(pe=>!pe.tested).length)||0,De=pe=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(pe),Ye=pe=>({owner_shareholder:"Owner/Shareholder",key_management:"Key Management",family_member:"Family Member",affiliate:"Affiliate",subsidiary:"Subsidiary",joint_venture:"Joint Venture",pension_plan:"Pension Plan",other:"Other"})[pe],ls=pe=>({sale:"Sale",purchase:"Purchase",loan:"Loan",guarantee:"Guarantee",lease:"Lease",service:"Service",compensation:"Compensation",dividend:"Dividend",other:"Other"})[pe];return i||o?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Related Parties Manager"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:309,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:308,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"h-96 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:312,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:311,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:307,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:324,columnNumber:15},this),"Related Parties Manager"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:323,columnNumber:13},this),t.jsxDEV(Ke,{children:"Identify, document, and test related party relationships and transactions per AU-C 550"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:327,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:322,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:t.jsxDEV(he,{variant:"outline",children:"AU-C 550"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:332,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:331,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:321,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:320,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:341,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Related Parties"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:340,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:339,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:we},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:347,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"High Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:348,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:346,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:345,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:(n==null?void 0:n.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:353,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:354,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:352,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:351,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:De(Oe)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:359,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Total Value"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:360,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:358,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:357,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:338,columnNumber:9},this),(We>0||ye>0)&&t.jsxDEV("div",{className:"space-y-2",children:[We>0&&t.jsxDEV("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-amber-800 font-medium",children:[t.jsxDEV(Er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:371,columnNumber:19},this),We," Related Part",We>1?"ies":"y"," Pending Disclosure Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:370,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-amber-700 mt-1",children:"Verify that all material related party relationships are properly disclosed in the financial statements."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:374,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:369,columnNumber:15},this),ye>0&&t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-blue-800 font-medium",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:382,columnNumber:19},this),ye," Transaction",ye>1?"s":""," Require Testing"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:381,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-blue-700 mt-1",children:"Document audit procedures performed to verify related party transactions."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:385,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:367,columnNumber:11},this),t.jsxDEV(Pr,{defaultValue:"parties",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-2",children:[t.jsxDEV($e,{value:"parties",children:["Related Parties",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:398,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:396,columnNumber:13},this),t.jsxDEV($e,{value:"transactions",children:["Transactions",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(n==null?void 0:n.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:402,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:395,columnNumber:11},this),t.jsxDEV(es,{value:"parties",className:"mt-4",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(Pt,{open:l,onOpenChange:d,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:416,columnNumber:23},this),"Add Related Party"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:415,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:414,columnNumber:19},this),t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Add Related Party"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:422,columnNumber:23},this),t.jsxDEV(Bt,{children:"Document a related party relationship per AU-C 550"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:423,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:421,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Party Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:429,columnNumber:25},this),t.jsxDEV(ve,{value:u,onChange:pe=>c(pe.target.value),placeholder:"e.g., ABC Holdings LLC"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:430,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:428,columnNumber:23},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Relationship Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:438,columnNumber:27},this),t.jsxDEV(is,{value:b,onValueChange:pe=>h(pe),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:441,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:440,columnNumber:29},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"owner_shareholder",children:"Owner/Shareholder"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:444,columnNumber:31},this),t.jsxDEV(X,{value:"key_management",children:"Key Management Personnel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:445,columnNumber:31},this),t.jsxDEV(X,{value:"family_member",children:"Family Member of Key Personnel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:446,columnNumber:31},this),t.jsxDEV(X,{value:"affiliate",children:"Affiliate Company"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:447,columnNumber:31},this),t.jsxDEV(X,{value:"subsidiary",children:"Subsidiary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:448,columnNumber:31},this),t.jsxDEV(X,{value:"joint_venture",children:"Joint Venture"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:449,columnNumber:31},this),t.jsxDEV(X,{value:"pension_plan",children:"Pension/Benefit Plan"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:450,columnNumber:31},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:451,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:443,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:439,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:437,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Ownership % (if applicable)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:456,columnNumber:27},this),t.jsxDEV(ve,{type:"number",value:p,onChange:pe=>N(pe.target.value),placeholder:"e.g., 25",min:"0",max:"100"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:457,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:455,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:436,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Relationship Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:468,columnNumber:25},this),t.jsxDEV(Wt,{value:m,onChange:pe=>f(pe.target.value),placeholder:"Describe the nature of the relationship...",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:469,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:467,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Risk Assessment *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:477,columnNumber:25},this),t.jsxDEV(is,{value:g,onValueChange:pe=>D(pe),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:480,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:479,columnNumber:27},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"low",children:"Low - Routine, well-documented relationship"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:483,columnNumber:29},this),t.jsxDEV(X,{value:"medium",children:"Medium - Requires additional scrutiny"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:484,columnNumber:29},this),t.jsxDEV(X,{value:"high",children:"High - Complex or unusual arrangement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:485,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:482,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:478,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:476,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:427,columnNumber:21},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>d(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:491,columnNumber:23},this),t.jsxDEV(F,{onClick:ce,disabled:fe.isPending,children:"Add Related Party"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:494,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:490,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:420,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:413,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:412,columnNumber:15},this),t.jsxDEV("div",{className:"border rounded-lg",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Party Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:507,columnNumber:23},this),t.jsxDEV(Qe,{children:"Relationship"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:508,columnNumber:23},this),t.jsxDEV(Qe,{children:"Ownership"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:509,columnNumber:23},this),t.jsxDEV(Qe,{children:"Risk"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:510,columnNumber:23},this),t.jsxDEV(Qe,{children:"Disclosed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:511,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:506,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:505,columnNumber:19},this),t.jsxDEV(Ba,{children:!a||a.length===0?t.jsxDEV(Ot,{children:t.jsxDEV(Fe,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:518,columnNumber:27},this),t.jsxDEV("p",{children:"No related parties documented"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:519,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm mt-2",children:'Click "Add Related Party" to begin'},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:520,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:517,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:516,columnNumber:23},this):a.map(pe=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[pe.relationship_type==="key_management"||pe.relationship_type==="family_member"?t.jsxDEV(wl,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:529,columnNumber:33},this):t.jsxDEV(fn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:531,columnNumber:33},this),pe.party_name]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:527,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:526,columnNumber:27},this),t.jsxDEV(Fe,{children:Ye(pe.relationship_type)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:536,columnNumber:27},this),t.jsxDEV(Fe,{children:pe.ownership_percentage?`${pe.ownership_percentage}%`:"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:537,columnNumber:27},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:pe.risk_assessment==="high"?"destructive":pe.risk_assessment==="medium"?"secondary":"outline",children:pe.risk_assessment.charAt(0).toUpperCase()+pe.risk_assessment.slice(1)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:541,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:540,columnNumber:27},this),t.jsxDEV(Fe,{children:pe.is_disclosed?t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:556,columnNumber:33},this),"Yes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:555,columnNumber:31},this):t.jsxDEV(he,{variant:"outline",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:560,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:553,columnNumber:27},this)]},pe.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:525,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:514,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:504,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:503,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:411,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:410,columnNumber:11},this),t.jsxDEV(es,{value:"transactions",className:"mt-4",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(Pt,{open:w,onOpenChange:A,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{disabled:!a||a.length===0,children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:578,columnNumber:23},this),"Add Transaction"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:577,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:576,columnNumber:19},this),t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Add Related Party Transaction"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:584,columnNumber:23},this),t.jsxDEV(Bt,{children:"Document a transaction with a related party"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:585,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:583,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Related Party *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:591,columnNumber:25},this),t.jsxDEV(is,{value:U,onValueChange:E,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select related party"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:594,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:593,columnNumber:27},this),t.jsxDEV(as,{children:a==null?void 0:a.map(pe=>t.jsxDEV(X,{value:pe.id,children:pe.party_name},pe.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:598,columnNumber:31},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:596,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:592,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:590,columnNumber:23},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Transaction Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:607,columnNumber:27},this),t.jsxDEV(is,{value:W,onValueChange:pe=>y(pe),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:610,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:609,columnNumber:29},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"sale",children:"Sale of Goods/Services"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:613,columnNumber:31},this),t.jsxDEV(X,{value:"purchase",children:"Purchase of Goods/Services"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:614,columnNumber:31},this),t.jsxDEV(X,{value:"loan",children:"Loan/Advance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:615,columnNumber:31},this),t.jsxDEV(X,{value:"guarantee",children:"Guarantee"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:616,columnNumber:31},this),t.jsxDEV(X,{value:"lease",children:"Lease Arrangement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:617,columnNumber:31},this),t.jsxDEV(X,{value:"service",children:"Management/Service Fee"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:618,columnNumber:31},this),t.jsxDEV(X,{value:"compensation",children:"Compensation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:619,columnNumber:31},this),t.jsxDEV(X,{value:"dividend",children:"Dividend/Distribution"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:620,columnNumber:31},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:621,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:612,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:608,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:606,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Transaction Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:626,columnNumber:27},this),t.jsxDEV(ve,{type:"date",value:O,onChange:pe=>_(pe.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:627,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:625,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:605,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:635,columnNumber:25},this),t.jsxDEV(Wt,{value:V,onChange:pe=>S(pe.target.value),placeholder:"Describe the transaction...",rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:636,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:634,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Amount *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:644,columnNumber:25},this),t.jsxDEV(ve,{type:"number",value:M,onChange:pe=>R(pe.target.value),placeholder:"0.00"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:645,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:643,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-3 p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{checked:Q,onCheckedChange:pe=>ne(pe)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:654,columnNumber:27},this),t.jsxDEV(H,{className:"text-sm font-normal",children:"Recurring transaction"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:658,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:653,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{checked:ie,onCheckedChange:pe=>Z(pe)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:661,columnNumber:27},this),t.jsxDEV(H,{className:"text-sm font-normal",children:"Transaction appears to be at arm's length"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:665,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:660,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(ga,{checked:Ne,onCheckedChange:pe=>_e(pe)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:668,columnNumber:27},this),t.jsxDEV(H,{className:"text-sm font-normal",children:"Requires disclosure in financial statements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:672,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:667,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:652,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:589,columnNumber:21},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>A(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:677,columnNumber:23},this),t.jsxDEV(F,{onClick:ke,disabled:T.isPending,children:"Add Transaction"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:680,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:676,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:582,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:575,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:574,columnNumber:15},this),t.jsxDEV("div",{className:"border rounded-lg",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:693,columnNumber:23},this),t.jsxDEV(Qe,{children:"Related Party"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:694,columnNumber:23},this),t.jsxDEV(Qe,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:695,columnNumber:23},this),t.jsxDEV(Qe,{children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:696,columnNumber:23},this),t.jsxDEV(Qe,{className:"text-right",children:"Amount"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:697,columnNumber:23},this),t.jsxDEV(Qe,{children:"Tested"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:698,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:692,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:691,columnNumber:19},this),t.jsxDEV(Ba,{children:!n||n.length===0?t.jsxDEV(Ot,{children:t.jsxDEV(Fe,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(fo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:705,columnNumber:27},this),t.jsxDEV("p",{children:"No related party transactions documented"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:706,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:704,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:703,columnNumber:23},this):n.map(pe=>{var ee;return t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:new Date(pe.transaction_date).toLocaleDateString()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:712,columnNumber:27},this),t.jsxDEV(Fe,{children:(ee=pe.related_party)==null?void 0:ee.party_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:715,columnNumber:27},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"outline",children:ls(pe.transaction_type)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:717,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:716,columnNumber:27},this),t.jsxDEV(Fe,{className:"max-w-xs truncate",children:pe.transaction_description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:721,columnNumber:27},this),t.jsxDEV(Fe,{className:"text-right font-mono",children:De(pe.amount)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:724,columnNumber:27},this),t.jsxDEV(Fe,{children:pe.tested?t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:730,columnNumber:33},this),"Yes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:729,columnNumber:31},this):t.jsxDEV(he,{variant:"outline",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:734,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:727,columnNumber:27},this)]},pe.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:711,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:701,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:690,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:689,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:573,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:572,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:394,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-purple-900 mb-2",children:"AU-C 550 Requirements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:749,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-purple-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Inquire of management regarding related party relationships and transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:751,columnNumber:13},this),t.jsxDEV("li",{children:"Obtain understanding of controls over related party transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:752,columnNumber:13},this),t.jsxDEV("li",{children:"Evaluate whether identified related party transactions were properly authorized"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:753,columnNumber:13},this),t.jsxDEV("li",{children:"Inspect underlying documentation for significant related party transactions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:754,columnNumber:13},this),t.jsxDEV("li",{children:"Evaluate whether transactions are at arm's length or require special disclosure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:755,columnNumber:13},this),t.jsxDEV("li",{children:"Communicate significant matters to those charged with governance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:756,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:750,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:748,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:336,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/RelatedPartiesManager.tsx",lineNumber:319,columnNumber:5},this)}const qy={financial_statements:[{id:"fs_1",category:"Financial Statements",text:"We have fulfilled our responsibilities, as set out in the terms of the audit engagement, for the preparation and fair presentation of the financial statements in accordance with accounting principles generally accepted in the United States of America.",required:!0},{id:"fs_2",category:"Financial Statements",text:"We acknowledge our responsibility for the design, implementation, and maintenance of internal control relevant to the preparation and fair presentation of financial statements that are free from material misstatement, whether due to fraud or error.",required:!0},{id:"fs_3",category:"Financial Statements",text:"We acknowledge our responsibility for the design, implementation, and maintenance of internal control to prevent and detect fraud.",required:!0},{id:"fs_4",category:"Financial Statements",text:"Significant assumptions used by us in making accounting estimates, including those measured at fair value, are reasonable.",required:!0}],completeness:[{id:"comp_1",category:"Completeness",text:"We have provided you with all relevant information and access as agreed in the terms of the audit engagement.",required:!0},{id:"comp_2",category:"Completeness",text:"All transactions have been recorded and are reflected in the financial statements.",required:!0},{id:"comp_3",category:"Completeness",text:"We have disclosed to you the results of our assessment of the risk that the financial statements may be materially misstated as a result of fraud.",required:!0},{id:"comp_4",category:"Completeness",text:"We have disclosed to you all information in relation to fraud or suspected fraud that we are aware of and that affects the entity and involves management, employees who have significant roles in internal control, or others where the fraud could have a material effect on the financial statements.",required:!0},{id:"comp_5",category:"Completeness",text:"We have disclosed to you all information in relation to allegations of fraud, or suspected fraud, affecting the entity's financial statements communicated by employees, former employees, analysts, regulators, or others.",required:!0},{id:"comp_6",category:"Completeness",text:"We have disclosed to you all known instances of noncompliance or suspected noncompliance with laws and regulations whose effects should be considered when preparing financial statements.",required:!0},{id:"comp_7",category:"Completeness",text:"We have disclosed to you the identity of the entity's related parties and all the related party relationships and transactions of which we are aware.",required:!0}],subsequent_events:[{id:"se_1",category:"Subsequent Events",text:"All events occurring subsequent to the date of the financial statements and for which the applicable financial reporting framework requires adjustment or disclosure have been adjusted or disclosed.",required:!0}],litigation:[{id:"lit_1",category:"Litigation & Claims",text:"We have disclosed to you all known actual or possible litigation and claims whose effects should be considered when preparing the financial statements.",required:!0}],going_concern:[{id:"gc_1",category:"Going Concern",text:"We have disclosed to you all information relevant to the use of the going concern assumption, including significant conditions and events, our plans, and whether the financial statements include all required disclosures.",required:!1}]};function Ele({engagementId:s,clientName:e="[Client Name]",periodEndDate:r}){const{toast:a}=Hs(),i=Lr(),{data:n,isLoading:o}=bs({queryKey:["management-representations",s],queryFn:async()=>{const{data:fe,error:T}=await le.from("management_representation_letters").select("*").eq("engagement_id",s).order("created_at",{ascending:!1});if(T)throw T;return fe},enabled:!!s}),[l,d]=v.useState(!1),[u,c]=v.useState(!1),[b,h]=v.useState(null),[m,f]=v.useState(Ds(new Date,"yyyy-MM-dd")),[p,N]=v.useState(""),[g,D]=v.useState(""),[w,A]=v.useState(""),[U,E]=v.useState([]),[W,y]=v.useState(""),[V,S]=v.useState(()=>{const fe=[];return Object.values(qy).forEach(T=>{T.forEach(G=>{fe.push({...G,included:G.required})})}),fe}),O=Rs({mutationFn:async fe=>{const{data:T,error:G}=await le.from("management_representation_letters").insert([fe]).select().single();if(G)throw G;return T},onSuccess:()=>{i.invalidateQueries({queryKey:["management-representations",s]}),d(!1),M(),a({title:"Representation letter created",description:"The management representation letter has been generated."})},onError:fe=>{a({title:"Error",description:fe.message||"Failed to create representation letter",variant:"destructive"})}}),_=Rs({mutationFn:async({id:fe,updates:T})=>{const{data:G,error:J}=await le.from("management_representation_letters").update(T).eq("id",fe).select().single();if(J)throw J;return G},onSuccess:()=>{i.invalidateQueries({queryKey:["management-representations",s]}),a({title:"Letter updated",description:"The representation letter status has been updated."})}}),M=()=>{f(Ds(new Date,"yyyy-MM-dd")),N(""),D(""),A(""),E([]),y("");const fe=[];Object.values(qy).forEach(T=>{T.forEach(G=>{fe.push({...G,included:G.required})})}),S(fe)},R=fe=>{S(T=>T.map(G=>G.id===fe&&!G.required?{...G,included:!G.included}:G))},Q=()=>{W.trim()&&(E(fe=>[...fe,W.trim()]),y(""))},ne=fe=>{E(T=>T.filter((G,J)=>J!==fe))},ie=()=>{if(!p||!g||!w){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}O.mutate({engagement_id:s,letter_date:m,period_end_date:r||Ds(new Date,"yyyy-MM-dd"),addressee:p,client_name:e,client_signatory_name:g,client_signatory_title:w,representations:V.filter(fe=>fe.included),custom_representations:U,status:"draft"})},Z=v.useMemo(()=>{const fe={};return V.forEach(T=>{fe[T.category]||(fe[T.category]=[]),fe[T.category].push(T)}),fe},[V]),Ne=fe=>{const T=fe.representations||[],G=fe.custom_representations||[];return`
      <div style="font-family: 'Times New Roman', serif; max-width: 8.5in; margin: 0 auto; padding: 1in; line-height: 1.6;">
        <p style="text-align: right;">${Ds(new Date(fe.letter_date),"MMMM d, yyyy")}</p>

        <p style="margin-top: 2em;">
          ${fe.addressee}<br/>
          [Firm Address]
        </p>

        <p style="margin-top: 2em;">
          This representation letter is provided in connection with your audit of the financial statements of
          ${fe.client_name}, which comprise the balance sheet as of ${Ds(new Date(fe.period_end_date),"MMMM d, yyyy")},
          and the related statements of income, changes in stockholders' equity, and cash flows for the year then ended,
          and the related notes to the financial statements, for the purpose of expressing an opinion on whether the
          financial statements are presented fairly, in all material respects, in accordance with accounting principles
          generally accepted in the United States of America.
        </p>

        <p>
          Certain representations in this letter are described as being limited to matters that are material.
          Items are considered material, regardless of size, if they involve an omission or misstatement of
          accounting information that, in the light of surrounding circumstances, makes it probable that the
          judgment of a reasonable person relying on the information would be changed or influenced by the
          omission or misstatement.
        </p>

        <p>We confirm that, to the best of our knowledge and belief, having made such inquiries as we considered necessary for the purpose of appropriately informing ourselves:</p>

        ${Object.entries(T.reduce((J,ce)=>(J[ce.category]||(J[ce.category]=[]),J[ce.category].push(ce),J),{})).map(([J,ce])=>`
          <p style="margin-top: 1.5em;"><strong>${J}</strong></p>
          <ul style="margin-left: 2em;">
            ${ce.map(ke=>`<li style="margin-bottom: 0.5em;">${ke.text}</li>`).join("")}
          </ul>
        `).join("")}

        ${G.length>0?`
          <p style="margin-top: 1.5em;"><strong>Additional Representations</strong></p>
          <ul style="margin-left: 2em;">
            ${G.map(J=>`<li style="margin-bottom: 0.5em;">${J}</li>`).join("")}
          </ul>
        `:""}

        <div style="margin-top: 3em;">
          <p>______________________________</p>
          <p>${fe.client_signatory_name}<br/>
          ${fe.client_signatory_title}</p>
        </div>

        <div style="margin-top: 2em;">
          <p>______________________________</p>
          <p>[Additional Signatory if required]</p>
        </div>
      </div>
    `},_e=fe=>{switch(fe){case"draft":return t.jsxDEV(he,{variant:"outline",children:"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:416,columnNumber:16},this);case"sent":return t.jsxDEV(he,{variant:"secondary",children:"Sent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:418,columnNumber:16},this);case"received":return t.jsxDEV(he,{className:"bg-blue-600",children:"Received"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:420,columnNumber:16},this);case"acknowledged":return t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:424,columnNumber:13},this),"Acknowledged"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:423,columnNumber:11},this);default:return t.jsxDEV(he,{variant:"outline",children:fe},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:429,columnNumber:16},this)}};return o?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"Management Representations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:437,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:436,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"h-96 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:440,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:439,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:435,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:452,columnNumber:15},this),"Management Representations"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:451,columnNumber:13},this),t.jsxDEV(Ke,{children:"Generate and track management representation letters per AU-C 580"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:455,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:450,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV(he,{variant:"outline",children:"AU-C 580"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:460,columnNumber:13},this),t.jsxDEV(Pt,{open:l,onOpenChange:d,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:464,columnNumber:19},this),"Create Letter"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:463,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:462,columnNumber:15},this),t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create Management Representation Letter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:470,columnNumber:19},this),t.jsxDEV(Bt,{children:"Generate a management representation letter per AU-C 580"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:471,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:469,columnNumber:17},this),t.jsxDEV(Wa,{className:"max-h-[70vh] pr-4",children:t.jsxDEV("div",{className:"space-y-6 py-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Letter Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:480,columnNumber:25},this),t.jsxDEV(ve,{type:"date",value:m,onChange:fe=>f(fe.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:481,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:479,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Addressee (Firm Name) *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:488,columnNumber:25},this),t.jsxDEV(ve,{value:p,onChange:fe=>N(fe.target.value),placeholder:"e.g., Smith & Associates, CPAs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:489,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:487,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:478,columnNumber:21},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Client Signatory Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:499,columnNumber:25},this),t.jsxDEV(ve,{value:g,onChange:fe=>D(fe.target.value),placeholder:"e.g., John Smith"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:500,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:498,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Client Signatory Title *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:507,columnNumber:25},this),t.jsxDEV(ve,{value:w,onChange:fe=>A(fe.target.value),placeholder:"e.g., Chief Financial Officer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:508,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:506,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:497,columnNumber:21},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:516,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-4",children:"Standard Representations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:520,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-6",children:Object.entries(Z).map(([fe,T])=>t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("h5",{className:"text-sm font-medium text-muted-foreground",children:fe},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:524,columnNumber:29},this),T.map(G=>t.jsxDEV("div",{className:`p-3 border rounded-lg ${G.included?"bg-green-50 border-green-200":"bg-muted/50"}`,children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV(ga,{checked:G.included,onCheckedChange:()=>R(G.id),disabled:G.required},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:533,columnNumber:35},this),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-sm",children:G.text},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:539,columnNumber:37},this),G.required&&t.jsxDEV(he,{variant:"outline",className:"mt-2 text-xs",children:"Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:541,columnNumber:39},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:538,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:532,columnNumber:33},this)},G.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:526,columnNumber:31},this))]},fe,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:523,columnNumber:27},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:521,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:519,columnNumber:21},this),t.jsxDEV(ft,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:554,columnNumber:21},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-4",children:"Custom Representations"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:558,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-3",children:[U.map((fe,T)=>t.jsxDEV("div",{className:"p-3 border rounded-lg bg-blue-50 border-blue-200 flex items-start justify-between gap-3",children:[t.jsxDEV("p",{className:"text-sm flex-1",children:fe},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:565,columnNumber:29},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>ne(T),children:"Remove"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:566,columnNumber:29},this)]},T,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:561,columnNumber:27},this)),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(Wt,{value:W,onChange:fe=>y(fe.target.value),placeholder:"Add a custom representation...",rows:2,className:"flex-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:576,columnNumber:27},this),t.jsxDEV(F,{variant:"outline",onClick:Q,disabled:!W.trim(),children:"Add"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:583,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:575,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:557,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:476,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:475,columnNumber:17},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>d(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:596,columnNumber:19},this),t.jsxDEV(F,{onClick:ie,disabled:O.isPending,children:"Create Letter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:599,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:595,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:468,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:461,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:459,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:449,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:448,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:(n==null?void 0:n.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:613,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Total Letters"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:614,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:612,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:611,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:(n==null?void 0:n.filter(fe=>fe.status==="draft").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:619,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Draft"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:622,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:618,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:617,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-amber-600",children:(n==null?void 0:n.filter(fe=>fe.status==="sent").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:627,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting Response"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:630,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:626,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:625,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:(n==null?void 0:n.filter(fe=>fe.status==="acknowledged").length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:635,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Acknowledged"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:638,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:634,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:633,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:610,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:!n||n.length===0?t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground border rounded-lg",children:[t.jsxDEV(Ws,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:647,columnNumber:15},this),t.jsxDEV("p",{children:"No representation letters created"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:648,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm mt-2",children:'Click "Create Letter" to generate a management representation letter'},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:649,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:646,columnNumber:13},this):n.map(fe=>{var T,G;return t.jsxDEV("div",{className:"p-4 border rounded-lg hover:bg-muted/50",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV("span",{className:"font-medium",children:[fe.client_name," - ",Ds(new Date(fe.period_end_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:657,columnNumber:23},this),_e(fe.status)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:656,columnNumber:21},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsxDEV("p",{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:664,columnNumber:25},this),"Letter Date: ",Ds(new Date(fe.letter_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:663,columnNumber:23},this),t.jsxDEV("p",{children:["Signatory: ",fe.client_signatory_name,", ",fe.client_signatory_title]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:667,columnNumber:23},this),t.jsxDEV("p",{children:[((T=fe.representations)==null?void 0:T.length)||0," standard representations",((G=fe.custom_representations)==null?void 0:G.length)>0&&` + ${fe.custom_representations.length} custom`]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:670,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:662,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:655,columnNumber:19},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>{h(fe),c(!0)},children:[t.jsxDEV(Ws,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:686,columnNumber:23},this),"Preview"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:678,columnNumber:21},this),fe.status==="draft"&&t.jsxDEV(F,{size:"sm",onClick:()=>_.mutate({id:fe.id,updates:{status:"sent",sent_date:new Date().toISOString()}}),children:[t.jsxDEV(qi,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:699,columnNumber:25},this),"Mark Sent"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:690,columnNumber:23},this),fe.status==="sent"&&t.jsxDEV(F,{size:"sm",variant:"secondary",onClick:()=>_.mutate({id:fe.id,updates:{status:"received",received_date:new Date().toISOString()}}),children:[t.jsxDEV(Ni,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:714,columnNumber:25},this),"Mark Received"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:704,columnNumber:23},this),fe.status==="received"&&t.jsxDEV(F,{size:"sm",className:"bg-green-600",onClick:()=>_.mutate({id:fe.id,updates:{status:"acknowledged"}}),children:[t.jsxDEV(Ni,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:729,columnNumber:25},this),"Acknowledge"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:719,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:677,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:654,columnNumber:17},this)},fe.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:653,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:644,columnNumber:9},this),t.jsxDEV(Pt,{open:u,onOpenChange:c,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:t.jsxDEV(St,{children:"Management Representation Letter Preview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:744,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:743,columnNumber:13},this),t.jsxDEV(Wa,{className:"max-h-[70vh]",children:b&&t.jsxDEV("div",{className:"bg-white p-4 border rounded",dangerouslySetInnerHTML:{__html:Ne(b)}},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:748,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:746,columnNumber:13},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>c(!1),children:"Close"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:755,columnNumber:15},this),t.jsxDEV(F,{children:[t.jsxDEV(Bi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:759,columnNumber:17},this),"Download PDF"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:758,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:754,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:742,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:741,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-purple-900 mb-2",children:"AU-C 580 Requirements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:768,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-purple-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Request written representations from management with appropriate responsibilities"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:770,columnNumber:13},this),t.jsxDEV("li",{children:"Date the representation letter as of the date of the auditor's report"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:771,columnNumber:13},this),t.jsxDEV("li",{children:"If management does not provide requested representations, determine effect on audit opinion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:772,columnNumber:13},this),t.jsxDEV("li",{children:"Written representations cannot substitute for other audit evidence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:775,columnNumber:13},this),t.jsxDEV("li",{children:"Address the letter to the auditor and have it signed by appropriate management"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:776,columnNumber:13},this),t.jsxDEV("li",{children:"For group audits, request representations from component management as appropriate"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:777,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:769,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:767,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:608,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/ManagementRepresentations.tsx",lineNumber:447,columnNumber:5},this)}const Fv=[{id:"req_1",topic:"Auditor Responsibilities",description:"Communication of the auditor's responsibilities under GAAS, including forming and expressing an opinion on the financial statements",timing:"Planning",required:!0},{id:"req_2",topic:"Planned Scope and Timing",description:"Overview of the planned scope and timing of the audit, including significant risks identified",timing:"Planning",required:!0},{id:"req_3",topic:"Significant Findings",description:"Significant findings from the audit, including significant audit adjustments and uncorrected misstatements",timing:"Completion",required:!0},{id:"req_4",topic:"Accounting Policies",description:"Qualitative aspects of the entity's significant accounting practices, including accounting policies, estimates, and disclosures",timing:"Completion",required:!0},{id:"req_5",topic:"Difficulties Encountered",description:"Any significant difficulties encountered during the audit",timing:"Completion",required:!0},{id:"req_6",topic:"Disagreements with Management",description:"Any disagreements with management, whether or not satisfactorily resolved",timing:"Completion",required:!0},{id:"req_7",topic:"Other Significant Matters",description:"Other significant matters arising from the audit that are relevant to TCWG oversight",timing:"Completion",required:!0},{id:"req_8",topic:"Independence",description:"Communication regarding independence, including all relationships that may affect independence",timing:"Planning/Completion",required:!0},{id:"req_9",topic:"Material Weaknesses",description:"Material weaknesses in internal control identified during the audit (AU-C 265)",timing:"Completion",required:!0},{id:"req_10",topic:"Significant Deficiencies",description:"Significant deficiencies in internal control identified during the audit (AU-C 265)",timing:"Completion",required:!0}];function Ple({engagementId:s}){const{toast:e}=Hs(),r=Lr(),{data:a,isLoading:i}=bs({queryKey:["tcwg-communications",s],queryFn:async()=>{const{data:De,error:Ye}=await le.from("tcwg_communications").select("*").eq("engagement_id",s).order("communication_date",{ascending:!1});if(Ye)throw Ye;return De},enabled:!!s}),{data:n,isLoading:o}=bs({queryKey:["control-deficiency-communications",s],queryFn:async()=>{const{data:De,error:Ye}=await le.from("control_deficiency_communications").select("*").eq("engagement_id",s).order("created_at",{ascending:!1});if(Ye)throw Ye;return De},enabled:!!s}),l=(a==null?void 0:a.filter(De=>De.required_topic_id).map(De=>De.required_topic_id))||[],[d,u]=v.useState(!1),[c,b]=v.useState(Ds(new Date,"yyyy-MM-dd")),[h,m]=v.useState("meeting"),[f,p]=v.useState(""),[N,g]=v.useState(""),[D,w]=v.useState(""),[A,U]=v.useState("oral"),[E,W]=v.useState(""),[y,V]=v.useState(!1),[S,O]=v.useState(!1),[_,M]=v.useState("significant_deficiency"),[R,Q]=v.useState(""),[ne,ie]=v.useState(""),Z=Rs({mutationFn:async De=>{const{data:Ye,error:ls}=await le.from("tcwg_communications").insert([De]).select().single();if(ls)throw ls;return Ye},onSuccess:()=>{r.invalidateQueries({queryKey:["tcwg-communications",s]}),u(!1),_e(),e({title:"Communication logged",description:"The TCWG communication has been documented."})},onError:De=>{e({title:"Error",description:De.message||"Failed to log communication",variant:"destructive"})}}),Ne=Rs({mutationFn:async De=>{const{data:Ye,error:ls}=await le.from("control_deficiency_communications").insert([De]).select().single();if(ls)throw ls;return Ye},onSuccess:()=>{r.invalidateQueries({queryKey:["control-deficiency-communications",s]}),O(!1),fe(),e({title:"Deficiency documented",description:"The control deficiency has been documented."})},onError:De=>{e({title:"Error",description:De.message||"Failed to document deficiency",variant:"destructive"})}}),_e=()=>{b(Ds(new Date,"yyyy-MM-dd")),m("meeting"),p(""),g(""),w(""),U("oral"),W(""),V(!1)},fe=()=>{M("significant_deficiency"),Q(""),ie("")},T=()=>{if(!f||!N){e({title:"Validation Error",description:"Please provide topic and description",variant:"destructive"});return}Z.mutate({engagement_id:s,communication_date:c,communication_type:h,topic:f,description:N,attendees:D?D.split(",").map(De=>De.trim()):[],method:A,required_topic_id:E||void 0,follow_up_required:y,follow_up_completed:!1,created_by:"current_user"})},G=()=>{if(!R||!ne){e({title:"Validation Error",description:"Please provide description and affected area",variant:"destructive"});return}Ne.mutate({engagement_id:s,deficiency_type:_,description:R,affected_area:ne,communicated_to_management:!1,communicated_to_tcwg:!1,status:"identified"})},J=l.length,ce=Fv.length,ke=(n==null?void 0:n.filter(De=>De.deficiency_type==="material_weakness").length)||0,we=(n==null?void 0:n.filter(De=>De.deficiency_type==="significant_deficiency").length)||0,We=(a==null?void 0:a.filter(De=>De.follow_up_required&&!De.follow_up_completed).length)||0,Oe=De=>({meeting:"Meeting",letter:"Letter",email:"Email",phone:"Phone Call",presentation:"Presentation",other:"Other"})[De],ye=De=>{switch(De){case"material_weakness":return t.jsxDEV(he,{variant:"destructive",children:"Material Weakness"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:350,columnNumber:16},this);case"significant_deficiency":return t.jsxDEV(he,{className:"bg-orange-600",children:"Significant Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:352,columnNumber:16},this);default:return t.jsxDEV(he,{variant:"outline",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:354,columnNumber:16},this)}};return i||o?t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{children:"TCWG Communications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:362,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:361,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"h-96 bg-muted animate-pulse rounded-lg"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:365,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:364,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:360,columnNumber:7},this):t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Mu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:377,columnNumber:15},this),"TCWG Communications"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:376,columnNumber:13},this),t.jsxDEV(Ke,{children:"Track communications with Those Charged With Governance per AU-C 260/265"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:380,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:375,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",children:"AU-C 260"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:385,columnNumber:13},this),t.jsxDEV(he,{variant:"outline",children:"AU-C 265"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:374,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:373,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-5 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:395,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Communications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:396,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:394,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:393,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:[J,"/",ce]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:401,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Required Topics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:400,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:399,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:ke},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:409,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Material Weaknesses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:410,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:408,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:407,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:we},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:415,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Sig. Deficiencies"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:416,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:414,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:413,columnNumber:11},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"p-4 text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-amber-600",children:We},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:421,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:"Pending Follow-ups"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:422,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:420,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:419,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:392,columnNumber:9},this),(J<ce||ke>0)&&t.jsxDEV("div",{className:"space-y-2",children:[J<ce&&t.jsxDEV("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-amber-800 font-medium",children:[t.jsxDEV(Er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:433,columnNumber:19},this),ce-J," Required Communication",ce-J>1?"s":""," Outstanding"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:432,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-amber-700 mt-1",children:"Complete all required TCWG communications before issuing the audit report."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:436,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:431,columnNumber:15},this),ke>0&&t.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-red-800 font-medium",children:[t.jsxDEV(Sn,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:444,columnNumber:19},this),ke," Material Weakness",ke>1?"es":""," Identified"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:443,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-red-700 mt-1",children:"Material weaknesses must be communicated in writing to management and TCWG."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:442,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:429,columnNumber:11},this),t.jsxDEV(Pr,{defaultValue:"communications",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-3",children:[t.jsxDEV($e,{value:"communications",children:["Communications",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(a==null?void 0:a.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:460,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:458,columnNumber:13},this),t.jsxDEV($e,{value:"required",children:["Required Topics",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:[J,"/",ce]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:466,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:464,columnNumber:13},this),t.jsxDEV($e,{value:"deficiencies",children:["Control Deficiencies",t.jsxDEV(he,{variant:"secondary",className:"ml-2",children:(n==null?void 0:n.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:472,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:470,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:457,columnNumber:11},this),t.jsxDEV(es,{value:"communications",className:"mt-4",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(Pt,{open:d,onOpenChange:u,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:485,columnNumber:23},this),"Log Communication"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:484,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:483,columnNumber:19},this),t.jsxDEV(Dt,{className:"max-w-2xl",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Log TCWG Communication"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:491,columnNumber:23},this),t.jsxDEV(Bt,{children:"Document a communication with Those Charged With Governance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:492,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:490,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Date *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:499,columnNumber:27},this),t.jsxDEV(ve,{type:"date",value:c,onChange:De=>b(De.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:500,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:498,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:507,columnNumber:27},this),t.jsxDEV(is,{value:h,onValueChange:De=>m(De),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:510,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:509,columnNumber:29},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"meeting",children:"In-Person Meeting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:513,columnNumber:31},this),t.jsxDEV(X,{value:"letter",children:"Formal Letter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:514,columnNumber:31},this),t.jsxDEV(X,{value:"email",children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:515,columnNumber:31},this),t.jsxDEV(X,{value:"phone",children:"Phone Call"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:516,columnNumber:31},this),t.jsxDEV(X,{value:"presentation",children:"Presentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:517,columnNumber:31},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:518,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:512,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:508,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:506,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:497,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Related Required Topic (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:524,columnNumber:25},this),t.jsxDEV(is,{value:E,onValueChange:W,children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select if addressing a required topic"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:527,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:526,columnNumber:27},this),t.jsxDEV(as,{children:Fv.filter(De=>!l.includes(De.id)).map(De=>t.jsxDEV(X,{value:De.id,children:De.topic},De.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:531,columnNumber:31},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:529,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:525,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:523,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Topic *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:539,columnNumber:25},this),t.jsxDEV(ve,{value:f,onChange:De=>p(De.target.value),placeholder:"e.g., Audit Planning Discussion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:540,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:538,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:547,columnNumber:25},this),t.jsxDEV(Wt,{value:N,onChange:De=>g(De.target.value),placeholder:"Summarize what was communicated...",rows:4},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:548,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:546,columnNumber:23},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Attendees (comma-separated)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:557,columnNumber:27},this),t.jsxDEV(ve,{value:D,onChange:De=>w(De.target.value),placeholder:"e.g., John Smith, Jane Doe"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:558,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:556,columnNumber:25},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Method *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:565,columnNumber:27},this),t.jsxDEV(is,{value:A,onValueChange:De=>U(De),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:568,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:567,columnNumber:29},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"oral",children:"Oral Only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:571,columnNumber:31},this),t.jsxDEV(X,{value:"written",children:"Written Only"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:572,columnNumber:31},this),t.jsxDEV(X,{value:"both",children:"Both Oral and Written"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:573,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:570,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:566,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:564,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:555,columnNumber:23},this),t.jsxDEV("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[t.jsxDEV(ga,{checked:y,onCheckedChange:De=>V(De)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:579,columnNumber:25},this),t.jsxDEV(H,{className:"text-sm font-normal",children:"Follow-up action required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:583,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:578,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:496,columnNumber:21},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>u(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:587,columnNumber:23},this),t.jsxDEV(F,{onClick:T,disabled:Z.isPending,children:"Log Communication"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:590,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:586,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:489,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:482,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:481,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-3",children:!a||a.length===0?t.jsxDEV("div",{className:"text-center py-12 text-muted-foreground border rounded-lg",children:[t.jsxDEV(Mu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:602,columnNumber:21},this),t.jsxDEV("p",{children:"No TCWG communications logged"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:603,columnNumber:21},this),t.jsxDEV("p",{className:"text-sm mt-2",children:'Click "Log Communication" to document a communication'},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:604,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:601,columnNumber:19},this):a.map(De=>t.jsxDEV("div",{className:"p-4 border rounded-lg hover:bg-muted/50",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV("span",{className:"font-medium",children:De.topic},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:612,columnNumber:29},this),t.jsxDEV(he,{variant:"outline",children:Oe(De.communication_type)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:613,columnNumber:29},this),De.required_topic_id&&t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:616,columnNumber:33},this),"Required"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:615,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:611,columnNumber:27},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:De.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:621,columnNumber:27},this),t.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(la,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:624,columnNumber:31},this),Ds(new Date(De.communication_date),"MMM d, yyyy")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:623,columnNumber:29},this),De.attendees&&De.attendees.length>0&&t.jsxDEV("span",{className:"flex items-center gap-1",children:[t.jsxDEV(er,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:629,columnNumber:33},this),De.attendees.join(", ")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:628,columnNumber:31},this),t.jsxDEV("span",{className:"capitalize",children:De.method},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:633,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:622,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:610,columnNumber:25},this),De.follow_up_required&&!De.follow_up_completed&&t.jsxDEV(he,{variant:"secondary",children:"Follow-up Required"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:637,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:609,columnNumber:23},this)},De.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:608,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:599,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:480,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:479,columnNumber:11},this),t.jsxDEV(es,{value:"required",className:"mt-4",children:t.jsxDEV("div",{className:"space-y-3",children:Fv.map(De=>{const Ye=l.includes(De.id);return t.jsxDEV("div",{className:`p-4 border rounded-lg ${Ye?"bg-green-50 border-green-200":"bg-muted/30"}`,children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[Ye?t.jsxDEV(Ni,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:663,columnNumber:29},this):t.jsxDEV("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:665,columnNumber:29},this),t.jsxDEV("span",{className:"font-medium",children:De.topic},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:667,columnNumber:27},this),t.jsxDEV(he,{variant:"outline",children:De.timing},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:668,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:661,columnNumber:25},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground ml-7",children:De.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:670,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:660,columnNumber:23},this),!Ye&&t.jsxDEV(F,{size:"sm",variant:"outline",onClick:()=>{W(De.id),p(De.topic),u(!0)},children:"Log"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:673,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:659,columnNumber:21},this)},De.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:653,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:649,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:648,columnNumber:11},this),t.jsxDEV(es,{value:"deficiencies",className:"mt-4",children:t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-end",children:t.jsxDEV(Pt,{open:S,onOpenChange:O,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:699,columnNumber:23},this),"Document Deficiency"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:698,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:697,columnNumber:19},this),t.jsxDEV(Dt,{children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Document Control Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:705,columnNumber:23},this),t.jsxDEV(Bt,{children:"Document a control deficiency for communication per AU-C 265"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:706,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:704,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Deficiency Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:712,columnNumber:25},this),t.jsxDEV(is,{value:_,onValueChange:De=>M(De),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:715,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:714,columnNumber:27},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"material_weakness",children:"Material Weakness"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:718,columnNumber:29},this),t.jsxDEV(X,{value:"significant_deficiency",children:"Significant Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:719,columnNumber:29},this),t.jsxDEV(X,{value:"other",children:"Other Control Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:720,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:717,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:713,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:711,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Affected Area *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:725,columnNumber:25},this),t.jsxDEV(ve,{value:ne,onChange:De=>ie(De.target.value),placeholder:"e.g., Revenue Recognition, Cash Disbursements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:726,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:724,columnNumber:23},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{children:"Description *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:733,columnNumber:25},this),t.jsxDEV(Wt,{value:R,onChange:De=>Q(De.target.value),placeholder:"Describe the control deficiency...",rows:4},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:734,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:732,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:710,columnNumber:21},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>O(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:743,columnNumber:23},this),t.jsxDEV(F,{onClick:G,disabled:Ne.isPending,children:"Document Deficiency"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:746,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:742,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:703,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:696,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:695,columnNumber:15},this),t.jsxDEV("div",{className:"border rounded-lg",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:759,columnNumber:23},this),t.jsxDEV(Qe,{children:"Affected Area"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:760,columnNumber:23},this),t.jsxDEV(Qe,{children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:761,columnNumber:23},this),t.jsxDEV(Qe,{children:"Mgmt Comm."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:762,columnNumber:23},this),t.jsxDEV(Qe,{children:"TCWG Comm."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:763,columnNumber:23},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:764,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:758,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:757,columnNumber:19},this),t.jsxDEV(Ba,{children:!n||n.length===0?t.jsxDEV(Ot,{children:t.jsxDEV(Fe,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[t.jsxDEV(Sn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:771,columnNumber:27},this),t.jsxDEV("p",{children:"No control deficiencies documented"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:772,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:770,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:769,columnNumber:23},this):n.map(De=>t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{children:ye(De.deficiency_type)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:778,columnNumber:27},this),t.jsxDEV(Fe,{className:"font-medium",children:De.affected_area},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:779,columnNumber:27},this),t.jsxDEV(Fe,{className:"max-w-xs truncate",children:De.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:780,columnNumber:27},this),t.jsxDEV(Fe,{children:De.communicated_to_management?t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:784,columnNumber:33},this),"Yes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:783,columnNumber:31},this):t.jsxDEV(he,{variant:"outline",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:788,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:781,columnNumber:27},this),t.jsxDEV(Fe,{children:De.communicated_to_tcwg?t.jsxDEV(he,{className:"bg-green-600",children:[t.jsxDEV(Ni,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:794,columnNumber:33},this),"Yes"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:793,columnNumber:31},this):t.jsxDEV(he,{variant:"outline",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:798,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:791,columnNumber:27},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:De.status==="remediated"?"default":"secondary",children:De.status.charAt(0).toUpperCase()+De.status.slice(1)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:802,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:801,columnNumber:27},this)]},De.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:777,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:767,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:756,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:755,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:694,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:693,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:456,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[t.jsxDEV("h5",{className:"font-medium text-purple-900 mb-2",children:"AU-C 260/265 Requirements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:818,columnNumber:11},this),t.jsxDEV("ul",{className:"text-xs text-purple-800 space-y-1 list-disc list-inside",children:[t.jsxDEV("li",{children:"Communicate required matters on a timely basis throughout the audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:820,columnNumber:13},this),t.jsxDEV("li",{children:"Significant deficiencies and material weaknesses must be communicated in writing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:821,columnNumber:13},this),t.jsxDEV("li",{children:"Written communications to TCWG should be dated no later than 60 days after report release"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:822,columnNumber:13},this),t.jsxDEV("li",{children:"Document all communications and governance responses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:823,columnNumber:13},this),t.jsxDEV("li",{children:"Consider whether oral communications need to be supplemented in writing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:824,columnNumber:13},this),t.jsxDEV("li",{children:"If TCWG and management are the same, tailor communications appropriately"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:825,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:819,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:817,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:390,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/audit-tools/TCWGCommunications.tsx",lineNumber:372,columnNumber:5},this)}function yle({engagementId:s,engagement:e}){var r;return t.jsxDEV("div",{className:"p-6",children:t.jsxDEV(Pr,{defaultValue:"findings",className:"w-full",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-8 mb-6",children:[t.jsxDEV($e,{value:"findings",children:"Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:68,columnNumber:11},this),t.jsxDEV($e,{value:"adjustments",children:"Adjustments"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:69,columnNumber:11},this),t.jsxDEV($e,{value:"notes",children:"Review Notes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:70,columnNumber:11},this),t.jsxDEV($e,{value:"independence",children:"Independence"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:71,columnNumber:11},this),t.jsxDEV($e,{value:"events",children:"Subsequent Events"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:72,columnNumber:11},this),t.jsxDEV($e,{value:"related-parties",children:"Related Parties"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:73,columnNumber:11},this),t.jsxDEV($e,{value:"representations",children:"Rep Letter"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:74,columnNumber:11},this),t.jsxDEV($e,{value:"tcwg",children:"TCWG"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:67,columnNumber:9},this),t.jsxDEV(es,{value:"findings",children:t.jsxDEV(Ole,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:79,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:78,columnNumber:9},this),t.jsxDEV(es,{value:"adjustments",children:t.jsxDEV(Wle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:82,columnNumber:9},this),t.jsxDEV(es,{value:"notes",children:t.jsxDEV(Ule,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:86,columnNumber:9},this),t.jsxDEV(es,{value:"independence",children:t.jsxDEV(Vle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:90,columnNumber:9},this),t.jsxDEV(es,{value:"events",children:t.jsxDEV(_le,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:95,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:94,columnNumber:9},this),t.jsxDEV(es,{value:"related-parties",children:t.jsxDEV(Ale,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:99,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(es,{value:"representations",children:t.jsxDEV(Ele,{engagementId:s,clientName:(r=e==null?void 0:e.client)==null?void 0:r.name,periodEndDate:e==null?void 0:e.period_end_date},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:102,columnNumber:9},this),t.jsxDEV(es,{value:"tcwg",children:t.jsxDEV(Ple,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:110,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:65,columnNumber:5},this)}function Ole({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:127,columnNumber:11},this),"Findings Register"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:126,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"All audit findings with severity and resolution status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:125,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-red-600",children:"2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:138,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-red-700",children:"Critical"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:137,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-orange-600",children:"5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:142,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-orange-700",children:"High"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:141,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-yellow-600",children:"8"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:146,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-yellow-700",children:"Medium"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:145,columnNumber:11},this),t.jsxDEV("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-xl font-bold text-blue-600",children:"3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:150,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs text-blue-700",children:"Low"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:151,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:136,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:[{id:"F-001",title:"Material Weakness in Revenue Recognition Controls",severity:"Critical",status:"Open",account:"Revenue",impact:"High"},{id:"F-002",title:"Inadequate Segregation of Duties in Cash Receipts",severity:"High",status:"In Progress",account:"Cash",impact:"Medium"},{id:"F-003",title:"Inventory Count Discrepancies",severity:"Medium",status:"Resolved",account:"Inventory",impact:"Low"}].map(e=>t.jsxDEV("div",{className:"p-4 border rounded-lg hover:bg-muted/50",children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:e.id},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:187,columnNumber:21},this),t.jsxDEV(he,{variant:e.severity==="Critical"||e.severity==="High"?"destructive":e.severity==="Medium"?"secondary":"outline",children:e.severity},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:188,columnNumber:21},this),t.jsxDEV(he,{variant:"outline",children:e.account},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:186,columnNumber:19},this),t.jsxDEV("div",{className:"font-medium",children:e.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:203,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:185,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Resolved"?"default":e.status==="In Progress"?"secondary":"outline",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:205,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:184,columnNumber:15},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Impact: ",e.impact,"  Identified during fieldwork"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:217,columnNumber:15},this)]},e.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:183,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:156,columnNumber:9},this),t.jsxDEV(F,{children:"Add Finding"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:134,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:124,columnNumber:5},this)}function Wle({engagementId:s}){return ute(s),cte(s),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(fo,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:242,columnNumber:11},this),"Audit Adjustments Tracker"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:241,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Summary of Adjusting Journal Entries (SAJ), Passed Journal Entries (PJE), and Summary of Uncorrected Misstatements (SUM)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:245,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:240,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[t.jsxDEV("h4",{className:"font-medium flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:255,columnNumber:15},this),"Summary of Adjusting Journal Entries (SAJ)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:254,columnNumber:13},this),t.jsxDEV(F,{size:"sm",variant:"outline",children:"Add Adjustment"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:253,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[{number:"AJE-001",description:"Accrued Expenses Understatement",debit:"Expense",debitAmt:15e3,credit:"Accrued Liabilities",creditAmt:15e3,impact:-15e3,status:"Posted"},{number:"AJE-002",description:"Prepaid Insurance Overstatement",debit:"Expense",debitAmt:8e3,credit:"Prepaid Assets",creditAmt:8e3,impact:-8e3,status:"Posted"}].map(e=>t.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("code",{className:"text-xs bg-white px-2 py-1 rounded border",children:e.number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:289,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:e.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:292,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:288,columnNumber:19},this),t.jsxDEV(he,{className:"bg-green-600",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:294,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:287,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Dr."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:298,columnNumber:21},this)," ",e.debit," ",t.jsxDEV("span",{className:"font-medium",children:["$",e.debitAmt.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:297,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Cr."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:302,columnNumber:21},this)," ",e.credit," ",t.jsxDEV("span",{className:"font-medium",children:["$",e.creditAmt.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:296,columnNumber:17},this),t.jsxDEV("div",{className:"mt-2 text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Impact on Net Income:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:307,columnNumber:19},this)," ",t.jsxDEV("span",{className:"font-medium text-red-600 flex items-center gap-1 inline-flex",children:[t.jsxDEV(Pd,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:309,columnNumber:21},this),"$",Math.abs(e.impact).toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:308,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:306,columnNumber:17},this)]},e.number,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:286,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:263,columnNumber:11},this),t.jsxDEV("div",{className:"mt-3 p-3 bg-muted rounded-lg",children:t.jsxDEV("div",{className:"font-medium",children:"Total SAJ Impact:  Net Income $23,000"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:252,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium flex items-center gap-2 mb-3",children:[t.jsxDEV(Ru,{className:"h-4 w-4 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:325,columnNumber:13},this),"Summary of Uncorrected Misstatements (SUM)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:324,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[{number:"PJE-001",description:"Inventory Valuation Difference",debit:"COGS",debitAmt:3500,credit:"Inventory",creditAmt:3500,impact:-3500,status:"Passed"}].map(e=>t.jsxDEV("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("code",{className:"text-xs bg-white px-2 py-1 rounded border",children:e.number},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:345,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:e.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:348,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:344,columnNumber:19},this),t.jsxDEV(he,{variant:"secondary",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:350,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:343,columnNumber:17},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm mt-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Dr."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:354,columnNumber:21},this)," ",e.debit," ",t.jsxDEV("span",{className:"font-medium",children:["$",e.debitAmt.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:355,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:353,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Cr."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:358,columnNumber:21},this)," ",e.credit," ",t.jsxDEV("span",{className:"font-medium",children:["$",e.creditAmt.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:359,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:357,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:352,columnNumber:17},this),t.jsxDEV("div",{className:"mt-2 text-sm",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:"Impact on Net Income:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:363,columnNumber:19},this)," ",t.jsxDEV("span",{className:"font-medium text-red-600 flex items-center gap-1 inline-flex",children:[t.jsxDEV(Pd,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:365,columnNumber:21},this),"$",Math.abs(e.impact).toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:364,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:362,columnNumber:17},this)]},e.number,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:342,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:329,columnNumber:11},this),t.jsxDEV("div",{className:"mt-3 p-4 border-2 border-orange-200 rounded-lg bg-orange-50",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Total Uncorrected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:377,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:"$3,500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:378,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:376,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"% of Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:381,columnNumber:17},this),t.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:"0.7%"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:382,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:375,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:386,columnNumber:15},this),t.jsxDEV("span",{className:"text-green-700 font-medium",children:"Below Clearly Trivial Threshold ($25,000)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:387,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:385,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:374,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:323,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:250,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:239,columnNumber:5},this)}function Ule({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:407,columnNumber:11},this),"Workpaper Review Dashboard"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:406,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Review notes and sign-off status by workpaper section"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:410,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:405,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:"18"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:418,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:419,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:417,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:"7"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:422,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"In Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:423,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:421,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-gray-600",children:"3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:426,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Not Reviewed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:427,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:425,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:416,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:[{section:"A - Cash",preparer:"Alice Williams",reviewer:"Jane Doe",status:"Approved",notes:0},{section:"B - Accounts Receivable",preparer:"Bob Johnson",reviewer:"Jane Doe",status:"Review Notes",notes:3},{section:"C - Inventory",preparer:"Bob Johnson",reviewer:"Jane Doe",status:"In Review",notes:1},{section:"R - Revenue",preparer:"Jane Doe",reviewer:"John Smith",status:"Approved",notes:0}].map((e,r)=>t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("div",{className:"font-medium",children:e.section},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:465,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Approved"?"default":e.status==="Review Notes"?"destructive":"secondary",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:466,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:464,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[t.jsxDEV("div",{children:["Preparer: ",e.preparer]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:479,columnNumber:17},this),t.jsxDEV("div",{children:["Reviewer: ",e.reviewer]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:480,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:478,columnNumber:15},this),e.notes>0&&t.jsxDEV("div",{className:"mt-2 p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:[t.jsxDEV(Ys,{className:"h-4 w-4 inline mr-2 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:484,columnNumber:19},this),e.notes," review note",e.notes>1?"s":""," pending resolution"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:483,columnNumber:17},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:463,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:432,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:414,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:404,columnNumber:5},this)}function Vle({engagementId:s}){const{user:e}=ar();return mte((e==null?void 0:e.id)||"",s),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Sn,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:511,columnNumber:11},this),"Independence Declarations"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:510,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Team independence attestations per AICPA Code of Professional Conduct"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:514,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:509,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-600",children:"12"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:522,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-green-700",children:"Compliant"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:523,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:521,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-yellow-600",children:"2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:526,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-yellow-700",children:"Pending Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:527,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:525,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:"0"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:530,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-red-700",children:"Conflicts"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:531,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:529,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:520,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Team Independence Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:537,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-3",children:[{name:"John Smith",role:"Partner",status:"Compliant",date:"2024-01-15",conflicts:!1},{name:"Jane Doe",role:"Manager",status:"Compliant",date:"2024-01-15",conflicts:!1},{name:"Bob Johnson",role:"Senior",status:"Pending Review",date:"2024-01-20",conflicts:!1},{name:"Alice Williams",role:"Staff",status:"Compliant",date:"2024-01-18",conflicts:!1}].map((r,a)=>t.jsxDEV("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-medium",children:r.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:571,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[r.role,"  Declared: ",new Date(r.date).toLocaleDateString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:572,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:570,columnNumber:17},this),t.jsxDEV(he,{variant:r.status==="Compliant"?"default":r.status==="Pending Review"?"secondary":"destructive",children:r.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:576,columnNumber:17},this)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:569,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:538,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:536,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Independence Threats Assessed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:594,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[{threat:"Self-Interest",checked:!0},{threat:"Self-Review",checked:!0},{threat:"Advocacy",checked:!0},{threat:"Familiarity",checked:!0},{threat:"Intimidation",checked:!0}].map((r,a)=>t.jsxDEV("div",{className:"flex items-center gap-2 p-2 border rounded",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:604,columnNumber:17},this),t.jsxDEV("span",{children:r.threat},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:605,columnNumber:17},this)]},a,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:603,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:595,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:593,columnNumber:9},this),t.jsxDEV(F,{children:"Submit Independence Declaration"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:611,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:518,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:508,columnNumber:5},this)}function _le({engagementId:s}){return bte(s),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:628,columnNumber:11},this),"Subsequent Events Log"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:627,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Events occurring between year-end and report date per AU-C 560"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:631,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:626,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium mb-1",children:"Type I - Adjusting Events"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:639,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Provide evidence of conditions that existed at year-end (require adjustment)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:640,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:638,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium mb-1",children:"Type II - Disclosure Events"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:645,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Provide evidence of conditions that arose after year-end (require disclosure)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:646,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:644,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:637,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:[{date:"2024-01-25",type:"Type I",description:"Customer bankruptcy filing - receivable written off",impact:"Adjusted AR by $12,000",status:"Adjustment Posted"},{date:"2024-02-05",type:"Type II",description:"New credit facility obtained for $500,000",impact:"Disclosure in Note 15",status:"Disclosed"},{date:"2024-02-10",type:"Type II",description:"Major customer contract awarded",impact:"Disclosure in Note 16",status:"Under Review"}].map((e,r)=>t.jsxDEV("div",{className:"p-4 border rounded-lg",children:t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV(he,{variant:e.type==="Type I"?"destructive":"secondary",children:e.type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:681,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleDateString()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:684,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:680,columnNumber:19},this),t.jsxDEV("div",{className:"font-medium",children:e.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:688,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:e.impact},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:679,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Under Review"?"outline":"default",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:691,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:678,columnNumber:15},this)},r,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:677,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:653,columnNumber:9},this),t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV(la,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:702,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:"Subsequent Event Review Period"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:703,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:701,columnNumber:11},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Year End: December 31, 2023  Report Date: February 15, 2024"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:705,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:700,columnNumber:9},this),t.jsxDEV(F,{children:"Log New Event"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:710,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:635,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReviewTab.tsx",lineNumber:625,columnNumber:5},this)}function Cle({engagementId:s,engagement:e}){return t.jsxDEV("div",{className:"p-6 space-y-6",children:[t.jsxDEV(Sle,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:47,columnNumber:7},this),t.jsxDEV(Tle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:50,columnNumber:7},this),t.jsxDEV(Rle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:53,columnNumber:7},this),t.jsxDEV(Mle,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:56,columnNumber:7},this),t.jsxDEV(Lle,{engagementId:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:45,columnNumber:5},this)}function Sle(){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:72,columnNumber:11},this),"Report Status"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:70,columnNumber:7},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-sm text-blue-700 mb-1",children:"Current Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:79,columnNumber:13},this),t.jsxDEV(he,{className:"bg-blue-600",children:"Partner Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:78,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Report Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:83,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"Unqualified Opinion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:82,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Draft Version"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:87,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"v3.2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:86,columnNumber:11},this),t.jsxDEV("div",{className:"p-4 border rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-1",children:"Target Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:91,columnNumber:13},this),t.jsxDEV("div",{className:"font-medium",children:"Feb 15, 2024"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:92,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:90,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:76,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:69,columnNumber:5},this)}function Tle({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(x6,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:108,columnNumber:11},this),"Report Editor"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Draft and edit the audit report with tracked changes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:111,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:106,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"reportType",children:"Report Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:119,columnNumber:13},this),t.jsxDEV(is,{defaultValue:"unqualified",children:[t.jsxDEV(rs,{id:"reportType",children:t.jsxDEV(ns,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:122,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:121,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"unqualified",children:"Unqualified Opinion (Clean)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:125,columnNumber:17},this),t.jsxDEV(X,{value:"qualified",children:"Qualified Opinion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:126,columnNumber:17},this),t.jsxDEV(X,{value:"adverse",children:"Adverse Opinion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:127,columnNumber:17},this),t.jsxDEV(X,{value:"disclaimer",children:"Disclaimer of Opinion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:128,columnNumber:17},this),t.jsxDEV(X,{value:"review",children:"Review Report"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:129,columnNumber:17},this),t.jsxDEV(X,{value:"compilation",children:"Compilation Report"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:130,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:118,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"opinionDate",children:"Opinion Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:136,columnNumber:13},this),t.jsxDEV(ve,{id:"opinionDate",type:"date",defaultValue:"2024-02-15"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:117,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Report Sections"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:143,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[{section:"Opinion Paragraph",status:"Complete",changes:0},{section:"Basis for Opinion",status:"Complete",changes:0},{section:"Responsibilities of Management",status:"Complete",changes:0},{section:"Auditors Responsibilities",status:"Complete",changes:0},{section:"Key Audit Matters (KAM)",status:"Draft",changes:3},{section:"Emphasis of Matter",status:"Not Required",changes:0}].map((e,r)=>t.jsxDEV("div",{className:"p-3 border rounded-lg flex items-center justify-between hover:bg-muted/50",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-medium",children:e.section},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:158,columnNumber:19},this),e.changes>0&&t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1",children:[e.changes," tracked change",e.changes>1?"s":""]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:160,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:157,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Complete"?"default":e.status==="Draft"?"secondary":"outline",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:165,columnNumber:17},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:153,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:142,columnNumber:9},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{className:"flex items-center gap-2",children:[t.jsxDEV(pn,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:184,columnNumber:13},this),"Preview Report"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:183,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:188,columnNumber:13},this),"Export Draft"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:187,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",className:"flex items-center gap-2",children:[t.jsxDEV(qi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:192,columnNumber:13},this),"Submit for Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:115,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:105,columnNumber:5},this)}function Rle({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:209,columnNumber:11},this),"Approval Workflow"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:208,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track partner review and approval status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:212,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:207,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{children:"Approval Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:220,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:"3 of 4 Complete (75%)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:219,columnNumber:11},this),t.jsxDEV(cr,{value:75,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:223,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:218,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-3",children:[{step:1,title:"Senior Review",reviewer:"Bob Johnson",status:"Approved",date:"2024-02-08",comments:"Workpapers complete and adequate"},{step:2,title:"Manager Review",reviewer:"Jane Doe",status:"Approved",date:"2024-02-10",comments:"All review notes cleared"},{step:3,title:"Partner Review",reviewer:"John Smith",status:"In Progress",date:null,comments:"Currently reviewing Key Audit Matters section"},{step:4,title:"Quality Control Review",reviewer:"Sarah Martinez",status:"Pending",date:null,comments:null}].map(e=>t.jsxDEV("div",{className:"p-4 border rounded-lg",children:[t.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-medium",children:e.step},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:266,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:e.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:269,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:265,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground ml-8",children:[t.jsxDEV(wl,{className:"h-3 w-3 inline mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:272,columnNumber:21},this),e.reviewer]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:271,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:264,columnNumber:17},this),t.jsxDEV(he,{variant:e.status==="Approved"?"default":e.status==="In Progress"?"secondary":"outline",children:e.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:276,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:263,columnNumber:15},this),e.date&&t.jsxDEV("div",{className:"text-sm text-muted-foreground ml-8",children:[t.jsxDEV(dt,{className:"h-3 w-3 inline mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:290,columnNumber:19},this),new Date(e.date).toLocaleDateString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:289,columnNumber:17},this),e.comments&&t.jsxDEV("div",{className:"mt-2 ml-8 p-2 bg-muted/50 rounded text-sm",children:e.comments},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:295,columnNumber:17},this)]},e.step,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:262,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:216,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:206,columnNumber:5},this)}function Mle(){const s=[{category:"Financial Statements",items:[{item:"Balance Sheet reviewed and agrees to trial balance",checked:!0},{item:"Income Statement reviewed and agrees to trial balance",checked:!0},{item:"Cash Flow Statement reviewed",checked:!0},{item:"Notes to financial statements complete",checked:!0}]},{category:"Workpapers",items:[{item:"All workpaper sections complete",checked:!0},{item:"All review notes cleared",checked:!1},{item:"Tickmarks and references documented",checked:!0},{item:"Lead schedules agree to financial statements",checked:!0}]},{category:"Audit Report",items:[{item:"Report opinion is appropriate",checked:!0},{item:"Client name and dates are correct",checked:!0},{item:"Report references correct financial statement framework",checked:!0},{item:"Partner signature obtained",checked:!1}]},{category:"Independence & Quality Control",items:[{item:"All team members independence declarations current",checked:!0},{item:"Quality control review completed",checked:!1},{item:"Engagement quality control review (if required)",checked:!1}]},{category:"Client Communications",items:[{item:"Management representation letter obtained",checked:!0},{item:"Engagement letter signed",checked:!0},{item:"All PBC items received",checked:!0}]}],e=s.reduce((i,n)=>i+n.items.length,0),r=s.reduce((i,n)=>i+n.items.filter(o=>o.checked).length,0),a=Math.round(r/e*100);return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ks,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:369,columnNumber:11},this),"Final Checklist"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:368,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Pre-issuance review requirements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:372,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:367,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-2",children:[t.jsxDEV("span",{children:"Overall Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:380,columnNumber:13},this),t.jsxDEV("span",{className:"font-medium",children:[r," of ",e," items (",a,"%)"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:381,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:379,columnNumber:11},this),t.jsxDEV(cr,{value:a,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:385,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:378,columnNumber:9},this),a<100&&t.jsxDEV("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 text-orange-800 font-medium mb-2",children:[t.jsxDEV(Ys,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:392,columnNumber:15},this),e-r," Items Remaining Before Report Issuance"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:391,columnNumber:13},this),t.jsxDEV("div",{className:"text-sm text-orange-700",children:"Complete all checklist items before issuing the final report"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:395,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:390,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4",children:s.map((i,n)=>t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-2",children:i.category},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:405,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:i.items.map((o,l)=>t.jsxDEV("label",{className:"flex items-center gap-3 p-2 border rounded hover:bg-muted/50 cursor-pointer",children:[t.jsxDEV("input",{type:"checkbox",defaultChecked:o.checked,className:"h-4 w-4 rounded"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:412,columnNumber:21},this),t.jsxDEV("span",{className:o.checked?"text-muted-foreground":"",children:o.item},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:417,columnNumber:21},this)]},l,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:408,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:406,columnNumber:15},this)]},n,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:404,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:402,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:376,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:366,columnNumber:5},this)}function Lle({engagementId:s}){return t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Ip,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:439,columnNumber:11},this),"Document Archive"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:438,columnNumber:9},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Signed reports, management letters, and supporting documentation"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:442,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:437,columnNumber:7},this),t.jsxDEV(q,{className:"space-y-6",children:[t.jsxDEV("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[t.jsxDEV(Ro,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:449,columnNumber:11},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mb-3",children:"Drag and drop files here or click to browse"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:450,columnNumber:11},this),t.jsxDEV(F,{variant:"outline",size:"sm",children:"Select Files"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:453,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:448,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium mb-3",children:"Archived Documents"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:460,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[{name:"Signed Audit Report - 2023.pdf",type:"Audit Report",date:"2024-02-15",size:"2.4 MB"},{name:"Management Letter - 2023.pdf",type:"Management Letter",date:"2024-02-15",size:"845 KB"},{name:"Representation Letter - Signed.pdf",type:"Representation Letter",date:"2024-02-12",size:"156 KB"},{name:"Engagement Letter - Signed.pdf",type:"Engagement Letter",date:"2023-11-01",size:"234 KB"}].map((e,r)=>t.jsxDEV("div",{className:"p-3 border rounded-lg flex items-center justify-between hover:bg-muted/50",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Ws,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:494,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:e.name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:495,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:493,columnNumber:19},this),t.jsxDEV("div",{className:"text-sm text-muted-foreground mt-1 ml-6",children:[e.type,"  ",new Date(e.date).toLocaleDateString(),"  ",e.size]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:497,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:492,columnNumber:17},this),t.jsxDEV(F,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[t.jsxDEV(Bi,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:502,columnNumber:19},this),"Download"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:501,columnNumber:17},this)]},r,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:488,columnNumber:15},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:461,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:459,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:446,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/tabs/AuditReportingTab.tsx",lineNumber:436,columnNumber:5},this)}function Ile(){const{id:s}=Al(),e=Qt(),{toast:r}=Hs(),{data:a,isLoading:i,error:n}=bs({queryKey:["engagement",s],queryFn:async()=>{const{data:o,error:l}=await le.from("audits").select(`
          *,
          client:clients(
            id,
            name,
            contact_email,
            contact_phone
          ),
          partner:profiles!lead_auditor_id(
            id,
            full_name,
            email,
            avatar_url
          ),
          manager:profiles!manager_id(
            id,
            full_name,
            email,
            avatar_url
          ),
          team_members:audit_team_members(
            id,
            role,
            user:profiles(
              id,
              full_name,
              email,
              avatar_url
            )
          )
        `).eq("id",s).single();if(l)throw l;return o},enabled:!!s});return v.useEffect(()=>{n&&r({title:"Error loading engagement",description:n.message,variant:"destructive"})},[n,r]),i?t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV(Xs,{className:"h-8 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:101,columnNumber:11},this),t.jsxDEV(Xs,{className:"h-32 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:102,columnNumber:11},this),t.jsxDEV(Xs,{className:"h-96 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:100,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:99,columnNumber:7},this):a?t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"min-h-screen bg-background",children:t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>e("/engagements"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:133,columnNumber:15},this),"Back to Engagements"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:132,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:131,columnNumber:11},this),t.jsxDEV(cle,{engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:139,columnNumber:11},this),t.jsxDEV("div",{className:"grid grid-cols-12 gap-6",children:[t.jsxDEV("div",{className:"col-span-12 lg:col-span-9",children:t.jsxDEV(Pr,{defaultValue:"overview",className:"w-full",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-5 mb-6",children:[t.jsxDEV($e,{value:"overview",children:"Overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:147,columnNumber:19},this),t.jsxDEV($e,{value:"planning",children:"Planning"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:148,columnNumber:19},this),t.jsxDEV($e,{value:"fieldwork",children:"Fieldwork"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:149,columnNumber:19},this),t.jsxDEV($e,{value:"review",children:"Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:150,columnNumber:19},this),t.jsxDEV($e,{value:"reporting",children:"Reporting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:151,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:146,columnNumber:17},this),t.jsxDEV(es,{value:"overview",children:t.jsxDEV(ble,{engagementId:s,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:155,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:154,columnNumber:17},this),t.jsxDEV(es,{value:"planning",children:t.jsxDEV(hle,{engagementId:s,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:159,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:158,columnNumber:17},this),t.jsxDEV(es,{value:"fieldwork",children:t.jsxDEV(gle,{engagementId:s,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:163,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:162,columnNumber:17},this),t.jsxDEV(es,{value:"review",children:t.jsxDEV(yle,{engagementId:s,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:167,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:166,columnNumber:17},this),t.jsxDEV(es,{value:"reporting",children:t.jsxDEV(Cle,{engagementId:s,engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:171,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:145,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:144,columnNumber:13},this),t.jsxDEV("div",{className:"col-span-12 lg:col-span-3",children:t.jsxDEV(mle,{engagement:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:178,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:129,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:128,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:127,columnNumber:5},this):t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"container mx-auto p-6",children:t.jsxDEV("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[t.jsxDEV(Ys,{className:"h-12 w-12 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:114,columnNumber:13},this),t.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Engagement not found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:115,columnNumber:13},this),t.jsxDEV(F,{onClick:()=>e("/engagements"),children:[t.jsxDEV(hn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:117,columnNumber:15},this),"Back to Engagements"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:113,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:112,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDetailAudit.tsx",lineNumber:111,columnNumber:7},this)}function Fle({template:s,onEdit:e}){var h;const{deleteTemplate:r,createTemplate:a,updateTemplate:i}=Ag(),{toast:n}=Hs(),[o,l]=v.useState(!1),d=async()=>{await r(s.id),l(!1)},u=async()=>{const m={...s,template_name:`${s.template_name} (Copy)`,is_default:!1};delete m.id,delete m.created_at,delete m.updated_at,await a(m),n({title:"Template duplicated",description:"A copy has been created successfully."})},c=async()=>{await i(s.id,{is_default:!s.is_default})},b=Object.values(s.estimated_hours_by_role||{}).reduce((m,f)=>m+(f||0),0);return t.jsxDEV(t.Fragment,{children:[t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow",children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[s.template_name,s.is_default&&t.jsxDEV(dN,{className:"h-4 w-4 fill-primary text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:61,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:58,columnNumber:15},this),t.jsxDEV(Ke,{className:"mt-1",children:s.description||"No description provided"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:57,columnNumber:13},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"icon",children:t.jsxDEV(H1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:71,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:70,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:69,columnNumber:15},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(fr,{onClick:e,children:[t.jsxDEV(D6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:76,columnNumber:19},this),"Edit"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:75,columnNumber:17},this),t.jsxDEV(fr,{onClick:u,children:[t.jsxDEV($1,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:80,columnNumber:19},this),"Duplicate"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:79,columnNumber:17},this),t.jsxDEV(fr,{onClick:c,children:[t.jsxDEV(dN,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:84,columnNumber:19},this),s.is_default?"Remove Default":"Set as Default"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:83,columnNumber:17},this),t.jsxDEV(fr,{onClick:()=>l(!0),className:"text-destructive",children:[t.jsxDEV(Tn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:91,columnNumber:19},this),"Delete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:74,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:56,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV(q,{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(he,{variant:"secondary",children:s.engagement_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:100,columnNumber:13},this),s.industry&&t.jsxDEV(he,{variant:"outline",children:s.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:99,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex items-center text-sm text-muted-foreground",children:[t.jsxDEV(dt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:108,columnNumber:15},this),b," estimated hours"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:107,columnNumber:13},this),((h=s.default_team_structure)==null?void 0:h.length)>0&&t.jsxDEV("div",{className:"flex items-center text-sm text-muted-foreground",children:[t.jsxDEV(er,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:113,columnNumber:17},this),s.default_team_structure.length," team roles"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:112,columnNumber:15},this),(s.budget_range_min||s.budget_range_max)&&t.jsxDEV("div",{className:"flex items-center text-sm text-muted-foreground",children:[t.jsxDEV(fo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:119,columnNumber:17},this),s.budget_range_min&&s.budget_range_max?`$${s.budget_range_min.toLocaleString()} - $${s.budget_range_max.toLocaleString()}`:s.budget_range_min?`From $${s.budget_range_min.toLocaleString()}`:`Up to $${s.budget_range_max.toLocaleString()}`]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:98,columnNumber:9},this),t.jsxDEV(lm,{children:t.jsxDEV(F,{variant:"outline",className:"w-full",onClick:e,children:"View Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:130,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:129,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:54,columnNumber:7},this),t.jsxDEV(wD,{open:o,onOpenChange:l,children:t.jsxDEV(Kk,{children:[t.jsxDEV(Qk,{children:[t.jsxDEV(Jk,{children:"Delete Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:139,columnNumber:13},this),t.jsxDEV(Zk,{children:['Are you sure you want to delete "',s.template_name,'"? This action cannot be undone.']},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:138,columnNumber:11},this),t.jsxDEV(Yk,{children:[t.jsxDEV(eg,{children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:145,columnNumber:13},this),t.jsxDEV(Xk,{onClick:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:137,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:136,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateCard.tsx",lineNumber:53,columnNumber:5},this)}function zle({open:s,onOpenChange:e,template:r,onClose:a}){var D,w,A;const{createTemplate:i,updateTemplate:n}=Ag(),[o,l]=v.useState({template_name:"",engagement_type:"",industry:"",description:"",default_scope:{},default_milestones:[],default_team_structure:[],estimated_hours_by_role:{},budget_range_min:0,budget_range_max:0,deliverables_checklist:[],is_default:!1});v.useEffect(()=>{l(r||{template_name:"",engagement_type:"",industry:"",description:"",default_scope:{},default_milestones:[],default_team_structure:[],estimated_hours_by_role:{},budget_range_min:0,budget_range_max:0,deliverables_checklist:[],is_default:!1})},[r,s]);const d=async()=>{r?await n(r.id,o):await i(o),a()},u=()=>{l({...o,default_milestones:[...o.default_milestones||[],{name:"",days_offset:0,deliverables:[]}]})},c=U=>{const E=[...o.default_milestones];E.splice(U,1),l({...o,default_milestones:E})},b=(U,E,W)=>{const y=[...o.default_milestones];y[U]={...y[U],[E]:W},l({...o,default_milestones:y})},h=()=>{l({...o,default_team_structure:[...o.default_team_structure||[],{role:"",required_count:1,skills:[]}]})},m=U=>{const E=[...o.default_team_structure];E.splice(U,1),l({...o,default_team_structure:E})},f=(U,E,W)=>{const y=[...o.default_team_structure];y[U]={...y[U],[E]:W},l({...o,default_team_structure:y})},p=()=>{l({...o,deliverables_checklist:[...o.deliverables_checklist||[],""]})},N=U=>{const E=[...o.deliverables_checklist];E.splice(U,1),l({...o,deliverables_checklist:E})},g=(U,E)=>{const W=[...o.deliverables_checklist];W[U]=E,l({...o,deliverables_checklist:W})};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-4xl max-h-[90vh]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:r?"Edit Template":"Create New Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:139,columnNumber:11},this),t.jsxDEV(Bt,{children:"Define a reusable engagement template with scope, milestones, and team structure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:138,columnNumber:9},this),t.jsxDEV(Pr,{defaultValue:"basic",className:"w-full",children:[t.jsxDEV(pr,{className:"grid w-full grid-cols-4",children:[t.jsxDEV($e,{value:"basic",children:"Basic Info"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV($e,{value:"milestones",children:"Milestones"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:150,columnNumber:13},this),t.jsxDEV($e,{value:"team",children:"Team Structure"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:151,columnNumber:13},this),t.jsxDEV($e,{value:"deliverables",children:"Deliverables"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:152,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:148,columnNumber:11},this),t.jsxDEV(Wa,{className:"h-[500px] mt-4",children:[t.jsxDEV(es,{value:"basic",className:"space-y-4 pr-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"template_name",children:"Template Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:158,columnNumber:17},this),t.jsxDEV(ve,{id:"template_name",value:o.template_name,onChange:U=>l({...o,template_name:U.target.value}),placeholder:"e.g., Annual Financial Audit - Manufacturing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:159,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:157,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"engagement_type",children:"Engagement Type *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:171,columnNumber:19},this),t.jsxDEV(is,{value:o.engagement_type,onValueChange:U=>l({...o,engagement_type:U}),children:[t.jsxDEV(rs,{id:"engagement_type",children:t.jsxDEV(ns,{placeholder:"Select type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:179,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:178,columnNumber:21},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"audit",children:"Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:182,columnNumber:23},this),t.jsxDEV(X,{value:"tax",children:"Tax"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:183,columnNumber:23},this),t.jsxDEV(X,{value:"advisory",children:"Advisory"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:184,columnNumber:23},this),t.jsxDEV(X,{value:"consulting",children:"Consulting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:185,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:181,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:172,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:170,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"industry",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:191,columnNumber:19},this),t.jsxDEV(is,{value:o.industry,onValueChange:U=>l({...o,industry:U}),children:[t.jsxDEV(rs,{id:"industry",children:t.jsxDEV(ns,{placeholder:"Select industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:199,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:198,columnNumber:21},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"financial_services",children:"Financial Services"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:202,columnNumber:23},this),t.jsxDEV(X,{value:"healthcare",children:"Healthcare"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:203,columnNumber:23},this),t.jsxDEV(X,{value:"manufacturing",children:"Manufacturing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:204,columnNumber:23},this),t.jsxDEV(X,{value:"technology",children:"Technology"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:205,columnNumber:23},this),t.jsxDEV(X,{value:"retail",children:"Retail"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:206,columnNumber:23},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:207,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:192,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:190,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:169,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"description",children:"Description"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:214,columnNumber:17},this),t.jsxDEV(Wt,{id:"description",value:o.description,onChange:U=>l({...o,description:U.target.value}),placeholder:"Describe the purpose and typical use of this template",rows:3},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:213,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"budget_min",children:"Budget Range Min"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:228,columnNumber:19},this),t.jsxDEV(ve,{id:"budget_min",type:"number",value:o.budget_range_min,onChange:U=>l({...o,budget_range_min:parseFloat(U.target.value)||0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:229,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:227,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"budget_max",children:"Budget Range Max"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:239,columnNumber:19},this),t.jsxDEV(ve,{id:"budget_max",type:"number",value:o.budget_range_max,onChange:U=>l({...o,budget_range_max:parseFloat(U.target.value)||0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:240,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:238,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:226,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(Wr,{id:"is_default",checked:o.is_default,onCheckedChange:U=>l({...o,is_default:U})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:252,columnNumber:17},this),t.jsxDEV(H,{htmlFor:"is_default",children:"Set as default template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:259,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:251,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:156,columnNumber:13},this),t.jsxDEV(es,{value:"milestones",className:"space-y-4 pr-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Define typical milestones for this engagement type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:265,columnNumber:17},this),t.jsxDEV(F,{size:"sm",onClick:u,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:269,columnNumber:19},this),"Add Milestone"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:268,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:264,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:(D=o.default_milestones)==null?void 0:D.map((U,E)=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6 space-y-3",children:t.jsxDEV("div",{className:"flex justify-between items-start",children:[t.jsxDEV("div",{className:"flex-1 space-y-3",children:[t.jsxDEV(ve,{placeholder:"Milestone name",value:U.name,onChange:W=>b(E,"name",W.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:280,columnNumber:27},this),t.jsxDEV(ve,{type:"number",placeholder:"Days from start",value:U.days_offset,onChange:W=>b(E,"days_offset",parseInt(W.target.value)||0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:287,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:279,columnNumber:25},this),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>c(E),children:t.jsxDEV(Tn,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:301,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:296,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:278,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:277,columnNumber:21},this)},E,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:276,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:274,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:263,columnNumber:13},this),t.jsxDEV(es,{value:"team",className:"space-y-4 pr-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Define typical team structure and roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:312,columnNumber:17},this),t.jsxDEV(F,{size:"sm",onClick:h,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:316,columnNumber:19},this),"Add Role"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:311,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-4",children:(w=o.default_team_structure)==null?void 0:w.map((U,E)=>t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6 space-y-3",children:t.jsxDEV("div",{className:"flex justify-between items-start",children:[t.jsxDEV("div",{className:"flex-1 space-y-3",children:[t.jsxDEV(ve,{placeholder:"Role (e.g., Lead Auditor, Senior Associate)",value:U.role,onChange:W=>f(E,"role",W.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:327,columnNumber:27},this),t.jsxDEV(ve,{type:"number",placeholder:"Required count",value:U.required_count,onChange:W=>f(E,"required_count",parseInt(W.target.value)||1)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:334,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:326,columnNumber:25},this),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>m(E),children:t.jsxDEV(Tn,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:348,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:343,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:325,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:324,columnNumber:21},this)},E,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:323,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:321,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:310,columnNumber:13},this),t.jsxDEV(es,{value:"deliverables",className:"space-y-4 pr-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Define typical deliverables checklist"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:359,columnNumber:17},this),t.jsxDEV(F,{size:"sm",onClick:p,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:363,columnNumber:19},this),"Add Deliverable"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:362,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:358,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:(A=o.deliverables_checklist)==null?void 0:A.map((U,E)=>t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(ve,{placeholder:"Deliverable name",value:U,onChange:W=>g(E,W.target.value),className:"flex-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:371,columnNumber:21},this),t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:()=>N(E),children:t.jsxDEV(Tn,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:382,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:377,columnNumber:21},this)]},E,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:370,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:357,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:147,columnNumber:9},this),t.jsxDEV("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[t.jsxDEV(F,{variant:"outline",onClick:a,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:392,columnNumber:11},this),t.jsxDEV(F,{onClick:d,children:[t.jsxDEV(po,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:396,columnNumber:13},this),r?"Update":"Create"," Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:395,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:137,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/engagement/templates/TemplateEditorDialog.tsx",lineNumber:136,columnNumber:5},this)}function Ble(){const[s,e]=v.useState(""),[r,a]=v.useState("all"),[i,n]=v.useState("all"),[o,l]=v.useState(!1),[d,u]=v.useState(null),{templates:c,loading:b}=Ag(),h=c.filter(N=>{var A;const g=N.template_name.toLowerCase().includes(s.toLowerCase())||((A=N.description)==null?void 0:A.toLowerCase().includes(s.toLowerCase())),D=r==="all"||N.engagement_type===r,w=i==="all"||N.industry===i;return g&&D&&w}),m=()=>{u(null),l(!0)},f=N=>{u(N),l(!0)},p=()=>{l(!1),u(null)};return t.jsxDEV("div",{className:"container mx-auto py-8 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Engagement Templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:57,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Create and manage reusable engagement templates"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:56,columnNumber:9},this),t.jsxDEV(F,{onClick:m,children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:63,columnNumber:11},this),"Create Template"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:55,columnNumber:7},this),t.jsxDEV("div",{className:"flex gap-4 items-center",children:[t.jsxDEV("div",{className:"flex-1 relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:71,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search templates...",value:s,onChange:N=>e(N.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:70,columnNumber:9},this),t.jsxDEV(is,{value:r,onValueChange:a,children:[t.jsxDEV(rs,{className:"w-[200px]",children:[t.jsxDEV(dh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:81,columnNumber:13},this),t.jsxDEV(ns,{placeholder:"Engagement Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:82,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:80,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:85,columnNumber:13},this),t.jsxDEV(X,{value:"audit",children:"Audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:86,columnNumber:13},this),t.jsxDEV(X,{value:"tax",children:"Tax"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:87,columnNumber:13},this),t.jsxDEV(X,{value:"advisory",children:"Advisory"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:88,columnNumber:13},this),t.jsxDEV(X,{value:"consulting",children:"Consulting"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:79,columnNumber:9},this),t.jsxDEV(is,{value:i,onValueChange:n,children:[t.jsxDEV(rs,{className:"w-[200px]",children:[t.jsxDEV(dh,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:94,columnNumber:13},this),t.jsxDEV(ns,{placeholder:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Industries"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:98,columnNumber:13},this),t.jsxDEV(X,{value:"financial_services",children:"Financial Services"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:99,columnNumber:13},this),t.jsxDEV(X,{value:"healthcare",children:"Healthcare"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:100,columnNumber:13},this),t.jsxDEV(X,{value:"manufacturing",children:"Manufacturing"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:101,columnNumber:13},this),t.jsxDEV(X,{value:"technology",children:"Technology"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:102,columnNumber:13},this),t.jsxDEV(X,{value:"retail",children:"Retail"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:103,columnNumber:13},this),t.jsxDEV(X,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:69,columnNumber:7},this),b?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((N,g)=>t.jsxDEV(Xs,{className:"h-64"},g,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:113,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:111,columnNumber:9},this):h.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("p",{className:"text-muted-foreground",children:"No templates found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:118,columnNumber:11},this),t.jsxDEV(F,{onClick:m,className:"mt-4",children:"Create Your First Template"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:119,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:117,columnNumber:9},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(N=>t.jsxDEV(Fle,{template:N,onEdit:()=>f(N)},N.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:126,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:124,columnNumber:9},this),t.jsxDEV(zle,{open:o,onOpenChange:l,template:d,onClose:p},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:136,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementTemplates.tsx",lineNumber:53,columnNumber:5},this)}function qle(){const[s,e]=v.useState([]),[r,a]=v.useState(!0),[i,n]=v.useState(null),[o,l]=v.useState(!1),[d,u]=v.useState("approved"),[c,b]=v.useState(""),[h,m]=v.useState(!1),{toast:f}=Hs(),p=Qt(),N=async()=>{try{a(!0);const{data:{user:w}}=await le.auth.getUser();if(!w)return;const{data:A,error:U}=await le.from("audits").select(`
          *,
          clients(id, client_name),
          profiles:created_by(id, full_name, email),
          requester:approval_requested_by(id, full_name, email)
        `).eq("workflow_status","pending_approval").order("approval_requested_at",{ascending:!0});if(U)throw U;e(A||[])}catch(w){console.error("Error fetching pending approvals:",w),f({title:"Error loading approvals",description:w.message,variant:"destructive"})}finally{a(!1)}};v.useEffect(()=>{N()},[]);const g=(w,A)=>{n(w),u(A?"approved":"rejected"),b(""),l(!0)},D=async()=>{if(!i||!c.trim()){f({title:"Comments required",description:"Please provide comments for your decision.",variant:"destructive"});return}m(!0);try{const{data:{user:w}}=await le.auth.getUser();if(!w)throw new Error("Not authenticated");const A=i.approval_comments||[],U={type:d,user_id:w.id,comment:c,timestamp:new Date().toISOString()},E={workflow_status:d==="approved"?"approved":"draft",approval_comments:[...A,U]};d==="approved"?(E.approved_by=w.id,E.approved_at=new Date().toISOString()):(E.rejection_reason=c,E.approval_requested_at=null,E.approval_requested_by=null);const{error:W}=await le.from("audits").update(E).eq("id",i.id);if(W)throw W;const{error:y}=await le.from("notifications").insert({user_id:i.approval_requested_by,type:d==="approved"?"approval_granted":"approval_denied",title:`Engagement ${d==="approved"?"Approved":"Rejected"}`,message:`${i.audit_title} has been ${d}`,metadata:{engagement_id:i.id,engagement_title:i.audit_title,approver_id:w.id,comments:c}});y&&console.error("Error creating notification:",y),f({title:`Engagement ${d}`,description:`Successfully ${d} the engagement.`}),l(!1),N()}catch(w){console.error("Error submitting decision:",w),f({title:"Error submitting decision",description:w.message,variant:"destructive"})}finally{m(!1)}};return r?t.jsxDEV(vd,{children:t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV(oi,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:153,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:152,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:151,columnNumber:7},this):t.jsxDEV(vd,{children:[t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Engagement Approvals"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:163,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Review and approve pending engagement requests"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:162,columnNumber:9},this),s.length===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"flex flex-col items-center justify-center py-12",children:[t.jsxDEV(Ks,{className:"h-12 w-12 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:172,columnNumber:15},this),t.jsxDEV("p",{className:"text-lg font-medium",children:"No pending approvals"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:173,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"All engagements are up to date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:171,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:170,columnNumber:11},this):t.jsxDEV("div",{className:"grid gap-6",children:s.map(w=>{var A,U,E;return t.jsxDEV(B,{className:"hover:shadow-md transition-shadow",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(ue,{className:"text-xl",children:w.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:185,columnNumber:25},this),t.jsxDEV(he,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:[t.jsxDEV(dt,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:187,columnNumber:27},this),"Pending Approval"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:186,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:184,columnNumber:23},this),t.jsxDEV(Ke,{children:[(A=w.clients)==null?void 0:A.client_name,"  ",w.audit_number]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:191,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:183,columnNumber:21},this),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>p(`/engagements/${w.id}`),children:"View Details"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:196,columnNumber:23},this),t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>g(w,!1),children:[t.jsxDEV(Ru,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:208,columnNumber:25},this),"Reject"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:203,columnNumber:23},this),t.jsxDEV(F,{size:"sm",onClick:()=>g(w,!0),children:[t.jsxDEV(Ks,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:215,columnNumber:25},this),"Approve"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:211,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:195,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:182,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:181,columnNumber:17},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(fo,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:224,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Budget"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:226,columnNumber:25},this),t.jsxDEV("p",{className:"font-medium",children:["$",((U=w.budget_allocated)==null?void 0:U.toLocaleString())||"0"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:227,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:225,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:223,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:231,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Hours"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:233,columnNumber:25},this),t.jsxDEV("p",{className:"font-medium",children:w.hours_allocated||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:234,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:232,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:230,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:238,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:240,columnNumber:25},this),t.jsxDEV("p",{className:"font-medium",children:w.planned_start_date?Ds(new Date(w.planned_start_date),"MMM d, yyyy"):"Not set"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:241,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:239,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:237,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:249,columnNumber:23},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Requested By"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:251,columnNumber:25},this),t.jsxDEV("p",{className:"font-medium",children:((E=w.requester)==null?void 0:E.full_name)||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:252,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:250,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:248,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:222,columnNumber:19},this),w.approval_comments&&w.approval_comments.length>0&&t.jsxDEV("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:[t.jsxDEV("p",{className:"text-sm font-medium mb-1",children:"Request Justification:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:259,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:w.approval_comments[w.approval_comments.length-1].comment},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:260,columnNumber:23},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Requested ",Ds(new Date(w.approval_requested_at),"MMM d, yyyy 'at' h:mm a")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:263,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:258,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:221,columnNumber:17},this)]},w.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:180,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:161,columnNumber:7},this),t.jsxDEV(Pt,{open:o,onOpenChange:l,children:t.jsxDEV(Dt,{className:"sm:max-w-[500px]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:[d==="approved"?"Approve":"Reject"," Engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:279,columnNumber:13},this),t.jsxDEV(Bt,{children:i==null?void 0:i.audit_title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:278,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"decision-comments",children:[d==="approved"?"Approval":"Rejection"," Comments *"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:289,columnNumber:15},this),t.jsxDEV(Wt,{id:"decision-comments",placeholder:`Provide ${d==="approved"?"approval notes":"reason for rejection"}...`,value:c,onChange:w=>b(w.target.value),rows:4,className:"resize-none"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:288,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:287,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>l(!1),disabled:h,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:304,columnNumber:13},this),t.jsxDEV(F,{onClick:D,disabled:h||!c.trim(),variant:d==="approved"?"default":"destructive",children:[h&&t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:316,columnNumber:30},this),d==="approved"?"Approve":"Reject"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:303,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:277,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:276,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/ApprovalDashboard.tsx",lineNumber:160,columnNumber:5},this)}const $le=v.createContext(void 0);function Hle(){const s=v.useContext($le);if(!s)throw new Error("useEngagementContext must be used within EngagementProvider");return s}function Gle(s,e={}){const{toast:r}=Hs(),a=Lr(),{user:i}=ar(),{assignedTo:n,workflowStatus:o,programId:l}=e,{data:d,isLoading:u,error:c,refetch:b}=bs({queryKey:["procedure-execution",s,n,o,l],queryFn:async()=>{if(!s)return[];let y=le.from("audit_procedures").select(`
          *,
          profiles:assigned_to (
            id,
            full_name,
            email,
            avatar_url
          ),
          reviewed_by_profile:reviewed_by (
            id,
            full_name,
            email
          ),
          engagement_programs (
            id,
            program_name
          ),
          primary_workpaper:primary_workpaper_id (
            id,
            title,
            review_status
          )
        `).eq("engagement_id",s).order("due_date",{ascending:!0,nullsFirst:!1});if(n&&(y=y.eq("assigned_to",n)),o){const O=Array.isArray(o)?o:[o];y=y.in("workflow_status",O)}l&&(y=y.eq("engagement_program_id",l));const{data:V,error:S}=await y;if(S)throw S;return V},enabled:!!s,staleTime:30*1e3}),h=v.useMemo(()=>{if(!d||d.length===0)return{total:0,not_started:0,in_progress:0,pending_review:0,approved:0,signed_off:0,not_applicable:0,overdue:0,dueToday:0,dueSoon:0};const y=new Date,V=y.toISOString().split("T")[0],S=new Date(y.getTime()+3*24*60*60*1e3).toISOString().split("T")[0];return{total:d.length,not_started:d.filter(O=>O.workflow_status==="not_started").length,in_progress:d.filter(O=>["in_progress","changes_requested"].includes(O.workflow_status)).length,pending_review:d.filter(O=>["pending_review","in_review"].includes(O.workflow_status)).length,approved:d.filter(O=>O.workflow_status==="approved").length,signed_off:d.filter(O=>O.workflow_status==="signed_off").length,not_applicable:d.filter(O=>O.workflow_status==="not_applicable").length,overdue:d.filter(O=>O.due_date&&O.due_date<V&&!["signed_off","not_applicable"].includes(O.workflow_status)).length,dueToday:d.filter(O=>O.due_date===V).length,dueSoon:d.filter(O=>O.due_date&&O.due_date>V&&O.due_date<=S).length}},[d]),m=Rs({mutationFn:async({procedureId:y,workpaperId:V})=>{const S={workflow_status:"in_progress",status:"in_progress",started_at:new Date().toISOString()};V&&(S.primary_workpaper_id=V);const{data:O,error:_}=await le.from("audit_procedures").update(S).eq("id",y).select().single();if(_)throw _;return O},onSuccess:()=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),a.invalidateQueries({queryKey:["engagement-procedure-stats",s]}),r({title:"Procedure started",description:"You have started working on this procedure."})},onError:y=>{r({title:"Failed to start procedure",description:y.message,variant:"destructive"})}}),f=Rs({mutationFn:async({procedureId:y,conclusion:V,exceptionsNoted:S,actualHours:O})=>{const _={conclusion:V,exceptions_noted:S||null,completed_at:new Date().toISOString()};O!==void 0&&(_.actual_hours=O);const{data:M,error:R}=await le.from("audit_procedures").update(_).eq("id",y).select().single();if(R)throw R;return M},onSuccess:()=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),r({title:"Work completed",description:"Your conclusion has been saved."})},onError:y=>{r({title:"Failed to complete procedure",description:y.message,variant:"destructive"})}}),p=Rs({mutationFn:async({procedureId:y,reviewerId:V})=>{const S={workflow_status:"pending_review",status:"pending_review",prepared_at:new Date().toISOString(),prepared_by:i==null?void 0:i.id},{data:O}=await le.from("audit_procedures").select("primary_workpaper_id").eq("id",y).single();O!=null&&O.primary_workpaper_id&&await le.from("audit_workpapers").update({review_status:"pending_review",prepared_at:new Date().toISOString(),current_reviewer_id:V||null}).eq("id",O.primary_workpaper_id);const{data:_,error:M}=await le.from("audit_procedures").update(S).eq("id",y).select().single();if(M)throw M;return _},onSuccess:()=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),a.invalidateQueries({queryKey:["engagement-procedure-stats",s]}),a.invalidateQueries({queryKey:["workpapers"]}),r({title:"Submitted for review",description:"The procedure has been submitted for review."})},onError:y=>{r({title:"Failed to submit for review",description:y.message,variant:"destructive"})}}),N=Rs({mutationFn:async({procedureId:y,action:V,comments:S})=>{const O={reviewed_at:new Date().toISOString(),reviewed_by:i==null?void 0:i.id};V==="approve"?(O.workflow_status="approved",O.status="approved"):(O.workflow_status="changes_requested",O.status="changes_requested");const{data:_}=await le.from("audit_procedures").select("primary_workpaper_id").eq("id",y).single();_!=null&&_.primary_workpaper_id&&(await le.from("audit_workpapers").update({review_status:V==="approve"?"approved":"changes_requested",current_reviewer_id:null}).eq("id",_.primary_workpaper_id),S&&await le.from("review_notes").insert({workpaper_id:_.primary_workpaper_id,created_by:i==null?void 0:i.id,content:S,note_type:V==="approve"?"comment":"issue",status:V==="approve"?"resolved":"open"}));const{data:M,error:R}=await le.from("audit_procedures").update(O).eq("id",y).select().single();if(R)throw R;return M},onSuccess:(y,V)=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),a.invalidateQueries({queryKey:["engagement-procedure-stats",s]}),a.invalidateQueries({queryKey:["workpapers"]}),a.invalidateQueries({queryKey:["review-notes"]}),r({title:V.action==="approve"?"Procedure approved":"Changes requested",description:V.action==="approve"?"The procedure has been approved.":"Changes have been requested from the preparer."})},onError:y=>{r({title:"Review failed",description:y.message,variant:"destructive"})}}),g=Rs({mutationFn:async y=>{const{data:V,error:S}=await le.from("audit_procedures").update({workflow_status:"not_applicable",status:"not_applicable"}).eq("id",y).select().single();if(S)throw S;return V},onSuccess:()=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),a.invalidateQueries({queryKey:["engagement-procedure-stats",s]}),r({title:"Marked as N/A",description:"The procedure has been marked as not applicable."})},onError:y=>{r({title:"Failed to update procedure",description:y.message,variant:"destructive"})}}),D=Rs({mutationFn:async({procedureId:y,updates:V})=>{const{data:S,error:O}=await le.from("audit_procedures").update({...V,updated_at:new Date().toISOString()}).eq("id",y).select().single();if(O)throw O;return S},onSuccess:()=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),r({title:"Procedure updated",description:"The procedure has been updated."})},onError:y=>{r({title:"Failed to update procedure",description:y.message,variant:"destructive"})}}),w=Rs({mutationFn:async({procedureId:y,hours:V,description:S})=>{const{data:O}=await le.from("audit_procedures").select("actual_hours").eq("id",y).single(),M=((O==null?void 0:O.actual_hours)||0)+V,{data:R,error:Q}=await le.from("audit_procedures").update({actual_hours:M}).eq("id",y).select().single();if(Q)throw Q;return R},onSuccess:(y,V)=>{a.invalidateQueries({queryKey:["procedure-execution",s]}),r({title:"Time logged",description:`${V.hours} hour(s) have been logged.`})},onError:y=>{r({title:"Failed to log time",description:y.message,variant:"destructive"})}}),A=v.useCallback(y=>{const V=Array.isArray(y)?y:[y];return(d==null?void 0:d.filter(S=>V.includes(S.workflow_status)))||[]},[d]),U=v.useCallback(()=>(d==null?void 0:d.filter(y=>y.assigned_to===(i==null?void 0:i.id)))||[],[d,i==null?void 0:i.id]),E=v.useCallback(()=>{const y=new Date().toISOString().split("T")[0];return(d==null?void 0:d.filter(V=>V.due_date&&V.due_date<y&&!["signed_off","not_applicable"].includes(V.workflow_status)))||[]},[d]),W=v.useCallback(()=>(d==null?void 0:d.filter(y=>y.workflow_status==="pending_review"))||[],[d]);return{procedures:d||[],stats:h,isLoading:u,error:c,getProceduresByStatus:A,getMyProcedures:U,getOverdueProcedures:E,getPendingMyReview:W,startProcedure:m.mutate,startProcedureAsync:m.mutateAsync,completeProcedure:f.mutate,completeProcedureAsync:f.mutateAsync,submitForReview:p.mutate,submitForReviewAsync:p.mutateAsync,reviewProcedure:N.mutate,reviewProcedureAsync:N.mutateAsync,markNotApplicable:g.mutate,markNotApplicableAsync:g.mutateAsync,updateProcedure:D.mutate,updateProcedureAsync:D.mutateAsync,logTime:w.mutate,logTimeAsync:w.mutateAsync,refetch:b,isStarting:m.isPending,isCompleting:f.isPending,isSubmitting:p.isPending,isReviewing:N.isPending,isUpdating:D.isPending,isLoggingTime:w.isPending}}function Kle(s,e={}){const{toast:r}=Hs(),a=Lr(),{user:i}=ar(),{severity:n,status:o,includeRepeatOnly:l}=e,{data:d,isLoading:u,error:c,refetch:b}=bs({queryKey:["finding-management",s,n,o,l],queryFn:async()=>{if(!s)return[];let y=le.from("audit_findings").select(`
          *,
          identifier_profile:identified_by (
            id,
            full_name,
            email
          ),
          owner_profile:owner_id (
            id,
            full_name,
            email
          ),
          source_procedure:source_procedure_id (
            id,
            name,
            procedure_reference
          ),
          source_workpaper:source_workpaper_id (
            id,
            title,
            workpaper_reference
          ),
          prior_year_finding:prior_year_finding_id (
            id,
            title,
            finding_reference
          )
        `).eq("engagement_id",s).order("created_at",{ascending:!1});if(n){const O=Array.isArray(n)?n:[n];y=y.in("severity",O)}if(o){const O=Array.isArray(o)?o:[o];y=y.in("status",O)}l&&(y=y.eq("is_repeat_finding",!0));const{data:V,error:S}=await y;if(S)throw S;return V},enabled:!!s,staleTime:30*1e3}),h=v.useMemo(()=>{if(!d||d.length===0)return{total:0,bySeverity:{critical:0,high:0,medium:0,low:0,observation:0},byStatus:{identified:0,open:0,discussed:0,resolved:0,closed:0},repeatFindings:0,pendingRemediation:0,overdueRemediation:0};const y=new Date().toISOString().split("T")[0],V={critical:0,high:0,medium:0,low:0,observation:0},S={identified:0,open:0,discussed:0,resolved:0,closed:0};let O=0,_=0,M=0;return d.forEach(R=>{V[R.severity]=(V[R.severity]||0)+1,S[R.status]=(S[R.status]||0)+1,R.is_repeat_finding&&O++,["pending","in_progress"].includes(R.remediation_status)&&(_++,R.remediation_deadline&&R.remediation_deadline<y&&M++)}),{total:d.length,bySeverity:V,byStatus:S,repeatFindings:O,pendingRemediation:_,overdueRemediation:M}},[d]),m=Rs({mutationFn:async y=>{var R;const{data:V}=await le.auth.getUser(),{data:S}=await le.from("audits").select("firm_id").eq("id",y.engagementId).single(),O={engagement_id:y.engagementId,firm_id:S==null?void 0:S.firm_id,title:y.title,severity:y.severity,description:y.description||null,source_procedure_id:y.sourceProcedureId||null,source_workpaper_id:y.sourceWorkpaperId||null,criteria:y.criteria||null,condition:y.condition||null,cause:y.cause||null,effect:y.effect||null,recommendation:y.recommendation||null,category:y.category||null,owner_id:y.ownerId||null,identified_by:(R=V==null?void 0:V.user)==null?void 0:R.id,identified_date:new Date().toISOString(),status:"identified",remediation_status:"pending"},{data:_,error:M}=await le.from("audit_findings").insert(O).select(`
          *,
          identifier_profile:identified_by (
            id,
            full_name,
            email
          )
        `).single();if(M)throw M;return _},onSuccess:y=>{a.invalidateQueries({queryKey:["finding-management",s]}),a.invalidateQueries({queryKey:["engagement-finding-stats",s]}),r({title:"Finding created",description:`Finding ${y.finding_reference||""} has been created.`})},onError:y=>{r({title:"Failed to create finding",description:y.message,variant:"destructive"})}}),f=Rs({mutationFn:async({findingId:y,updates:V})=>{const{data:S,error:O}=await le.from("audit_findings").update({...V,updated_at:new Date().toISOString()}).eq("id",y).select().single();if(O)throw O;return S},onSuccess:()=>{a.invalidateQueries({queryKey:["finding-management",s]}),a.invalidateQueries({queryKey:["engagement-finding-stats",s]}),r({title:"Finding updated",description:"The finding has been updated."})},onError:y=>{r({title:"Failed to update finding",description:y.message,variant:"destructive"})}}),p=Rs({mutationFn:async({findingId:y,response:V,remediationDeadline:S})=>{const O={management_response:V,management_response_date:new Date().toISOString(),management_response_by:i==null?void 0:i.id,status:"discussed",remediation_status:"in_progress"};S&&(O.remediation_deadline=S);const{data:_,error:M}=await le.from("audit_findings").update(O).eq("id",y).select().single();if(M)throw M;return _},onSuccess:()=>{a.invalidateQueries({queryKey:["finding-management",s]}),r({title:"Response submitted",description:"Management response has been recorded."})},onError:y=>{r({title:"Failed to submit response",description:y.message,variant:"destructive"})}}),N=Rs({mutationFn:async({findingId:y,verified:V,notes:S})=>{const O={remediation_status:V?"verified":"not_remediated",status:V?"resolved":"open"},{data:_,error:M}=await le.from("audit_findings").update(O).eq("id",y).select().single();if(M)throw M;return _},onSuccess:(y,V)=>{a.invalidateQueries({queryKey:["finding-management",s]}),a.invalidateQueries({queryKey:["engagement-finding-stats",s]}),r({title:V.verified?"Remediation verified":"Remediation failed",description:V.verified?"The finding has been marked as resolved.":"The finding requires further remediation."})},onError:y=>{r({title:"Failed to verify remediation",description:y.message,variant:"destructive"})}}),g=Rs({mutationFn:async y=>{const{data:V,error:S}=await le.from("audit_findings").update({status:"closed"}).eq("id",y).select().single();if(S)throw S;return V},onSuccess:()=>{a.invalidateQueries({queryKey:["finding-management",s]}),a.invalidateQueries({queryKey:["engagement-finding-stats",s]}),r({title:"Finding closed",description:"The finding has been closed."})},onError:y=>{r({title:"Failed to close finding",description:y.message,variant:"destructive"})}}),D=Rs({mutationFn:async y=>{const{error:V}=await le.from("audit_findings").delete().eq("id",y);if(V)throw V;return y},onSuccess:()=>{a.invalidateQueries({queryKey:["finding-management",s]}),a.invalidateQueries({queryKey:["engagement-finding-stats",s]}),r({title:"Finding deleted",description:"The finding has been deleted."})},onError:y=>{r({title:"Failed to delete finding",description:y.message,variant:"destructive"})}}),w=v.useCallback(y=>{const V=Array.isArray(y)?y:[y];return(d==null?void 0:d.filter(S=>V.includes(S.severity)))||[]},[d]),A=v.useCallback(()=>w(["critical","high"]),[w]),U=v.useCallback(()=>(d==null?void 0:d.filter(y=>y.status==="identified"&&!y.management_response))||[],[d]),E=v.useCallback(y=>(d==null?void 0:d.filter(V=>V.source_procedure_id===y))||[],[d]),W=v.useCallback(()=>(d==null?void 0:d.filter(y=>y.is_repeat_finding))||[],[d]);return{findings:d||[],stats:h,isLoading:u,error:c,getFindingsBySeverity:w,getCriticalFindings:A,getAwaitingResponse:U,getFindingsForProcedure:E,getRepeatFindings:W,createFinding:m.mutate,createFindingAsync:m.mutateAsync,updateFinding:f.mutate,updateFindingAsync:f.mutateAsync,submitManagementResponse:p.mutate,submitManagementResponseAsync:p.mutateAsync,verifyRemediation:N.mutate,verifyRemediationAsync:N.mutateAsync,closeFinding:g.mutate,closeFindingAsync:g.mutateAsync,deleteFinding:D.mutate,deleteFindingAsync:D.mutateAsync,refetch:b,isCreating:m.isPending,isUpdating:f.isPending,isSubmittingResponse:p.isPending,isVerifying:N.isPending,isClosing:g.isPending,isDeleting:D.isPending}}function Rp({title:s,value:e,subtitle:r,icon:a,iconColor:i="text-primary",trend:n,onClick:o}){return t.jsxDEV(B,{className:Ce("transition-all",o&&"cursor-pointer hover:shadow-md hover:border-primary/50"),onClick:o,children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:79,columnNumber:13},this),t.jsxDEV("p",{className:"text-2xl font-bold mt-1",children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:80,columnNumber:13},this),r&&t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:r},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:82,columnNumber:15},this),n&&t.jsxDEV("div",{className:Ce("flex items-center gap-1 text-xs mt-2",n.isPositive?"text-green-600":"text-red-600"),children:[t.jsxDEV(da,{className:Ce("h-3 w-3",!n.isPositive&&"rotate-180")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:91,columnNumber:17},this),t.jsxDEV("span",{children:[n.value,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:94,columnNumber:17},this),t.jsxDEV("span",{className:"text-muted-foreground",children:n.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:95,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:78,columnNumber:11},this),t.jsxDEV("div",{className:Ce("h-10 w-10 rounded-full flex items-center justify-center bg-muted",i),children:t.jsxDEV(a,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:76,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:69,columnNumber:5},this)}function Mp({label:s,description:e,icon:r,onClick:a,badge:i,badgeVariant:n="secondary"}){return t.jsxDEV(F,{variant:"outline",className:"h-auto p-4 justify-start text-left flex-col items-start",onClick:a,children:[t.jsxDEV("div",{className:"flex items-center justify-between w-full mb-2",children:[t.jsxDEV(r,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:138,columnNumber:9},this),i&&t.jsxDEV(he,{variant:n,children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:139,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:137,columnNumber:7},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:s},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:142,columnNumber:9},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-0.5",children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:141,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:132,columnNumber:5},this)}function Qle({member:s}){var a,i,n,o,l;const e=((i=(a=s.profiles)==null?void 0:a.full_name)==null?void 0:i.split(" ").map(d=>d[0]).join("").toUpperCase())||"?",r=s.hours_allocated>0?Math.round(s.hours_actual/s.hours_allocated*100):0;return t.jsxDEV("div",{className:"flex items-center gap-3 py-2",children:[t.jsxDEV(Mn,{className:"h-8 w-8",children:[t.jsxDEV(Gc,{src:((n=s.profiles)==null?void 0:n.avatar_url)||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:180,columnNumber:9},this),t.jsxDEV(Ln,{className:"text-xs",children:e},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:181,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:179,columnNumber:7},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium truncate",children:((o=s.profiles)==null?void 0:o.full_name)||((l=s.profiles)==null?void 0:l.email)||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:184,columnNumber:9},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground capitalize",children:s.role},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:183,columnNumber:7},this),t.jsxDEV(Zh,{children:t.jsxDEV(ch,{children:[t.jsxDEV(mh,{children:t.jsxDEV(he,{variant:r>100?"destructive":r>80?"default":"secondary",children:[s.hours_actual,"/",s.hours_allocated,"h"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:191,columnNumber:11},this),t.jsxDEV(om,{children:[r,"% utilization"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:190,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:189,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:178,columnNumber:5},this)}function Yle(){const s=Qt(),{engagement:e,client:r,team:a,completionPercentage:i,daysUntilDue:n,hoursRemaining:o,budgetVariance:l,procedureStats:d,findingStats:u,workpaperStats:c,materiality:b}=Hle(),{procedures:h,stats:m}=Gle(e==null?void 0:e.id),{findings:f,stats:p}=Kle(e==null?void 0:e.id),N=`/engagements/${e==null?void 0:e.id}`,g=(m==null?void 0:m.overdue)||0;return m!=null&&m.dueSoon,t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.audit_title)||"Engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:243,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:[r==null?void 0:r.client_name,"  ",(e==null?void 0:e.audit_number)||"No number"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:244,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:242,columnNumber:9},this),t.jsxDEV(he,{variant:n<0?"destructive":n<=7?"default":"secondary",className:"text-sm",children:n<0?`${Math.abs(n)} days overdue`:n===0?"Due today":`${n} days remaining`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:248,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:241,columnNumber:7},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("span",{className:"text-sm font-medium",children:"Overall Progress"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:270,columnNumber:13},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[i,"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:271,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:269,columnNumber:11},this),t.jsxDEV(cr,{value:i,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:273,columnNumber:11},this),t.jsxDEV("div",{className:"flex items-center justify-between mt-4 text-sm",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Ks,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV("span",{children:[d.complete," complete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:276,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(dt,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:281,columnNumber:17},this),t.jsxDEV("span",{children:[d.in_progress+d.in_review," in progress"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:282,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:280,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV(Ys,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:285,columnNumber:17},this),t.jsxDEV("span",{children:[d.not_started," not started"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:275,columnNumber:13},this),g>0&&t.jsxDEV(he,{variant:"destructive",children:[t.jsxDEV(Er,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:291,columnNumber:17},this),g," overdue"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:290,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:274,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:268,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:267,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxDEV(Rp,{title:"Procedures",value:`${d.complete}/${d.total}`,subtitle:`${(m==null?void 0:m.pending_review)||0} pending review`,icon:Gv,onClick:()=>s(`${N}/procedures`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:301,columnNumber:9},this),t.jsxDEV(Rp,{title:"Findings",value:u.total,subtitle:`${u.open} open`,icon:Ys,iconColor:u.open>0?"text-orange-500":"text-primary",onClick:()=>s(`${N}/findings`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:308,columnNumber:9},this),t.jsxDEV(Rp,{title:"Workpapers",value:c.total,subtitle:`${c.pending_review} pending review`,icon:sW,onClick:()=>s(`${N}/workpapers`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:316,columnNumber:9},this),t.jsxDEV(Rp,{title:"Hours Remaining",value:o,subtitle:l>0?`${l.toFixed(1)}% over budget`:`${Math.abs(l).toFixed(1)}% under budget`,icon:uW,iconColor:l>10?"text-red-500":"text-primary",onClick:()=>s(`${N}/budget`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:323,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:300,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Quick Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:344,columnNumber:15},this),t.jsxDEV(Ke,{children:"Common tasks for this engagement"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:345,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:343,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxDEV(Mp,{label:"My Procedures",description:"View assigned tasks",icon:Gv,onClick:()=>s(`${N}/procedures?assignedToMe=true`),badge:String((m==null?void 0:m.in_progress)||0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:349,columnNumber:17},this),t.jsxDEV(Mp,{label:"Add Finding",description:"Document an issue",icon:Ys,onClick:()=>s(`${N}/findings/new`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:356,columnNumber:17},this),t.jsxDEV(Mp,{label:"Create Workpaper",description:"New documentation",icon:Ws,onClick:()=>s(`${N}/workpapers/new`)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:362,columnNumber:17},this),t.jsxDEV(Mp,{label:"Review Queue",description:"Items to review",icon:Ks,onClick:()=>s(`${N}/review`),badge:String(c.pending_review),badgeVariant:c.pending_review>0?"destructive":"secondary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:368,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:348,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:347,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:342,columnNumber:11},this),u.total>0&&t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex-row items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Findings Summary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:385,columnNumber:19},this),t.jsxDEV(Ke,{children:"Issues identified during the audit"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:386,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:384,columnNumber:17},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(`${N}/findings`),children:["View All",t.jsxDEV(xl,{className:"h-4 w-4 ml-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:383,columnNumber:15},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Critical",count:(p==null?void 0:p.bySeverity.critical)||0,color:"bg-red-500"},{label:"High",count:(p==null?void 0:p.bySeverity.high)||0,color:"bg-orange-500"},{label:"Medium",count:(p==null?void 0:p.bySeverity.medium)||0,color:"bg-yellow-500"},{label:"Low",count:(p==null?void 0:p.bySeverity.low)||0,color:"bg-blue-500"}].map(D=>t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:Ce("h-12 w-12 rounded-full flex items-center justify-center mx-auto text-white font-bold",D.color),children:D.count},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:402,columnNumber:23},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:D.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:410,columnNumber:23},this)]},D.label,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:401,columnNumber:21},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:394,columnNumber:17},this),f&&f.length>0&&t.jsxDEV("div",{className:"mt-6 space-y-2",children:[t.jsxDEV("h4",{className:"text-sm font-medium",children:"Recent Findings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:418,columnNumber:21},this),f.slice(0,3).map(D=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>s(`${N}/findings/${D.id}`),children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(he,{variant:"outline",className:Ce(D.severity==="critical"&&"border-red-500 text-red-500",D.severity==="high"&&"border-orange-500 text-orange-500",D.severity==="medium"&&"border-yellow-500 text-yellow-500",D.severity==="low"&&"border-blue-500 text-blue-500"),children:D.finding_reference},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:426,columnNumber:27},this),t.jsxDEV("span",{className:"text-sm truncate max-w-[200px]",children:D.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:437,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:425,columnNumber:25},this),t.jsxDEV(he,{variant:"secondary",className:"capitalize",children:D.status},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:439,columnNumber:25},this)]},D.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:420,columnNumber:23},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:417,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:393,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:382,columnNumber:13},this),b&&t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(Lu,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:455,columnNumber:19},this),"Materiality"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:454,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:453,columnNumber:15},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Overall Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:462,columnNumber:21},this),t.jsxDEV("p",{className:"text-xl font-bold",children:["$",b.overall_materiality.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:463,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:461,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Performance Materiality"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:468,columnNumber:21},this),t.jsxDEV("p",{className:"text-xl font-bold",children:["$",b.performance_materiality.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:469,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:467,columnNumber:19},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Clearly Trivial"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:474,columnNumber:21},this),t.jsxDEV("p",{className:"text-xl font-bold",children:["$",b.clearly_trivial_threshold.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:475,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:473,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:460,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-3",children:["Based on ",b.benchmark_type," of $",b.benchmark_amount.toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:480,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:459,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:452,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:340,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex-row items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(er,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:496,columnNumber:19},this),"Team"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:495,columnNumber:17},this),t.jsxDEV(Ke,{children:[a.length," members"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:499,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:494,columnNumber:15},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>s(`${N}/team`),children:"Manage"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:501,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:493,columnNumber:13},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"divide-y",children:a.slice(0,5).map(D=>t.jsxDEV(Qle,{member:D},D.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:508,columnNumber:19},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:506,columnNumber:15},this),a.length>5&&t.jsxDEV(F,{variant:"ghost",size:"sm",className:"w-full mt-2",onClick:()=>s(`${N}/team`),children:["View all ",a.length," members"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:512,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:505,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:492,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(la,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:528,columnNumber:17},this),"Key Dates"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:527,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:526,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-3",children:[(e==null?void 0:e.start_date)&&t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Start Date"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:536,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm font-medium",children:Ds(new Date(e.start_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:537,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:535,columnNumber:19},this),(e==null?void 0:e.end_date)&&t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Target Completion"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:544,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm font-medium",children:Ds(new Date(e.end_date),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:545,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:543,columnNumber:19},this),(e==null?void 0:e.reporting_deadline)&&t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Report Deadline"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:552,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm font-medium",children:Ds(new Date(e.reporting_deadline),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:553,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:551,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:533,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:532,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:525,columnNumber:11},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:t.jsxDEV(ue,{className:"flex items-center gap-2",children:[t.jsxDEV(fo,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:566,columnNumber:17},this),"Budget"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:565,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:564,columnNumber:13},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Hours Used"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:574,columnNumber:21},this),t.jsxDEV("span",{className:"text-sm",children:[a.reduce((D,w)=>D+(w.hours_actual||0),0)," /"," ",a.reduce((D,w)=>D+(w.hours_allocated||0),0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:575,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:573,columnNumber:19},this),t.jsxDEV(cr,{value:a.reduce((D,w)=>D+(w.hours_allocated||0),0)>0?a.reduce((D,w)=>D+(w.hours_actual||0),0)/a.reduce((D,w)=>D+(w.hours_allocated||0),0)*100:0,className:"h-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:580,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:572,columnNumber:17},this),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Variance"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:592,columnNumber:19},this),t.jsxDEV(he,{variant:l>0?"destructive":"secondary",children:[l>0?"+":"",l.toFixed(1),"%"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:593,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:591,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:571,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:570,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:563,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:490,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:338,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/engagement/EngagementDashboard.tsx",lineNumber:239,columnNumber:5},this)}const Lp={pending_review:{label:"Pending Review",color:"text-yellow-600 bg-yellow-100",icon:dt},in_review:{label:"In Review",color:"text-blue-600 bg-blue-100",icon:pn},changes_requested:{label:"Changes Requested",color:"text-orange-600 bg-orange-100",icon:Ys},approved:{label:"Approved",color:"text-green-600 bg-green-100",icon:Ks}},Jle={workpaper:{label:"Workpaper",icon:Ws},procedure:{label:"Procedure",icon:Qh}};function Zle({engagementId:s}){const{engagementId:e}=Al(),r=s||e,a=Qt(),{user:i}=ar(),[n,o]=v.useState("my-queue"),[l,d]=v.useState(""),[u,c]=v.useState("all"),[b,h]=v.useState("all"),{data:m,isLoading:f}=bs({queryKey:["review-queue-workpapers",r],queryFn:async()=>{if(!r)return[];const{data:E,error:W}=await le.from("audit_workpapers").select(`
          id,
          title,
          workpaper_reference,
          review_status,
          section_id,
          prepared_by,
          reviewed_by,
          review_deadline,
          created_at,
          updated_at,
          preparer:prepared_by (
            id,
            full_name,
            avatar_url
          ),
          reviewer:reviewed_by (
            id,
            full_name,
            avatar_url
          ),
          sections:section_id (
            name
          )
        `).eq("engagement_id",r).in("review_status",["pending_review","in_review","changes_requested","approved"]);if(W)throw W;const y=E.map(O=>O.id),{data:V}=await le.from("review_notes").select("workpaper_id, status").in("workpaper_id",y),S=new Map;return V==null||V.forEach(O=>{const _=S.get(O.workpaper_id)||{total:0,unresolved:0};_.total+=1,O.status!=="resolved"&&(_.unresolved+=1),S.set(O.workpaper_id,_)}),E.map(O=>{var _,M,R;return{id:O.id,type:"workpaper",title:O.title,reference:O.workpaper_reference,status:O.review_status,preparer:O.preparer,reviewer:O.reviewer,section:((_=O.sections)==null?void 0:_.name)||null,priority:Xle(O.review_deadline),submittedAt:O.updated_at,dueDate:O.review_deadline,noteCount:((M=S.get(O.id))==null?void 0:M.total)||0,unresolvedNotes:((R=S.get(O.id))==null?void 0:R.unresolved)||0}})},enabled:!!r,staleTime:30*1e3}),{data:p,isLoading:N}=bs({queryKey:["review-queue-procedures",r],queryFn:async()=>{if(!r)return[];const{data:E,error:W}=await le.from("audit_procedures").select(`
          id,
          name,
          procedure_reference,
          workflow_status,
          section_id,
          assigned_to,
          assigned_reviewer,
          created_at,
          updated_at,
          assignee:assigned_to (
            id,
            full_name,
            avatar_url
          ),
          reviewer:assigned_reviewer (
            id,
            full_name,
            avatar_url
          ),
          sections:section_id (
            name
          )
        `).eq("engagement_id",r).in("workflow_status",["pending_review","in_review","changes_requested","approved"]);if(W)throw W;return E.map(y=>{var V;return{id:y.id,type:"procedure",title:y.name,reference:y.procedure_reference,status:y.workflow_status,preparer:y.assignee,reviewer:y.reviewer,section:((V=y.sections)==null?void 0:V.name)||null,priority:"medium",submittedAt:y.updated_at,dueDate:null,noteCount:0,unresolvedNotes:0}})},enabled:!!r,staleTime:30*1e3}),g=v.useMemo(()=>[...m||[],...p||[]],[m,p]),D=v.useMemo(()=>{let E=g;if(n==="my-queue"?E=E.filter(W=>{var y;return((y=W.reviewer)==null?void 0:y.id)===(i==null?void 0:i.id)&&W.status!=="approved"}):n==="completed"&&(E=E.filter(W=>W.status==="approved")),u!=="all"&&(E=E.filter(W=>W.type===u)),b!=="all"&&(E=E.filter(W=>W.status===b)),l){const W=l.toLowerCase();E=E.filter(y=>{var V,S;return y.title.toLowerCase().includes(W)||((V=y.reference)==null?void 0:V.toLowerCase().includes(W))||((S=y.section)==null?void 0:S.toLowerCase().includes(W))})}return E.sort((W,y)=>{const V={high:0,medium:1,low:2};return V[W.priority]!==V[y.priority]?V[W.priority]-V[y.priority]:new Date(y.submittedAt).getTime()-new Date(W.submittedAt).getTime()})},[g,n,u,b,l,i==null?void 0:i.id]),w=v.useMemo(()=>({myQueue:g.filter(W=>{var y;return((y=W.reviewer)==null?void 0:y.id)===(i==null?void 0:i.id)&&W.status!=="approved"}).length,pending:g.filter(W=>W.status==="pending_review").length,inReview:g.filter(W=>W.status==="in_review").length,changesRequested:g.filter(W=>W.status==="changes_requested").length,approved:g.filter(W=>W.status==="approved").length,urgent:g.filter(W=>W.priority==="high").length}),[g,i==null?void 0:i.id]),A=f||N,U=E=>{E.type==="workpaper"?a(`/engagements/${r}/workpapers/${E.id}`):a(`/engagements/${r}/procedures/${E.id}`)};return r?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:"Review Queue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:354,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Workpapers and procedures awaiting review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:355,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:353,columnNumber:9},this),t.jsxDEV(F,{variant:"outline",onClick:()=>window.location.reload(),children:[t.jsxDEV(lN,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:360,columnNumber:11},this),"Refresh"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:359,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:352,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-primary/10",children:t.jsxDEV(er,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:371,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:370,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.myQueue},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:374,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"My Queue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:375,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:369,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:368,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:367,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-yellow-100",children:t.jsxDEV(dt,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:385,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:384,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.pending},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:388,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Pending"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:389,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:387,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:383,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:382,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:381,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-blue-100",children:t.jsxDEV(pn,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:399,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:398,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.inReview},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:402,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"In Review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:403,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:397,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:396,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:395,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-orange-100",children:t.jsxDEV(Ys,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:413,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:412,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.changesRequested},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:416,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Changes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:417,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:411,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:410,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:409,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-green-100",children:t.jsxDEV(Ks,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:427,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:426,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.approved},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:430,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Approved"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:431,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:429,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:425,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:424,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:423,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 rounded-full bg-red-100",children:t.jsxDEV(Er,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:441,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:440,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-2xl font-bold",children:w.urgent},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:444,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Urgent"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:445,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:443,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:439,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:438,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:437,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:366,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV(Pr,{value:n,onValueChange:E=>o(E),children:t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"my-queue",className:"gap-2",children:[t.jsxDEV(wl,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:459,columnNumber:19},this),"My Queue",w.myQueue>0&&t.jsxDEV(he,{variant:"secondary",className:"ml-1",children:w.myQueue},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:462,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:458,columnNumber:17},this),t.jsxDEV($e,{value:"all",children:"All Items"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:467,columnNumber:17},this),t.jsxDEV($e,{value:"completed",children:"Completed"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:468,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:457,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:456,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:474,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search...",value:l,onChange:E=>d(E.target.value),className:"pl-9 w-[200px]"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:475,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:473,columnNumber:15},this),t.jsxDEV(is,{value:u,onValueChange:E=>c(E),children:[t.jsxDEV(rs,{className:"w-[140px]",children:t.jsxDEV(ns,{placeholder:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:485,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:484,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:488,columnNumber:19},this),t.jsxDEV(X,{value:"workpaper",children:"Workpapers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:489,columnNumber:19},this),t.jsxDEV(X,{value:"procedure",children:"Procedures"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:490,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:487,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:483,columnNumber:15},this),t.jsxDEV(is,{value:b,onValueChange:E=>h(E),children:[t.jsxDEV(rs,{className:"w-[160px]",children:t.jsxDEV(ns,{placeholder:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:496,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:495,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Statuses"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:499,columnNumber:19},this),Object.entries(Lp).map(([E,W])=>t.jsxDEV(X,{value:E,children:W.label},E,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:501,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:498,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:494,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:472,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:455,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:454,columnNumber:9},this),t.jsxDEV(q,{children:A?t.jsxDEV("div",{className:"space-y-4",children:[1,2,3,4,5].map(E=>t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV(Xs,{className:"h-10 w-10 rounded"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:516,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV(Xs,{className:"h-4 w-64"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:518,columnNumber:21},this),t.jsxDEV(Xs,{className:"h-3 w-32"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:519,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:517,columnNumber:19},this),t.jsxDEV(Xs,{className:"h-6 w-24"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:521,columnNumber:19},this)]},E,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:515,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:513,columnNumber:13},this):D.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(Ks,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:527,columnNumber:15},this),t.jsxDEV("h3",{className:"text-lg font-medium",children:"No items to review"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:528,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:n==="my-queue"?"You're all caught up! No items are waiting for your review.":"No items match the current filters."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:529,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:526,columnNumber:13},this):t.jsxDEV(Wa,{className:"h-[500px]",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{className:"w-[50px]",children:"Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:540,columnNumber:21},this),t.jsxDEV(Qe,{children:"Item"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:541,columnNumber:21},this),t.jsxDEV(Qe,{children:"Section"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:542,columnNumber:21},this),t.jsxDEV(Qe,{children:"Preparer"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:543,columnNumber:21},this),t.jsxDEV(Qe,{children:"Status"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:544,columnNumber:21},this),t.jsxDEV(Qe,{children:"Notes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:545,columnNumber:21},this),t.jsxDEV(Qe,{children:"Submitted"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:546,columnNumber:21},this),t.jsxDEV(Qe,{className:"w-[50px]"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:547,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:539,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:538,columnNumber:17},this),t.jsxDEV(Ba,{children:D.map(E=>{var V;const W=Jle[E.type].icon,y=Lp[E.status].icon;return t.jsxDEV(Ot,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>U(E),children:[t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:Ce("p-2 rounded",E.type==="workpaper"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"),children:t.jsxDEV(W,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:570,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:562,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:561,columnNumber:25},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[E.priority==="high"&&t.jsxDEV(Er,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:577,columnNumber:31},this),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"font-medium",children:E.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:580,columnNumber:31},this),E.reference&&t.jsxDEV("div",{className:"text-xs text-muted-foreground font-mono",children:E.reference},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:582,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:579,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:575,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:574,columnNumber:25},this),t.jsxDEV(Fe,{children:t.jsxDEV("span",{className:"text-muted-foreground",children:E.section||"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:591,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:590,columnNumber:25},this),t.jsxDEV(Fe,{children:E.preparer?t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(Mn,{className:"h-6 w-6",children:[t.jsxDEV(Gc,{src:E.preparer.avatar_url||void 0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:600,columnNumber:33},this),t.jsxDEV(Ln,{className:"text-xs",children:((V=E.preparer.full_name)==null?void 0:V[0])||"?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:601,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:599,columnNumber:31},this),t.jsxDEV("span",{className:"text-sm",children:E.preparer.full_name||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:605,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:598,columnNumber:29},this):t.jsxDEV("span",{className:"text-muted-foreground",children:"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:610,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:596,columnNumber:25},this),t.jsxDEV(Fe,{children:t.jsxDEV(he,{variant:"secondary",className:Ce("gap-1",Lp[E.status].color),children:[t.jsxDEV(y,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:622,columnNumber:29},this),Lp[E.status].label]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:615,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:614,columnNumber:25},this),t.jsxDEV(Fe,{children:E.noteCount>0?t.jsxDEV("div",{className:"flex items-center gap-1",children:t.jsxDEV(he,{variant:E.unresolvedNotes>0?"destructive":"secondary",children:E.unresolvedNotes>0?`${E.unresolvedNotes} unresolved`:`${E.noteCount} notes`},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:630,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:629,columnNumber:29},this):t.jsxDEV("span",{className:"text-muted-foreground text-sm",children:"-"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:639,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:627,columnNumber:25},this),t.jsxDEV(Fe,{children:[t.jsxDEV("div",{className:"text-sm text-muted-foreground",children:mm(new Date(E.submittedAt),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:644,columnNumber:27},this),E.dueDate&&t.jsxDEV("div",{className:Ce("text-xs",new Date(E.dueDate)<new Date?"text-red-500":"text-muted-foreground"),children:["Due ",Ds(new Date(E.dueDate),"MMM d")]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:650,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:643,columnNumber:25},this),t.jsxDEV(Fe,{children:t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,onClick:S=>S.stopPropagation(),children:t.jsxDEV(F,{variant:"ghost",size:"icon",children:t.jsxDEV(Tk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:667,columnNumber:33},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:666,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:665,columnNumber:29},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(fr,{onClick:()=>U(E),children:[t.jsxDEV(pn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:672,columnNumber:33},this),"View"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:671,columnNumber:31},this),t.jsxDEV(fr,{onClick:()=>U(E),children:[t.jsxDEV(v6,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:676,columnNumber:33},this),"Start Review"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:675,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:670,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:664,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:663,columnNumber:25},this)]},`${E.type}-${E.id}`,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:556,columnNumber:23},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:550,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:537,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:536,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:511,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:453,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:350,columnNumber:5},this):t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV("p",{className:"text-muted-foreground",children:"No engagement selected"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:344,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/review/ReviewQueuePage.tsx",lineNumber:343,columnNumber:7},this)}function Xle(s){if(!s)return"low";const e=new Date(s),r=new Date,a=Math.ceil((e.getTime()-r.getTime())/(1e3*60*60*24));return a<0||a<=2?"high":a<=7?"medium":"low"}const nn={all:["notifications"],list:()=>[...nn.all,"list"],unreadCount:()=>[...nn.all,"unread-count"]};function ede(){const{user:s}=ar(),{toast:e}=Hs(),r=Lr(),{data:a=[],isLoading:i,error:n,refetch:o}=bs({queryKey:nn.list(),queryFn:async()=>{if(!(s!=null&&s.id))return[];try{const{data:f,error:p}=await le.from("notifications").select("*").eq("user_id",s.id).order("created_at",{ascending:!1}).limit(100);if(p){if(p.code==="42P01"||p.message.includes("does not exist"))return console.log("Notifications table not found - migrations may need to be applied"),$y();throw p}return(f||[]).map(sde)}catch(f){return console.log("Using mock notifications:",f),$y()}},enabled:!!(s!=null&&s.id),staleTime:30*1e3,refetchInterval:60*1e3}),l=v.useMemo(()=>{const f=new Map;return a.forEach(p=>{const N=ZA(p.created_at);let g;OF(N)?g="today":WF(N)?g="yesterday":yF(N)?g="thisWeek":(g=Ds(N,"yyyy-MM"),Ds(N,"MMMM yyyy")),f.has(g)||f.set(g,[]),f.get(g).push(p)}),Array.from(f.entries()).map(([p,N])=>({date:p,label:p==="today"?"Today":p==="yesterday"?"Yesterday":p==="thisWeek"?"This Week":N[0]?Ds(ZA(N[0].created_at),"MMMM yyyy"):p,notifications:N}))},[a]),d=a.filter(f=>!f.read).length,u=a.some(f=>!f.read&&f.priority==="urgent"),c=Rs({mutationFn:async f=>{if(!(s!=null&&s.id))throw new Error("Not authenticated");const{error:p}=await le.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",f).eq("user_id",s.id);if(p)throw p},onMutate:async f=>{await r.cancelQueries({queryKey:nn.list()});const p=r.getQueryData(nn.list());return r.setQueryData(nn.list(),N=>(N==null?void 0:N.map(g=>g.id===f?{...g,read:!0,read_at:new Date().toISOString()}:g))||[]),{previous:p}},onError:(f,p,N)=>{N!=null&&N.previous&&r.setQueryData(nn.list(),N.previous),console.error("Failed to mark as read:",f)}}),b=Rs({mutationFn:async()=>{if(!(s!=null&&s.id))throw new Error("Not authenticated");const{error:f}=await le.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("user_id",s.id).eq("read",!1);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:nn.list()}),e({title:"All notifications marked as read"})},onError:f=>{e({title:"Failed to mark all as read",description:String(f),variant:"destructive"})}}),h=Rs({mutationFn:async f=>{if(!(s!=null&&s.id))throw new Error("Not authenticated");const{error:p}=await le.from("notifications").delete().eq("id",f).eq("user_id",s.id);if(p)throw p},onMutate:async f=>{await r.cancelQueries({queryKey:nn.list()});const p=r.getQueryData(nn.list());return r.setQueryData(nn.list(),N=>(N==null?void 0:N.filter(g=>g.id!==f))||[]),{previous:p}},onError:(f,p,N)=>{N!=null&&N.previous&&r.setQueryData(nn.list(),N.previous),e({title:"Failed to delete notification",description:String(f),variant:"destructive"})}}),m=Rs({mutationFn:async()=>{if(!(s!=null&&s.id))throw new Error("Not authenticated");const{error:f}=await le.from("notifications").delete().eq("user_id",s.id).eq("read",!0);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:nn.list()}),e({title:"Read notifications cleared"})},onError:f=>{e({title:"Failed to clear notifications",description:String(f),variant:"destructive"})}});return{notifications:a,groupedNotifications:l,unreadCount:d,hasUrgent:u,isLoading:i,error:n,refetch:o,markAsRead:c.mutate,markAllAsRead:b.mutate,deleteNotification:h.mutate,clearReadNotifications:m.mutate,isMarkingRead:c.isPending,isMarkingAllRead:b.isPending,isDeleting:h.isPending,isClearing:m.isPending}}function sde(s){return{id:s.id,user_id:s.user_id,type:s.type||s.notification_type||"system",title:s.title||"Notification",message:s.message||s.body||"",priority:s.priority||"normal",read:s.read||s.is_read||!1,data:s.data,created_at:s.created_at,read_at:s.read_at}}function $y(){const s=new Date,e=new Date(s.getTime()-60*60*1e3),r=new Date(s.getTime()-24*60*60*1e3),a=new Date(s.getTime()-2*24*60*60*1e3);return[{id:"mock-1",user_id:"demo",type:"signoff_required",title:"Sign-off Required",message:"Revenue Testing workpaper is ready for your review and sign-off.",priority:"high",read:!1,data:{action_url:"/workpapers/1",entity_type:"workpaper"},created_at:e.toISOString()},{id:"mock-2",user_id:"demo",type:"review_comment",title:"New Review Note",message:"Sarah left a comment on your AR Confirmation workpaper.",priority:"normal",read:!1,data:{action_url:"/workpapers/2",entity_type:"workpaper"},created_at:e.toISOString()},{id:"mock-3",user_id:"demo",type:"deadline_reminder",title:"Deadline Approaching",message:"Tech Solutions Inc audit is due in 5 days.",priority:"high",read:!1,data:{action_url:"/engagements/1",entity_type:"engagement"},created_at:r.toISOString()},{id:"mock-4",user_id:"demo",type:"task_assignment",title:"New Task Assigned",message:"You have been assigned to Inventory Observation procedure.",priority:"normal",read:!0,data:{action_url:"/my-procedures",entity_type:"procedure"},created_at:r.toISOString()},{id:"mock-5",user_id:"demo",type:"finding_created",title:"New Finding Reported",message:"A high-severity finding was identified in SOC 2 Audit.",priority:"urgent",read:!0,data:{action_url:"/findings",entity_type:"finding"},created_at:a.toISOString()}]}const zv={review_note:{icon:Mu,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},signoff_request:{icon:Ws,color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900/30"},changes_requested:{icon:Ys,color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900/30"},deadline_reminder:{icon:dt,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},status_change:{icon:Ks,color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900/30"},assignment:{icon:Qh,color:"text-indigo-600",bgColor:"bg-indigo-100 dark:bg-indigo-900/30"},mention:{icon:Mu,color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},system:{icon:_k,color:"text-gray-600",bgColor:"bg-gray-100 dark:bg-gray-800"}},Hy={urgent:{color:"text-red-600 bg-red-100",label:"Urgent"},high:{color:"text-orange-600 bg-orange-100",label:"High"},medium:{color:"text-yellow-600 bg-yellow-100",label:"Medium"},low:{color:"text-gray-600 bg-gray-100",label:"Low"}};function tde(){const s=Qt(),[e,r]=v.useState("all"),[a,i]=v.useState(""),[n,o]=v.useState("all"),[l,d]=v.useState(new Set),{notifications:u,unreadCount:c,isLoading:b,error:h,markAsRead:m,markAllAsRead:f,archiveNotification:p,deleteNotification:N,isMarkingRead:g,isArchiving:D}=ede(),w=v.useMemo(()=>{let S=u||[];if(e==="unread"?S=S.filter(O=>!O.is_read):e==="archived"?S=S.filter(O=>O.is_archived):S=S.filter(O=>!O.is_archived),n!=="all"&&(S=S.filter(O=>O.type===n)),a){const O=a.toLowerCase();S=S.filter(_=>{var M;return _.title.toLowerCase().includes(O)||((M=_.message)==null?void 0:M.toLowerCase().includes(O))})}return S},[u,e,n,a]),A=(S,O)=>{d(_=>{const M=new Set(_);return O?M.add(S):M.delete(S),M})},U=S=>{d(S?new Set(w.map(O=>O.id)):new Set)},E=()=>{l.forEach(S=>{m(S)}),d(new Set)},W=()=>{l.forEach(S=>{p(S)}),d(new Set)},y=S=>{S.is_read||m(S.id),S.action_url&&s(S.action_url)},V=w.length>0&&w.every(S=>l.has(S.id));return h?t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV(Er,{className:"h-12 w-12 text-destructive mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:230,columnNumber:11},this),t.jsxDEV("h3",{className:"text-lg font-medium",children:"Failed to load notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:231,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:h.message},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:229,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:228,columnNumber:7},this):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsxDEV(d6,{className:"h-6 w-6"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:244,columnNumber:13},this),"Inbox"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:243,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:c>0?`${c} unread notification${c>1?"s":""}`:"All caught up!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:247,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:242,columnNumber:9},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:c>0&&t.jsxDEV(F,{variant:"outline",size:"sm",onClick:()=>f(),disabled:g,children:[t.jsxDEV(Q7,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:261,columnNumber:15},this),"Mark All Read"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:255,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:253,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:241,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"pb-3",children:[t.jsxDEV("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxDEV(Pr,{value:e,onValueChange:S=>r(S),children:t.jsxDEV(pr,{children:[t.jsxDEV($e,{value:"all",className:"gap-2",children:"All"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:274,columnNumber:17},this),t.jsxDEV($e,{value:"unread",className:"gap-2",children:["Unread",c>0&&t.jsxDEV(he,{variant:"secondary",className:"ml-1",children:c},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:280,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:277,columnNumber:17},this),t.jsxDEV($e,{value:"archived",children:"Archived"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:285,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:273,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:272,columnNumber:13},this),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:291,columnNumber:17},this),t.jsxDEV(ve,{placeholder:"Search notifications...",value:a,onChange:S=>i(S.target.value),className:"pl-9 w-[200px]"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:290,columnNumber:15},this),t.jsxDEV(is,{value:n,onValueChange:S=>o(S),children:[t.jsxDEV(rs,{className:"w-[160px]",children:t.jsxDEV(ns,{placeholder:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:302,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:301,columnNumber:17},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Types"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:305,columnNumber:19},this),Object.entries(zv).map(([S,O])=>{const _=O.icon;return t.jsxDEV(X,{value:S,children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(_,{className:Ce("h-4 w-4",O.color)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:311,columnNumber:27},this),S.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:310,columnNumber:25},this)},S,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:309,columnNumber:23},this)})]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:304,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:271,columnNumber:11},this),l.size>0&&t.jsxDEV("div",{className:"flex items-center gap-2 mt-4 p-2 bg-muted rounded-lg",children:[t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[l.size," selected"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:325,columnNumber:15},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:E,children:[t.jsxDEV(Tu,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:329,columnNumber:17},this),"Mark Read"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:328,columnNumber:15},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:W,children:[t.jsxDEV(Ip,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:333,columnNumber:17},this),"Archive"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:332,columnNumber:15},this),t.jsxDEV(F,{variant:"ghost",size:"sm",onClick:()=>d(new Set),children:"Clear"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:336,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:324,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:270,columnNumber:9},this),t.jsxDEV(q,{children:b?t.jsxDEV("div",{className:"space-y-4",children:[1,2,3,4,5].map(S=>t.jsxDEV("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsxDEV(Xs,{className:"h-10 w-10 rounded-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:352,columnNumber:19},this),t.jsxDEV("div",{className:"flex-1 space-y-2",children:[t.jsxDEV(Xs,{className:"h-4 w-48"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:354,columnNumber:21},this),t.jsxDEV(Xs,{className:"h-3 w-full"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:355,columnNumber:21},this),t.jsxDEV(Xs,{className:"h-3 w-24"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:356,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:353,columnNumber:19},this)]},S,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:351,columnNumber:17},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:349,columnNumber:13},this):w.length===0?t.jsxDEV("div",{className:"text-center py-12",children:e==="unread"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ks,{className:"h-12 w-12 text-green-500 mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:365,columnNumber:19},this),t.jsxDEV("h3",{className:"text-lg font-medium",children:"All caught up!"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:366,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"You have no unread notifications."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:367,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:364,columnNumber:17},this):e==="archived"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ip,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:373,columnNumber:19},this),t.jsxDEV("h3",{className:"text-lg font-medium",children:"No archived notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:374,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Archived notifications will appear here."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:375,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:372,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(H7,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:381,columnNumber:19},this),t.jsxDEV("h3",{className:"text-lg font-medium",children:"No notifications"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:382,columnNumber:19},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"You'll see notifications here when there's activity."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:380,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:362,columnNumber:13},this):t.jsxDEV(Wa,{className:"h-[600px]",children:[t.jsxDEV("div",{className:"flex items-center gap-3 p-2 border-b mb-2",children:[t.jsxDEV(ga,{checked:V,onCheckedChange:U},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:393,columnNumber:17},this),t.jsxDEV("span",{className:"text-sm text-muted-foreground",children:["Select all (",w.length,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:397,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:392,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:w.map(S=>{var R,Q;const O=zv[S.type]||zv.system,_=O.icon,M=l.has(S.id);return t.jsxDEV("div",{className:Ce("flex items-start gap-4 p-4 border rounded-lg transition-colors cursor-pointer hover:bg-muted/50",!S.is_read&&"bg-primary/5 border-primary/20",M&&"ring-2 ring-primary"),children:[t.jsxDEV(ga,{checked:M,onCheckedChange:ne=>A(S.id,ne),onClick:ne=>ne.stopPropagation()},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:417,columnNumber:23},this),t.jsxDEV("div",{className:Ce("p-2 rounded-full flex-shrink-0",O.bgColor),children:t.jsxDEV(_,{className:Ce("h-5 w-5",O.color)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:431,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:425,columnNumber:23},this),t.jsxDEV("div",{className:"flex-1 min-w-0",onClick:()=>y(S),children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:Ce("font-medium",!S.is_read&&"text-primary"),children:S.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:440,columnNumber:29},this),S.message&&t.jsxDEV("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:S.message},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:449,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:439,columnNumber:27},this),t.jsxDEV("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S.priority&&S.priority!=="low"&&t.jsxDEV(he,{variant:"secondary",className:Ce("text-xs",(R=Hy[S.priority])==null?void 0:R.color),children:(Q=Hy[S.priority])==null?void 0:Q.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:458,columnNumber:33},this),!S.is_read&&t.jsxDEV("span",{className:"h-2 w-2 rounded-full bg-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:470,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:455,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:438,columnNumber:25},this),t.jsxDEV("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[t.jsxDEV("span",{children:mm(new Date(S.created_at),{addSuffix:!0})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:476,columnNumber:27},this),S.entity_type&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:483,columnNumber:31},this),t.jsxDEV("span",{className:"capitalize",children:S.entity_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:484,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:482,columnNumber:29},this),S.action_url&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:491,columnNumber:31},this),t.jsxDEV("span",{className:"flex items-center gap-1 text-primary",children:[t.jsxDEV(G1,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:493,columnNumber:33},this),"View"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:492,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:490,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:475,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:434,columnNumber:23},this),t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"icon",onClick:ne=>ne.stopPropagation(),children:t.jsxDEV(Tk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:508,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:503,columnNumber:27},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:502,columnNumber:25},this),t.jsxDEV(xn,{align:"end",children:[!S.is_read&&t.jsxDEV(fr,{onClick:()=>m(S.id),children:[t.jsxDEV(Tu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:516,columnNumber:31},this),"Mark as Read"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:513,columnNumber:29},this),t.jsxDEV(fr,{onClick:()=>p(S.id),children:[t.jsxDEV(Ip,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:523,columnNumber:29},this),S.is_archived?"Unarchive":"Archive"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:520,columnNumber:27},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:526,columnNumber:27},this),t.jsxDEV(fr,{onClick:()=>N(S.id),className:"text-destructive",children:[t.jsxDEV(Tn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:531,columnNumber:29},this),"Delete"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:527,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:511,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:501,columnNumber:23},this)]},S.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:409,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:390,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:347,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:269,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/inbox/InboxPage.tsx",lineNumber:239,columnNumber:5},this)}const Gy=["Manufacturing","Technology","Healthcare","Financial Services","Retail","Real Estate","Professional Services","Nonprofit","Government","Other"],rde=["Corporation","LLC","Partnership","Sole Proprietorship","Nonprofit","Government Entity"];function ade(){const s=Qt(),{toast:e}=Hs(),r=Lr(),{profile:a}=ar(),[i,n]=v.useState(""),[o,l]=v.useState("all"),[d,u]=v.useState(!1),[c,b]=v.useState({client_name:"",client_code:"",industry:"",client_type:"",company_size:"",website:"",notes:""}),{data:h,isLoading:m}=bs({queryKey:["clients"],queryFn:async()=>{const{data:D,error:w}=await le.from("clients").select(`
          *,
          audits:audits(count)
        `).eq("status","active").order("client_name");if(w)throw w;return(D||[]).map(A=>{var U,E;return{...A,engagements_count:((E=(U=A.audits)==null?void 0:U[0])==null?void 0:E.count)||0}})}}),f=Rs({mutationFn:async D=>{const{data:w,error:A}=await le.from("clients").insert({client_name:D.client_name,client_code:D.client_code||null,industry:D.industry||null,client_type:D.client_type||null,company_size:D.company_size||null,website:D.website||null,notes:D.notes||null,firm_id:a==null?void 0:a.firm_id,status:"active"}).select().single();if(A)throw A;return w},onSuccess:D=>{r.invalidateQueries({queryKey:["clients"]}),e({title:"Client Created",description:`${D.client_name} has been added successfully.`}),u(!1),p()},onError:D=>{e({title:"Error",description:D.message,variant:"destructive"})}}),p=()=>{b({client_name:"",client_code:"",industry:"",client_type:"",company_size:"",website:"",notes:""})},N=()=>{if(!c.client_name.trim()){e({title:"Validation Error",description:"Client name is required.",variant:"destructive"});return}f.mutate(c)},g=h==null?void 0:h.filter(D=>{var U,E;const w=D.client_name.toLowerCase().includes(i.toLowerCase())||((U=D.client_code)==null?void 0:U.toLowerCase().includes(i.toLowerCase()))||((E=D.industry)==null?void 0:E.toLowerCase().includes(i.toLowerCase())),A=o==="all"||D.industry===o;return w&&A});return t.jsxDEV("div",{className:"p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{className:"text-2xl font-bold",children:"Clients"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:228,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage your firm's client relationships"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:229,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:227,columnNumber:9},this),t.jsxDEV(Pt,{open:d,onOpenChange:u,children:[t.jsxDEV(Nn,{asChild:!0,children:t.jsxDEV(F,{children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:236,columnNumber:15},this),"New Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:235,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:234,columnNumber:11},this),t.jsxDEV(Dt,{className:"max-w-lg",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Create New Client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:242,columnNumber:15},this),t.jsxDEV(Bt,{children:"Add a new client to your firm's client list."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:243,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:241,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-4 py-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"client_name",children:"Client Name *"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:250,columnNumber:19},this),t.jsxDEV(ve,{id:"client_name",placeholder:"Acme Manufacturing Ltd",value:c.client_name,onChange:D=>b({...c,client_name:D.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:251,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:249,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"client_code",children:"Client Code"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:261,columnNumber:19},this),t.jsxDEV(ve,{id:"client_code",placeholder:"ACME-001",value:c.client_code,onChange:D=>b({...c,client_code:D.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:262,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:260,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:248,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"industry",children:"Industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:274,columnNumber:19},this),t.jsxDEV(is,{value:c.industry,onValueChange:D=>b({...c,industry:D}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select industry"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:282,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:281,columnNumber:21},this),t.jsxDEV(as,{children:Gy.map(D=>t.jsxDEV(X,{value:D,children:D},D,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:286,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:284,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:273,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"client_type",children:"Client Type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:294,columnNumber:19},this),t.jsxDEV(is,{value:c.client_type,onValueChange:D=>b({...c,client_type:D}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select type"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:302,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:301,columnNumber:21},this),t.jsxDEV(as,{children:rde.map(D=>t.jsxDEV(X,{value:D,children:D},D,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:306,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:304,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:295,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:293,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:272,columnNumber:15},this),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"company_size",children:"Company Size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:316,columnNumber:19},this),t.jsxDEV(is,{value:c.company_size,onValueChange:D=>b({...c,company_size:D}),children:[t.jsxDEV(rs,{children:t.jsxDEV(ns,{placeholder:"Select size"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:324,columnNumber:23},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:323,columnNumber:21},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"small",children:"Small (1-50)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:327,columnNumber:23},this),t.jsxDEV(X,{value:"medium",children:"Medium (51-200)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:328,columnNumber:23},this),t.jsxDEV(X,{value:"large",children:"Large (201-1000)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:329,columnNumber:23},this),t.jsxDEV(X,{value:"enterprise",children:"Enterprise (1000+)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:326,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:317,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:315,columnNumber:17},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"website",children:"Website"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:335,columnNumber:19},this),t.jsxDEV(ve,{id:"website",placeholder:"https://acme.com",value:c.website,onChange:D=>b({...c,website:D.target.value})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:336,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:334,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:314,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"notes",children:"Notes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:347,columnNumber:17},this),t.jsxDEV(Wt,{id:"notes",placeholder:"Additional notes about this client...",value:c.notes,onChange:D=>b({...c,notes:D.target.value}),rows:2},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:348,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:247,columnNumber:13},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{variant:"outline",onClick:()=>{u(!1),p()},children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:360,columnNumber:15},this),t.jsxDEV(F,{onClick:N,disabled:f.isPending,children:f.isPending?"Creating...":"Create Client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:369,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:233,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:226,columnNumber:7},this),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"relative flex-1 max-w-md",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:383,columnNumber:11},this),t.jsxDEV(ve,{placeholder:"Search clients...",className:"pl-10",value:i,onChange:D=>n(D.target.value)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:382,columnNumber:9},this),t.jsxDEV(is,{value:o,onValueChange:l,children:[t.jsxDEV(rs,{className:"w-[180px]",children:t.jsxDEV(ns,{placeholder:"All Industries"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:393,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:392,columnNumber:11},this),t.jsxDEV(as,{children:[t.jsxDEV(X,{value:"all",children:"All Industries"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:396,columnNumber:13},this),Gy.map(D=>t.jsxDEV(X,{value:D,children:D},D,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:398,columnNumber:15},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:395,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:381,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Total Clients"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:412,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:(h==null?void 0:h.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:413,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:411,columnNumber:15},this),t.jsxDEV(fn,{className:"h-8 w-8 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:410,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:409,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:408,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Active Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:423,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:(h==null?void 0:h.reduce((D,w)=>D+(w.engagements_count||0),0))||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:424,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:422,columnNumber:15},this),t.jsxDEV(Ws,{className:"h-8 w-8 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:428,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:421,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:420,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:419,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Industries"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:436,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:new Set(h==null?void 0:h.map(D=>D.industry).filter(Boolean)).size||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:437,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:435,columnNumber:15},this),t.jsxDEV(er,{className:"h-8 w-8 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:441,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:434,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:433,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:432,columnNumber:9},this),t.jsxDEV(B,{children:t.jsxDEV(q,{className:"pt-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"This Year"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:449,columnNumber:17},this),t.jsxDEV("p",{className:"text-2xl font-bold",children:(h==null?void 0:h.filter(D=>new Date(D.created_at).getFullYear()===new Date().getFullYear()).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:450,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:448,columnNumber:15},this),t.jsxDEV(la,{className:"h-8 w-8 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:458,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:447,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:446,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:445,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:407,columnNumber:7},this),m?t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(D=>t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(Xs,{className:"h-5 w-3/4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:470,columnNumber:17},this),t.jsxDEV(Xs,{className:"h-4 w-1/2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:471,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:469,columnNumber:15},this),t.jsxDEV(q,{children:[t.jsxDEV(Xs,{className:"h-4 w-full mb-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:474,columnNumber:17},this),t.jsxDEV(Xs,{className:"h-4 w-2/3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:475,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:473,columnNumber:15},this)]},D,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:468,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:466,columnNumber:9},this):(g==null?void 0:g.length)===0?t.jsxDEV(B,{children:t.jsxDEV(q,{className:"py-12 text-center",children:[t.jsxDEV(fn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/30"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:483,columnNumber:13},this),t.jsxDEV("h3",{className:"text-lg font-medium mb-2",children:"No Clients Found"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:484,columnNumber:13},this),t.jsxDEV("p",{className:"text-muted-foreground mb-4",children:i||o!=="all"?"Try adjusting your search or filters.":"Get started by adding your first client."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:485,columnNumber:13},this),t.jsxDEV(F,{onClick:()=>u(!0),children:[t.jsxDEV(vt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:491,columnNumber:15},this),"Add Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:490,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:482,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:481,columnNumber:9},this):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g==null?void 0:g.map(D=>t.jsxDEV(B,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>s(`/engagements?client=${D.id}`),children:[t.jsxDEV(oe,{className:"pb-2",children:t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV(ue,{className:"text-lg",children:D.client_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:507,columnNumber:21},this),t.jsxDEV(Ke,{className:"flex items-center gap-2 mt-1",children:[D.industry&&t.jsxDEV(he,{variant:"secondary",children:D.industry},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:510,columnNumber:25},this),D.client_type&&t.jsxDEV("span",{className:"text-xs",children:D.client_type},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:513,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:508,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:506,columnNumber:19},this),t.jsxDEV(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:w=>{w.stopPropagation()},children:t.jsxDEV(Tk,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:526,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:517,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:505,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:504,columnNumber:15},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"space-y-2 text-sm",children:[D.client_code&&t.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[t.jsxDEV(Ws,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:534,columnNumber:23},this),t.jsxDEV("span",{children:["Code: ",D.client_code]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:535,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:533,columnNumber:21},this),t.jsxDEV("div",{className:"flex items-center justify-between pt-2 border-t",children:[t.jsxDEV("span",{className:"text-muted-foreground",children:[D.engagements_count||0," engagement",(D.engagements_count||0)!==1?"s":""]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:539,columnNumber:21},this),t.jsxDEV(F,{variant:"ghost",size:"sm",className:"h-7",onClick:w=>{w.stopPropagation(),s(`/engagements?client=${D.id}`)},children:["View",t.jsxDEV(G1,{className:"h-3 w-3 ml-1"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:553,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:543,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:538,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:531,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:530,columnNumber:15},this)]},D.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:499,columnNumber:13},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:497,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/clients/ClientsPage.tsx",lineNumber:224,columnNumber:5},this)}const Ky=[{value:"partner",label:"Partner"},{value:"practice_leader",label:"Practice Leader"},{value:"engagement_manager",label:"Engagement Manager"},{value:"senior_auditor",label:"Senior Auditor"},{value:"staff_auditor",label:"Staff Auditor"},{value:"business_development",label:"Business Development"}],ide=[{value:"client_administrator",label:"Client Administrator"},{value:"client_user",label:"Client User"}],nde=sc({email:ur().email("Invalid email address"),firstName:ur().min(1,"First name is required"),lastName:ur().min(1,"Last name is required"),role:ur().min(1,"Please select a role"),department:ur().optional(),companyName:ur().optional(),clientId:ur().optional()});function ode({open:s,onOpenChange:e}){const{toast:r}=Hs(),[a,i]=v.useState(!1),[n,o]=v.useState({email:"",firstName:"",lastName:"",role:"",department:"",companyName:"",clientId:""}),{data:l}=bs({queryKey:["clients-dropdown"],queryFn:async()=>{const{data:b}=await le.from("clients").select("id, client_name").order("client_name");return b||[]},enabled:s}),d=n.role==="client_administrator"||n.role==="client_user",u=Ky.some(b=>b.value===n.role),c=async b=>{b.preventDefault();try{const h=nde.parse(n);if(i(!0),u){const{data:m,error:f}=await le.rpc("create_employee_invitation",{p_email:h.email,p_first_name:h.firstName,p_last_name:h.lastName,p_role:h.role,p_department:h.department||null});if(f)throw f;if(!m.success)throw new Error(m.error||"Failed to create invitation");const p=`${window.location.origin}/auth/accept-invite/${m.token}`;r({title:"Employee Invitation Sent!",description:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{children:["Invitation sent to ",h.email]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:110,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs",children:[t.jsxDEV("p",{className:"font-medium mb-1",children:"Invitation Link (expires in 7 days):"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:112,columnNumber:17},this),t.jsxDEV("code",{className:"block p-2 bg-muted rounded text-xs break-all",children:p},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:109,columnNumber:13},this),duration:1e4})}else if(d){const{data:m,error:f}=await le.rpc("create_client_invitation",{p_email:h.email,p_first_name:h.firstName,p_last_name:h.lastName,p_company_name:h.companyName||"",p_role:h.role,p_client_id:h.clientId||null,p_engagement_id:null});if(f)throw f;if(!m.success)throw new Error(m.error||"Failed to create invitation");const p=`${window.location.origin}/client-portal/accept-invite/${m.token}`;r({title:"Client Invitation Sent!",description:t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("p",{children:["Client portal invitation sent to ",h.email]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:142,columnNumber:15},this),t.jsxDEV("div",{className:"text-xs",children:[t.jsxDEV("p",{className:"font-medium mb-1",children:"Invitation Link (expires in 14 days):"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:144,columnNumber:17},this),t.jsxDEV("code",{className:"block p-2 bg-muted rounded text-xs break-all",children:p},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:141,columnNumber:13},this),duration:1e4})}o({email:"",firstName:"",lastName:"",role:"",department:"",companyName:"",clientId:""}),e(!1)}catch(h){h instanceof $i?r({title:"Validation Error",description:h.errors[0].message,variant:"destructive"}):r({title:"Error",description:h.message||"Failed to send invitation",variant:"destructive"})}finally{i(!1)}};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"sm:max-w-[500px]",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{className:"flex items-center gap-2",children:[t.jsxDEV(Y1,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:190,columnNumber:13},this),"Invite User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:189,columnNumber:11},this),t.jsxDEV(Bt,{children:"Send an invitation to join your firm or client portal. They'll receive a secure link to create their account."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:188,columnNumber:9},this),t.jsxDEV("form",{onSubmit:c,className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"firstName",children:["First Name ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:202,columnNumber:28},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:201,columnNumber:15},this),t.jsxDEV(ve,{id:"firstName",value:n.firstName,onChange:b=>o({...n,firstName:b.target.value}),disabled:a,required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:200,columnNumber:13},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"lastName",children:["Last Name ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:217,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:216,columnNumber:15},this),t.jsxDEV(ve,{id:"lastName",value:n.lastName,onChange:b=>o({...n,lastName:b.target.value}),disabled:a,required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:215,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:199,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"email",children:["Email Address ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:233,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:232,columnNumber:13},this),t.jsxDEV(ve,{id:"email",type:"email",placeholder:"user@example.com",value:n.email,onChange:b=>o({...n,email:b.target.value}),disabled:a,required:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:235,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:231,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"role",children:["Role ",t.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:248,columnNumber:20},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:247,columnNumber:13},this),t.jsxDEV(is,{value:n.role,onValueChange:b=>o({...n,role:b}),disabled:a,children:[t.jsxDEV(rs,{id:"role",children:t.jsxDEV(ns,{placeholder:"Select a role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:256,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:255,columnNumber:15},this),t.jsxDEV(as,{children:[t.jsxDEV("div",{className:"px-2 py-1.5 text-sm font-semibold",children:"Employee Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:259,columnNumber:17},this),Ky.map(b=>t.jsxDEV(X,{value:b.value,children:b.label},b.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:261,columnNumber:19},this)),t.jsxDEV("div",{className:"px-2 py-1.5 text-sm font-semibold border-t mt-2",children:"Client Portal Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:265,columnNumber:17},this),ide.map(b=>t.jsxDEV(X,{value:b.value,children:b.label},b.value,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:267,columnNumber:19},this))]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:250,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:u?"Firm employee - Full platform access":d?"Client portal access only - Limited to engagements":"Select the appropriate role"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:273,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:246,columnNumber:11},this),u&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"department",children:"Department (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:284,columnNumber:15},this),t.jsxDEV(ve,{id:"department",placeholder:"e.g., Audit, Tax, Advisory",value:n.department,onChange:b=>o({...n,department:b.target.value}),disabled:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:283,columnNumber:13},this),d&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"companyName",children:"Company Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:300,columnNumber:17},this),t.jsxDEV(ve,{id:"companyName",placeholder:"Client company name",value:n.companyName,onChange:b=>o({...n,companyName:b.target.value}),disabled:a},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:299,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{htmlFor:"client",children:"Existing Client (Optional)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:312,columnNumber:17},this),t.jsxDEV(is,{value:n.clientId,onValueChange:b=>o({...n,clientId:b}),disabled:a,children:[t.jsxDEV(rs,{id:"client",children:t.jsxDEV(ns,{placeholder:"Link to existing client"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:321,columnNumber:21},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:320,columnNumber:19},this),t.jsxDEV(as,{children:l==null?void 0:l.map(b=>t.jsxDEV(X,{value:b.id,children:b.client_name},b.id,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:325,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:323,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:313,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:311,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:298,columnNumber:13},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:336,columnNumber:13},this),t.jsxDEV(F,{type:"submit",disabled:a,children:a?t.jsxDEV(t.Fragment,{children:[t.jsxDEV(oi,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:347,columnNumber:19},this),"Sending..."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:346,columnNumber:17},this):t.jsxDEV(t.Fragment,{children:[t.jsxDEV(Ii,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:352,columnNumber:19},this),"Send Invitation"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:335,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:187,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/InviteUserDialog.tsx",lineNumber:186,columnNumber:5},this)}const lde={leadership:{title:"Leadership & Administration",icon:Sn,roles:[{value:"firm_administrator",label:"Firm Administrator",description:"Full system access and configuration"},{value:"partner",label:"Partner",description:"Firm leadership and strategic oversight"},{value:"practice_leader",label:"Practice Leader",description:"Practice area management"}]},operations:{title:"Operations & Delivery",icon:vl,roles:[{value:"engagement_manager",label:"Engagement Manager",description:"Lead and manage client audits"},{value:"senior_auditor",label:"Senior Auditor",description:"Execute audits and supervise staff"},{value:"staff_auditor",label:"Staff Auditor",description:"Execute assigned audit procedures"}]},business:{title:"Business Development",icon:er,roles:[{value:"business_development",label:"Business Development",description:"Client acquisition and CRM"}]}};function dde({open:s,onOpenChange:e,userId:r}){var c;const{data:a,isLoading:i}=iI(r),n=nI(),[o,l]=v.useState([]);v.useEffect(()=>{if(a!=null&&a.user_roles){const b=a.user_roles.filter(h=>!h.role.startsWith("client_")).map(h=>h.role);l(b)}},[a]);const d=(b,h)=>{l(h?[...o,b]:o.filter(m=>m!==b))},u=async()=>{if(!a)return;const b=a.user_roles.filter(f=>!f.role.startsWith("client_")).map(f=>f.role),h=o.filter(f=>!b.includes(f)).map(f=>({role:f})),m=b.filter(f=>!o.includes(f));await n.mutateAsync({userId:r,rolesToAdd:h,rolesToRemove:m}),e(!1)};return t.jsxDEV(Pt,{open:s,onOpenChange:e,children:t.jsxDEV(Dt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV(Ct,{children:[t.jsxDEV(St,{children:"Manage User Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:101,columnNumber:11},this),t.jsxDEV(Bt,{children:(a==null?void 0:a.full_name)&&t.jsxDEV("span",{children:["Managing roles for ",t.jsxDEV("strong",{children:a.full_name},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:105,columnNumber:36},this)," (",a.email,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:104,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:100,columnNumber:9},this),i?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:112,columnNumber:11},this):t.jsxDEV("div",{className:"space-y-6 py-4",children:[((c=a==null?void 0:a.user_roles)==null?void 0:c.some(b=>b.role.startsWith("client_")))&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV(H,{className:"text-sm font-semibold",children:"Client Roles (Read-Only)"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:120,columnNumber:17},this),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:a.user_roles.filter(b=>b.role.startsWith("client_")).map((b,h)=>t.jsxDEV(he,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:[b.role.replace("_"," "),b.clients&&t.jsxDEV("span",{className:"ml-1",children:["(",b.clients.client_name,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:127,columnNumber:40},this)]},h,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:125,columnNumber:23},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:121,columnNumber:17},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Client roles are managed separately and cannot be modified here"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:131,columnNumber:17},this),t.jsxDEV(ft,{className:"my-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:119,columnNumber:15},this),t.jsxDEV("div",{className:"space-y-6",children:Object.entries(lde).map(([b,h])=>{const m=h.icon;return t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV(m,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:145,columnNumber:23},this),t.jsxDEV(H,{className:"text-sm font-semibold",children:h.title},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:146,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:144,columnNumber:21},this),t.jsxDEV("div",{className:"space-y-3 pl-6",children:h.roles.map(f=>t.jsxDEV("div",{className:"flex items-start space-x-3",children:[t.jsxDEV(ga,{id:f.value,checked:o.includes(f.value),onCheckedChange:p=>d(f.value,p)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:151,columnNumber:27},this),t.jsxDEV("div",{className:"grid gap-1 leading-none",children:[t.jsxDEV("label",{htmlFor:f.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:f.label},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:159,columnNumber:29},this),t.jsxDEV("p",{className:"text-sm text-muted-foreground",children:f.description},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:165,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:158,columnNumber:27},this)]},f.value,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:150,columnNumber:25},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:148,columnNumber:21},this)]},b,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:143,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:139,columnNumber:13},this),o.length===0&&t.jsxDEV("div",{className:"p-4 border border-orange-200 bg-orange-50 rounded-lg",children:t.jsxDEV("p",{className:"text-sm text-orange-800",children:[t.jsxDEV("strong",{children:"Warning:"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:180,columnNumber:19},this)," This user will have no internal roles. They will only have access if they have client roles assigned."]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:179,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:116,columnNumber:11},this),t.jsxDEV(Ur,{children:[t.jsxDEV(F,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(F,{onClick:u,disabled:n.isPending||i,children:n.isPending?"Saving...":"Save Changes"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:187,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:99,columnNumber:7},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/components/admin/ManageUserRolesDialog.tsx",lineNumber:98,columnNumber:5},this)}function ude(){const{data:s,isLoading:e}=ND(),{can:r}=H4(),[a,i]=v.useState(""),[n,o]=v.useState(!1),[l,d]=v.useState(null),[u,c]=v.useState(!1),b=p=>{switch(p){case"firm_administrator":return"bg-purple-100 text-purple-800";case"partner":return"bg-blue-100 text-blue-800";case"practice_leader":return"bg-indigo-100 text-indigo-800";case"engagement_manager":return"bg-green-100 text-green-800";case"senior_auditor":return"bg-yellow-100 text-yellow-800";case"staff_auditor":return"bg-gray-100 text-gray-800";case"business_development":return"bg-pink-100 text-pink-800";case"client_administrator":return"bg-orange-100 text-orange-800";case"client_user":return"bg-orange-50 text-orange-700";default:return"bg-gray-100 text-gray-800"}},h=p=>p.split("_").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "),m=(s==null?void 0:s.filter(p=>{var N,g,D;return((N=p.full_name)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((g=p.email)==null?void 0:g.toLowerCase().includes(a.toLowerCase()))||((D=p.user_roles)==null?void 0:D.some(w=>w.role.toLowerCase().includes(a.toLowerCase())))}))||[],f=p=>{d(p),c(!0)};return e?t.jsxDEV("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:83,columnNumber:9},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:82,columnNumber:7},this):t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"User Management"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:93,columnNumber:11},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Manage users and assign roles within your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:92,columnNumber:9},this),r("create","user")&&t.jsxDEV(F,{onClick:()=>o(!0),children:[t.jsxDEV(Y1,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:100,columnNumber:13},this),"Invite User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:91,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Total Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:110,columnNumber:13},this),t.jsxDEV(er,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:109,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:114,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Administrators"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:120,columnNumber:13},this),t.jsxDEV(Sn,{className:"h-4 w-4 text-purple-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:121,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:119,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.filter(p=>{var N;return(N=p.user_roles)==null?void 0:N.some(g=>g.role==="firm_administrator")}).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:118,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Managers"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:132,columnNumber:13},this),t.jsxDEV(er,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:131,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.filter(p=>{var N;return(N=p.user_roles)==null?void 0:N.some(g=>g.role==="engagement_manager")}).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:136,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:130,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Auditors"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:144,columnNumber:13},this),t.jsxDEV(er,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:143,columnNumber:11},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.filter(p=>{var N;return(N=p.user_roles)==null?void 0:N.some(g=>g.role==="senior_auditor"||g.role==="staff_auditor")}).length)||0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:148,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:142,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:107,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:160,columnNumber:11},this),t.jsxDEV(Ke,{children:"A list of all users in your organization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:161,columnNumber:11},this),t.jsxDEV("div",{className:"pt-4",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:166,columnNumber:15},this),t.jsxDEV(ve,{placeholder:"Search users by name, email, or role...",value:a,onChange:p=>i(p.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:165,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:164,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:159,columnNumber:9},this),t.jsxDEV(q,{children:m.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV(er,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:179,columnNumber:15},this),t.jsxDEV("p",{className:"text-muted-foreground",children:a?"No users found matching your search":"No users yet"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:178,columnNumber:13},this):t.jsxDEV("div",{className:"rounded-md border",children:t.jsxDEV(Fa,{children:[t.jsxDEV(za,{children:t.jsxDEV(Ot,{children:[t.jsxDEV(Qe,{children:"Name"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:189,columnNumber:21},this),t.jsxDEV(Qe,{children:"Email"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:190,columnNumber:21},this),t.jsxDEV(Qe,{children:"Roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:191,columnNumber:21},this),t.jsxDEV(Qe,{children:"Joined"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:192,columnNumber:21},this),t.jsxDEV(Qe,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:193,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:188,columnNumber:19},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:187,columnNumber:17},this),t.jsxDEV(Ba,{children:m.map(p=>{var N,g,D;return t.jsxDEV(Ot,{children:[t.jsxDEV(Fe,{className:"font-medium",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsxDEV("span",{className:"text-xs font-semibold text-primary",children:((g=(N=p.full_name)==null?void 0:N.charAt(0))==null?void 0:g.toUpperCase())||"?"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:202,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:201,columnNumber:27},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:p.full_name||"Unknown"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:207,columnNumber:29},this),p.phone&&t.jsxDEV("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsxDEV(Q1,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:210,columnNumber:33},this),p.phone]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:209,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:206,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:200,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:199,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxDEV(Ii,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:219,columnNumber:27},this),p.email]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:218,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:217,columnNumber:23},this),t.jsxDEV(Fe,{children:t.jsxDEV("div",{className:"flex flex-wrap gap-1",children:(D=p.user_roles)==null?void 0:D.map((w,A)=>t.jsxDEV(he,{className:b(w.role),variant:"secondary",children:[h(w.role),w.client_id&&w.clients&&t.jsxDEV("span",{className:"ml-1 text-xs opacity-70",children:["(",w.clients.client_name,")"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:233,columnNumber:33},this)]},A,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:226,columnNumber:29},this))},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:224,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:223,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-sm text-muted-foreground",children:Ds(new Date(p.created_at),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:241,columnNumber:23},this),t.jsxDEV(Fe,{className:"text-right",children:t.jsxDEV(Kn,{children:[t.jsxDEV(Qn,{asChild:!0,children:t.jsxDEV(F,{variant:"ghost",size:"sm",children:t.jsxDEV(H1,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:248,columnNumber:31},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:247,columnNumber:29},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:246,columnNumber:27},this),t.jsxDEV(xn,{align:"end",children:[t.jsxDEV(Xu,{children:"Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:252,columnNumber:29},this),t.jsxDEV(jl,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:253,columnNumber:29},this),r("assign","roles")&&t.jsxDEV(fr,{onClick:()=>f(p.id),children:[t.jsxDEV(Sn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:256,columnNumber:33},this),"Manage Roles"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:255,columnNumber:31},this),r("deactivate","user")&&t.jsxDEV(fr,{className:"text-red-600",children:"Deactivate User"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:261,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:251,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:245,columnNumber:25},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:244,columnNumber:23},this)]},p.id,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:198,columnNumber:21},this)})},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:196,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:186,columnNumber:15},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:185,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:158,columnNumber:7},this),t.jsxDEV(ode,{open:n,onOpenChange:o},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:278,columnNumber:7},this),l&&t.jsxDEV(dde,{open:u,onOpenChange:c,userId:l},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:284,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/UserManagement.tsx",lineNumber:89,columnNumber:5},this)}function cde(){const s=Qt(),{data:e}=ND(),{data:r}=G4(),{data:a}=bs({queryKey:["engagements"],queryFn:async()=>{const{data:b,error:h}=await le.from("audits").select("*");if(h)throw h;return b}}),i=(e==null?void 0:e.length)||0,n=(e==null?void 0:e.filter(b=>{var h;return(h=b.user_roles)==null?void 0:h.some(m=>m.role==="firm_administrator")}).length)||0,o=(e==null?void 0:e.filter(b=>{var h;return(h=b.user_roles)==null?void 0:h.some(m=>m.role==="engagement_manager")}).length)||0,l=(e==null?void 0:e.filter(b=>{var h;return(h=b.user_roles)==null?void 0:h.some(m=>m.role==="senior_auditor"||m.role==="staff_auditor")}).length)||0,d=(r==null?void 0:r.length)||0,u=(a==null?void 0:a.filter(b=>b.status==="in_progress").length)||0,c=(a==null?void 0:a.length)||0;return t.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxDEV("div",{className:"space-y-1",children:[t.jsxDEV("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:54,columnNumber:9},this),t.jsxDEV("p",{className:"text-muted-foreground",children:"Overview of your firm's operations and administration"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:53,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Total Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:64,columnNumber:13},this),t.jsxDEV(er,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:63,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:i},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:68,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[l," auditors, ",o," managers"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:62,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Active Clients"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:77,columnNumber:13},this),t.jsxDEV(vl,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:76,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:d},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:81,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Client relationships"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:82,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:75,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Active Engagements"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:90,columnNumber:13},this),t.jsxDEV(Ws,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:89,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:u},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:94,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[c," total engagements"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:88,columnNumber:9},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsxDEV(ue,{className:"text-sm font-medium",children:"Administrators"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:103,columnNumber:13},this),t.jsxDEV(Sn,{className:"h-4 w-4 text-purple-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:102,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("div",{className:"text-2xl font-bold",children:n},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:107,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Firm administrators"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:61,columnNumber:7},this),t.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s("/admin/users"),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsxDEV(er,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:122,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:121,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"User Management"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:125,columnNumber:17},this),t.jsxDEV(Ke,{children:"Manage users and roles"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:126,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:120,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:119,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Invite users, assign roles, and manage permissions for your team members."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:131,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",children:"Manage Users"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:118,columnNumber:9},this),t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s("/settings"),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsxDEV(im,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:145,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:144,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Firm Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:148,columnNumber:17},this),t.jsxDEV(Ke,{children:"Configure your firm"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:149,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:143,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:142,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Update firm details, preferences, and system configurations."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:154,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",children:"View Settings"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:157,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:141,columnNumber:9},this),t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s("/analytics/firm"),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsxDEV(da,{className:"h-6 w-6 text-green-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:168,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:167,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Firm Analytics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:171,columnNumber:17},this),t.jsxDEV(Ke,{children:"Performance metrics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:166,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:165,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"View detailed analytics on firm performance, revenue, and utilization."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:177,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",children:"View Analytics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:164,columnNumber:9},this),t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s("/resources/utilization"),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsxDEV(dt,{className:"h-6 w-6 text-orange-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:191,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:190,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Resource Utilization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:194,columnNumber:17},this),t.jsxDEV(Ke,{children:"Team capacity & workload"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:195,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:189,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:188,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Monitor team utilization, capacity planning, and workload distribution."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:200,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",children:"View Utilization"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:203,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:187,columnNumber:9},this),t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s("/analytics/revenue"),children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsxDEV(fo,{className:"h-6 w-6 text-emerald-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:214,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:213,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Revenue Analytics"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:217,columnNumber:17},this),t.jsxDEV(Ke,{children:"Financial overview"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:218,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:212,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:211,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"Track revenue, billing, and financial performance across engagements."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:223,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",children:"View Revenue"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:226,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:222,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:210,columnNumber:9},this),t.jsxDEV(B,{className:"hover:shadow-lg transition-shadow",children:[t.jsxDEV(oe,{children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsxDEV(Hv,{className:"h-6 w-6 text-slate-600"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:237,columnNumber:17},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:236,columnNumber:15},this),t.jsxDEV("div",{children:[t.jsxDEV(ue,{children:"Activity Logs"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:240,columnNumber:17},this),t.jsxDEV(Ke,{children:"System activity"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:241,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:235,columnNumber:13},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:234,columnNumber:11},this),t.jsxDEV(q,{children:[t.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"View audit trails and system activity logs (coming soon)."},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:246,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",className:"w-full",disabled:!0,children:"Coming Soon"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:249,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:245,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:233,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:116,columnNumber:7},this),t.jsxDEV(B,{children:[t.jsxDEV(oe,{children:[t.jsxDEV(ue,{children:"Quick Actions"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:259,columnNumber:11},this),t.jsxDEV(Ke,{children:"Common administrative tasks"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:260,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:258,columnNumber:9},this),t.jsxDEV(q,{children:t.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxDEV(F,{variant:"outline",onClick:()=>s("/admin/users"),children:[t.jsxDEV(er,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:265,columnNumber:15},this),"Invite User"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:264,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",onClick:()=>s("/crm/clients"),children:[t.jsxDEV(vl,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:269,columnNumber:15},this),"Add Client"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:268,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",onClick:()=>s("/engagements"),children:[t.jsxDEV(Ws,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:273,columnNumber:15},this),"Create Engagement"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:272,columnNumber:13},this),t.jsxDEV(F,{variant:"outline",onClick:()=>s("/settings"),children:[t.jsxDEV(im,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:277,columnNumber:15},this),"Firm Settings"]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:263,columnNumber:11},this)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:262,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:257,columnNumber:7},this),t.jsxDEV(jr,{children:[t.jsxDEV(Hv,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:286,columnNumber:9},this),t.jsxDEV(Ar,{children:["All systems operational. Last updated: ",new Date().toLocaleString()]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:287,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:285,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/pages/admin/AdminDashboard.tsx",lineNumber:51,columnNumber:5},this)}const mde=new zT,bde=()=>t.jsxDEV(BT,{client:mde,children:t.jsxDEV(Zh,{children:t.jsxDEV(WM,{children:t.jsxDEV(AM,{children:[t.jsxDEV(cR,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:76,columnNumber:11},void 0),t.jsxDEV(BR,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:77,columnNumber:11},void 0),t.jsxDEV(uT,{children:t.jsxDEV(cT,{children:[t.jsxDEV(ms,{path:"/",element:t.jsxDEV(CL,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:81,columnNumber:40},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:81,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/auth/login",element:t.jsxDEV(eB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:82,columnNumber:50},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:82,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/auth/forgot-password",element:t.jsxDEV(sB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:83,columnNumber:60},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:83,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/auth/accept-invite/:token",element:t.jsxDEV(rB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:84,columnNumber:65},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:84,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/auth/accept-firm-invite/:token",element:t.jsxDEV(iB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:85,columnNumber:70},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:85,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/auth/signup",element:t.jsxDEV(mB,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:86,columnNumber:51},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:86,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/portal",element:t.jsxDEV(Bv,{to:"/workspace",replace:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:89,columnNumber:46},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:89,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/workspace",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:92,columnNumber:62},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:92,columnNumber:49},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(JL,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:93,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:93,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:92,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/dashboard",element:t.jsxDEV(Bv,{to:"/workspace",replace:!0},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:97,columnNumber:49},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:97,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/inbox",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:100,columnNumber:58},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:100,columnNumber:45},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(tde,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:101,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:101,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:100,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/clients",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:105,columnNumber:60},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:105,columnNumber:47},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(ade,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:106,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:106,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:105,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/universe",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:112,columnNumber:61},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:112,columnNumber:48},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(sq,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:113,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:113,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:112,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/risks",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:115,columnNumber:58},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:115,columnNumber:45},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(rq,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:116,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:115,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/plans",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:118,columnNumber:58},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:118,columnNumber:45},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(iq,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:119,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:119,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:118,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/audits",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:123,columnNumber:59},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:123,columnNumber:46},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(oq,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:124,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:124,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:123,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/audits/:auditId/workpapers",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:126,columnNumber:79},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:126,columnNumber:66},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(EJ,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:127,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:127,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:126,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/programs",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:131,columnNumber:61},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:131,columnNumber:48},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(kX,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:132,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:132,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:131,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/programs/:id",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:134,columnNumber:65},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:134,columnNumber:52},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(gX,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:135,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:135,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:134,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/procedures",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:137,columnNumber:63},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:137,columnNumber:50},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV($X,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:138,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:138,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:137,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/my-procedures",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:140,columnNumber:66},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:140,columnNumber:53},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(yse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:141,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:141,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:140,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/workpapers",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:145,columnNumber:63},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:145,columnNumber:50},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(PJ,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:146,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:146,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:145,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/workpapers/:id",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:148,columnNumber:67},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:148,columnNumber:54},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(yJ,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:149,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:149,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:148,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/findings",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:153,columnNumber:61},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:153,columnNumber:48},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(dq,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:154,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:154,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:153,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/evidence",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:156,columnNumber:61},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:156,columnNumber:48},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Lse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:157,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:157,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:156,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/review-queue",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:161,columnNumber:65},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:161,columnNumber:52},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Rse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:162,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:162,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:161,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/quality-control",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:164,columnNumber:68},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:164,columnNumber:55},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Mse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:165,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:165,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:164,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/tasks",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:169,columnNumber:58},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:169,columnNumber:45},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Ise,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:170,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:170,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:169,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/information-requests",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:172,columnNumber:73},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:172,columnNumber:60},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(qse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:173,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:173,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:172,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/analytics",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:177,columnNumber:62},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:177,columnNumber:49},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Tse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:178,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:178,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:177,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/tools/materiality",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:182,columnNumber:70},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:182,columnNumber:57},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(ate,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:183,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:183,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:182,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/tools/sampling",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:185,columnNumber:67},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:185,columnNumber:54},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(ite,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:186,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:186,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:185,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/tools/confirmations",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:188,columnNumber:72},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:188,columnNumber:59},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(pte,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:189,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:189,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:188,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/tools/analytical-procedures",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:191,columnNumber:80},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:191,columnNumber:67},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Nte,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:192,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:192,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:191,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:196,columnNumber:64},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:196,columnNumber:51},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Pte,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:197,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:197,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:196,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/:id",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:199,columnNumber:68},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:199,columnNumber:55},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(ule,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:200,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:200,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:199,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/:id/dashboard",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:202,columnNumber:78},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:202,columnNumber:65},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Yle,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:203,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:203,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:202,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/:id/audit",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:205,columnNumber:74},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:205,columnNumber:61},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Ile,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:206,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:206,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:205,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/:id/review",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:208,columnNumber:75},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:208,columnNumber:62},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Zle,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:209,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:209,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:208,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/:engagementId/assign-procedures",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:211,columnNumber:96},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:211,columnNumber:83},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(jse,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:212,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:212,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:211,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/templates",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:214,columnNumber:74},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:214,columnNumber:61},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Ble,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:215,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:215,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:214,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/engagements/approvals",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:217,columnNumber:74},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:217,columnNumber:61},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(qle,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:218,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:218,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:217,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/settings",element:t.jsxDEV(Gt,{children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:222,columnNumber:61},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:222,columnNumber:48},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(Az,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:223,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:223,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:222,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/admin",element:t.jsxDEV(Gt,{children:t.jsxDEV(RA,{allowedRoles:["partner","firm_administrator"],children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:225,columnNumber:120},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:225,columnNumber:58},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:225,columnNumber:45},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(cde,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:226,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:226,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:225,columnNumber:15},void 0),t.jsxDEV(ms,{path:"/admin/users",element:t.jsxDEV(Gt,{children:t.jsxDEV(RA,{allowedRoles:["partner","firm_administrator"],children:t.jsxDEV(Kt,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:228,columnNumber:126},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:228,columnNumber:64},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:228,columnNumber:51},void 0),children:t.jsxDEV(ms,{index:!0,element:t.jsxDEV(ude,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:229,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:229,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:228,columnNumber:15},void 0),t.jsxDEV(ms,{path:"*",element:t.jsxDEV(ZL,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:233,columnNumber:40},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:233,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:78,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:75,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:74,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/App.tsx",lineNumber:72,columnNumber:3},void 0);EO(document.getElementById("root")).render(t.jsxDEV(M6,{level:"page",showDetails:!0,children:[t.jsxDEV(bde,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/main.tsx",lineNumber:9,columnNumber:5},void 0),t.jsxDEV(V6,{},void 0,!1,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/main.tsx",lineNumber:10,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/abdulkarimsankareh/Downloads/Work-Projects/Obsidian/Audit/src/main.tsx",lineNumber:8,columnNumber:3},void 0));export{wr as _};
