import{r as Ie,g as ep}from"./react-vendor-DhbKkA4J.js";const $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pt="8.55.0",U=globalThis;function _r(e,t,n){const r=U,s=r.__SENTRY__=r.__SENTRY__||{},o=s[Pt]=s[Pt]||{};return o[e]||(o[e]=t())}const Gt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tp="Sentry Logger ",ys=["debug","info","warn","error","log","assert","trace"],Ss={};function Et(e){if(!("console"in U))return e();const t=U.console,n={},r=Object.keys(Ss);r.forEach(s=>{const o=Ss[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function np(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Gt?ys.forEach(n=>{t[n]=(...r)=>{e&&Et(()=>{U.console[n](`${tp}[${n}]:`,...r)})}}):ys.forEach(n=>{t[n]=()=>{}}),t}const y=_r("logger",np),Du=50,rt="?",Ca=/\(error: (.*)\)/,ka=/captureMessage|captureException/;function Pu(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const c=i[a];if(c.length>1024)continue;const u=Ca.test(c)?c.replace(Ca,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=Du+s)break}}return sp(o.slice(s))}}function rp(e){return Array.isArray(e)?Pu(...e):e}function sp(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Fr(t).function||"")&&t.pop(),t.reverse(),ka.test(Fr(t).function||"")&&(t.pop(),ka.test(Fr(t).function||"")&&t.pop()),t.slice(0,Du).map(n=>({...n,filename:n.filename||Fr(t).filename,function:n.function||rt}))}function Fr(e){return e[e.length-1]||{}}const fo="<anonymous>";function ht(e){try{return!e||typeof e!="function"?fo:e.name||fo}catch{return fo}}function Lo(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ns={},Ra={};function Yt(e,t){ns[e]=ns[e]||[],ns[e].push(t)}function Vt(e,t){if(!Ra[e]){Ra[e]=!0;try{t()}catch(n){Gt&&y.error(`Error while instrumenting ${e}`,n)}}}function qe(e,t){const n=e&&ns[e];if(n)for(const r of n)try{r(t)}catch(s){Gt&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}let po=null;function Lu(e){const t="error";Yt(t,e),Vt(t,op)}function op(){po=U.onerror,U.onerror=function(e,t,n,r,s){return qe("error",{column:r,error:s,line:n,msg:e,url:t}),po?po.apply(this,arguments):!1},U.onerror.__SENTRY_INSTRUMENTED__=!0}let ho=null;function Fu(e){const t="unhandledrejection";Yt(t,e),Vt(t,ip)}function ip(){ho=U.onunhandledrejection,U.onunhandledrejection=function(e){return qe("unhandledrejection",e),ho?ho.apply(this,arguments):!0},U.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function vt(){return wi(U),U}function wi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Pt,t[Pt]=t[Pt]||{}}const $u=Object.prototype.toString;function dt(e){switch($u.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return mt(e,Error)}}function Yn(e,t){return $u.call(e)===`[object ${t}]`}function Uu(e){return Yn(e,"ErrorEvent")}function xa(e){return Yn(e,"DOMError")}function ap(e){return Yn(e,"DOMException")}function ft(e){return Yn(e,"String")}function Ti(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ii(e){return e===null||Ti(e)||typeof e!="object"&&typeof e!="function"}function dn(e){return Yn(e,"Object")}function Ws(e){return typeof Event<"u"&&mt(e,Event)}function cp(e){return typeof Element<"u"&&mt(e,Element)}function up(e){return Yn(e,"RegExp")}function yr(e){return!!(e&&e.then&&typeof e.then=="function")}function lp(e){return dn(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function mt(e,t){try{return e instanceof t}catch{return!1}}function Bu(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const xn=U,dp=80;function gt(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||dp;for(;n&&o++<r&&(u=fp(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function fp(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(xn.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&ft(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function Ci(){try{return xn.document.location.href}catch{return""}}function pp(e){return xn.document&&xn.document.querySelector?xn.document.querySelector(e):null}function Hu(e){if(!xn.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Lt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function mo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function bs(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Bu(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function hp(e,t,n=!1){return ft(e)?up(t)?t.test(e):ft(t)?n?e===t:e.includes(t):!1:!1}function Ft(e,t=[],n=!1){return t.some(r=>hp(e,r,n))}function Me(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&Wu(s,r);try{e[t]=s}catch{Gt&&y.log(`Failed to replace method "${t}" in object`,e)}}function Le(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Gt&&y.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Wu(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Le(e,"__sentry_original__",t)}catch{}}function ki(e){return e.__sentry_original__}function zu(e){if(dt(e))return{message:e.message,name:e.name,stack:e.stack,...Aa(e)};if(Ws(e)){const t={type:e.type,target:Ma(e.target),currentTarget:Ma(e.currentTarget),...Aa(e)};return typeof CustomEvent<"u"&&mt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ma(e){try{return cp(e)?gt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Aa(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function mp(e,t=40){const n=Object.keys(zu(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Lt(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:Lt(o,t)}return""}function ye(e){return Fo(e,new Map)}function Fo(e,t){if(gp(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))typeof e[s]<"u"&&(r[s]=Fo(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Fo(s,t))}),r}return e}function gp(e){if(!dn(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const ju=1e3;function Sr(){return Date.now()/ju}function _p(){const{performance:e}=U;if(!e||!e.now)return Sr;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ju}const de=_p(),Ce=(()=>{const{performance:e}=U;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?e.timeOrigin:i:r})();function Ae(){const e=U,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function qu(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Rt(e){const{message:t,event_id:n}=e;if(t)return t;const r=qu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $o(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Wt(e,t){const n=qu(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s&&s.data,...t.data};n.mechanism.data=o}}function yp(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>mo(i,0));const o=Math.min(r-1,s);t.context_line=mo(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>mo(i,0))}function Oa(e){if(Sp(e))return!0;try{Le(e,"__sentry_captured__",!0)}catch{}return!1}function Sp(e){try{return e.__sentry_captured__}catch{}}var ut;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ut||(ut={}));function _t(e){return new je(t=>{t(e)})}function Es(e){return new je((t,n)=>{n(e)})}class je{constructor(t){je.prototype.__init.call(this),je.prototype.__init2.call(this),je.prototype.__init3.call(this),je.prototype.__init4.call(this),this._state=ut.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new je((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new je((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(ut.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ut.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ut.PENDING){if(yr(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ut.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ut.RESOLVED&&n[1](this._value),this._state===ut.REJECTED&&n[2](this._value),n[0]=!0)})}}}function bp(e){const t=de(),n={sid:Ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>vp(n)};return e&&On(n,e),n}function On(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||de(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ae()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ep(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),On(e,n)}function vp(e){return ye({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function yt(){return Ae()}function zt(){return Ae().substring(16)}function zs(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=zs(r[s],t[s],n-1));return r}const Uo="_sentrySpan";function fn(e,t){t?Le(e,Uo,t):delete e[Uo]}function vs(e){return e[Uo]}const wp=100;class Ri{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:yt(),spanId:zt()}}clone(){const t=new Ri;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,fn(t,vs(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&On(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof jt?[n.getScopeData(),n.getRequestSession()]:dn(n)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,fn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:yt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:wp;if(r<=0)return this;const s={timestamp:Sr(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:vs(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=zs(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:zt(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ae();if(!this._client)return y.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Ae();if(!this._client)return y.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ae();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(y.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const jt=Ri;function Tp(){return _r("defaultCurrentScope",()=>new jt)}function Ip(){return _r("defaultIsolationScope",()=>new jt)}class Cp{constructor(t,n){let r;t?r=t:r=new jt;let s;n?s=n:s=new jt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return yr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Nn(){const e=vt(),t=wi(e);return t.stack=t.stack||new Cp(Tp(),Ip())}function kp(e){return Nn().withScope(e)}function Rp(e,t){const n=Nn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Na(e){return Nn().withScope(()=>e(Nn().getIsolationScope()))}function xp(){return{withIsolationScope:Na,withScope:kp,withSetScope:Rp,withSetIsolationScope:(e,t)=>Na(t),getCurrentScope:()=>Nn().getScope(),getIsolationScope:()=>Nn().getIsolationScope()}}function Xt(e){const t=wi(e);return t.acs?t.acs:xp()}function z(){const e=vt();return Xt(e).getCurrentScope()}function we(){const e=vt();return Xt(e).getIsolationScope()}function xi(){return _r("globalScope",()=>new jt)}function Ge(...e){const t=vt(),n=Xt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function $I(...e){const t=vt(),n=Xt(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function x(){return z().getClient()}function Mp(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return ye({trace_id:n,span_id:r,parent_span_id:s})}const Bo="_sentryMetrics";function Ho(e){const t=e[Bo];if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(ye(s));return n}function Ap(e,t,n,r,s,o,i){const c=e[Bo]||(e[Bo]=new Map),u=`${t}:${n}@${s}`,d=c.get(i);if(d){const[,l]=d;c.set(i,[u,{min:Math.min(l.min,r),max:Math.max(l.max,r),count:l.count+=1,sum:l.sum+=r,tags:l.tags}])}else c.set(i,[u,{min:r,max:r,count:1,sum:r,tags:o}])}const ge="sentry.source",Gu="sentry.sample_rate",Oe="sentry.op",Q="sentry.origin",Wo="sentry.idle_span_finish_reason",js="sentry.measurement_unit",qs="sentry.measurement_value",zo="sentry.custom_span_name",Op="sentry.profile_id",Mi="sentry.exclusive_time",Np=0,Yu=1,be=2;function Dp(e){if(e<400&&e>=100)return{code:Yu};if(e>=400&&e<500)switch(e){case 401:return{code:be,message:"unauthenticated"};case 403:return{code:be,message:"permission_denied"};case 404:return{code:be,message:"not_found"};case 409:return{code:be,message:"already_exists"};case 413:return{code:be,message:"failed_precondition"};case 429:return{code:be,message:"resource_exhausted"};case 499:return{code:be,message:"cancelled"};default:return{code:be,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:be,message:"unimplemented"};case 503:return{code:be,message:"unavailable"};case 504:return{code:be,message:"deadline_exceeded"};default:return{code:be,message:"internal_error"}}return{code:be,message:"unknown_error"}}function Vu(e,t){e.setAttribute("http.response.status_code",t);const n=Dp(t);n.message!=="unknown_error"&&e.setStatus(n)}const Ai="sentry-",Pp=/^sentry-/,Lp=8192;function Xu(e){const t=Fp(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Pp)){const i=s.slice(Ai.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Ku(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Ai}${r}`]=s),n),{});return $p(t)}function Fp(e){if(!(!e||!ft(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Da(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):Da(e)}function Da(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function $p(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>Lp?(Gt&&y.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const Ju=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Up(e){if(!e)return;const t=e.match(Ju);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Zu(e,t){const n=Up(e),r=Xu(t);if(!n||!n.traceId)return{traceId:yt(),spanId:zt()};const{traceId:s,parentSpanId:o,parentSampled:i}=n,a=zt();return{traceId:s,parentSpanId:o,spanId:a,sampled:i,dsc:r||{}}}function Qu(e=yt(),t=zt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const el=0,tl=1;let Pa=!1;function Bp(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a}=W(e);return ye({parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a})}function Hp(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:W(e).parent_span_id,o=r?zt():t;return ye({parent_span_id:s,span_id:o,trace_id:n})}function Wp(e){const{traceId:t,spanId:n}=e.spanContext(),r=hn(e);return Qu(t,n,r)}function an(e){return typeof e=="number"?La(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?La(e.getTime()):de()}function La(e){return e>9999999999?e/1e3:e}function W(e){if(jp(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(zp(e)){const{attributes:r,startTime:s,name:o,endTime:i,parentSpanId:a,status:c}=e;return ye({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:an(s),timestamp:an(i)||void 0,status:nl(c),op:r[Oe],origin:r[Q],_metrics_summary:Ho(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function zp(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function jp(e){return typeof e.getSpanJSON=="function"}function hn(e){const{traceFlags:t}=e.spanContext();return t===tl}function nl(e){if(!(!e||e.code===Np))return e.code===Yu?"ok":e.message||"unknown_error"}const cn="_sentryChildSpans",jo="_sentryRootSpan";function rl(e,t){const n=e[jo]||e;Le(t,jo,n),e[cn]?e[cn].add(t):Le(e,cn,new Set([t]))}function qp(e,t){e[cn]&&e[cn].delete(t)}function rs(e){const t=new Set;function n(r){if(!t.has(r)&&hn(r)){t.add(r);const s=r[cn]?Array.from(r[cn]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function _e(e){return e[jo]||e}function he(){const e=vt(),t=Xt(e);return t.getActiveSpan?t.getActiveSpan():vs(z())}function Gp(e,t,n,r,s,o){const i=he();i&&Ap(i,e,t,n,r,s,o)}function sl(){Pa||(Et(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Pa=!0)}function UI(e,t){e.updateName(t),e.setAttributes({[ge]:"custom",[zo]:t})}let Fa=!1;function ol(){Fa||(Fa=!0,Lu(qo),Fu(qo))}function qo(){const e=he(),t=e&&_e(e);if(t){const n="internal_error";$&&y.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:be,message:n})}}qo.tag="sentry_tracingErrorCallback";const il="_sentryScope",al="_sentryIsolationScope";function Yp(e,t,n){e&&(Le(e,al,n),Le(e,il,t))}function $a(e){return{scope:e[il],isolationScope:e[al]}}function BI(){ol()}function qt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Kt{constructor(t={}){this._traceId=t.traceId||yt(),this._spanId=t.spanId||zt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:el}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Oi(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Vp(r,t,n)}function Vp(e,t,n){return yr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}const Gs="production",cl="_frozenDsc";function Ua(e,t){Le(e,cl,t)}function ul(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=ye({environment:n.environment||Gs,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function ll(e,t){const n=t.getPropagationContext();return n.dsc||ul(n.traceId,e)}function Jt(e){const t=x();if(!t)return{};const n=_e(e),r=n[cl];if(r)return r;const s=n.spanContext().traceState,o=s&&s.get("sentry.dsc"),i=o&&Xu(o);if(i)return i;const a=ul(e.spanContext().traceId,t),c=W(n),u=c.data||{},d=u[Gu];d!=null&&(a.sample_rate=`${d}`);const l=u[ge],f=c.description;return l!=="url"&&f&&(a.transaction=f),qt()&&(a.sampled=String(hn(n))),t.emit("createDsc",a,n),a}function HI(e){const t=Jt(e);return Ku(t)}function Xp(e){if(!$)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=W(e),{spanId:s}=e.spanContext(),o=hn(e),i=_e(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=W(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}y.log(`${c}
  ${u.join(`
  `)}`)}function Kp(e){if(!$)return;const{description:t="< unknown name >",op:n="< unknown op >"}=W(e),{spanId:r}=e.spanContext(),o=_e(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;y.log(i)}function ws(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){$&&y.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Jp(e,t){if(!qt(e))return[!1];const n=we().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;const o=ws(s);return o===void 0?($&&y.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:($&&y.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,o]):($&&y.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}const Zp=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qp(e){return e==="http"||e==="https"}function mn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function dl(e){const t=Zp.exec(e);if(!t){Et(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return fl({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function fl(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function eh(e){if(!Gt)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(y.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Qp(r)?t&&isNaN(parseInt(t,10))?(y.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(y.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(y.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function pl(e){const t=typeof e=="string"?dl(e):fl(e);if(!(!t||!eh(t)))return t}function th(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let o=0;o<t.length;o++)if(t[o]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let o=0;o<t.length;o++)if(t[o]===s){t.splice(o,1);break}}return[n,r]}function ze(e,t=100,n=1/0){try{return Go("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function hl(e,t=3,n=100*1024){const r=ze(e,t);return oh(r)>n?hl(e,t-1,n):r}function Go(e,t,n=1/0,r=1/0,s=th()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=nh(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return Go("",p,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=zu(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=Go(p,h,c-1,r,s),l++}return i(t),d}function nh(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Bu(t))return"[VueViewModel]";if(lp(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ht(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=rh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function rh(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function sh(e){return~-encodeURI(e).split(/%..|./).length}function oh(e){return sh(JSON.stringify(e))}function wt(e,t=[]){return[e,t]}function ih(e,t){const[n,r]=e;return[n,[...r,t]]}function pn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Ba(e,t){return pn(e,(n,r)=>t.includes(r))}function Ts(e){return U.__SENTRY__&&U.__SENTRY__.encodePolyfill?U.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function ah(e){return U.__SENTRY__&&U.__SENTRY__.decodePolyfill?U.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function Is(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[Ts(r),o]:r.push(typeof o=="string"?Ts(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ze(a))}s(c)}}return typeof r=="string"?r:ch(r)}function ch(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function uh(e){let t=typeof e=="string"?Ts(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(ah(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function lh(e){return[{type:"span"},e]}function dh(e){const t=typeof e.data=="string"?Ts(e.data):e.data;return[ye({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const fh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Ha(e){return fh[e]}function Ni(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ml(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:mn(r)},...s&&{trace:ye({...s})}}}function ph(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function hh(e,t,n,r){const s=Ni(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:mn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return wt(o,[i])}function mh(e,t,n,r){const s=Ni(n),o=e.type&&e.type!=="replay_event"?e.type:"event";ph(e,n&&n.sdk);const i=ml(e,s,r,t);return delete e.sdkProcessingMetadata,wt(i,[[{type:o},e]])}function gh(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=Jt(e[0]),s=t&&t.getDsn(),o=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:mn(s)}},a=t&&t.getOptions().beforeSendSpan,c=a?d=>{const l=a(W(d));return l||sl(),l}:d=>W(d),u=[];for(const d of e){const l=c(d);l&&u.push(lh(l))}return wt(i,u)}function _h(e,t,n,r=he()){const s=r&&_e(r);s&&($&&y.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[qs]:t,[js]:n}))}function Wa(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[js],o=r[qs];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const za=1e3;class Di{constructor(t={}){this._traceId=t.traceId||yt(),this._spanId=t.spanId||zt(),this._startTime=t.startTimestamp||de(),this._attributes={},this.setAttributes({[Q]:"manual",[Oe]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?tl:el}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=an(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ge,"custom"),this}end(t){this._endTime||(this._endTime=an(t),Kp(this),this._onSpanEnded())}getSpanJSON(){return ye({data:this._attributes,description:this._name,op:this._attributes[Oe],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:nl(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Q],_metrics_summary:Ho(this),profile_id:this._attributes[Op],exclusive_time:this._attributes[Mi],measurements:Wa(this._events),is_segment:this._isStandaloneSpan&&_e(this)===this||void 0,segment_id:this._isStandaloneSpan?_e(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){$&&y.log("[Tracing] Adding an event to span:",t);const s=ja(n)?n:r||de(),o=ja(n)?{}:n||{},i={name:t,time:an(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=x();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===_e(this)))return;if(this._isStandaloneSpan){this._sampled?Sh(gh([this],t)):($&&y.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&($a(this).scope||z()).captureEvent(r)}_convertSpanToTransaction(){if(!qa(W(this)))return;this._name||($&&y.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=$a(this),s=(t||z()).getClient()||x();if(this._sampled!==!0){$&&y.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const i=rs(this).filter(l=>l!==this&&!yh(l)).map(l=>W(l)).filter(qa),a=this._attributes[ge];delete this._attributes[zo],i.forEach(l=>{l.data&&delete l.data[zo]});const c={contexts:{trace:Bp(this)},spans:i.length>za?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,za):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...ye({dynamicSamplingContext:Jt(this)})},_metrics_summary:Ho(this),...a&&{transaction_info:{source:a}}},u=Wa(this._events);return u&&Object.keys(u).length&&($&&y.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function ja(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function qa(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function yh(e){return e instanceof Di&&e.isStandaloneSpan()}function Sh(e){const t=x();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const Pi="__SENTRY_SUPPRESS_TRACING__";function WI(e,t){const n=br();if(n.startSpan)return n.startSpan(e,t);const r=Fi(e),{forceTransaction:s,parentSpan:o}=e;return Ge(e.scope,()=>gl(o)(()=>{const a=z(),c=$i(a),d=e.onlyIfParent&&!c?new Kt:Li({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});return fn(a,d),Oi(()=>t(d),()=>{const{status:l}=W(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:be,message:"internal_error"})},()=>d.end())}))}function bh(e,t){const n=br();if(n.startSpanManual)return n.startSpanManual(e,t);const r=Fi(e),{forceTransaction:s,parentSpan:o}=e;return Ge(e.scope,()=>gl(o)(()=>{const a=z(),c=$i(a),d=e.onlyIfParent&&!c?new Kt:Li({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});fn(a,d);function l(){d.end()}return Oi(()=>t(d,l),()=>{const{status:f}=W(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:be,message:"internal_error"})})}))}function nt(e){const t=br();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Fi(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ge(e.scope,i):s!==void 0?i=>Dn(s,i):i=>i())(()=>{const i=z(),a=$i(i);return e.onlyIfParent&&!a?new Kt:Li({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const zI=(e,t)=>{const n=vt(),r=Xt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e;return Ge(i=>{const a=Zu(s,o);return i.setPropagationContext(a),t()})};function Dn(e,t){const n=br();return n.withActiveSpan?n.withActiveSpan(e,t):Ge(r=>(fn(r,e||void 0),t(r)))}function jI(e){const t=br();return t.suppressTracing?t.suppressTracing(e):Ge(n=>(n.setSDKProcessingMetadata({[Pi]:!0}),e()))}function qI(e){return Ge(t=>(t.setPropagationContext({traceId:yt()}),$&&y.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Dn(null,e)))}function Li({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!qt())return new Kt;const s=we();let o;if(e&&!n)o=Eh(e,r,t),rl(e,o);else if(e){const i=Jt(e),{traceId:a,spanId:c}=e.spanContext(),u=hn(e);o=Ga({traceId:a,parentSpanId:c,...t},r,u),Ua(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=Ga({traceId:i,parentSpanId:c,...t},r,u),a&&Ua(o,a)}return Xp(o),Yp(o,r,s),o}function Fi(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=an(e.startTime),delete r.startTime,r}return n}function br(){const e=vt();return Xt(e)}function Ga(e,t,n){const r=x(),s=r&&r.getOptions()||{},{name:o="",attributes:i}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[Pi]?[!1]:Jp(s,{name:o,parentSampled:n,attributes:i,transactionContext:{name:o,parentSampled:n}}),u=new Di({...e,attributes:{[ge]:"custom",...e.attributes},sampled:a});return c!==void 0&&u.setAttribute(Gu,c),r&&r.emit("spanStart",u),u}function Eh(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[Pi]?!1:hn(e),i=o?new Di({...n,parentSpanId:r,traceId:s,sampled:o}):new Kt({traceId:s});rl(e,i);const a=x();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function $i(e){const t=vs(e);if(!t)return;const n=x();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?_e(t):t}function gl(e){return e!==void 0?t=>Dn(e,t):t=>t()}const ss={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},vh="heartbeatFailed",wh="idleTimeout",Th="finalTimeout",Ih="externalFinish";function _l(e,t={}){const n=new Map;let r=!1,s,o=Ih,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=ss.idleTimeout,finalTimeout:u=ss.finalTimeout,childSpanTimeout:d=ss.childSpanTimeout,beforeSpanEnd:l}=t,f=x();if(!f||!qt())return new Kt;const p=z(),h=he(),m=Ch(e);m.end=new Proxy(m.end,{apply(w,v,M){l&&l(m);const[b,...g]=M,T=b||de(),I=an(T),D=rs(m).filter(P=>P!==m);if(!D.length)return N(I),Reflect.apply(w,v,[I,...g]);const q=D.map(P=>W(P).timestamp).filter(P=>!!P),j=q.length?Math.max(...q):void 0,A=W(m).start_timestamp,se=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(I,j||1/0)));return N(se),Reflect.apply(w,v,[se,...g])}});function S(){s&&(clearTimeout(s),s=void 0)}function _(w){S(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=wh,m.end(w))},c)}function E(w){s=setTimeout(()=>{!r&&i&&(o=vh,m.end(w))},d)}function O(w){S(),n.set(w,!0);const v=de();E(v+d/1e3)}function R(w){if(n.has(w)&&n.delete(w),n.size===0){const v=de();_(v+c/1e3)}}function N(w){r=!0,n.clear(),a.forEach(I=>I()),fn(p,h);const v=W(m),{start_timestamp:M}=v;if(!M)return;(v.data||{})[Wo]||m.setAttribute(Wo,o),y.log(`[Tracing] Idle span "${v.op}" finished`);const g=rs(m).filter(I=>I!==m);let T=0;g.forEach(I=>{I.isRecording()&&(I.setStatus({code:be,message:"cancelled"}),I.end(w),$&&y.log("[Tracing] Cancelling span since span ended early",JSON.stringify(I,void 0,2)));const D=W(I),{timestamp:q=0,start_timestamp:j=0}=D,A=j<=w,se=(u+c)/1e3,P=q-j<=se;if($){const ee=JSON.stringify(I,void 0,2);A?P||y.log("[Tracing] Discarding span since it finished after idle span final timeout",ee):y.log("[Tracing] Discarding span since it happened after idle span was finished",ee)}(!P||!A)&&(qp(m,I),T++)}),T>0&&m.setAttribute("sentry.idle_span_discarded_spans",T)}return a.push(f.on("spanStart",w=>{if(r||w===m||W(w).timestamp)return;rs(m).includes(w)&&O(w.spanContext().spanId)})),a.push(f.on("spanEnd",w=>{r||R(w.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",w=>{w===m&&(i=!0,_(),n.size&&E())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(m.setStatus({code:be,message:"deadline_exceeded"}),o=Th,m.end())},u),m}function Ch(e){const t=nt(e);return fn(z(),t),$&&y.log("[Tracing] Started span is an idle span"),t}function Yo(e,t,n,r=0){return new je((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);$&&i.id&&a===null&&y.log(`Event processor "${i.id}" dropped event`),yr(a)?a.then(c=>Yo(e,c,n,r+1).then(s)).then(null,o):Yo(e,a,n,r+1).then(s).then(null,o)}})}let $r,Ya,Ur;function yl(e){const t=U._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Ur&&n.length===Ya||(Ya=n.length,Ur=n.reduce((r,s)=>{$r||($r={});const o=$r[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c&&c.filename,d=t[s];if(u&&d){r[u]=d,$r[s]=[u,d];break}}}return r},{})),Ur}function kh(e,t){const n=yl(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function Rh(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;xh(e,t),r&&Oh(e,r),Nh(e,n),Mh(e,s),Ah(e,o)}function Va(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;Br(e,"extra",n),Br(e,"tags",r),Br(e,"user",s),Br(e,"contexts",o),e.sdkProcessingMetadata=zs(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Br(e,t,n){e[t]=zs(e[t],n,1)}function xh(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=ye(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=ye(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=ye(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const l=ye(o);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Mh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Ah(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Oh(e,t){e.contexts={trace:Hp(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Jt(t),...e.sdkProcessingMetadata};const n=_e(t),r=W(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Nh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Sl(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ae(),timestamp:t.timestamp||Sr()},u=n.integrations||e.integrations.map(S=>S.name);Dh(c,e),Fh(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Ph(c,e.stackParser);const d=Uh(r,n.captureContext);n.mechanism&&Wt(c,n.mechanism);const l=s?s.getEventProcessors():[],f=xi().getScopeData();if(o){const S=o.getScopeData();Va(f,S)}if(d){const S=d.getScopeData();Va(f,S)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Rh(c,f);const h=[...l,...f.eventProcessors];return Yo(h,c,n).then(S=>(S&&Lh(S),typeof i=="number"&&i>0?$h(S,i,a):S))}function Dh(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Gs,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=Lt(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=Lt(i.value,o));const a=e.request;a&&a.url&&(a.url=Lt(a.url,o))}function Ph(e,t){const n=yl(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function Lh(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Fh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function $h(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:ze(s.data,t,n)}}))},...e.user&&{user:ze(e.user,t,n)},...e.contexts&&{contexts:ze(e.contexts,t,n)},...e.extra&&{extra:ze(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ze(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:ze(s.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=ze(e.contexts.flags,3,n)),r}function Uh(e,t){if(!t)return e;const n=e?e.clone():new jt;return n.update(t),n}function Bh(e){if(e)return Hh(e)?{captureContext:e}:zh(e)?{captureContext:e}:e}function Hh(e){return e instanceof jt||typeof e=="function"}const Wh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function zh(e){return Object.keys(e).some(t=>Wh.includes(t))}function Ys(e,t){return z().captureException(e,Bh(t))}function Vo(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return z().captureMessage(e,n,r)}function Er(e,t){return z().captureEvent(e,t)}function Ui(e,t){we().setContext(e,t)}function jh(e){we().setExtras(e)}function qh(e,t){we().setExtra(e,t)}function Gh(e){we().setTags(e)}function Yh(e,t){we().setTag(e,t)}function Vh(e){we().setUser(e)}function Xh(){return we().lastEventId()}async function GI(e){const t=x();return t?t.flush(e):($&&y.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function YI(e){const t=x();return t?t.close(e):($&&y.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function VI(){return!!x()}function Kh(){const e=x();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function Jh(e){we().addEventProcessor(e)}function Xo(e){const t=x(),n=we(),r=z(),{release:s,environment:o=Gs}=t&&t.getOptions()||{},{userAgent:i}=U.navigator||{},a=bp({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&c.status==="ok"&&On(c,{status:"exited"}),Cs(),n.setSession(a),r.setSession(a),a}function Cs(){const e=we(),t=z(),n=t.getSession()||e.getSession();n&&Ep(n),bl(),e.setSession(),t.setSession()}function bl(){const e=we(),t=z(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function Xa(e=!1){if(e){Cs();return}bl()}const Zh="7";function El(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Qh(e){return`${El(e)}${e.projectId}/envelope/`}function em(e,t){const n={sentry_version:Zh};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function vl(e,t,n){return t||`${Qh(e)}?${em(e,n)}`}function tm(e,t){const n=pl(e);if(!n)return"";const r=`${El(n)}embed/error-page/`;let s=`dsn=${mn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Ka=[];function nm(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function rm(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;const s=nm(r),o=s.findIndex(i=>i.name==="Debug");if(o>-1){const[i]=s.splice(o,1);s.push(i)}return s}function sm(e,t){const n={};return t.forEach(r=>{r&&wl(e,r,n)}),n}function Ja(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function wl(e,t,n){if(n[t.name]){$&&y.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ka.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ka.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}$&&y.log(`Integration installed: ${t.name}`)}function Za(e){const t=x();if(!t){$&&y.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function om(e,t,n){const r=[{type:"client_report"},{timestamp:Sr(),discarded_events:e}];return wt(t?{dsn:t}:{},[r])}class Ke extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const Qa="Not capturing exception because it's already been captured.";class im{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=pl(t.dsn):$&&y.warn("No DSN provided, client will not send events."),this._dsn){const s=vl(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&Et(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Ae();if(Oa(t))return $&&y.log(Qa),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Ae(),...r},i=Ti(t)?t:String(t),a=Ii(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Ae();if(n&&n.originalException&&Oa(n.originalException))return $&&y.log(Qa),s;const o={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?$&&y.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),On(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):_t(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];wl(this,t,this._integrations),n||Ja(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=mh(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=ih(r,dh(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=hh(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;$&&y.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>($&&y.error("Error while sending envelope:",n),n)):($&&y.error("Transport disabled"),_t({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=sm(this,t),Ja(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(On(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new je(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=z(),s=we()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Sl(o,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:Mp(r),...a.contexts};const c=ll(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{$&&(s instanceof Ke&&s.logLevel==="log"?y.log(s.message):y.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=Il(t),a=Tl(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:ws(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Es(new Ke(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new Ke("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const S=cm(this,s,h,n);return am(S,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),i){const E=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",E)}throw new Ke(`${u} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!i&&m&&this._updateSessionFromEvent(m,h),i){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,E=h.spans?h.spans.length:0,O=_-E;O>0&&this.recordDroppedEvent("before_send","span",O)}const S=h.transaction_info;if(i&&S&&h.transaction!==t.transaction){const _="custom";h.transaction_info={...S,source:_}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof Ke?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new Ke(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){$&&y.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){$&&y.log("No outcomes to send");return}if(!this._dsn){$&&y.log("No dsn provided, will not send outcomes");return}$&&y.log("Sending outcomes:",t);const n=om(t,this._options.tunnel&&mn(this._dsn));this.sendEnvelope(n)}}function am(e,t){const n=`${t} must return \`null\` or a valid event.`;if(yr(e))return e.then(r=>{if(!dn(r)&&r!==null)throw new Ke(n);return r},r=>{throw new Ke(`${t} rejected with ${r}`)});if(!dn(e)&&e!==null)throw new Ke(n);return e}function cm(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;if(Tl(n)&&s)return s(n,r);if(Il(n)){if(n.spans&&i){const a=[];for(const c of n.spans){const u=i(c);u?a.push(u):(sl(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function Tl(e){return e.type===void 0}function Il(e){return e.type==="transaction"}function um(e,t){t.debug===!0&&($?y.enable():Et(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),z().update(t.initialScope);const r=new e(t);return lm(r),r.init(),r}function lm(e){z().setClient(e)}function dm(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return Es(new Ke("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new je((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{_t(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const fm=60*1e3;function Cl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?fm:r-t}function pm(e,t){return e[t]||e.all||0}function kl(e,t,n=Date.now()){return pm(e,t)>n}function Rl(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+Cl(i,r):t===429&&(s.all=r+60*1e3);return s}const hm=64;function mm(e,t,n=dm(e.bufferSize||hm)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(pn(i,(l,f)=>{const p=Ha(f);if(kl(r,p)){const h=ec(l,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(l)}),a.length===0)return _t({});const c=wt(i[0],a),u=l=>{pn(c,(f,p)=>{const h=ec(f,p);e.recordDroppedEvent(l,Ha(p),h)})},d=()=>t({body:Is(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&$&&y.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Rl(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Ke)return $&&y.error("Skipped sending event because buffer is full."),u("queue_overflow"),_t({});throw l})}return{send:o,flush:s}}function ec(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const go=100,_o=5e3,gm=36e5;function _m(e){function t(...n){$&&y.info("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=_o,i;function a(l,f,p){return Ba(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,gm))}async function d(l,f=!1){if(!f&&Ba(l,["replay_event","replay_recording"]))return await s.push(l),c(go),{};try{const p=await r.send(l);let h=go;if(p){if(p.headers&&p.headers["retry-after"])h=Cl(p.headers["retry-after"]);else if(p.headers&&p.headers["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=_o,p}catch(p){if(await a(l,p,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=_o,c(go)),r.flush(l))}}}function xl(e,t){let n;return pn(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function ym(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=xl(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function Sm(e,t){return wt(t?{...e[0],dsn:t}:e[0],e[1])}function XI(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=dl(c);if(!f)return;const p=vl(f,n.tunnel);l=u?ym(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p&&p.length?p:["event"];return xl(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(Sm(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function Ml(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Em(e,n)||bm(e,r)}function bm(e,t){return t?tc(e)===tc(t):!1}function Em(e,t){return t?e.includes(t.host):!1}function tc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function KI(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Al(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Pt})),version:Pt}),e._metadata=s}function Ol(e={}){const t=x();if(!Kh()||!t)return{};const n=vt(),r=Xt(n);if(r.getTraceData)return r.getTraceData(e);const s=z(),o=e.span||he(),i=o?Wp(o):vm(s),a=o?Jt(o):ll(t,s),c=Ku(a);return Ju.test(i)?{"sentry-trace":i,baggage:c}:(y.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function vm(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return Qu(t,r,n)}const wm=100;function st(e,t){const n=x(),r=we();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=wm}=n.getOptions();if(o<=0)return;const a={timestamp:Sr(),...e},c=s?Et(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let nc;const Tm="FunctionToString",rc=new WeakMap,Im=()=>({name:Tm,setupOnce(){nc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ki(this),n=rc.has(x())&&t!==void 0?t:this;return nc.apply(n,e)}}catch{}},setup(e){rc.set(e,!0)}}),Cm=Im,km=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Rm="InboundFilters",xm=(e={})=>({name:Rm,processEvent(t,n,r){const s=r.getOptions(),o=Am(e,s);return Om(t,o)?null:t}}),Mm=xm;function Am(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:km],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Om(e,t){return t.ignoreInternal&&$m(e)?($&&y.warn(`Event dropped due to being internal Sentry Error.
Event: ${Rt(e)}`),!0):Nm(e,t.ignoreErrors)?($&&y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Rt(e)}`),!0):Bm(e)?($&&y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Rt(e)}`),!0):Dm(e,t.ignoreTransactions)?($&&y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Rt(e)}`),!0):Pm(e,t.denyUrls)?($&&y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Rt(e)}.
Url: ${ks(e)}`),!0):Lm(e,t.allowUrls)?!1:($&&y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Rt(e)}.
Url: ${ks(e)}`),!0)}function Nm(e,t){return e.type||!t||!t.length?!1:Fm(e).some(n=>Ft(n,t))}function Dm(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ft(n,t):!1}function Pm(e,t){if(!t||!t.length)return!1;const n=ks(e);return n?Ft(n,t):!1}function Lm(e,t){if(!t||!t.length)return!0;const n=ks(e);return n?Ft(n,t):!0}function Fm(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function $m(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Um(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ks(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Um(t):null}catch{return $&&y.error(`Cannot extract url for event ${Rt(e)}`),null}}function Bm(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Hm(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!mt(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Wm(Ko(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function Ko(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(mt(r[s],Error)){sc(i,a);const u=e(t,r[s]),d=c.length;oc(u,s,d,a),c=Ko(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(mt(u,Error)){sc(i,a);const l=e(t,u),f=c.length;oc(l,`errors[${d}]`,f,a),c=Ko(e,t,n,u,s,[l,...c],l,f)}}),c}function sc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function oc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Wm(e,t){return e.map(n=>(n.value&&(n.value=Lt(n.value,t)),n))}const Nl=new Map,ic=new Set;function zm(e){if(U._sentryModuleMetadata)for(const t of Object.keys(U._sentryModuleMetadata)){const n=U._sentryModuleMetadata[t];if(ic.has(t))continue;ic.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Nl.set(s.filename,n);break}}}function jm(e,t){return zm(e),Nl.get(t)}function Dl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=jm(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Pl(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const JI=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{pn(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Pl(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Dl(n,t)})}});function un(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function qm(e){return e.split(/[?#]/,1)[0]}function ac(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function Ll(e){const t="console";Yt(t,e),Vt(t,Gm)}function Gm(){"console"in U&&ys.forEach(function(e){e in U.console&&Me(U.console,e,function(t){return Ss[e]=t,function(...n){qe("console",{args:n,level:e});const s=Ss[e];s&&s.apply(U.console,n)}})})}function Bi(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Ym="CaptureConsole",Vm=(e={})=>{const t=e.levels||ys,n=!!e.handled;return{name:Ym,setup(r){"console"in U&&Ll(({args:s,level:o})=>{x()!==r||!t.includes(o)||Xm(s,o,n)})}}},ZI=Vm;function Xm(e,t,n){const r={level:Bi(t),extra:{arguments:e}};Ge(s=>{if(s.addEventProcessor(a=>(a.logger="console",Wt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${bs(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),Vo(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){Ys(o,r);return}const i=bs(e," ");Vo(i,r)})}const Km="Debug",Jm=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Km,setup(n){n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;Et(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},QI=Jm,Zm="Dedupe",Qm=()=>{let e;return{name:Zm,processEvent(t){if(t.type)return t;try{if(tg(t,e))return $&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},eg=Qm;function tg(e,t){return t?!!(ng(e,t)||rg(e,t)):!1}function ng(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!$l(e,t)||!Fl(e,t))}function rg(e,t){const n=cc(t),r=cc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!$l(e,t)||!Fl(e,t))}function Fl(e,t){let n=Lo(e),r=Lo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function $l(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function cc(e){return e.exception&&e.exception.values&&e.exception.values[0]}const sg="ExtraErrorData",og=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:sg,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return ig(r,s,t,n,i)}}},e1=og;function ig(e,t={},n,r,s){if(!t.originalException||!dt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=ag(t.originalException,r,s);if(i){const a={...e.contexts},c=ze(i,n);return dn(c)&&(Le(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function ag(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=dt(i)||typeof i=="string"?Lt(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=dt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=dt(a)?a.toString():a}}return s}catch(r){$&&y.error("Unable to extract extra data from the Error object:",r)}return null}function cg(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const ug=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function lg(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=ug.exec(t);return n?n.slice(1):[]}function uc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=cg(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function lc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function dg(e,t){e=uc(e).slice(1),t=uc(t).slice(1);const n=lc(e.split("/")),r=lc(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function fg(e,t){return lg(e)[2]||""}const pg="RewriteFrames",t1=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in U&&U.window!==void 0,s=e.iteratee||hg({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(c=>s(c))}}return{name:pg,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function hg({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?dg(t,i):fg(i);r.filename=`${n}${a}`}return r}}const mg="SessionTiming",gg=()=>{const e=de()*1e3;return{name:mg,processEvent(t){const n=de()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},n1=gg,_g=10,yg="ZodErrors";function Sg(e){return dt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function bg(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Eg(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function vg(e){const t=new Set;for(const r of e.issues){const s=Eg(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Lt(n.join(", "),100)}`}function wg(e,t=!1,n,r){if(!n.exception||!n.exception.values||!r||!r.originalException||!Sg(r.originalException)||r.originalException.issues.length===0)return n;try{const o=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(bg);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:o})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:vg(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":o.slice(0,e)}}}catch(s){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:s instanceof Error?`${s.name}: ${s.message}
${s.stack}`:"unknown"}}}}}const Tg=(e={})=>{const t=typeof e.limit>"u"?_g:e.limit;return{name:yg,processEvent(n,r){return wg(t,e.saveZodIssuesAsAttachment,n,r)}}},r1=Tg,s1=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{pn(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(Pl(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Dl(r,n)})},processEvent(t){const n=Ig(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function Ig(e){const t=Lo(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(dc)).map(r=>r.slice(dc.length)):[])}const dc="_sentryBundlerPluginAppKey:",Ul="c",Bl="g",Hi="s",Hl="d",Cg=5e3;function Wl(e,t){const n=_r("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;const s=new t(e);return e.on("flush",()=>s.flush()),e.on("close",()=>s.close()),n.set(e,s),s}function Vs(e,t,n,r,s={}){const o=s.client||x();if(!o)return;const i=he(),a=i?_e(i):void 0,c=a&&W(a).description,{unit:u,tags:d,timestamp:l}=s,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),$&&y.log(`Adding value of ${r} to ${t} metric ${n}`),Wl(o,e).add(t,n,r,u,{...h,...d},l)}function kg(e,t,n=1,r){Vs(e,Ul,t,Wi(n),r)}function Jo(e,t,n,r){Vs(e,Hl,t,Wi(n),r)}function Rg(e,t,n,r="second",s){if(typeof n=="function"){const o=de();return bh({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},i=>Oi(()=>n(),()=>{},()=>{const a=de(),c=a-o;Jo(e,t,c,{...s,unit:"second"}),i.end(a)}))}Jo(e,t,n,{...s,unit:r})}function xg(e,t,n,r){Vs(e,Hi,t,n,r)}function Mg(e,t,n,r){Vs(e,Bl,t,Wi(n),r)}const vr={increment:kg,distribution:Jo,set:xg,gauge:Mg,timing:Rg,getMetricsAggregatorForClient:Wl};function Wi(e){return typeof e=="string"?parseInt(e):e}function Ag(e,t,n,r){const s=Object.entries(ye(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function Og(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Ng(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Dg(e){return e.replace(/[^\w]+/gi,"_")}function Pg(e){return e.replace(/[^\w\-.]+/gi,"_")}function Lg(e){return e.replace(/[^\w\-./]+/gi,"")}const Fg=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function $g(e){for(const[t,n]of Fg)if(e===t)return n;return e}function Ug(e){return[...e].reduce((t,n)=>t+$g(n),"")}function Bg(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Lg(n);t[r]=Ug(String(e[n]))}return t}function Hg(e,t){y.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=e.getDsn(),r=e.getSdkMetadata(),s=e.getOptions().tunnel,o=Wg(t,n,r,s);e.sendEnvelope(o)}function Wg(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=mn(t));const o=zg(e);return wt(s,[o])}function zg(e){const t=Ng(e);return[{type:"statsd",length:t.length},t]}class jg{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class qg{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Gg{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class Yg{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Og(t):t).join(":")}}const Vg={[Ul]:jg,[Bl]:qg,[Hl]:Gg,[Hi]:Yg};class wr{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Cg)}add(t,n,r,s="none",o={},i=de()){const a=Math.floor(i),c=Pg(n),u=Bg(o),d=Dg(s),l=Ag(t,c,d,u);let f=this._buckets.get(l);const p=f&&t===Hi?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new Vg[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));const h=typeof r=="string"?f.metric.weight-p:r;Gp(t,c,h,d,o,l)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());Hg(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}function Xg(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const o=qt()&&t(e.fetchData.url);if(e.endTimestamp&&o){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(Zg(p,e),delete r[f]);return}const{method:i,url:a}=e.fetchData,c=Jg(a),u=c?un(c).host:void 0,d=!!he(),l=o&&d?nt({name:`${i} ${a}`,attributes:{url:a,type:"fetch","http.method":i,"http.url":c,"server.address":u,[Q]:s,[Oe]:"http.client"}}):new Kt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],p=e.args[1]||{},h=Kg(f,p,qt()&&d?l:void 0);h&&(e.args[1]=p,p.headers=h)}return l}function Kg(e,t,n){const r=Ol({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(Qg(e)?e.headers:void 0);if(i)if(e_(i)){const a=new Headers(i);if(a.set("sentry-trace",s),o){const c=a.get("baggage");if(c){const u=Hr(c);a.set("baggage",u?`${u},${o}`:o)}else a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){const[u,d,...l]=c;return[u,Hr(d),...l]}else return c}),["sentry-trace",s]];return o&&a.push(["baggage",o]),a}else{const a="baggage"in i?i.baggage:void 0;let c=[];return Array.isArray(a)?c=a.map(u=>typeof u=="string"?Hr(u):u).filter(u=>u===""):a&&c.push(Hr(a)),o&&c.push(o),{...i,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{...r}}function Jg(e){try{return new URL(e).href}catch{return}}function Zg(e,t){if(t.response){Vu(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:be,message:"internal_error"});e.end()}function Hr(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(Ai)).join(",")}function Qg(e){return typeof Request<"u"&&mt(e,Request)}function e_(e){return typeof Headers<"u"&&mt(e,Headers)}function t_(e,t={},n=z()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:ye({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||x();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function n_(){return{bindClient(e){z().setClient(e)},withScope:Ge,getClient:()=>x(),getScope:z,getIsolationScope:we,captureException:(e,t)=>z().captureException(e,t),captureMessage:(e,t,n)=>z().captureMessage(e,t,n),captureEvent:Er,addBreadcrumb:st,setUser:Vh,setTags:Gh,setTag:Yh,setExtra:qh,setExtras:jh,setContext:Ui,getIntegration(e){const t=x();return t&&t.getIntegrationByName(e.id)||null},startSession:Xo,endSession:Cs,captureSession(e){if(e)return Cs();r_()}}}const o1=n_;function r_(){const e=z(),t=x(),n=e.getSession();t&&n&&t.captureSession(n)}function zl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Rs=U;function jl(){if(!("fetch"in Rs))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Zo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ql(){if(typeof EdgeRuntime=="string")return!0;if(!jl())return!1;if(Zo(Rs.fetch))return!0;let e=!1;const t=Rs.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Zo(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Gt&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function s_(){return"ReportingObserver"in Rs}function zi(e,t){const n="fetch";Yt(n,e),Vt(n,()=>Gl(void 0,t))}function o_(e){const t="fetch-body-resolved";Yt(t,e),Vt(t,()=>Gl(a_))}function Gl(e,t=!1){t&&!ql()||Me(U,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=c_(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:de()*1e3,virtualError:s};return e||qe("fetch",{...a}),n.apply(U,r).then(async c=>(e?e(c):qe("fetch",{...a,endTimestamp:de()*1e3,response:c}),c),c=>{throw qe("fetch",{...a,endTimestamp:de()*1e3,error:c}),dt(c)&&c.stack===void 0&&(c.stack=s.stack,Le(c,"framesToPop",1)),c})}})}async function i_(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function a_(e){let t;try{t=e.clone()}catch{return}i_(t,()=>{qe("fetch-body-resolved",{endTimestamp:de()*1e3,response:e})})}function Qo(e,t){return!!e&&typeof e=="object"&&!!e[t]}function fc(e){return typeof e=="string"?e:e?Qo(e,"url")?e.url:e.toString?e.toString():"":""}function c_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:fc(n),method:Qo(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:fc(t),method:Qo(t,"method")?String(t.method).toUpperCase():"GET"}}function u_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function l_(){return"npm"}function d_(){return!u_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ei(){return typeof window<"u"&&(!d_()||f_())}function f_(){const e=U.process;return!!e&&e.type==="renderer"}const Wr=U;function p_(){const e=Wr.chrome,t=e&&e.app&&e.app.runtime,n="history"in Wr&&!!Wr.history.pushState&&!!Wr.history.replaceState;return!t&&n}function h_(e,t){return e??t()}function ln(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const C=U;let ti=0;function Yl(){return ti>0}function m_(){ti++,setTimeout(()=>{ti--})}function Pn(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(ki(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>Pn(i,t));return e.apply(this,o)}catch(o){throw m_(),Ge(i=>{i.addEventProcessor(a=>(t.mechanism&&($o(a,void 0),Wt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Ys(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Wu(r,e),Le(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const V=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ji(e,t){const n=qi(e,t),r={type:b_(t),value:E_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function g_(e,t,n,r){const s=x(),o=s&&s.getOptions().normalizeDepth,i=C_(t),a={__serialized__:hl(t,o)};if(i)return{exception:{values:[ji(e,i)]},extra:a};const c={exception:{values:[{type:Ws(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:T_(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=qi(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function yo(e,t){return{exception:{values:[ji(e,t)]}}}function qi(e,t){const n=t.stacktrace||t.stack||"",r=y_(t),s=S_(t);try{return e(n,r,s)}catch{}return[]}const __=/Minified React error #\d+;/i;function y_(e){return e&&__.test(e.message)?1:0}function S_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Vl(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function b_(e){const t=e&&e.name;return!t&&Vl(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function E_(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:Vl(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function v_(e,t,n,r){const s=n&&n.syntheticException||void 0,o=Gi(e,t,s,r);return Wt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),_t(o)}function w_(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=ni(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),_t(i)}function Gi(e,t,n,r,s){let o;if(Uu(t)&&t.error)return yo(e,t.error);if(xa(t)||ap(t)){const i=t;if("stack"in t)o=yo(e,t);else{const a=i.name||(xa(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=ni(e,c,n,r),$o(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return dt(t)?yo(e,t):dn(t)||Ws(t)?(o=g_(e,t,n,s),Wt(o,{synthetic:!0}),o):(o=ni(e,t,n,r),$o(o,`${t}`),Wt(o,{synthetic:!0}),o)}function ni(e,t,n,r){const s={};if(r&&n){const o=qi(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Wt(s,{synthetic:!0})}if(Ti(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function T_(e,{isUnhandledRejection:t}){const n=mp(e),r=t?"promise rejection":"exception";return Uu(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ws(e)?`Event \`${I_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function I_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function C_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function k_(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:mn(r)}},o=R_(e);return wt(s,[o])}function R_(e){return[{type:"user_report"},e]}class x_ extends im{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=C.SENTRY_SDK_SOURCE||l_();Al(n,"browser",["browser"],r),super(n),n.sendClientReports&&C.document&&C.document.addEventListener("visibilitychange",()=>{C.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return v_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return w_(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){V&&y.warn("SDK not enabled, will not capture user feedback.");return}const n=k_(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Yi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,M_=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Vn=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s||0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=M_(t.value,n),e(t)))}},L=U,A_=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Tr=(e=!0)=>{const t=L.performance&&L.performance.getEntriesByType&&L.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Ir=()=>{const e=Tr();return e&&e.activationStart||0},Xn=(e,t)=>{const n=Tr();let r="navigate";return n&&(L.document&&L.document.prerendering||Ir()>0?r="prerender":L.document&&L.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:A_(),navigationType:r}},gn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Kn=e=>{const t=n=>{(n.type==="pagehide"||L.document&&L.document.visibilityState==="hidden")&&e(n)};L.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Xs=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let nr=-1;const O_=()=>L.document.visibilityState==="hidden"&&!L.document.prerendering?0:1/0,xs=e=>{L.document.visibilityState==="hidden"&&nr>-1&&(nr=e.type==="visibilitychange"?e.timeStamp:0,D_())},N_=()=>{addEventListener("visibilitychange",xs,!0),addEventListener("prerenderingchange",xs,!0)},D_=()=>{removeEventListener("visibilitychange",xs,!0),removeEventListener("prerenderingchange",xs,!0)},Ks=()=>(L.document&&nr<0&&(nr=O_(),N_()),{get firstHiddenTime(){return nr}}),Cr=e=>{L.document&&L.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},P_=[1800,3e3],L_=(e,t={})=>{Cr(()=>{const n=Ks(),r=Xn("FCP");let s;const i=gn("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ir(),0),r.entries.push(c),s(!0)))})});i&&(s=Vn(e,r,P_,t.reportAllChanges))})},F_=[.1,.25],$_=(e,t={})=>{L_(Xs(()=>{const n=Xn("CLS",0);let r,s=0,o=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=o[0],l=o[o.length-1];s&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}}),s>n.value&&(n.value=s,n.entries=o,r())},a=gn("layout-shift",i);a&&(r=Vn(e,n,F_,t.reportAllChanges),Kn(()=>{i(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},U_=[100,300],B_=(e,t={})=>{Cr(()=>{const n=Ks(),r=Xn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=gn("first-input",i);s=Vn(e,r,U_,t.reportAllChanges),a&&Kn(Xs(()=>{i(a.takeRecords()),a.disconnect()}))})};let Xl=0,So=1/0,zr=0;const H_=e=>{e.forEach(t=>{t.interactionId&&(So=Math.min(So,t.interactionId),zr=Math.max(zr,t.interactionId),Xl=zr?(zr-So)/7+1:0)})};let ri;const W_=()=>ri?Xl:performance.interactionCount||0,z_=()=>{"interactionCount"in performance||ri||(ri=gn("event",H_,{type:"event",buffered:!0,durationThreshold:0}))},lt=[],bo=new Map,j_=40;let q_=0;const G_=()=>W_()-q_,Y_=()=>{const e=Math.min(lt.length-1,Math.floor(G_()/50));return lt[e]},Eo=10,V_=[],X_=e=>{if(V_.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=lt[lt.length-1],n=bo.get(e.interactionId);if(n||lt.length<Eo||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};bo.set(r.id,r),lt.push(r)}lt.sort((r,s)=>s.latency-r.latency),lt.length>Eo&&lt.splice(Eo).forEach(r=>bo.delete(r.id))}},Kl=e=>{const t=L.requestIdleCallback||L.setTimeout;let n=-1;return e=Xs(e),L.document&&L.document.visibilityState==="hidden"?e():(n=t(e),Kn(e)),n},K_=[200,500],J_=(e,t={})=>{"PerformanceEventTiming"in L&&"interactionId"in PerformanceEventTiming.prototype&&Cr(()=>{z_();const n=Xn("INP");let r;const s=i=>{Kl(()=>{i.forEach(X_);const a=Y_();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},o=gn("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:j_});r=Vn(e,n,K_,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Kn(()=>{s(o.takeRecords()),r(!0)}))})},Z_=[2500,4e3],pc={},Q_=(e,t={})=>{Cr(()=>{const n=Ks(),r=Xn("LCP");let s;const o=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Ir(),0),r.entries=[c],s())})},i=gn("largest-contentful-paint",o);if(i){s=Vn(e,r,Z_,t.reportAllChanges);const a=Xs(()=>{pc[r.id]||(o(i.takeRecords()),i.disconnect(),pc[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{L.document&&addEventListener(c,()=>Kl(a),{once:!0,capture:!0})}),Kn(a)}})},ey=[800,1800],si=e=>{L.document&&L.document.prerendering?Cr(()=>si(e)):L.document&&L.document.readyState!=="complete"?addEventListener("load",()=>si(e),!0):setTimeout(e,0)},ty=(e,t={})=>{const n=Xn("TTFB"),r=Vn(e,n,ey,t.reportAllChanges);si(()=>{const s=Tr();s&&(n.value=Math.max(s.responseStart-Ir(),0),n.entries=[s],r(!0))})},rr={},Ms={};let Jl,Zl,Ql,ed,td;function Vi(e,t=!1){return kr("cls",e,ry,Jl,t)}function nd(e,t=!1){return kr("lcp",e,oy,Ql,t)}function rd(e){return kr("fid",e,sy,Zl)}function ny(e){return kr("ttfb",e,iy,ed)}function sd(e){return kr("inp",e,ay,td)}function Ln(e,t){return od(e,t),Ms[e]||(cy(e),Ms[e]=!0),id(e,t)}function Jn(e,t){const n=rr[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){Yi&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}function ry(){return $_(e=>{Jn("cls",{metric:e}),Jl=e},{reportAllChanges:!0})}function sy(){return B_(e=>{Jn("fid",{metric:e}),Zl=e})}function oy(){return Q_(e=>{Jn("lcp",{metric:e}),Ql=e},{reportAllChanges:!0})}function iy(){return ty(e=>{Jn("ttfb",{metric:e}),ed=e})}function ay(){return J_(e=>{Jn("inp",{metric:e}),td=e})}function kr(e,t,n,r,s=!1){od(e,t);let o;return Ms[e]||(o=n(),Ms[e]=!0),r&&t({metric:r}),id(e,t,s?o:void 0)}function cy(e){const t={};e==="event"&&(t.durationThreshold=0),gn(e,n=>{Jn(e,{entries:n})},t)}function od(e,t){rr[e]=rr[e]||[],rr[e].push(t)}function id(e,t,n){return()=>{n&&n();const r=rr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function uy(e){return"duration"in e}function vo(e){return typeof e=="number"&&isFinite(e)}function St(e,t,n,{...r}){const s=W(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Dn(e,()=>{const o=nt({startTime:t,...r});return o&&o.end(n),o})}function ad(e){const t=x();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),d=z(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:i,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":L.navigator&&L.navigator.userAgent,...s};return nt({name:n,attributes:h,startTime:o,experimental:{standalone:!0}})}function Xi(){return L&&L.addEventListener&&L.performance}function Se(e){return e/1e3}function cd(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function ly(){let e=0,t,n;if(!fy())return;let r=!1;function s(){r||(r=!0,n&&dy(e,t,n),o())}const o=Vi(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);Kn(()=>{s()}),setTimeout(()=>{const i=x();if(!i)return;const a=i.on("startNavigationSpan",()=>{s(),a&&a()}),c=he(),u=c&&_e(c),d=u&&W(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function dy(e,t,n){Yi&&y.log(`Sending CLS span (${e})`);const r=Se((Ce||0)+(t&&t.startTime||0)),s=z().getScopeData().transactionName,o=t?gt(t.sources[0]&&t.sources[0].node):"Layout shift",i=ye({[Q]:"auto.http.browser.cls",[Oe]:"ui.webvital.cls",[Mi]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=ad({name:o,transaction:s,attributes:i,startTime:r});a&&(a.addEvent("cls",{[js]:"",[qs]:e}),a.end(r))}function fy(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const py=2147483647;let hc=0,Te={},Pe,sr;function hy({recordClsStandaloneSpans:e}){const t=Xi();if(t&&Ce){t.mark&&L.performance.mark("sentry-tracing-init");const n=by(),r=Sy(),s=Ey(),o=e?ly():yy();return()=>{n(),r(),s(),o&&o()}}return()=>{}}function my(){Ln("longtask",({entries:e})=>{const t=he();if(!t)return;const{op:n,start_timestamp:r}=W(t);for(const s of e){const o=Se(Ce+s.startTime),i=Se(s.duration);n==="navigation"&&r&&o<r||St(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Q]:"auto.ui.browser.metrics"}})}})}function gy(){new PerformanceObserver(t=>{const n=he();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=Se(Ce+r.startTime),{start_timestamp:o,op:i}=W(n);if(i==="navigation"&&o&&s<o)continue;const a=Se(r.duration),c={[Q]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),St(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function _y(){Ln("event",({entries:e})=>{const t=he();if(t){for(const n of e)if(n.name==="click"){const r=Se(Ce+n.startTime),s=Se(n.duration),o={name:gt(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Q]:"auto.ui.browser.metrics"}},i=Hu(n.target);i&&(o.attributes["ui.component_name"]=i),St(t,r,r+s,o)}}})}function yy(){return Vi(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Te.cls={value:e.value,unit:""},sr=t)},!0)}function Sy(){return nd(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Te.lcp={value:e.value,unit:"millisecond"},Pe=t)},!0)}function by(){return rd(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Se(Ce),r=Se(t.startTime);Te.fid={value:e.value,unit:"millisecond"},Te["mark.fid"]={value:n+r,unit:"second"}})}function Ey(){return ny(({metric:e})=>{e.entries[e.entries.length-1]&&(Te.ttfb={value:e.value,unit:"millisecond"})})}function vy(e,t){const n=Xi();if(!n||!n.getEntries||!Ce)return;const r=Se(Ce),s=n.getEntries(),{op:o,start_timestamp:i}=W(e);if(s.slice(hc).forEach(a=>{const c=Se(a.startTime),u=Se(Math.max(0,a.duration));if(!(o==="navigation"&&i&&r+c<i))switch(a.entryType){case"navigation":{Ty(e,a,r);break}case"mark":case"paint":case"measure":{wy(e,a,c,u,r);const d=Ks(),l=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&l&&(Te.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&l&&(Te.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{ky(e,a,a.name,c,u,r);break}}}),hc=Math.max(s.length-1,0),Ry(e),o==="pageload"){My(Te);const a=Te["mark.fid"];a&&Te.fid&&(St(e,a.value,a.value+Se(Te.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Q]:"auto.ui.browser.metrics"}}),delete Te["mark.fid"]),(!("fcp"in Te)||!t.recordClsOnPageloadSpan)&&delete Te.cls,Object.entries(Te).forEach(([c,u])=>{_h(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Ir()),xy(e)}Pe=void 0,sr=void 0,Te={}}function wy(e,t,n,r,s){const o=Tr(!1),i=Se(o?o.requestStart:0),a=s+Math.max(n,i),c=s+n,u=c+r,d={[Q]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),St(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function Ty(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{jr(e,t,r,n)}),jr(e,t,"secureConnection",n,"TLS/SSL"),jr(e,t,"fetch",n,"cache"),jr(e,t,"domainLookup",n,"DNS"),Cy(e,t,n)}function jr(e,t,n,r,s=n){const o=Iy(n),i=t[o],a=t[`${n}Start`];!a||!i||St(e,r+Se(a),r+Se(i),{op:`browser.${s}`,name:t.name,attributes:{[Q]:"auto.ui.browser.metrics"}})}function Iy(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Cy(e,t,n){const r=n+Se(t.requestStart),s=n+Se(t.responseEnd),o=n+Se(t.responseStart);t.responseEnd&&(St(e,r,s,{op:"browser.request",name:t.name,attributes:{[Q]:"auto.ui.browser.metrics"}}),St(e,o,s,{op:"browser.response",name:t.name,attributes:{[Q]:"auto.ui.browser.metrics"}}))}function ky(e,t,n,r,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const i=un(n),a={[Q]:"auto.resource.browser.metrics"};wo(a,t,"transferSize","http.response_transfer_size"),wo(a,t,"encodedBodySize","http.response_content_length"),wo(a,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;c!=null&&(a["http.response_delivery_type"]=c);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=n.includes(L.location.origin);const{name:d,version:l}=cd(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=l;const f=o+r,p=f+s;St(e,f,p,{name:n.replace(L.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function Ry(e){const t=L.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),vo(n.rtt)&&(Te["connection.rtt"]={value:n.rtt,unit:"millisecond"})),vo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),vo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function xy(e){Pe&&(Pe.element&&e.setAttribute("lcp.element",gt(Pe.element)),Pe.id&&e.setAttribute("lcp.id",Pe.id),Pe.url&&e.setAttribute("lcp.url",Pe.url.trim().slice(0,200)),Pe.loadTime!=null&&e.setAttribute("lcp.loadTime",Pe.loadTime),Pe.renderTime!=null&&e.setAttribute("lcp.renderTime",Pe.renderTime),e.setAttribute("lcp.size",Pe.size)),sr&&sr.sources&&sr.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,gt(t.node)))}function wo(e,t,n,r){const s=t[n];s!=null&&s<py&&(e[r]=s)}function My(e){const t=Tr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const Ay=1e3;let mc,oi,ii;function ud(e){const t="dom";Yt(t,e),Vt(t,Oy)}function Oy(){if(!L.document)return;const e=qe.bind(null,"dom"),t=gc(e,!0);L.document.addEventListener("click",t,!1),L.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=L[n],o=s&&s.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Me(o,"addEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=d[a]=d[a]||{refCount:0};if(!l.handler){const f=gc(e);l.handler=f,i.call(this,a,f,u)}l.refCount++}catch{}return i.call(this,a,c,u)}}),Me(o,"removeEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},l=d[a];l&&(l.refCount--,l.refCount<=0&&(i.call(this,a,l.handler,u),l.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,c,u)}}))})}function Ny(e){if(e.type!==oi)return!1;try{if(!e.target||e.target._sentryId!==ii)return!1}catch{}return!0}function Dy(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function gc(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Py(n);if(Dy(n.type,r))return;Le(n,"_sentryCaptured",!0),r&&!r._sentryId&&Le(r,"_sentryId",Ae());const s=n.type==="keypress"?"input":n.type;Ny(n)||(e({event:n,name:s,global:t}),oi=n.type,ii=r?r._sentryId:void 0),clearTimeout(mc),mc=L.setTimeout(()=>{ii=void 0,oi=void 0},Ay)}}function Py(e){try{return e.target}catch{return null}}let qr;function Js(e){const t="history";Yt(t,e),Vt(t,Ly)}function Ly(){if(!p_())return;const e=L.onpopstate;L.onpopstate=function(...n){const r=L.location.href,s=qr;if(qr=r,qe("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=qr,i=String(s);qr=i,qe("history",{from:o,to:i})}return n.apply(this,r)}}Me(L.history,"pushState",t),Me(L.history,"replaceState",t)}const os={};function Ki(e){const t=os[e];if(t)return t;let n=L[e];if(Zo(n))return os[e]=n.bind(L);const r=L.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Yi&&y.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(os[e]=n.bind(L))}function _c(e){os[e]=void 0}function Fn(...e){return Ki("setTimeout")(...e)}const Nt="__sentry_xhr_v3__";function Ji(e){const t="xhr";Yt(t,e),Vt(t,Fy)}function Fy(){if(!L.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=de()*1e3,i=ft(r[0])?r[0].toUpperCase():void 0,a=$y(r[1]);if(!i||!a)return t.apply(n,r);n[Nt]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Nt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:de()*1e3,startTimestamp:o,xhr:n,virtualError:s};qe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[Nt];return h&&ft(f)&&ft(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Nt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:de()*1e3,xhr:n};return qe("xhr",o),t.apply(n,r)}})}function $y(e){if(ft(e))return e;try{return e.toString()}catch{}}const To=[],is=new Map;function Uy(){if(Xi()&&Ce){const t=By();return()=>{t()}}return()=>{}}const yc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function By(){return sd(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(h=>h.duration===e.value&&yc[h.name]);if(!t)return;const{interactionId:n}=t,r=yc[t.name],s=Se(Ce+t.startTime),o=Se(e.value),i=he(),a=i?_e(i):void 0,u=(n!=null?is.get(n):void 0)||a,d=u?W(u).description:z().getScopeData().transactionName,l=gt(t.target),f=ye({[Q]:"auto.http.browser.inp",[Oe]:`ui.interaction.${r}`,[Mi]:t.duration}),p=ad({name:l,transaction:d,attributes:f,startTime:s});p&&(p.addEvent("inp",{[js]:"millisecond",[qs]:e.value}),p.end(s+o))})}function Hy(e){const t=({entries:n})=>{const r=he(),s=r&&_e(r);n.forEach(o=>{if(!uy(o)||!s)return;const i=o.interactionId;if(i!=null&&!is.has(i)){if(To.length>10){const a=To.shift();is.delete(a)}To.push(i),is.set(i,s)}})};Ln("event",t),Ln("first-input",t)}function ld(e,t=Ki("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return _c("fetch"),Es("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return _c("fetch"),n-=i,r--,Es(c)}}return mm(e,s)}const Wy=10,zy=20,jy=30,qy=40,Gy=50;function $n(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?rt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Yy=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Vy=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Xy=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ky=e=>{const t=Yy.exec(e);if(t){const[,r,s,o]=t;return $n(r,rt,+s,+o)}const n=Vy.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=Xy.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=dd(n[1]||rt,n[2]);return $n(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Jy=[jy,Ky],Zy=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Qy=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eS=e=>{const t=Zy.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=Qy.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||rt;return[s,r]=dd(s,r),$n(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},tS=[Gy,eS],nS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rS=e=>{const t=nS.exec(e);return t?$n(t[2],t[1]||rt,+t[3],t[4]?+t[4]:void 0):void 0},i1=[qy,rS],sS=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,oS=e=>{const t=sS.exec(e);return t?$n(t[2],t[3]||rt,+t[1]):void 0},a1=[Wy,oS],iS=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,aS=e=>{const t=iS.exec(e);return t?$n(t[5],t[3]||t[4]||rt,+t[1],+t[2]):void 0},c1=[zy,aS],cS=[Jy,tS],uS=Pu(...cS),dd=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:rt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Gr=1024,lS="Breadcrumbs",dS=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:lS,setup(n){t.console&&Ll(mS(n)),t.dom&&ud(hS(n,t.dom)),t.xhr&&Ji(gS(n)),t.fetch&&zi(_S(n)),t.history&&Js(yS(n)),t.sentry&&n.on("beforeSendEvent",pS(n))}}},fS=dS;function pS(e){return function(n){x()===e&&st({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Rt(n)},{event:n})}}function hS(e,t){return function(r){if(x()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Gr&&(V&&y.warn(`\`dom.maxStringLength\` cannot exceed ${Gr}, but a value of ${a} was configured. Sentry will use ${Gr} instead.`),a=Gr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=SS(u)?u.target:u;s=gt(d,{keyAttrs:i,maxStringLength:a}),o=Hu(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),st(c,{event:r.event,name:r.name,global:r.global})}}function mS(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Bi(n.level),message:bs(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${bs(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;st(r,{input:n.args,level:n.level})}}function gS(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[Nt];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f=zl(c);st({category:"xhr",data:d,type:"http",level:f},l)}}function _S(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};st({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c=zl(i.status_code);st({category:"fetch",data:i,type:"http",level:c},a)}}}function yS(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const o=un(C.location.href);let i=r?un(r):void 0;const a=un(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),st({category:"navigation",data:{from:r,to:s}})}}function SS(e){return!!e&&!!e.target}const bS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ES="BrowserApiErrors",vS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ES,setupOnce(){t.setTimeout&&Me(C,"setTimeout",Sc),t.setInterval&&Me(C,"setInterval",Sc),t.requestAnimationFrame&&Me(C,"requestAnimationFrame",TS),t.XMLHttpRequest&&"XMLHttpRequest"in C&&Me(XMLHttpRequest.prototype,"send",IS);const n=t.eventTarget;n&&(Array.isArray(n)?n:bS).forEach(CS)}}},wS=vS;function Sc(e){return function(...t){const n=t[0];return t[0]=Pn(n,{mechanism:{data:{function:ht(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function TS(e){return function(t){return e.apply(this,[Pn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!1,type:"instrument"}})])}}function IS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Me(n,s,function(o){const i={mechanism:{data:{function:s,handler:ht(o)},handled:!1,type:"instrument"}},a=ki(o);return a&&(i.mechanism.data.handler=ht(a)),Pn(o,i)})}),e.apply(this,t)}}function CS(e){const n=C[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Me(r,"addEventListener",function(s){return function(o,i,a){try{kS(i)&&(i.handleEvent=Pn(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ht(i),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[o,Pn(i,{mechanism:{data:{function:"addEventListener",handler:ht(i),target:e},handled:!1,type:"instrument"}}),a])}}),Me(r,"removeEventListener",function(s){return function(o,i,a){try{const c=i.__sentry_wrapped__;c&&s.call(this,o,c,a)}catch{}return s.call(this,o,i,a)}}))}function kS(e){return typeof e.handleEvent=="function"}const RS=()=>({name:"BrowserSession",setupOnce(){if(typeof C.document>"u"){V&&y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Xo({ignoreDuration:!0}),Xa(),Js(({from:e,to:t})=>{e!==void 0&&e!==t&&(Xo({ignoreDuration:!0}),Xa())})}}),xS="GlobalHandlers",MS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:xS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(OS(n),bc("onerror")),t.onunhandledrejection&&(NS(n),bc("onunhandledrejection"))}}},AS=MS;function OS(e){Lu(t=>{const{stackParser:n,attachStacktrace:r}=fd();if(x()!==e||Yl())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=LS(Gi(n,c||s,void 0,r,!1),o,i,a);u.level="error",Er(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function NS(e){Fu(t=>{const{stackParser:n,attachStacktrace:r}=fd();if(x()!==e||Yl())return;const s=DS(t),o=Ii(s)?PS(s):Gi(n,s,void 0,r,!0);o.level="error",Er(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function DS(e){if(Ii(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function PS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function LS(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=ft(t)&&t.length>0?t:Ci();return c.length===0&&c.push({colno:u,filename:l,function:rt,in_app:!0,lineno:d}),e}function bc(e){V&&y.log(`Global Handler attached: ${e}`)}function fd(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const FS=()=>({name:"HttpContext",preprocessEvent(e){if(!C.navigator&&!C.location&&!C.document)return;const t=e.request&&e.request.url||C.location&&C.location.href,{referrer:n}=C.document||{},{userAgent:r}=C.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),$S="cause",US=5,BS="LinkedErrors",HS=(e={})=>{const t=e.limit||US,n=e.key||$S;return{name:BS,preprocessEvent(r,s,o){const i=o.getOptions();Hm(ji,i.stackParser,i.maxValueLength,n,t,r,s)}}},WS=HS;function zS(e){const t=[Mm(),Cm(),wS(),fS(),AS(),WS(),eg(),FS()];return e.autoSessionTracking!==!1&&t.push(RS()),t}function jS(e={}){const t={defaultIntegrations:zS(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:C.SENTRY_RELEASE&&C.SENTRY_RELEASE.id?C.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function qS(){const e=typeof C.window<"u"&&C;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=C.location&&C.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&C===C.top&&o.some(c=>s.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function GS(e={}){const t=jS(e);if(!t.skipBrowserExtensionCheck&&qS()){Et(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}V&&(jl()||y.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:rp(t.stackParser||uS),integrations:rm(t),transport:t.transport||ld};return um(x_,n)}function Ec(e={}){if(!C.document){V&&y.error("Global document not defined in showReportDialog call");return}const t=z(),n=t.getClient(),r=n&&n.getDsn();if(!r){V&&y.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=Xh();a&&(e.eventId=a)}const s=C.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=tm(r,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{C.removeEventListener("message",a)}};C.addEventListener("message",a)}const i=C.document.head||C.document.body;i?i.appendChild(s):V&&y.error("Not injecting report dialog. No injection point found in HTML")}function u1(){}function l1(e){e()}function d1(e){const t=x();t&&t.captureUserFeedback(e)}const YS={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},vc=C;async function VS(e,t){const n=YS[e],r=vc.Sentry=vc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=XS(n),i=C.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=C.document.currentScript,u=C.document.body||C.document.head||c&&c.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function XS(e){const t=x(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Pt}/${e}.min.js`,r).toString()}const KS=U,JS="ReportingObserver",wc=new WeakMap,ZS=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(wc.has(x()))for(const s of r)Ge(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Vo(`${i}: ${a}`)})}return{name:JS,setupOnce(){if(!s_())return;new KS.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){wc.set(r,!0)}}},f1=ZS,QS="HttpClient",eb=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:QS,setup(n){cb(n,t),ub(n,t)}}},p1=eb;function tb(e,t,n,r,s){if(hd(e,n.status,n.url)){const o=lb(t,r);let i,a,c,u;gd()&&([i,c]=Tc("Cookie",o),[a,u]=Tc("Set-Cookie",n));const d=md({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});Er(d)}}function Tc(e,t){const n=sb(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=pd(s))}catch{}return[n,r]}function nb(e,t,n,r,s){if(hd(e,t.status,t.responseURL)){let o,i,a;if(gd()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=pd(u))}catch{}try{a=ob(t)}catch{}o=r}const c=md({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s});Er(c)}}function rb(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function pd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function sb(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function ob(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function ib(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function ab(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function cb(e,t){ql()&&zi(n=>{if(x()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&tb(t,a,r,c,o||i)},!1)}function ub(e,t){"XMLHttpRequest"in U&&Ji(n=>{if(x()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[Nt];if(!i)return;const{method:a,request_headers:c}=i;try{nb(t,o,a,c,r||s)}catch(u){V&&y.warn("Error while extracting response event form XHR response",u)}})}function hd(e,t,n){return ab(e.failedRequestStatusCodes,t)&&ib(e.failedRequestTargets,n)&&!Ml(n,x())}function md(e){const t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:rb(e.responseHeaders)}}};return Wt(o,{type:"http.client",handled:!1}),o}function lb(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function gd(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const Io=U,db=7,fb="ContextLines",pb=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:db;return{name:fb,processEvent(n){return hb(n,t)}}},h1=pb;function hb(e,t){const n=Io.document,r=Io.location&&qm(Io.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>mb(u,i,r,t)))}),e}function mb(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||yp(t,e,r),e}const le=U,Zi="sentryReplaySession",gb="replay_event",Qi="Unable to send Replay",_b=3e5,yb=9e5,Sb=5e3,bb=5500,Eb=6e4,vb=5e3,wb=3,Ic=15e4,Yr=5e3,Tb=3e3,Ib=300,ea=2e7,Cb=4999,kb=15e3,Cc=36e5;function ai(e,t){return e??t()}function ur(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var ve;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ve||(ve={}));function Rb(e){return e.nodeType===e.ELEMENT_NODE}function or(e){const t=ur([e,"optionalAccess",n=>n.host]);return ur([t,"optionalAccess",n=>n.shadowRoot])===e}function ir(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function xb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Mb(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function As(e){try{const t=e.rules||e.cssRules;return t?xb(Array.from(t,_d).join("")):null}catch{return null}}function Ab(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function _d(e){let t;if(Nb(e))try{t=As(e.styleSheet)||Mb(e)}catch{}else if(Db(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=Ab(e)),r&&(n=Ob(n)),r||s)return n}return t||e.cssText}function Ob(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Nb(e){return"styleSheet"in e}function Db(e){return"selectorText"in e}class yd{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=ur([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return ai(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Pb(){return new yd}function Zs({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function lr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Un(e){return e.toLowerCase()}function ci(e){return e.toUpperCase()}const kc="__rrweb_original__";function Lb(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=kc in o?o[kc]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ta(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Un(t):null}function Os(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Sd(e,t){let n;try{n=new URL(e,ai(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return ai(ur([s,"optionalAccess",o=>o[1]]),()=>null)}const Rc={};function bd(e){const t=Rc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Rc[e]=r.bind(window)}function ui(...e){return bd("setTimeout")(...e)}function Ed(...e){return bd("clearTimeout")(...e)}function vd(e){try{return e.contentDocument}catch{}}let Fb=1;const $b=new RegExp("[^a-z0-9-_:]"),dr=-2;function na(){return Fb++}function Ub(e){if(e instanceof HTMLFormElement)return"form";const t=Un(e.tagName);return $b.test(t)?"div":t}function Bb(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Sn,xc;const Hb=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Wb=/^(?:[a-z+]+:)?\/\//i,zb=/^www\..*/i,jb=/^(data:)([^,]*),(.*)/i;function Ns(e,t){return(e||"").replace(Hb,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(Wb.test(c)||zb.test(c))return`url(${u}${c}${u})`;if(jb.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Bb(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const qb=/^[^ \t\n\r\u000c]+/,Gb=/^[, \t\n\r\u000c]+/;function Yb(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(Gb),!(n>=t.length);){let o=r(qb);if(o.slice(-1)===",")o=wn(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=wn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const Mc=new WeakMap;function wn(e,t){return!t||t.trim()===""?t:Qs(e,t)}function Vb(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Qs(e,t){let n=Mc.get(e);if(n||(n=e.createElement("a"),Mc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function wd(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?wn(e,r):n==="srcset"?Yb(e,r):n==="style"?Ns(r,Qs(e)):t==="object"&&n==="data"?wn(e,r):typeof o=="function"?o(n,r,s):r)}function Td(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Xb(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function Kb(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function sn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:sn(e.parentNode,t,n,r+1)}function Tn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Kb(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Bn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=sn(i,Tn(r,s)),c<0)return!0;a=sn(i,Tn(t,n),c>=0?c:1/0)}else{if(a=sn(i,Tn(t,n)),a<0)return!1;c=sn(i,Tn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function Jb(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=ui(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ed(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return ui(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Zb(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=ui(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ed(o),r=!0,t()})}function Qb(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:S,dataURLOptions:_={},inlineImages:E,recordCanvas:O,keepIframeSrcFn:R,newlyAddedElement:N=!1}=t,w=eE(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ve.Document,childNodes:[],compatMode:e.compatMode}:{type:ve.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ve.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return nE(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:S,dataURLOptions:_,inlineImages:E,recordCanvas:O,keepIframeSrcFn:R,newlyAddedElement:N,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return tE(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:S,rootId:w});case e.CDATA_SECTION_NODE:return{type:ve.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:ve.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function eE(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function tE(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||ur([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=As(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=Ns(f,Qs(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const S=Bn(e,r,o,s,i,n);if(!p&&!h&&!m&&f&&S&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||S)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=Zs({type:null,tagName:l,maskInputOptions:c});f=lr({isMasked:Bn(e,r,o,s,i,_),element:e,value:f,maskInputFn:u})}return{type:ve.Text,textContent:f||"",isStyle:p,rootId:d}}function nE(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskAllText:S,maskTextClass:_,unmaskTextClass:E,maskTextSelector:O,unmaskTextSelector:R}=t,N=Xb(e,r,s,o),w=Ub(e);let v={};const M=e.attributes.length;for(let g=0;g<M;g++){const T=e.attributes[g];T.name&&!Td(w,T.name,T.value)&&(v[T.name]=wd(n,w,Un(T.name),T.value,e,c))}if(w==="link"&&i){const g=Array.from(n.styleSheets).find(I=>I.href===e.href);let T=null;g&&(T=As(g)),T&&(v.rel=null,v.href=null,v.crossorigin=null,v._cssText=Ns(T,g.href))}if(w==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const g=As(e.sheet);g&&(v._cssText=Ns(g,Qs(n)))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const g=e,T=ta(g),I=Os(g,ci(w),T),D=g.checked;if(T!=="submit"&&T!=="button"&&I){const q=Bn(g,_,O,E,R,Zs({type:T,tagName:ci(w),maskInputOptions:a}));v.value=lr({isMasked:q,element:g,value:I,maskInputFn:u})}D&&(v.checked=D)}if(w==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),w==="canvas"&&f){if(e.__context==="2d")Lb(e)||(v.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const g=e.toDataURL(d.type,d.quality),T=n.createElement("canvas");T.width=e.width,T.height=e.height;const I=T.toDataURL(d.type,d.quality);g!==I&&(v.rr_dataURL=g)}}if(w==="img"&&l){Sn||(Sn=n.createElement("canvas"),xc=Sn.getContext("2d"));const g=e,T=g.currentSrc||g.getAttribute("src")||"<unknown-src>",I=g.crossOrigin,D=()=>{g.removeEventListener("load",D);try{Sn.width=g.naturalWidth,Sn.height=g.naturalHeight,xc.drawImage(g,0,0),v.rr_dataURL=Sn.toDataURL(d.type,d.quality)}catch(q){if(g.crossOrigin!=="anonymous"){g.crossOrigin="anonymous",g.complete&&g.naturalWidth!==0?D():g.addEventListener("load",D);return}else console.warn(`Cannot inline img src=${T}! Error: ${q}`)}g.crossOrigin==="anonymous"&&(I?v.crossOrigin=I:g.removeAttribute("crossorigin"))};g.complete&&g.naturalWidth!==0?D():g.addEventListener("load",D)}if((w==="audio"||w==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),N){const{width:g,height:T}=e.getBoundingClientRect();v={class:v.class,rr_width:`${g}px`,rr_height:`${T}px`}}w==="iframe"&&!p(v.src)&&(!N&&!vd(e)&&(v.rr_src=v.src),delete v.src);let b;try{customElements.get(w)&&(b=!0)}catch{}return{type:ve.Element,tagName:w,attributes:v,childNodes:[],isSVG:Vb(e)||void 0,needBlock:N,rootId:m,isCustom:b}}function ue(e){return e==null?"":e.toLowerCase()}function rE(e,t){if(t.comment&&e.type===ve.Comment)return!0;if(e.type===ve.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Sd(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function In(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:O={},inlineImages:R=!1,recordCanvas:N=!1,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:M=5e3,onStylesheetLoad:b,stylesheetLoadTimeout:g=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:I=!1}=t;let{preserveWhiteSpace:D=!0}=t;const q=Qb(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,dataURLOptions:O,inlineImages:R,recordCanvas:N,keepIframeSrcFn:T,newlyAddedElement:I});if(!q)return console.warn(e,"not serialized"),null;let j;r.hasNode(e)?j=r.getId(e):rE(q,E)||!D&&q.type===ve.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?j=dr:j=na();const A=Object.assign(q,{id:j});if(r.add(e,A),j===dr)return null;w&&w(e);let se=!f;if(A.type===ve.Element){se=se&&!A.needBlock,delete A.needBlock;const P=e.shadowRoot;P&&ir(P)&&(A.isShadowHost=!0)}if((A.type===ve.Document||A.type===ve.Element)&&se){E.headWhitespace&&A.type===ve.Element&&A.tagName==="head"&&(D=!1);const P={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:O,inlineImages:R,recordCanvas:N,preserveWhiteSpace:D,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:M,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:T};for(const ee of Array.from(e.childNodes)){const Ee=In(ee,P);Ee&&A.childNodes.push(Ee)}if(Rb(e)&&e.shadowRoot)for(const ee of Array.from(e.shadowRoot.childNodes)){const Ee=In(ee,P);Ee&&(ir(e.shadowRoot)&&(Ee.isShadow=!0),A.childNodes.push(Ee))}}return e.parentNode&&or(e.parentNode)&&ir(e.parentNode)&&(A.isShadow=!0),A.type===ve.Element&&A.tagName==="iframe"&&Jb(e,()=>{const P=vd(e);if(P&&v){const ee=In(P,{doc:P,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:O,inlineImages:R,recordCanvas:N,preserveWhiteSpace:D,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:M,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:T});ee&&v(e,ee)}},M),A.type===ve.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&Sd(A.attributes.href)==="css")&&Zb(e,()=>{if(b){const P=In(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E,dataURLOptions:O,inlineImages:R,recordCanvas:N,preserveWhiteSpace:D,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:M,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:T});P&&b(e,P)}},g),A}function sE(e,t){const{mirror:n=new yd,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOM:E=!1,dataURLOptions:O,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:M,stylesheetLoadTimeout:b,keepIframeSrcFn:g=()=>!1}=t||{};return In(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:S,maskInputFn:_,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:O,inlineImages:f,recordCanvas:p,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:M,stylesheetLoadTimeout:b,keepIframeSrcFn:g,newlyAddedElement:!1})}function xt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function xe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const En=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ac={map:{},getId(){return console.error(En),-1},getNode(){return console.error(En),null},removeNodeFromMap(){console.error(En)},has(){return console.error(En),!1},reset(){console.error(En)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ac=new Proxy(Ac,{get(e,t,n){return t==="map"&&console.error(En),Reflect.get(e,t,n)}}));function fr(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(dE(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=eo(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Id(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){eo(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Id(e,t,o||{},!0)}function ra(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Ds=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ds=()=>new Date().getTime());function Cd(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:xt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:xt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||xt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function kd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Rd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function xd(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Ue(e,t,n,r,s){if(!e)return!1;const o=xd(e);if(!o)return!1;const i=Tn(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=sn(o,i);let c=-1;return a<0?!1:(r&&(c=sn(o,Tn(null,r))),a>-1&&c<0?!0:a<c)}function oE(e,t){return t.getId(e)!==-1}function Co(e,t){return t.getId(e)===dr}function Md(e,t){if(or(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Md(e.parentNode,t):!0:!0}function li(e){return!!e.changedTouches}function iE(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ad(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Od(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function di(e){return!!xt([e,"optionalAccess",t=>t.shadowRoot])}class aE{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return h_(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Nd(e){let t=null;return xt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function cE(e){let t=e,n;for(;n=Nd(t);)t=n;return t}function uE(e){const t=e.ownerDocument;if(!t)return!1;const n=cE(e);return t.contains(n)}function Dd(e){const t=e.ownerDocument;return t?t.contains(e)||uE(e):!1}const Oc={};function sa(e){const t=Oc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Oc[e]=r.bind(window)}function lE(...e){return sa("requestAnimationFrame")(...e)}function eo(...e){return sa("setTimeout")(...e)}function dE(...e){return sa("clearTimeout")(...e)}var G=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(G||{}),H=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(H||{}),Re=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Re||{}),at=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(at||{}),Nc;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Nc||(Nc={}));var Dc;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Dc||(Dc={}));function oa(e){try{return e.contentDocument}catch{}}function fE(e){try{return e.contentWindow}catch{}}function pE(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Pc(e){return"__ln"in e}class hE{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=pE([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Pc(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Pc(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Lc=(e,t)=>`${e}@${t}`;class mE{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new hE,s=c=>{let u=c,d=dr;for(;d===dr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Dd(c))return;const u=or(c.parentNode)?this.mirror.getId(Nd(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=In(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ad(f,this.mirror)&&!Ue(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Od(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),di(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Ue(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Fc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!$c(this.droppedSet,c)&&!Fc(this.removes,c,this.mirror)||$c(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Co(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Ue(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Bn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,xd(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=ta(n),a=n.tagName;s=Os(n,a,i);const c=Zs({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Bn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=lr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Ue(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!oa(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Td(n.tagName,r)&&(o.attributes[r]=wd(this.doc,Un(n.tagName),Un(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Ue(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=or(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ue(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Co(n,this.mirror)||!oE(n,this.mirror)||(this.addedSet.has(n)?(fi(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Md(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Lc(r,s)]?fi(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:or(t.target)&&ir(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Co(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Lc(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ue(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),di(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function fi(e,t){e.delete(t),t.childNodes.forEach(n=>fi(e,n))}function Fc(e,t,n){return e.length===0?!1:gE(e,t,n)}function gE(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function $c(e,t){return e.size===0?!1:Pd(e,t)}function Pd(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Pd(e,n):!1}let ar;function _E(e){ar=e}function yE(){ar=void 0}const K=e=>ar?(...n)=>{try{return e(...n)}catch(r){if(ar&&ar(r)===!0)return()=>{};throw r}}:e;function Je(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const Cn=[];function Rr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ld(e,t){const n=new mE;Cn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Je([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(K(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function SE({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=fr(K(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=K(fr(K(l=>{const f=Rr(l),{clientX:p,clientY:h}=li(l)?l.changedTouches[0]:l;a||(a=Ds()),i.push({x:p,y:h,id:r.getId(f),timeOffset:Ds()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?H.Drag:l instanceof MouseEvent?H.MouseMove:H.TouchMove)}),s,{trailing:!1})),d=[xe("mousemove",u,n),xe("touchmove",u,n),xe("drag",u,n)];return K(()=>{d.forEach(l=>l())})}function bE({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=Rr(f);if(Ue(p,r,s,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=at.Mouse;break;case"touch":h=at.Touch;break;case"pen":h=at.Pen;break}h===at.Touch?Re[l]===Re.MouseDown?m="TouchStart":Re[l]===Re.MouseUp&&(m="TouchEnd"):at.Pen}else li(f)&&(h=at.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===at.Touch||m.startsWith("Mouse")&&h===at.Mouse)&&(h=null)):Re[l]===Re.Click&&(h=u,u=null);const S=li(f)?f.changedTouches[0]:f;if(!S)return;const _=n.getId(p),{clientX:E,clientY:O}=S;K(e)({type:Re[m],id:_,x:E,y:O,...h!==null&&{pointerType:h}})};return Object.keys(Re).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Un(l);const p=d(l);if(window.PointerEvent)switch(Re[l]){case Re.MouseDown:case Re.MouseUp:f=f.replace("mouse","pointer");break;case Re.TouchStart:case Re.TouchEnd:return}c.push(xe(f,p,t))}),K(()=>{c.forEach(l=>l())})}function Fd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=K(fr(K(c=>{const u=Rr(c);if(!u||Ue(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Cd(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return xe("scroll",a,t)}function EE({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=K(fr(K(()=>{const o=kd(),i=Rd();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return xe("resize",s,t)}const vE=["INPUT","TEXTAREA","SELECT"],Uc=new WeakMap;function wE({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function S(v){let M=Rr(v);const b=v.isTrusted,g=M&&ci(M.tagName);if(g==="OPTION"&&(M=M.parentElement),!M||!g||vE.indexOf(g)<0||Ue(M,r,s,o,!0))return;const T=M;if(T.classList.contains(i)||a&&T.matches(a))return;const I=ta(M);let D=Os(T,g,I),q=!1;const j=Zs({maskInputOptions:c,tagName:g,type:I}),A=Bn(M,f,h,p,m,j);(I==="radio"||I==="checkbox")&&(q=M.checked),D=lr({isMasked:A,element:M,value:D,maskInputFn:u}),_(M,l?{text:D,isChecked:q,userTriggered:b}:{text:D,isChecked:q});const se=M.name;I==="radio"&&se&&q&&t.querySelectorAll(`input[type="radio"][name="${se}"]`).forEach(P=>{if(P!==M){const ee=lr({isMasked:A,element:P,value:Os(P,g,I),maskInputFn:u});_(P,l?{text:ee,isChecked:!q,userTriggered:!1}:{text:ee,isChecked:!q})}})}function _(v,M){const b=Uc.get(v);if(!b||b.text!==M.text||b.isChecked!==M.isChecked){Uc.set(v,M);const g=n.getId(v);K(e)({...M,id:g})}}const O=(d.input==="last"?["change"]:["input","change"]).map(v=>xe(v,K(S),t)),R=t.defaultView;if(!R)return()=>{O.forEach(v=>v())};const N=R.Object.getOwnPropertyDescriptor(R.HTMLInputElement.prototype,"value"),w=[[R.HTMLInputElement.prototype,"value"],[R.HTMLInputElement.prototype,"checked"],[R.HTMLSelectElement.prototype,"value"],[R.HTMLTextAreaElement.prototype,"value"],[R.HTMLSelectElement.prototype,"selectedIndex"],[R.HTMLOptionElement.prototype,"selected"]];return N&&N.set&&O.push(...w.map(v=>Id(v[0],v[1],{set(){K(S)({target:this,isTrusted:!1})}},!1,R))),K(()=>{O.forEach(v=>v())})}function Ps(e){const t=[];function n(r,s){if(Vr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function Mt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function TE({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:K((d,l,f)=>{const[p,h]=f,{id:m,styleId:S}=Mt(l,t,n.styleMirror);return(m&&m!==-1||S&&S!==-1)&&e({id:m,styleId:S,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:K((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Mt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:K((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Mt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:K((d,l,f)=>{const[p]=f,{id:h,styleId:m}=Mt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};Xr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Xr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Xr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Xr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:K((f,p,h)=>{const[m,S]=h,{id:_,styleId:E}=Mt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||E&&E!==-1)&&e({id:_,styleId:E,adds:[{rule:m,index:[...Ps(p),S||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:K((f,p,h)=>{const[m]=h,{id:S,styleId:_}=Mt(p.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[...Ps(p),m]}]}),f.apply(p,h)})})}),K(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function $d({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Je([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):Je([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=Je([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(Je([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Je([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=Je([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),K(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function IE({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:K((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=Mt(Je([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:Ps(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:K((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=Mt(Je([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Ps(c.parentRule)}),a.apply(c,u)})}),K(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function CE({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=K(u=>fr(K(d=>{const l=Rr(d);if(!l||Ue(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),c=[xe("play",a(0),i),xe("pause",a(1),i),xe("seeked",a(2),i),xe("volumechange",a(3),i),xe("ratechange",a(4),i)];return K(()=>{c.forEach(u=>u())})}function kE({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=ra(t.fonts,"add",function(a){return function(c){return eo(K(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),K(()=>{r.forEach(a=>a())})}function RE(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=K(()=>{const u=t.getSelection();if(!u||a&&Je([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:S,endOffset:_}=p;Ue(h,r,s,o,!0)||Ue(S,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(S),endOffset:_})}i({ranges:d})});return c(),xe("selectionchange",c)}function xE({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ra(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function ME(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Ld(e,e.doc));const s=SE(e),o=bE(e),i=Fd(e),a=EE(e,{win:n}),c=wE(e),u=CE(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=TE(e,{win:n}),l=$d(e,e.doc),f=IE(e,{win:n}),e.collectFonts&&(p=kE(e)));const h=RE(e),m=xE(e),S=[];for(const _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return K(()=>{Cn.forEach(_=>_.reset()),Je([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),m(),S.forEach(_=>_())})}function Vr(e){return typeof window[e]<"u"}function Xr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class pi{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Bc(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class AE{constructor(){this.crossOriginIframeMirror=new pi(na),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class OE{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new pi(na),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new pi(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Bc([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);const r=oa(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case G.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:G.IncrementalSnapshot,data:{source:H.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case G.Meta:case G.Load:case G.DomContentLoaded:return!1;case G.Plugin:return n;case G.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case G.IncrementalSnapshot:switch(n.data.source){case H.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case H.Drag:case H.TouchMove:case H.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case H.ViewportResize:return!1;case H.MediaInteraction:case H.MouseInteraction:case H.Scroll:case H.CanvasMutation:case H.Input:return this.replaceIds(n.data,t,["id"]),n;case H.StyleSheetRule:case H.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case H.Font:return n;case H.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case H.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Bc([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ve.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class NE{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class DE{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ir(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Ld({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Fd({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),eo(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push($d({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=oa(t),r=fE(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ra(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Dd(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Hc{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class PE{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new aE,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:_d(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class LE{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,lE(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let me,Ls;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=ln([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Xe=Pb();function pt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:E,maskInputFn:O,maskTextFn:R,maxCanvasSize:N=null,packFn:w,sampling:v={},dataURLOptions:M={},mousemoveWait:b,recordDOM:g=!0,recordCanvas:T=!1,recordCrossOriginIframes:I=!1,recordAfter:D=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:j=!1,inlineImages:A=!1,plugins:se,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:ee=new Set([]),errorHandler:Ee,onMutation:Fe,getCanvasManager:it}=e;_E(Ee);const Tt=I?window.parent===window:!0;let $e=!1;if(!Tt)try{window.parent.document&&($e=!1)}catch{$e=!0}if(Tt&&!t)throw new Error("emit function is required");if(!Tt&&!$e)return()=>{};b!==void 0&&v.mousemove===void 0&&(v.mousemove=b),Xe.reset();const Ne=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},Ye=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};iE();let It,Ct=0;const Zt=J=>{for(const Ve of se||[])Ve.eventProcessor&&(J=Ve.eventProcessor(J));return w&&!$e&&(J=w(J)),J};me=(J,Ve)=>{const X=J;if(X.timestamp=Ds(),ln([Cn,"access",fe=>fe[0],"optionalAccess",fe=>fe.isFrozen,"call",fe=>fe()])&&X.type!==G.FullSnapshot&&!(X.type===G.IncrementalSnapshot&&X.data.source===H.Mutation)&&Cn.forEach(fe=>fe.unfreeze()),Tt)ln([t,"optionalCall",fe=>fe(Zt(X),Ve)]);else if($e){const fe={type:"rrweb",event:Zt(X),origin:window.location.origin,isCheckout:Ve};window.parent.postMessage(fe,"*")}if(X.type===G.FullSnapshot)It=X,Ct=0;else if(X.type===G.IncrementalSnapshot){if(X.data.source===H.Mutation&&X.data.isAttachIframe)return;Ct++;const fe=r&&Ct>=r,Z=n&&It&&X.timestamp-It.timestamp>n;(fe||Z)&&lo(!0)}};const Ze=J=>{me({type:G.IncrementalSnapshot,data:{source:H.Mutation,...J}})},re=J=>me({type:G.IncrementalSnapshot,data:{source:H.Scroll,...J}}),k=J=>me({type:G.IncrementalSnapshot,data:{source:H.CanvasMutation,...J}}),ke=J=>me({type:G.IncrementalSnapshot,data:{source:H.AdoptedStyleSheet,...J}}),ae=new PE({mutationCb:Ze,adoptedStyleSheetCb:ke}),ce=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new AE:new OE({mirror:Xe,mutationCb:Ze,stylesheetManager:ae,recordCrossOriginIframes:I,wrappedEmit:me});for(const J of se||[])J.getMirror&&J.getMirror({nodeMirror:Xe,crossOriginIframeMirror:ce.crossOriginIframeMirror,crossOriginIframeStyleMirror:ce.crossOriginIframeStyleMirror});const We=new LE,Qt=$E(it,{mirror:Xe,win:window,mutationCb:J=>me({type:G.IncrementalSnapshot,data:{source:H.CanvasMutation,...J}}),recordCanvas:T,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:N,sampling:v.canvas,dataURLOptions:M,errorHandler:Ee}),yn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new NE:new DE({mutationCb:Ze,scrollCb:re,bypassOptions:{onMutation:Fe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Ne,dataURLOptions:M,maskAttributeFn:E,maskTextFn:R,maskInputFn:O,recordCanvas:T,inlineImages:A,sampling:v,slimDOMOptions:Ye,iframeManager:ce,stylesheetManager:ae,canvasManager:Qt,keepIframeSrcFn:P,processedNodeManager:We},mirror:Xe}),lo=(J=!1)=>{if(!g)return;me({type:G.Meta,data:{href:window.location.href,width:Rd(),height:kd()}},J),ae.reset(),yn.init(),Cn.forEach(X=>X.lock());const Ve=sE(document,{mirror:Xe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Ne,maskAttributeFn:E,maskInputFn:O,maskTextFn:R,slimDOM:Ye,dataURLOptions:M,recordCanvas:T,inlineImages:A,onSerialize:X=>{Ad(X,Xe)&&ce.addIframe(X),Od(X,Xe)&&ae.trackLinkElement(X),di(X)&&yn.addShadowRoot(X.shadowRoot,document)},onIframeLoad:(X,fe)=>{ce.attachIframe(X,fe),X.contentWindow&&Qt.addWindow(X.contentWindow),yn.observeAttachShadow(X)},onStylesheetLoad:(X,fe)=>{ae.attachLinkElement(X,fe)},keepIframeSrcFn:P});if(!Ve)return console.warn("Failed to snapshot the document");me({type:G.FullSnapshot,data:{node:Ve,initialOffset:Cd(window)}}),Cn.forEach(X=>X.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ae.adoptStyleSheets(document.adoptedStyleSheets,Xe.getId(document))};Ls=lo;try{const J=[],Ve=fe=>K(ME)({onMutation:Fe,mutationCb:Ze,mousemoveCb:(Z,en)=>me({type:G.IncrementalSnapshot,data:{source:en,positions:Z}}),mouseInteractionCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.MouseInteraction,...Z}}),scrollCb:re,viewportResizeCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.ViewportResize,...Z}}),inputCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.Input,...Z}}),mediaInteractionCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.MediaInteraction,...Z}}),styleSheetRuleCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.StyleSheetRule,...Z}}),styleDeclarationCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.StyleDeclaration,...Z}}),canvasMutationCb:k,fontCb:Z=>me({type:G.IncrementalSnapshot,data:{source:H.Font,...Z}}),selectionCb:Z=>{me({type:G.IncrementalSnapshot,data:{source:H.Selection,...Z}})},customElementCb:Z=>{me({type:G.IncrementalSnapshot,data:{source:H.CustomElement,...Z}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Ne,inlineStylesheet:h,sampling:v,recordDOM:g,recordCanvas:T,inlineImages:A,userTriggeredOnInput:q,collectFonts:j,doc:fe,maskAttributeFn:E,maskInputFn:O,maskTextFn:R,keepIframeSrcFn:P,blockSelector:o,unblockSelector:i,slimDOMOptions:Ye,dataURLOptions:M,mirror:Xe,iframeManager:ce,stylesheetManager:ae,shadowDomManager:yn,processedNodeManager:We,canvasManager:Qt,ignoreCSSAttributes:ee,plugins:ln([se,"optionalAccess",Z=>Z.filter,"call",Z=>Z(en=>en.observer),"optionalAccess",Z=>Z.map,"call",Z=>Z(en=>({observer:en.observer,options:en.options,callback:Qf=>me({type:G.Plugin,data:{plugin:en.name,payload:Qf}})}))])||[]},{});ce.addLoadListener(fe=>{try{J.push(Ve(fe.contentDocument))}catch(Z){console.warn(Z)}});const X=()=>{lo(),J.push(Ve(document))};return document.readyState==="interactive"||document.readyState==="complete"?X():(J.push(xe("DOMContentLoaded",()=>{me({type:G.DomContentLoaded,data:{}}),D==="DOMContentLoaded"&&X()})),J.push(xe("load",()=>{me({type:G.Load,data:{}}),D==="load"&&X()},window))),()=>{J.forEach(fe=>fe()),We.destroy(),Ls=void 0,yE()}}catch(J){console.warn(J)}}function FE(e){if(!Ls)throw new Error("please take full snapshot after start recording");Ls(e)}pt.mirror=Xe;pt.takeFullSnapshot=FE;function $E(e,t){try{return e?e(t):new Hc}catch{return console.warn("Unable to initialize CanvasManager"),new Hc}}const UE=3,BE=5;function ia(e){return e>9999999999?e:e*1e3}function ko(e){return e>9999999999?e/1e3:e}function xr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:G.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ze(t,10,1e3)}}),t.category==="console")))}const HE="button,a";function Ud(e){return e.closest(HE)||e}function Bd(e){const t=Hd(e);return!t||!(t instanceof Element)?t:Ud(t)}function Hd(e){return WE(e)?e.target:e}function WE(e){return typeof e=="object"&&!!e&&"target"in e}let At;function zE(e){return At||(At=[],jE()),At.push(e),()=>{const t=At?At.indexOf(e):-1;t>-1&&At.splice(t,1)}}function jE(){Me(le,"open",function(e){return function(...t){if(At)try{At.forEach(n=>n())}catch{}return e.apply(le,t)}})}const qE=new Set([H.Mutation,H.StyleSheetRule,H.StyleDeclaration,H.AdoptedStyleSheet,H.CanvasMutation,H.Selection,H.MediaInteraction]);function GE(e,t,n){e.handleClick(t,n)}class YE{constructor(t,n,r=xr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=zE(()=>{this._lastMutation=Wc()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(XE(n,this._ignoreSelector)||!KE(t))return;const r={timestamp:ko(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ko(t)}registerScroll(t=Date.now()){this._lastScroll=ko(t)}registerClick(t){const n=Ud(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Wc();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Fn(()=>this._checkClicks(),1e3)}}const VE=["A","BUTTON","INPUT"];function XE(e,t){return!!(!VE.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function KE(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Wc(){return Date.now()/1e3}function JE(e,t){try{if(!ZE(t))return;const{source:n}=t.data;if(qE.has(n)&&e.registerMutation(t.timestamp),n===H.Scroll&&e.registerScroll(t.timestamp),QE(t)){const{type:r,id:s}=t.data,o=pt.mirror.getNode(s);o instanceof HTMLElement&&r===Re.Click&&e.registerClick(o)}}catch{}}function ZE(e){return e.type===UE}function QE(e){return e.data.source===H.MouseInteraction}function et(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Fs;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Fs||(Fs={}));const ev=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function tv(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(ev.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const nv=e=>t=>{if(!e.isEnabled())return;const n=rv(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&GE(e.clickDetector,n,Bd(t.event)),xr(e,n)};function Wd(e,t){const n=pt.mirror.getId(e),r=n&&pt.mirror.getNode(n),s=r&&pt.mirror.getMeta(r),o=s&&ov(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Fs.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:tv(o.attributes)}}:{}}}function rv(e){const{target:t,message:n}=sv(e);return et({category:`ui.${e.name}`,...Wd(t,n)})}function sv(e){const t=e.name==="click";let n,r=null;try{r=t?Bd(e.event):Hd(e.event),n=gt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function ov(e){return e.type===Fs.Element}function iv(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=av(t);n&&xr(e,n)}function av(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||cv(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=gt(i,{maxStringLength:200})||"<unknown>",d=Wd(i,u);return et({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function cv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const uv={resource:hv,paint:fv,navigation:pv};function Kr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function lv(e){return e.map(dv).filter(Boolean)}function dv(e){const t=uv[e.entryType];return t?t(e):null}function Hn(e){return((Ce||le.performance.timeOrigin)+e)/1e3}function fv(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Hn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function pv(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:Hn(p),end:Hn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function hv(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Hn(o),end:Hn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function mv(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return to(e,"largest-contentful-paint",n)}function gv(e){return e.sources!==void 0}function _v(e){const t=[],n=[];for(const r of e.entries)if(gv(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=pt.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return to(e,"cumulative-layout-shift",n,t)}function yv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return to(e,"first-input-delay",n)}function Sv(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return to(e,"interaction-to-next-paint",n)}function to(e,t,n,r){const s=e.value,o=e.rating,i=Hn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>pt.mirror.getId(a)):void 0,attributions:r}}}function bv(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ln(s,n))}),r.push(nd(Kr(mv,e)),Vi(Kr(_v,e)),rd(Kr(yv,e)),sd(Kr(Sv,e))),()=>{r.forEach(s=>s())}}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ev='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function vv(){const e=new Blob([Ev]);return URL.createObjectURL(e)}const zc=["info","warn","error","log"],as="[Replay] ";function Ro(e,t="info"){st({category:"console",data:{logger:"replay"},level:t,message:`${as}${e}`},{level:t})}function wv(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return F?(zc.forEach(r=>{n[r]=(...s)=>{y[r](as,...s),t&&Ro(s.join(""),Bi(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),y.error(as,r),e?Ys(r):t&&Ro(r,"error")},n.infoTick=(...r)=>{y.info(as,...r),t&&setTimeout(()=>Ro(r[0]),0)}):zc.forEach(r=>{n[r]=()=>{}}),n}const B=wv();class aa extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ea}.`)}}class zd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>ea)throw new aa;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ia(t):null}}class Tv{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){F&&B.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){F&&B.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Iv{constructor(t){this._worker=new Tv(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ia(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>ea?Promise.reject(new aa):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{F&&B.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Cv{constructor(t){this._fallback=new zd,this._compression=new Iv(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){F&&B.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){F&&B.exception(o,"Failed to add events when switching buffers.")}}}function kv({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Rv(t);if(n)return n}return F&&B.info("Using simple buffer"),new zd}function Rv(e){try{const t=e||xv();if(!t)return;F&&B.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Cv(n)}catch(t){F&&B.exception(t,"Failed to create compression worker")}}function xv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?vv():""}function ca(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function Mv(e){Av(),e.session=void 0}function Av(){if(ca())try{le.sessionStorage.removeItem(Zi)}catch{}}function jd(e){return e===void 0?!1:Math.random()<e}function qd(e){const t=Date.now(),n=e.id||Ae(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function ua(e){if(ca())try{le.sessionStorage.setItem(Zi,JSON.stringify(e))}catch{}}function Ov(e,t){return jd(e)?"session":t?"buffer":!1}function jc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Ov(e,t),o=qd({sampled:s,previousSessionId:r});return n&&ua(o),o}function Nv(){if(!ca())return null;try{const e=le.sessionStorage.getItem(Zi);if(!e)return null;const t=JSON.parse(e);return F&&B.infoTick("Loading existing session"),qd(t)}catch{return null}}function hi(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Gd(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return hi(e.started,t,r)||hi(e.lastActivity,n,r)}function Yd(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Gd(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function xo({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Nv();return s?Yd(s,{sessionIdleExpire:e,maxReplayDuration:t})?(F&&B.infoTick("Session in sessionStorage is expired, creating new one..."),jc(r,{previousSessionId:s.id})):s:(F&&B.infoTick("Creating new session"),jc(r,{previousSessionId:n}))}function Dv(e){return e.type===G.Custom}function la(e,t,n){return Xd(e,t)?(Vd(e,t,n),!0):!1}function Pv(e,t,n){return Xd(e,t)?Vd(e,t,n):Promise.resolve(null)}async function Vd(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=Lv(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof aa,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=x();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function Xd(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ia(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(F&&B.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Lv(e,t){try{if(typeof t=="function"&&Dv(e))return t(e)}catch(n){return F&&B.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function da(e){return!e.type}function mi(e){return e.type==="transaction"}function Fv(e){return e.type==="replay_event"}function qc(e){return e.type==="feedback"}function $v(e){return(t,n)=>{if(!e.isEnabled()||!da(t)&&!mi(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(mi(t)){Uv(e,t);return}Bv(e,t)}}}function Uv(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Bv(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Fn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function Hv(e){return t=>{!e.isEnabled()||!da(t)||Wv(e,t)}}function Wv(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=et({category:"replay.hydrate-error",data:{url:Ci()}});xr(e,r)}}function zv(e){const t=x();t&&t.on("beforeAddBreadcrumb",n=>jv(e,n))}function jv(e,t){if(!e.isEnabled()||!Kd(t))return;const n=qv(t);n&&xr(e,n)}function qv(e){return!Kd(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Gv(e):et(e)}function Gv(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return et(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Yr?(n=!0,`${s.slice(0,Yr)}`):s;if(typeof s=="object")try{const o=ze(s,7);return JSON.stringify(o).length>Yr?(n=!0,`${JSON.stringify(o,null,2).slice(0,Yr)}`):o}catch{}return s});return et({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Kd(e){return!!e.category}function Yv(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Jd(){const e=z().getPropagationContext().dsc;e&&delete e.replay_id;const t=he();if(t){const n=Jt(t);delete n.replay_id}}function Vv(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:G.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Xv(e,t){return e.recordingMode!=="buffer"||t.message===Qi||!t.exception||t.type?!1:jd(e.getOptions().errorSampleRate)}function Kv(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Fv(t)?(delete t.breadcrumbs,t):!da(t)&&!mi(t)&&!qc(t)?t:e.checkAndHandleExpiredSession()?qc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Vv(e,t),t):Yv(t,n)&&!e.getOptions()._experiments.captureExceptions?(F&&B.log("Ignoring error from rrweb internals",t),null):((Xv(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Jd(),t),{id:"Replay"})}function no(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:G.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function Jv(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Zv(e){return t=>{if(!e.isEnabled())return;const n=Jv(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(no(e,[n]),!1)))}}function Qv(e,t){return F&&e.getOptions()._experiments.traceInternals?!1:Ml(t,x())}function Zd(e,t){e.isEnabled()&&t!==null&&(Qv(e,t.name)||e.addUpdate(()=>(no(e,[t]),!0)))}function ro(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=nf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Qd(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ef(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[nf(e)];if(!e)return[void 0]}catch(t){return F&&B.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return F&&B.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function $s(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function tf(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:ye({method:o,statusCode:i,request:a,response:c})}}function pr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function $t(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=e0(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function gi(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function nf(e){return new URLSearchParams(e).toString()}function e0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ic,n=t0(e);if(t){const r=e.slice(0,Ic);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function t0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Us(e,t){const n=n0(e);return Ft(n,t)}function n0(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function r0(e,t,n){try{const r=await o0(e,t,n),s=tf("resource.fetch",r);Zd(n.replay,s)}catch(r){F&&B.exception(r,"Failed to capture fetch breadcrumb")}}function s0(e,t){const{input:n,response:r}=t,s=n?rf(n):void 0,o=ro(s),i=r?Qd(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function o0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Us(i,n.networkDetailAllowUrls)&&!Us(i,n.networkDetailDenyUrls),f=l?i0(n,t.input,u):pr(u),p=await a0(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function i0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?l0(n,t):{};if(!e)return $t(s,r,void 0);const o=rf(n),[i,a]=ef(o),c=$t(s,r,i);return a?$s(c,a):c}async function a0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return pr(s);const o=r?sf(r.headers,n):{};if(!r||!t&&s!==void 0)return $t(o,s,void 0);const[i,a]=await u0(r),c=c0(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?$s(c,a):c}function c0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e&&e.length&&n===void 0?ro(e):n;return r?t?$t(s,o,e):$t(s,o,void 0):pr(o)}catch(o){return F&&B.exception(o,"Failed to serialize response body"),$t(s,n,void 0)}}async function u0(e){const t=d0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await f0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(F&&B.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(F&&B.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function rf(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function sf(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function l0(e,t){return e.length===1&&typeof e[0]!="string"?Gc(e[0],t):e.length===2?Gc(e[1],t):{}}function Gc(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?sf(n,t):Array.isArray(n)?{}:gi(n,t):{}}function d0(e){try{return e.clone()}catch(t){F&&B.exception(t,"Failed to clone response body")}}function f0(e){return new Promise((t,n)=>{const r=Fn(()=>n(new Error("Timeout while trying to read response body")),500);p0(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function p0(e){return await e.text()}async function h0(e,t,n){try{const r=g0(e,t,n),s=tf("resource.xhr",r);Zd(n.replay,s)}catch(r){F&&B.exception(r,"Failed to capture xhr breadcrumb")}}function m0(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=ro(r),o=n.getResponseHeader("content-length")?Qd(n.getResponseHeader("content-length")):b0(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function g0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Us(c,n.networkDetailAllowUrls)||Us(c,n.networkDetailDenyUrls)){const w=pr(l),v=pr(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:w,response:v}}const p=a[Nt],h=p?gi(p.request_headers,n.networkRequestHeaders):{},m=gi(_0(a),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?ef(i):[void 0],[E,O]=n.networkCaptureBodies?y0(a):[void 0],R=$t(h,l,S),N=$t(m,f,E);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:_?$s(R,_):R,response:O?$s(N,O):N}}function _0(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function y0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return S0(e.response,e.responseType)}catch(n){t.push(n)}return F&&B.warn("Failed to get xhr response body",...t),[void 0]}function S0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return F&&B.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return F&&B.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function b0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ro(n)}catch{return}}function E0(e){const t=x();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>v0(a,c,u))}catch{}}function v0(e,t,n){if(t.data)try{w0(t)&&I0(n)&&(m0(t,n),h0(t,n,e)),T0(t)&&C0(n)&&(s0(t,n),r0(t,n,e))}catch(r){F&&B.exception(r,"Error when enriching network breadcrumb")}}function w0(e){return e.category==="xhr"}function T0(e){return e.category==="fetch"}function I0(e){return e&&e.xhr}function C0(e){return e&&e.response}function k0(e){const t=x();ud(nv(e)),Js(Zv(e)),zv(e),E0(e);const n=Kv(e);Jh(n),t&&(t.on("beforeSendEvent",Hv(e)),t.on("afterSendEvent",$v(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function R0(e){try{return Promise.all(no(e,[x0(le.performance.memory)]))}catch{return[]}}function x0(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function M0(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=Fn(a,t),i&&o===void 0&&(o=Fn(a,i)),r}return d.cancel=c,d.flush=u,d}const tn=U.navigator;function A0(){return/iPhone|iPad|iPod/i.test(tn&&tn.userAgent||"")||/Macintosh/i.test(tn&&tn.userAgent||"")&&tn&&tn.maxTouchPoints&&tn.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function O0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){F&&B.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&JE(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!la(e,n,s))return!0;if(!s)return!1;const o=e.session;if(D0(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(F&&B.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&ua(o))}return o&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function N0(e){const t=e.getOptions();return{type:G.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function D0(e,t){!t||!e.session||e.session.segmentId!==0||la(e,N0(e),!1)}function P0(e,t,n,r){return wt(ml(e,Ni(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function L0({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function F0({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await Sl(e.getOptions(),r,o,t,e,we());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function $0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=L0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=x(),f=z(),p=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!p||!h||!o.sampled)return _t({});const m={type:gb,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},S=await F0({scope:f,client:l,replayId:t,event:m});if(!S)return l.recordDroppedEvent("event_processor","replay",m),F&&B.info("An event processor returned `null`, will not send event."),_t({});delete S.sdkProcessingMetadata;const _=P0(S,i,h,l.getOptions().tunnel);let E;try{E=await p.send(_)}catch(R){const N=new Error(Qi);try{N.cause=R}catch{}throw N}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new of(E.statusCode);const O=Rl({},E);if(kl(O,"replay"))throw new fa(O);return E}class of extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class fa extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function af(e,t={count:0,interval:vb}){const{recordingData:n,onError:r}=e;if(n.length)try{return await $0(e),!0}catch(s){if(s instanceof of||s instanceof fa)throw s;if(Ui("Replays",{_retryCount:t.count}),r&&r(s),t.count>=wb){const o=new Error(`${Qi} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{Fn(async()=>{try{await af(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const cf="__THROTTLED",U0="__SKIPPED";function B0(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?U0:cf}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Ot{constructor({options:t,recordingOptions:n}){Ot.prototype.__init.call(this),Ot.prototype.__init2.call(this),Ot.prototype.__init3.call(this),Ot.prototype.__init4.call(this),Ot.prototype.__init5.call(this),Ot.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:_b,sessionIdleExpire:yb},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=M0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=B0((i,a)=>Pv(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(Tb,r),timeout:r,scrollTimeout:Ib,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new YE(this,o)),F){const i=t._experiments;B.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){F&&B.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){F&&B.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",F&&B.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){F&&B.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){F&&B.info("Buffering is in progress, call `flush()` to save the replay");return}F&&B.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=xo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){F&&B.info("Buffering is in progress, call `flush()` to save the replay");return}F&&B.infoTick("Starting replay in buffer mode");const t=xo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=pt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Eb}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:O0(this),...A0(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{F&&B.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Jd(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Mv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),F&&B.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),F&&B.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();F&&B.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&hi(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===cf){const s=et({category:"replay.throttled"});this.addUpdate(()=>!la(this,{type:BE,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||he(),n=t&&_e(t),s=(n&&W(n).data||{})[ge];if(!(!n||!s||!["route","custom"].includes(s)))return W(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=kv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=xo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Yd(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(k0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=bv(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=et({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=et({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{iv(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Gd(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){F&&B.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:G.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=lv(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(no(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){F&&B.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await R0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await af({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=x();if(r){const s=n instanceof fa?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){F&&B.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){F&&B.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&F&&B.info("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ua(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=et({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Zn(e,t){return[...e,...t].join(",")}function H0({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=Zn(e,[".sentry-mask","[data-sentry-mask]"]),a=Zn(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:Zn(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Zn(r,[]),ignoreSelector:Zn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function W0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const Yc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',z0=["content-length","content-type","accept"];let Vc=!1;const m1=e=>new so(e);class so{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Sb,flushMaxDelay:n=bb,minReplayDuration:r=Cb,maxReplayDuration:s=Cc,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:E=!0,networkRequestHeaders:O=[],networkResponseHeaders:R=[],mask:N=[],maskAttributes:w=["title","placeholder"],unmask:v=[],block:M=[],unblock:b=[],ignore:g=[],maskFn:T,beforeAddRecordingEvent:I,beforeErrorSampling:D,onError:q}={}){this.name=so.id;const j=H0({mask:N,unmask:v,block:M,unblock:b,ignore:g});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:T,maskInputFn:T,maskAttributeFn:(A,se,P)=>W0({maskAttributes:w,maskAllText:u,privacyOptions:j,key:A,value:se,el:P}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:A=>{try{A.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,kb),maxReplayDuration:Math.min(s,Cc),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:E,networkRequestHeaders:Xc(O),networkResponseHeaders:Xc(R),beforeAddRecordingEvent:I,beforeErrorSampling:D,onError:q,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Yc}`:Yc),this._isInitialized&&ei())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Vc}set _isInitialized(t){Vc=t}afterAllSetup(t){!ei()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=j0(this._initialOptions,t);this._replay=new Ot({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}so.__initStatic();function j0(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ye(e)},s=ws(n.replaysSessionSampleRate),o=ws(n.replaysOnErrorSampleRate);return s==null&&o==null&&Et(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function Xc(e){return[...z0,...e.map(t=>t.toLowerCase())]}function g1(){const e=x();return e&&e.getIntegrationByName("Replay")}var Kc;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Kc||(Kc={}));function q0(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function _i(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:_i(e.parentNode,t,n,r+1)}function Jc(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(q0(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const vn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Zc={map:{},getId(){return console.error(vn),-1},getNode(){return console.error(vn),null},removeNodeFromMap(){console.error(vn)},has(){return console.error(vn),!1},reset(){console.error(vn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Zc=new Proxy(Zc,{get(e,t,n){return t==="map"&&console.error(vn),Reflect.get(e,t,n)}}));function pa(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){lf(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>pa(e,t,o||{},!0)}function ha(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function G0(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function oo(e,t,n,r,s){if(!e)return!1;const o=G0(e);if(!o)return!1;const i=Jc(t,n),a=_i(o,i);let c=-1;return a<0?!1:(r&&(c=_i(o,Jc(null,r))),a>-1&&c<0?!0:a<c)}const Qc={};function uf(e){const t=Qc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Qc[e]=r.bind(window)}function nn(...e){return uf("requestAnimationFrame")(...e)}function lf(...e){return uf("setTimeout")(...e)}var Wn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Wn||{});let cs;function Y0(e){cs=e}const Mo=e=>cs?(...n)=>{try{return e(...n)}catch(r){if(cs&&cs(r)===!0)return()=>{};throw r}}:e;var kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jr=0;Jr<kn.length;Jr++)V0[kn.charCodeAt(Jr)]=Jr;var X0=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=kn[t[n]>>2],s+=kn[(t[n]&3)<<4|t[n+1]>>4],s+=kn[(t[n+1]&15)<<2|t[n+2]>>6],s+=kn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const eu=new Map;function K0(e,t){let n=eu.get(e);return n||(n=new Map,eu.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const df=(e,t,n)=>{if(!e||!(pf(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=K0(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function us(e,t,n){if(e instanceof Array)return e.map(r=>us(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=X0(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[us(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[us(e.data,t,n),e.width,e.height]};if(pf(e,t)||typeof e=="object"){const r=e.constructor.name,s=df(e,t,n);return{rr_type:r,index:s}}}}return e}const ff=(e,t,n)=>e.map(r=>us(r,t,n)),pf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function J0(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=ha(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return oo(this.canvas,n,r,s,!0)||lf(()=>{const l=ff(d,t,this);e(this.canvas,{type:Wn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const u=pa(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:Wn["2D"],property:a,args:[d],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function Z0(e){return e==="experimental-webgl"?"webgl":e}function tu(e,t,n,r,s){const o=[];try{const i=ha(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!oo(this,t,n,r,!0)){const d=Z0(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function nu(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=ha(e,d,function(f){return function(...p){const h=f.apply(this,p);if(df(h,a,this),"tagName"in this.canvas&&!oo(this.canvas,r,s,o,!0)){const m=ff(p,a,this),S={type:t,property:d,args:m};n(this.canvas,S)}return h}});c.push(l)}catch{const f=pa(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function Q0(e,t,n,r,s,o){const i=[];return i.push(...nu(t.WebGLRenderingContext.prototype,Wn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...nu(t.WebGL2RenderingContext.prototype,Wn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var ew='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function tw(){const e=new Blob([ew]);return URL.createObjectURL(e)}class nw{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,ln([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&Y0(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Mo(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,s,o,i,a,{dataURLOptions:u})})()}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Mo(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=tu(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(tw());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:Wn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,s,o,i){const a=this.takeSnapshot(!1,t,n,r,s,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,s){const o=tu(t,n,r,s,!1),i=J0(this.processMutation.bind(this),t,n,r,s),a=Q0(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,s,o,i,a,c){const u=1e3/n;let d=0,l;const f=h=>{if(h)return[h];const m=[],S=_=>{_.querySelectorAll("canvas").forEach(E=>{oo(E,r,s,o)||m.push(E)})};for(const _ of this.windows){const E=_.deref();E&&S(E.document)}for(const _ of this.shadowDoms){const E=_.deref();E&&S(E)}return m},p=h=>{if(this.windows.length){if(d&&h-d<u){l=nn(p);return}d=h,f(c).forEach(m=>{if(!this.mirror.hasNode(m))return;const S=this.mirror.getId(m);if(!this.snapshotInProgressMap.get(S)&&!(!m.width||!m.height)){if(this.snapshotInProgressMap.set(S,!0),!t&&["webgl","webgl2"].includes(m.__context)){const _=m.getContext(m.__context);ln([_,"optionalAccess",E=>E.getContextAttributes,"call",E=>E(),"optionalAccess",E=>E.preserveDrawingBuffer])===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(m).then(_=>{ln([this,"access",E=>E.worker,"optionalAccess",E=>E.postMessage,"call",E=>E({id:S,bitmap:_,width:m.width,height:m.height,dataURLOptions:a,maxCanvasSize:i},[_])])}).catch(_=>{Mo(()=>{throw _})()})}}),t||(l=nn(p))}};return l=nn(p),l}startPendingCanvasMutationFlusher(){nn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,nn(t)};nn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),nn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const ru={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},rw="ReplayCanvas",Zr=1280,sw=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Zr):Zr,n?Math.min(n,Zr):Zr]};let s;const o=new Promise(i=>s=i);return{name:rw,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new nw({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...ru[i||"medium"]||ru.medium}},async snapshot(i){(await o).snapshot(i)}}},_1=sw,tt=U,ne=tt.document,er=tt.navigator,hf="Report a Bug",ow="Cancel",iw="Send Bug Report",aw="Confirm",cw="Report a Bug",uw="your.email@example.org",lw="Email",dw="What's the bug? What did you expect?",fw="Description",pw="Your Name",hw="Name",mw="Thank you for your report!",gw="(required)",_w="Add a screenshot",yw="Remove screenshot",Sw="widget",bw="api",Ew=5e3,vw=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&z().setTags(e.tags);const r=t_({source:bw,url:Ci(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},ls=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ww(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(er.userAgent)||/Macintosh/i.test(er.userAgent)&&er.maxTouchPoints&&er.maxTouchPoints>1||!isSecureContext)}function Qr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Tw(e){const t=ne.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Be(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const bn=20,Iw="http://www.w3.org/2000/svg";function Cw(){const e=a=>tt.document.createElementNS(Iw,a),t=Be(e("svg"),{width:`${bn}`,height:`${bn}`,viewBox:`0 0 ${bn} ${bn}`,fill:"var(--actor-color, var(--foreground))"}),n=Be(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Be(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Be(e("clipPath"),{id:"clip0_57_80"}),i=Be(e("rect"),{width:`${bn}`,height:`${bn}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function kw({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=ne.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||hf,s.appendChild(Cw()),e){const i=ne.createElement("span");i.appendChild(ne.createTextNode(e)),s.appendChild(i)}const o=Tw(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const mf="rgba(88, 74, 192, 1)",Rw={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:mf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},su={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:mf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function ou(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function xw({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=ne.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${ou(e==="dark"?{...su,...t}:{...Rw,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ou({...su,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const gf=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:S="system",themeLight:_={},themeDark:E={},addScreenshotButtonLabel:O=_w,cancelButtonLabel:R=ow,confirmButtonLabel:N=aw,emailLabel:w=lw,emailPlaceholder:v=uw,formTitle:M=cw,isRequiredLabel:b=gw,messageLabel:g=fw,messagePlaceholder:T=dw,nameLabel:I=hw,namePlaceholder:D=pw,removeScreenshotButtonLabel:q=yw,submitButtonLabel:j=iw,successMessageText:A=mw,triggerLabel:se=hf,triggerAriaLabel:P="",onFormOpen:ee,onFormClose:Ee,onSubmitSuccess:Fe,onSubmitError:it,onFormSubmitted:Tt}={})=>{const $e={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:S,themeDark:E,themeLight:_,triggerLabel:se,triggerAriaLabel:P,cancelButtonLabel:R,submitButtonLabel:j,confirmButtonLabel:N,formTitle:M,emailLabel:w,emailPlaceholder:v,messageLabel:g,messagePlaceholder:T,nameLabel:I,namePlaceholder:D,successMessageText:A,isRequiredLabel:b,addScreenshotButtonLabel:O,removeScreenshotButtonLabel:q,onFormClose:Ee,onFormOpen:ee,onSubmitError:it,onSubmitSuccess:Fe,onFormSubmitted:Tt};let Ne=null,Ye=[];const It=re=>{if(!Ne){const k=ne.createElement("div");k.id=String(re.id),ne.body.appendChild(k),Ne=k.attachShadow({mode:"open"}),Ne.appendChild(xw(re))}return Ne},Ct=async re=>{const k=re.enableScreenshot&&ww();let ke,ae;try{ke=(t?t():await e("feedbackModalIntegration",m))(),Za(ke)}catch{throw ls&&y.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const We=k?n?n():await e("feedbackScreenshotIntegration",m):void 0;We&&(ae=We(),Za(ae))}catch{ls&&y.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const ce=ke.createDialog({options:{...re,onFormClose:()=>{ce&&ce.close(),re.onFormClose&&re.onFormClose()},onFormSubmitted:()=>{ce&&ce.close(),re.onFormSubmitted&&re.onFormSubmitted()}},screenshotIntegration:ae,sendFeedback:vw,shadow:It(re)});return ce},Zt=(re,k={})=>{const ke=Qr($e,k),ae=typeof re=="string"?ne.querySelector(re):typeof re.addEventListener=="function"?re:null;if(!ae)throw ls&&y.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ce=null;const We=async()=>{ce||(ce=await Ct({...ke,onFormSubmitted:()=>{ce&&ce.removeFromDom(),ke.onFormSubmitted&&ke.onFormSubmitted()}})),ce.appendToDom(),ce.open()};ae.addEventListener("click",We);const Qt=()=>{Ye=Ye.filter(yn=>yn!==Qt),ce&&ce.removeFromDom(),ce=null,ae.removeEventListener("click",We)};return Ye.push(Qt),Qt},Ze=(re={})=>{const k=Qr($e,re),ke=It(k),ae=kw({triggerLabel:k.triggerLabel,triggerAriaLabel:k.triggerAriaLabel,shadow:ke,styleNonce:h});return Zt(ae.el,{...k,onFormOpen(){ae.hide()},onFormClose(){ae.show()},onFormSubmitted(){ae.show()}}),ae};return{name:"Feedback",setupOnce(){!ei()||!$e.autoInject||(ne.readyState==="loading"?ne.addEventListener("DOMContentLoaded",()=>Ze().appendToDom()):Ze().appendToDom())},attachTo:Zt,createWidget(re={}){const k=Ze(Qr($e,re));return k.appendToDom(),k},async createForm(re={}){return Ct(Qr($e,re))},remove(){Ne&&(Ne.parentElement&&Ne.parentElement.remove(),Ne=null),Ye.forEach(re=>re()),Ye=[]}}};function y1(){const e=x();return e&&e.getIntegrationByName("Feedback")}var io,ie,_f,rn,iu,yf,yi,hr={},ma=[],Mw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ga=Array.isArray;function Dt(e,t){for(var n in t)e[n]=t[n];return e}function Sf(e){var t=e.parentNode;t&&t.removeChild(e)}function Y(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?io.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return ds(e,i,r,s,null)}function ds(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++_f,__i:-1,__u:0};return s==null&&ie.vnode!=null&&ie.vnode(o),o}function Mr(e){return e.children}function fs(e,t){this.props=e,this.context=t}function zn(e,t){if(t==null)return e.__?zn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?zn(e):null}function Aw(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Dt({},s)).__v=s.__v+1,ie.vnode&&ie.vnode(r),_a(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??zn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&bf(r),r}function bf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return bf(e)}}function au(e){(!e.__d&&(e.__d=!0)&&rn.push(e)&&!Bs.__r++||iu!==ie.debounceRendering)&&((iu=ie.debounceRendering)||yf)(Bs)}function Bs(){var e,t,n,r=[],s=[];for(rn.sort(yi);e=rn.shift();)e.__d&&(n=rn.length,t=Aw(e,r,s)||t,n===0||rn.length>n?(Si(r,t,s),s.length=r.length=0,t=void 0,rn.sort(yi)):t&&ie.__c&&ie.__c(t,ma));t&&Si(r,t,s),Bs.__r=0}function Ef(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,m,S=r&&r.__k||ma,_=t.length;for(n.__d=c,Ow(n,t,S),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?hr:S[p.__i]||hr,p.__i=l,_a(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&ya(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=vf(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function Ow(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ds(null,s,null,null,s):ga(s)?ds(Mr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ds(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=Nw(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=zn(o)),bi(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=zn(o)),bi(o,o))}function vf(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=vf(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Nw(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function cu(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Mw.test(t)?n:n+"px"}function es(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||cu(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||cu(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?lu:uu,o)):e.removeEventListener(t,o?lu:uu,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function uu(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ie.event?ie.event(e):e)}}function lu(e){if(this.l)return this.l[e.type+!0](ie.event?ie.event(e):e)}function _a(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,m,S,_,E,O,R,N,w,v,M,b=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=ie.__b)&&d(t);e:if(typeof b=="function")try{if(_=t.props,E=(d=b.contextType)&&r[d.__c],O=d?E?E.props.value:d.__:r,n.__c?S=(l=t.__c=n.__c).__=l.__E:("prototype"in b&&b.prototype.render?t.__c=l=new b(_,O):(t.__c=l=new fs(_,O),l.constructor=b,l.render=Pw),E&&E.sub(l),l.props=_,l.state||(l.state={}),l.context=O,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),b.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Dt({},l.__s)),Dt(l.__s,b.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)b.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(b.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,O),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,O)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(g){g&&(g.__=t)}),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,O),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=O,l.props=_,l.__P=e,l.__e=!1,N=ie.__r,w=0,"prototype"in b&&b.prototype.render){for(l.state=l.__s,l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),v=0;v<l._sb.length;v++)l.__h.push(l._sb[v]);l._sb=[]}else do l.__d=!1,N&&N(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++w<25);l.state=l.__s,l.getChildContext!=null&&(r=Dt(Dt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),Ef(e,ga(M=d!=null&&d.type===Mr&&d.key==null?d.props.children:d)?M:[M],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),S&&(l.__E=l.__=null)}catch(g){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ie.__e(g,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Dw(n.__e,t,n,r,s,o,i,c,u);(d=ie.diffed)&&d(t)}function Si(e,t,n){for(var r=0;r<n.length;r++)ya(n[r],n[++r],n[++r]);ie.__c&&ie.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){ie.__e(o,s.__v)}})}function Dw(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,m,S=n.props,_=t.props,E=t.type;if(E==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(E===null)return document.createTextNode(_);e=s?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,_.is&&_),o=null,a=!1}if(E===null)S===_||a&&e.data===_||(e.data=_);else{if(o=o&&io.call(e.childNodes),S=n.props||hr,!a&&o!=null)for(S={},u=0;u<e.attributes.length;u++)S[(p=e.attributes[u]).name]=p.value;for(u in S)p=S[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||es(e,u,null,p,s));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||S[u]===p||es(e,u,p,S[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Ef(e,ga(f)?f:[f],t,n,r,s&&E!=="foreignObject",o,i,o?o[0]:n.__k&&zn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Sf(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||E==="progress"&&!h||E==="option"&&h!==S[u])&&es(e,u,h,S[u],!1),u="checked",m!==void 0&&m!==e[u]&&es(e,u,m,S[u],!1))}return e}function ya(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ie.__e(r,n)}}function bi(e,t,n){var r,s;if(ie.unmount&&ie.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ya(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ie.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&bi(r[s],t,n||typeof e.type!="function");n||e.__e==null||Sf(e.__e),e.__=e.__e=e.__d=void 0}function Pw(e,t,n){return this.constructor(e,n)}function Lw(e,t,n){var r,s,o,i;ie.__&&ie.__(e,t),s=(r=typeof n=="function")?null:t.__k,o=[],i=[],_a(t,e=(!r&&n||t).__k=Y(Mr,null,[e]),s||hr,hr,t.ownerSVGElement!==void 0,!r&&n?[n]:s?null:t.firstChild?io.call(t.childNodes):null,o,!r&&n?n:s?s.__e:t.firstChild,r,i),e.__d=void 0,Si(o,e,i)}io=ma.slice,ie={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},_f=0,fs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dt({},this.state),typeof e=="function"&&(e=e(Dt({},n),this.props)),e&&Dt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),au(this))},fs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),au(this))},fs.prototype.render=Mr,rn=[],yf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yi=function(e,t){return e.__v.__b-t.__v.__b},Bs.__r=0;var bt,oe,Ao,du,jn=0,wf=[],ps=[],pe=ie,fu=pe.__b,pu=pe.__r,hu=pe.diffed,mu=pe.__c,gu=pe.unmount,_u=pe.__;function _n(e,t){pe.__h&&pe.__h(oe,e,jn||t),jn=0;var n=oe.__H||(oe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ps}),n.__[e]}function Mn(e){return jn=1,Tf(Cf,e)}function Tf(e,t,n){var r=_n(bt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Cf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=oe,!oe.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};oe.u=!0;var o=oe.shouldComponentUpdate,i=oe.componentWillUpdate;oe.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},oe.shouldComponentUpdate=s}return r.__N||r.__}function Fw(e,t){var n=_n(bt++,3);!pe.__s&&Sa(n.__H,t)&&(n.__=e,n.i=t,oe.__H.__h.push(n))}function If(e,t){var n=_n(bt++,4);!pe.__s&&Sa(n.__H,t)&&(n.__=e,n.i=t,oe.__h.push(n))}function $w(e){return jn=5,Ar(function(){return{current:e}},[])}function Uw(e,t,n){jn=6,If(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Ar(e,t){var n=_n(bt++,7);return Sa(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function An(e,t){return jn=8,Ar(function(){return e},t)}function Bw(e){var t=oe.context[e.__c],n=_n(bt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(oe)),t.props.value):e.__}function Hw(e,t){pe.useDebugValue&&pe.useDebugValue(t?t(e):e)}function Ww(e){var t=_n(bt++,10),n=Mn();return t.__=e,oe.componentDidCatch||(oe.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function zw(){var e=_n(bt++,11);if(!e.__){for(var t=oe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function jw(){for(var e;e=wf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(hs),e.__H.__h.forEach(Ei),e.__H.__h=[]}catch(t){e.__H.__h=[],pe.__e(t,e.__v)}}pe.__b=function(e){oe=null,fu&&fu(e)},pe.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_u&&_u(e,t)},pe.__r=function(e){pu&&pu(e),bt=0;var t=(oe=e.__c).__H;t&&(Ao===oe?(t.__h=[],oe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ps,n.__N=n.i=void 0})):(t.__h.forEach(hs),t.__h.forEach(Ei),t.__h=[],bt=0)),Ao=oe},pe.diffed=function(e){hu&&hu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(wf.push(t)!==1&&du===pe.requestAnimationFrame||((du=pe.requestAnimationFrame)||qw)(jw)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ps&&(n.__=n.__V),n.i=void 0,n.__V=ps})),Ao=oe=null},pe.__c=function(e,t){t.some(function(n){try{n.__h.forEach(hs),n.__h=n.__h.filter(function(r){return!r.__||Ei(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],pe.__e(r,n.__v)}}),mu&&mu(e,t)},pe.unmount=function(e){gu&&gu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{hs(r)}catch(s){t=s}}),n.__H=void 0,t&&pe.__e(t,n.__v))};var yu=typeof requestAnimationFrame=="function";function qw(e){var t,n=function(){clearTimeout(r),yu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);yu&&(t=requestAnimationFrame(n))}function hs(e){var t=oe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),oe=t}function Ei(e){var t=oe;e.__c=e.__(),oe=t}function Sa(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Cf(e,t){return typeof t=="function"?t(e):t}const Gw={__proto__:null,useCallback:An,useContext:Bw,useDebugValue:Hw,useEffect:Fw,useErrorBoundary:Ww,useId:zw,useImperativeHandle:Uw,useLayoutEffect:If,useMemo:Ar,useReducer:Tf,useRef:$w,useState:Mn},Yw="http://www.w3.org/2000/svg";function Vw(){const e=r=>ne.createElementNS(Yw,r),t=Be(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Be(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function Xw({options:e}){const t=Ar(()=>({__html:Vw().outerHTML}),[]);return Y("h2",{class:"dialog__header"},Y("span",{class:"dialog__title"},e.formTitle),e.showBranding?Y("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function Kw(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Oo(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function Jw({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:S,isNameRequired:_,messageLabel:E,messagePlaceholder:O,nameLabel:R,namePlaceholder:N,submitButtonLabel:w,isRequiredLabel:v}=e,[M,b]=Mn(null),[g,T]=Mn(!1),I=u&&u.input,[D,q]=Mn(null),j=An(P=>{q(P),T(!1)},[]),A=An(P=>{const ee=Kw(P,{emailLabel:h,isEmailRequired:S,isNameRequired:_,messageLabel:E,nameLabel:R});return ee.length>0?b(`Please enter in the following required fields: ${ee.join(", ")}`):b(null),ee.length===0},[h,S,_,E,R]),se=An(async P=>{try{if(P.preventDefault(),!(P.target instanceof HTMLFormElement))return;const ee=new FormData(P.target),Ee=await(u&&g?u.value():void 0),Fe={name:Oo(ee,"name"),email:Oo(ee,"email"),message:Oo(ee,"message"),attachments:Ee?[Ee]:void 0};if(!A(Fe))return;try{await s({name:Fe.name,email:Fe.email,message:Fe.message,source:Sw,tags:d},{attachments:Fe.attachments}),o(Fe)}catch(it){ls&&y.error(it),b(it),i(it)}}catch{}},[u&&g,o,i]);return Y("form",{class:"form",onSubmit:se},I&&g?Y(I,{onError:j}):null,Y("div",{class:"form__right","data-sentry-feedback":!0},Y("div",{class:"form__top"},M?Y("div",{class:"form__error-container"},M):null,c?Y("label",{for:"name",class:"form__label"},Y(No,{label:R,isRequiredLabel:v,isRequired:_}),Y("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:N,required:_,type:"text"})):Y("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?Y("label",{for:"email",class:"form__label"},Y(No,{label:h,isRequiredLabel:v,isRequired:S}),Y("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:S,type:"email"})):Y("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),Y("label",{for:"message",class:"form__label"},Y(No,{label:E,isRequiredLabel:v,isRequired:!0}),Y("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:O,required:!0,rows:5})),I?Y("label",{for:"screenshot",class:"form__label"},Y("button",{class:"btn btn--default",type:"button",onClick:()=>{q(null),T(P=>!P)}},g?f:l),D?Y("div",{class:"form__error-container"},D.message):null):null),Y("div",{class:"btn-group"},Y("button",{class:"btn btn--primary",type:"submit"},w),Y("button",{class:"btn btn--default",type:"button",onClick:r},p))))}function No({label:e,isRequired:t,isRequiredLabel:n}){return Y("span",{class:"form__label__text"},e,t&&Y("span",{class:"form__label__text--required"},n))}const ts=16,Su=17,Zw="http://www.w3.org/2000/svg";function Qw(){const e=c=>tt.document.createElementNS(Zw,c),t=Be(e("svg"),{width:`${ts}`,height:`${Su}`,viewBox:`0 0 ${ts} ${Su}`,fill:"inherit"}),n=Be(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Be(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Be(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Be(e("clipPath"),{id:"clip0_57_156"}),a=Be(e("rect"),{width:`${ts}`,height:`${ts}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function eT({open:e,onFormSubmitted:t,...n}){const r=n.options,s=Ar(()=>({__html:Qw().outerHTML}),[]),[o,i]=Mn(null),a=An(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=An(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},Ew))},[t]);return Y(Mr,null,o?Y("div",{class:"success__position",onClick:a},Y("div",{class:"success__content"},r.successMessageText,Y("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):Y("dialog",{class:"dialog",onClick:r.onFormClose,open:e},Y("div",{class:"dialog__position"},Y("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},Y(Xw,{options:r}),Y(Jw,{...n,onSubmitSuccess:c})))))}const tT=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,nT=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,rT=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,sT=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,oT=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function iT(e){const t=ne.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${tT}
${nT}
${rT}
${sT}
${oT}
`,e&&t.setAttribute("nonce",e),t}function aT(){const e=z().getUser(),t=we().getUser(),n=xi().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const cT=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=aT(),a=ne.createElement("div"),c=iT(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),ne.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=ne.body.style.overflow,ne.body.style.overflow="hidden"},close(){f(!1),ne.body.style.overflow=u}},l=t&&t.createInput({h:Y,hooks:Gw,dialog:d,options:e}),f=p=>{Lw(Y(eT,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p}),a)};return d}});function uT({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()}})}}function lT(e){const t=ne.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e&&t.setAttribute("nonce",e),t}function dT({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await er.mediaDevices.getDisplayMedia({video:{width:tt.innerWidth*tt.devicePixelRatio,height:tt.innerHeight*tt.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=ne.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const tr=30,ct=3,kt=tr+ct,De=tt.devicePixelRatio,Qn=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Do=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{startX:i,startY:a,endX:s+i,endY:o+a}};function fT({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=dT({hooks:t});return function({onError:a}){const c=t.useMemo(()=>({__html:lT(s.styleNonce).innerText}),[]),u=uT({h:e}),d=t.useRef(null),l=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[m,S]=t.useState(!1),[_,E]=t.useState(!1);t.useEffect(()=>{tt.addEventListener("resize",O,!1)},[]);function O(){const b=f.current,g=Qn(Do(n));if(b){b.width=g.width*De,b.height=g.height*De,b.style.width=`${g.width}px`,b.style.height=`${g.height}px`;const I=b.getContext("2d");I&&I.scale(De,De)}const T=l.current;T&&(T.style.width=`${g.width}px`,T.style.height=`${g.height}px`),h({startX:0,startY:0,endX:g.width,endY:g.height})}t.useEffect(()=>{const b=f.current;if(!b)return;const g=b.getContext("2d");if(!g)return;const T=Qn(Do(n)),I=Qn(p);g.clearRect(0,0,T.width,T.height),g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,T.width,T.height),g.clearRect(I.x,I.y,I.width,I.height),g.strokeStyle="#ffffff",g.lineWidth=3,g.strokeRect(I.x+1,I.y+1,I.width-2,I.height-2),g.strokeStyle="#000000",g.lineWidth=1,g.strokeRect(I.x+3,I.y+3,I.width-6,I.height-6)},[p]);function R(b,g){S(!1),E(!0);const T=N(g),I=()=>{ne.removeEventListener("mousemove",T),ne.removeEventListener("mouseup",I),S(!0),E(!1)};ne.addEventListener("mouseup",I),ne.addEventListener("mousemove",T)}const N=t.useCallback(b=>function(g){if(!f.current)return;const T=f.current,I=T.getBoundingClientRect(),D=g.clientX-I.x,q=g.clientY-I.y;switch(b){case"top-left":h(j=>({...j,startX:Math.min(Math.max(0,D),j.endX-kt),startY:Math.min(Math.max(0,q),j.endY-kt)}));break;case"top-right":h(j=>({...j,endX:Math.max(Math.min(D,T.width/De),j.startX+kt),startY:Math.min(Math.max(0,q),j.endY-kt)}));break;case"bottom-left":h(j=>({...j,startX:Math.min(Math.max(0,D),j.endX-kt),endY:Math.max(Math.min(q,T.height/De),j.startY+kt)}));break;case"bottom-right":h(j=>({...j,endX:Math.max(Math.min(D,T.width/De),j.startX+kt),endY:Math.max(Math.min(q,T.height/De),j.startY+kt)}));break}},[]),w=t.useRef({initialX:0,initialY:0});function v(b){if(_)return;w.current={initialX:b.clientX,initialY:b.clientY};const g=I=>{const D=f.current;if(!D)return;const q=I.clientX-w.current.initialX,j=I.clientY-w.current.initialY;h(A=>{const se=Math.max(0,Math.min(A.startX+q,D.width/De-(A.endX-A.startX))),P=Math.max(0,Math.min(A.startY+j,D.height/De-(A.endY-A.startY))),ee=se+(A.endX-A.startX),Ee=P+(A.endY-A.startY);return w.current.initialX=I.clientX,w.current.initialY=I.clientY,{startX:se,startY:P,endX:ee,endY:Ee}})},T=()=>{ne.removeEventListener("mousemove",g),ne.removeEventListener("mouseup",T)};ne.addEventListener("mousemove",g),ne.addEventListener("mouseup",T)}function M(){const b=ne.createElement("canvas"),g=Qn(Do(n)),T=Qn(p);b.width=T.width*De,b.height=T.height*De;const I=b.getContext("2d");I&&n&&I.drawImage(n,T.x/g.width*n.width,T.y/g.height*n.height,T.width/g.width*n.width,T.height/g.height*n.height,0,0,b.width,b.height);const D=n.getContext("2d");D&&(D.clearRect(0,0,n.width,n.height),n.width=b.width,n.height=b.height,n.style.width=`${T.width}px`,n.style.height=`${T.height}px`,D.drawImage(b,0,0),O())}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(b=>{const g=n.getContext("2d");if(!g)throw new Error("Could not get canvas context");n.width=b.videoWidth,n.height=b.videoHeight,n.style.width="100%",n.style.height="100%",g.drawImage(b,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const b=d.current;b&&b.appendChild(n),O()},[]),onError:t.useCallback(b=>{r.el.style.display="block",a(b)},[])}),e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__canvas-container",ref:d},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l},e("canvas",{onMouseDown:v,style:{position:"absolute",cursor:m?"move":"auto"},ref:f}),e(u,{left:p.startX-ct,top:p.startY-ct,onGrabButton:R,corner:"top-left"}),e(u,{left:p.endX-tr+ct,top:p.startY-ct,onGrabButton:R,corner:"top-right"}),e(u,{left:p.startX-ct,top:p.endY-tr+ct,onGrabButton:R,corner:"bottom-left"}),e(u,{left:p.endX-tr+ct,top:p.endY-tr+ct,onGrabButton:R,corner:"bottom-right"}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:m?"flex":"none"},class:"editor__crop-btn-group"},e("button",{onClick:b=>{b.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/De,endY:f.current.height/De}),S(!1)},class:"btn btn--default"},s.cancelButtonLabel),e("button",{onClick:b=>{b.preventDefault(),M(),S(!1)},class:"btn btn--primary"},s.confirmButtonLabel)))))}}const pT=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=ne.createElement("canvas");return{input:fT({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),S1=gf({lazyLoadIntegration:VS}),b1=gf({getModalIntegration:()=>cT,getScreenshotIntegration:()=>pT});function hT(e,t=1,n){vr.increment(wr,e,t,n)}function mT(e,t,n){vr.distribution(wr,e,t,n)}function gT(e,t,n){vr.set(wr,e,t,n)}function _T(e,t,n){vr.gauge(wr,e,t,n)}function yT(e,t,n="second",r){return vr.timing(wr,e,t,n,r)}const E1={increment:hT,distribution:mT,set:gT,gauge:_T,timing:yT},bu=new WeakMap,Po=new Map,ms={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function ST(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a}={traceFetch:ms.traceFetch,traceXHR:ms.traceXHR,trackFetchStreamPerformance:ms.trackFetchStreamPerformance,...t},c=typeof o=="function"?o:l=>!0,u=l=>vT(l,a),d={};n&&(e.addEventProcessor(l=>(l.type==="transaction"&&l.spans&&l.spans.forEach(f=>{if(f.op==="http.client"){const p=Po.get(f.span_id);p&&(f.timestamp=p/1e3,Po.delete(f.span_id))}}),l)),s&&o_(l=>{if(l.response){const f=bu.get(l.response);f&&l.endTimestamp&&Po.set(f,l.endTimestamp)}}),zi(l=>{const f=Xg(l,c,u,d);if(l.response&&l.fetchData.__span&&bu.set(l.response,l.fetchData.__span),f){const p=kf(l.fetchData.url),h=p?un(p).host:void 0;f.setAttributes({"http.url":p,"server.address":h})}i&&f&&Eu(f)})),r&&Ji(l=>{const f=wT(l,c,u,d);i&&f&&Eu(f)})}function bT(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Eu(e){const{url:t}=W(e).data||{};if(!t||typeof t!="string")return;const n=Ln("resource",({entries:r})=>{r.forEach(s=>{bT(s)&&s.name.endsWith(t)&&(ET(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function Qe(e=0){return((Ce||performance.timeOrigin)+e)/1e3}function ET(e){const{name:t,version:n}=cd(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ce?[...r,["http.request.redirect_start",Qe(e.redirectStart)],["http.request.fetch_start",Qe(e.fetchStart)],["http.request.domain_lookup_start",Qe(e.domainLookupStart)],["http.request.domain_lookup_end",Qe(e.domainLookupEnd)],["http.request.connect_start",Qe(e.connectStart)],["http.request.secure_connection_start",Qe(e.secureConnectionStart)],["http.request.connection_end",Qe(e.connectEnd)],["http.request.request_start",Qe(e.requestStart)],["http.request.response_start",Qe(e.responseStart)],["http.request.response_end",Qe(e.responseEnd)]]:r}function vT(e,t){const n=C.location&&C.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?Ft(r.toString(),t)||o&&Ft(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Ft(e,t):r}}function wT(e,t,n,r){const s=e.xhr,o=s&&s[Nt];if(!s||s.__sentry_own_request__||!o)return;const i=qt()&&t(o.url);if(e.endTimestamp&&i){const l=s.__sentry_xhr_span_id__;if(!l)return;const f=r[l];f&&o.status_code!==void 0&&(Vu(f,o.status_code),f.end(),delete r[l]);return}const a=kf(o.url),c=a?un(a).host:void 0,u=!!he(),d=i&&u?nt({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":c,[Q]:"auto.http.browser",[Oe]:"http.client"}}):new Kt;return s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d,n(o.url)&&TT(s,qt()&&u?d:void 0),d}function TT(e,t){const{"sentry-trace":n,baggage:r}=Ol({span:t});n&&IT(e,n,r)}function IT(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function kf(e){try{return new URL(e,C.location.origin).href}catch{return}}function CT(){C&&C.document?C.document.addEventListener("visibilitychange",()=>{const e=he();if(!e)return;const t=_e(e);if(C.document.hidden&&t){const n="cancelled",{op:r,status:s}=W(t);V&&y.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:be,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):V&&y.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const kT="BrowserTracing",RT={...ss,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...ms},Or=(e={})=>{ol();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:i,idleTimeout:a,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:h,enableHTTPTimings:m,instrumentPageLoad:S,instrumentNavigation:_}={...RT,...e},E=hy({recordClsStandaloneSpans:o||!1});t&&Uy(),r&&U.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?gy():n&&my(),s&&_y();const O={name:void 0,source:void 0};function R(N,w){const v=w.op==="pageload",M=i?i(w):w,b=M.attributes||{};w.name!==M.name&&(b[ge]="custom",M.attributes=b),O.name=M.name,O.source=b[ge];const g=_l(M,{idleTimeout:a,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:v,beforeSpanEnd:I=>{E(),vy(I,{recordClsOnPageloadSpan:!o})}});function T(){["interactive","complete"].includes(C.document.readyState)&&N.emit("idleSpanEnableAutoFinish",g)}return v&&C.document&&(C.document.addEventListener("readystatechange",()=>{T()}),T()),g}return{name:kT,afterAllSetup(N){let w,v=C.location&&C.location.href;function M(){w&&!W(w).timestamp&&(V&&y.log(`[Tracing] Finishing current active span with op: ${W(w).op}`),w.end())}N.on("startNavigationSpan",b=>{x()===N&&(M(),w=R(N,{op:"navigation",...b}))}),N.on("startPageLoadSpan",(b,g={})=>{if(x()!==N)return;M();const T=g.sentryTrace||vu("sentry-trace"),I=g.baggage||vu("baggage"),D=Zu(T,I);z().setPropagationContext(D),w=R(N,{op:"pageload",...b})}),N.on("spanEnd",b=>{const g=W(b).op;if(b!==_e(b)||g!=="navigation"&&g!=="pageload")return;const T=z(),I=T.getPropagationContext();T.setPropagationContext({...I,sampled:I.sampled!==void 0?I.sampled:hn(b),dsc:I.dsc||Jt(b)})}),C.location&&(S&&Nr(N,{name:C.location.pathname,startTime:Ce?Ce/1e3:void 0,attributes:{[ge]:"url",[Q]:"auto.pageload.browser"}}),_&&Js(({to:b,from:g})=>{if(g===void 0&&v&&v.indexOf(b)!==-1){v=void 0;return}g!==b&&(v=void 0,Dr(N,{name:C.location.pathname,attributes:{[ge]:"url",[Q]:"auto.navigation.browser"}}))})),d&&CT(),s&&xT(a,c,u,O),t&&Hy(),ST(N,{traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,tracePropagationTargets:N.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:m})}}};function Nr(e,t,n){e.emit("startPageLoadSpan",t,n),z().setTransactionName(t.name);const r=he();return(r&&W(r).op)==="pageload"?r:void 0}function Dr(e,t){we().setPropagationContext({traceId:yt()}),z().setPropagationContext({traceId:yt()}),e.emit("startNavigationSpan",t),z().setTransactionName(t.name);const n=he();return(n&&W(n).op)==="navigation"?n:void 0}function vu(e){const t=pp(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function xT(e,t,n,r){let s;const o=()=>{const i="ui.action.click",a=he(),c=a&&_e(a);if(c){const u=W(c).op;if(["navigation","pageload"].includes(u)){V&&y.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Wo,"interactionInterrupted"),s.end(),s=void 0),!r.name){V&&y.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}s=_l({name:r.name,op:i,attributes:{[ge]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};C.document&&addEventListener("click",o,{once:!1,capture:!0})}function qn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function MT(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=qn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function ba(e){return qn(e.getAllKeys())}function AT(e,t,n){return e(r=>ba(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),qn(r.transaction)}))}function OT(e,t,n){return e(r=>ba(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),qn(r.transaction)}))}function NT(e){return e(t=>ba(t).then(n=>{const r=n[0];if(r!=null)return qn(t.get(r)).then(s=>(t.delete(r),qn(t.transaction).then(()=>s)))}))}function DT(e){let t;function n(){return t==null&&(t=MT(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await Is(r);await AT(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await Is(r);await OT(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await NT(n());if(r)return uh(r)}catch{}}}}function PT(e){return t=>{const n=e({...t,createStore:DT});return C.addEventListener("online",async r=>{await n.flush()}),n}}function v1(e=ld){return PT(_m(e))}const wu=1e6,gs=String(0),LT="main";let Rf="",xf="",Mf="",vi=C.navigator&&C.navigator.userAgent||"",Af="";const FT=C.navigator&&C.navigator.language||C.navigator&&C.navigator.languages&&C.navigator.languages[0]||"";function $T(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Tu=C.navigator&&C.navigator.userAgentData;$T(Tu)&&Tu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Rf=e.platform||"",Mf=e.architecture||"",Af=e.model||"",xf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];vi=`${t.brand} ${t.version}`}}).catch(e=>{});function UT(e){return!("thread_metadata"in e)}function BT(e){return UT(e)?zT(e):e}function HT(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&V&&y.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function WT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=HT(r),o=BT(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:de()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:de()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Gs,runtime:{name:"javascript",version:C.navigator.userAgent},os:{name:Rf,version:xf,build_number:vi},device:{locale:FT,model:Af,manufacturer:vi,architecture:Mf,is_emulator:!1},debug_meta:{images:GT(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Ae(),trace_id:s,active_thread_id:gs,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Of(e){return W(e).op==="pageload"}function zT(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[gs]:{name:LT}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:Ce||0,a=i-(Ce||i);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-o)*wu).toFixed(0),stack_id:t,thread_id:gs};return}let d=e.stacks[c.stackId];const l=[];for(;d;){l.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const f={elapsed_since_start_ns:((c.timestamp+a-o)*wu).toFixed(0),stack_id:n,thread_id:gs};r.stacks[n]=l,r.samples[u]=f,n++}),r}function jT(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function qT(e){const t=[];return pn(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}function GT(e){const t=x(),n=t&&t.getOptions(),r=n&&n.stackParser;return r?kh(r,e):[]}function YT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(V&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(V&&y.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function VT(e){return e.samples.length<2?(V&&y.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(V&&y.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Nf=!1;const Df=3e4;function XT(e){return typeof e=="function"}function KT(){const e=C.Profiler;if(!XT(e)){V&&y.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Df/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{V&&(y.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),y.log("[Profiling] Disabling profiling for current user session.")),Nf=!0}}function Iu(e){if(Nf)return V&&y.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return V&&y.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return V&&y.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return YT(r)?r?(r===!0?!0:Math.random()<r)?!0:(V&&y.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(V&&y.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(V&&y.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function JT(e,t,n,r){return VT(n)?WT(e,t,n,r):null}const on=new Map;function ZT(){return on.size}function QT(e){const t=on.get(e);return t&&on.delete(e),t}function eI(e,t){if(on.set(e,t),on.size>30){const n=on.keys().next().value;on.delete(n)}}function Cu(e){let t;Of(e)&&(t=de()*1e3);const n=KT();if(!n)return;V&&y.log(`[Profiling] started profiling span: ${W(e).description}`);const r=Ae();z().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(C.clearTimeout(o),o=void 0),V&&y.log(`[Profiling] stopped profiling of span: ${W(e).description}`),!c){V&&y.log(`[Profiling] profiler returned null profile for: ${W(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}eI(r,c)}).catch(c=>{V&&y.log("[Profiling] error while stopping profiler:",c)})}let o=C.setTimeout(()=>{V&&y.log("[Profiling] max profile duration elapsed, stopping profiling for:",W(e).description),s()},Df);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const tI="BrowserProfiling",nI=()=>({name:tI,setup(e){const t=he(),n=t&&_e(t);n&&Of(n)&&Iu(n)&&Cu(n),e.on("spanStart",r=>{r===_e(r)&&Iu(r)&&Cu(r)}),e.on("beforeEnvelope",r=>{if(!ZT())return;const s=qT(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){V&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){V&&y.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=QT(c);if(!d){V&&y.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=JT(c,u,d,i);l&&o.push(l)}jT(r,o)})}}),w1=nI,rI="SpotlightBrowser",sI=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:rI,setup:()=>{V&&y.log("Using Sidecar URL",t)},processEvent:n=>iI(n)?null:n,afterAllSetup:n=>{oI(n,t)}}};function oI(e,t){const n=Ki("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){y.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Is(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,y.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const T1=sI;function iI(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t&&t.includes("#sentry-spotlight")))}const aI=100;function Pr(e){const n=z().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Gn(e,t,n=aI){const r=z().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;cI(s,e,t,n)}function cI(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){V&&y.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}const I1=()=>({name:"FeatureFlags",processEvent(e,t,n){return Pr(e)},addFeatureFlag(e,t){Gn(e,t)}}),C1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Pr(e)}});function k1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Gn(e,t.value)}}}const R1=()=>({name:"OpenFeature",processEvent(e,t,n){return Pr(e)}});class x1{after(t,n){Gn(n.flagKey,n.value)}error(t,n,r){Gn(t.flagKey,t.defaultValue)}}const M1=({unleashClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return Pr(t)},setupOnce(){const t=e.prototype;Me(t,"isEnabled",uI)}});function uI(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?Gn(n,r):V&&y.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const A1=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return Pr(t)},setup(){e.on("gate_evaluation",t=>{Gn(t.gate.name,t.gate.value)})}});function O1(e){const t={...e};return Al(t,"react"),Ui("react",{version:Ie.version}),GS(t)}function lI(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function dI(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function Pf(e,{componentStack:t},n){if(lI(Ie.version)&&dt(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,dI(e,r)}return Ys(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}function N1(e){return(t,n)=>{const r=Pf(t,n);e&&e(t,n,r)}}var Lf={exports:{}},te={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,l=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,_=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function O(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===o||k===s||k===l||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===h||k.$$typeof===p||k.$$typeof===i||k.$$typeof===a||k.$$typeof===d||k.$$typeof===S||k.$$typeof===_||k.$$typeof===E||k.$$typeof===m)}function R(k){if(typeof k=="object"&&k!==null){var ke=k.$$typeof;switch(ke){case t:var ae=k.type;switch(ae){case c:case u:case r:case o:case s:case l:return ae;default:var ce=ae&&ae.$$typeof;switch(ce){case a:case d:case h:case p:case i:return ce;default:return ke}}case n:return ke}}}var N=c,w=u,v=a,M=i,b=t,g=d,T=r,I=h,D=p,q=n,j=o,A=s,se=l,P=!1;function ee(k){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Ee(k)||R(k)===c}function Ee(k){return R(k)===u}function Fe(k){return R(k)===a}function it(k){return R(k)===i}function Tt(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function $e(k){return R(k)===d}function Ne(k){return R(k)===r}function Ye(k){return R(k)===h}function It(k){return R(k)===p}function Ct(k){return R(k)===n}function Zt(k){return R(k)===o}function Ze(k){return R(k)===s}function re(k){return R(k)===l}te.AsyncMode=N,te.ConcurrentMode=w,te.ContextConsumer=v,te.ContextProvider=M,te.Element=b,te.ForwardRef=g,te.Fragment=T,te.Lazy=I,te.Memo=D,te.Portal=q,te.Profiler=j,te.StrictMode=A,te.Suspense=se,te.isAsyncMode=ee,te.isConcurrentMode=Ee,te.isContextConsumer=Fe,te.isContextProvider=it,te.isElement=Tt,te.isForwardRef=$e,te.isFragment=Ne,te.isLazy=Ye,te.isMemo=It,te.isPortal=Ct,te.isProfiler=Zt,te.isStrictMode=Ze,te.isSuspense=re,te.isValidElementType=O,te.typeOf=R})();Lf.exports=te;var fI=Lf.exports,Ea=fI,pI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ff={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},va={};va[Ea.ForwardRef]=mI;va[Ea.Memo]=Ff;function ku(e){return Ea.isMemo(e)?Ff:va[e.$$typeof]||pI}var gI=Object.defineProperty,_I=Object.getOwnPropertyNames,Ru=Object.getOwnPropertySymbols,yI=Object.getOwnPropertyDescriptor,SI=Object.getPrototypeOf,xu=Object.prototype;function $f(e,t,n){if(typeof t!="string"){if(xu){var r=SI(t);r&&r!==xu&&$f(e,r,n)}var s=_I(t);Ru&&(s=s.concat(Ru(t)));for(var o=ku(e),i=ku(t),a=0;a<s.length;++a){var c=s[a];if(!hI[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=yI(t,c);try{gI(e,c,u)}catch{}}}}return e}var bI=$f;const ao=ep(bI),Uf="ui.react.render",EI="ui.react.update",Bf="ui.react.mount",vI="unknown";class Hf extends Ie.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=nt({name:`<${n}>`,onlyIfParent:!0,op:Bf,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=de();this._updateSpan=Dn(this._mountSpan,()=>nt({name:`<${this.props.name}>`,onlyIfParent:!0,op:EI,startTime:s,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=de(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=W(this._mountSpan).timestamp;Dn(this._mountSpan,()=>{const o=nt({onlyIfParent:!0,name:`<${n}>`,op:Uf,startTime:s,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Hf.__initStatic();function D1(e,t){const n=t&&t.name||e.displayName||e.name||vI,r=s=>Ie.createElement(Hf,{...t,name:n,updateProps:s},Ie.createElement(e,{...s}));return r.displayName=`profiler(${n})`,ao(r,e),r}function P1(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Ie.useState(()=>{if(!(t&&t.disabled))return nt({name:`<${e}>`,onlyIfParent:!0,op:Bf,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":e}})});Ie.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=W(n).timestamp,s=de(),o=nt({name:`<${e}>`,onlyIfParent:!0,op:Uf,startTime:r,attributes:{[Q]:"auto.ui.react.profiler","ui.component_name":e}});o&&o.end(s)}}),[])}const Lr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wI="unknown",Mu={componentStack:null,error:null,eventId:null};class wa extends Ie.Component{constructor(t){super(t),wa.prototype.__init.call(this),this.state=Mu,this._openFallbackReportDialog=!0;const n=x();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Ec({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,s=r??void 0,{beforeCapture:o,onError:i,showDialog:a,dialogOptions:c}=this.props;Ge(u=>{o&&o(u,t,s);const d=this.props.handled!=null?this.props.handled:!!this.props.fallback,l=Pf(t,n,{mechanism:{handled:d}});i&&i(t,s,l),a&&(this._lastEventId=l,this._openFallbackReportDialog&&Ec({...c,eventId:l})),this.setState({error:t,componentStack:r,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(Mu)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=Ie.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,Ie.isValidElement(s)?s:(t&&Lr&&y.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function L1(e,t){const n=e.displayName||e.name||wI,r=s=>Ie.createElement(wa,{...t},Ie.createElement(e,{...s}));return r.displayName=`errorBoundary(${n})`,ao(r,e),r}const TI="redux.action",II="info",CI={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function F1(e){const t={...CI,...e};return n=>(r,s)=>(t.attachReduxState&&xi().addEventProcessor((i,a)=>{try{i.type===void 0&&i.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(i.contexts.state.state.value)}])}catch{}return i}),n((i,a)=>{const c=r(i,a),u=z(),d=t.actionTransformer(a);typeof d<"u"&&d!==null&&st({category:TI,data:d,type:II});const l=t.stateTransformer(c);if(typeof l<"u"&&l!==null){const p=x(),h=p&&p.getOptions(),m=h&&h.normalizeDepth||3,S={state:{type:"redux",value:l}};Le(S,"__sentry_override_normalization_depth__",3+m),u.setContext("state",S)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function $1(e){const t=Or({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),o&&C&&C.location&&Au(r,C.location,s,(c,u="url")=>{Nr(a,{name:c,attributes:{[Oe]:"pageload",[Q]:"auto.pageload.react.reactrouter_v3",[ge]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&Au(r,c,s,(u,d="url")=>{Dr(a,{name:u,attributes:{[Oe]:"navigation",[Q]:"auto.navigation.react.reactrouter_v3",[ge]:d}})})})}}}function Au(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=kI(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function kI(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}function U1(e,t={}){const n=e,r=Or({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=C.location;if(s&&a){const c=n.matchRoutes(a.pathname,n.options.parseSearch(a.search),{preload:!1,throwOnError:!1}),u=c[c.length-1];Nr(i,{name:u?u.routeId:a.pathname,attributes:{[Oe]:"pageload",[Q]:"auto.pageload.react.tanstack_router",[ge]:u?"route":"url",...Ou(u)}})}o&&n.subscribe("onBeforeNavigate",c=>{const u=c.fromLocation&&c.fromLocation.state;if(c.toLocation.state===u)return;const d=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),l=d[d.length-1],f=C.location,p=Dr(i,{name:l?l.routeId:f.pathname,attributes:{[Oe]:"navigation",[Q]:"auto.navigation.react.tanstack_router",[ge]:l?"route":"url"}}),h=n.subscribe("onResolved",m=>{if(h(),p){const S=n.matchRoutes(m.toLocation.pathname,m.toLocation.search,{preload:!1,throwOnError:!1}),_=S[S.length-1];_&&(p.updateName(_.routeId),p.setAttribute(ge,"route"),p.setAttributes(Ou(_)))}})})}}}function Ou(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r}),t}function B1(e){const t=Or({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Wf(a,o,i,n,"reactrouter_v4",r,s)}}}function H1(e){const t=Or({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Wf(a,o,i,n,"reactrouter_v5",r,s)}}}function Wf(e,t,n,r,s,o=[],i){function a(){if(r&&r.location)return r.location.pathname;if(C&&C.location)return C.location.pathname}function c(u){if(o.length===0||!i)return[u,"url"];const d=zf(o,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);Nr(e,{name:d,attributes:{[Oe]:"pageload",[Q]:`auto.pageload.react.${s}`,[ge]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,f]=c(u.pathname);Dr(e,{name:l,attributes:{[Oe]:"navigation",[Q]:`auto.navigation.react.${s}`,[ge]:f}})}})}function zf(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:RI(t);return o&&(r.push({route:s,match:o}),s.routes&&zf(s.routes,t,n,r)),!!o}),r}function RI(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function W1(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,o=xI();z().setTransactionName(s),o&&(o.updateName(s),o.setAttribute(ge,"route"))}return Ie.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,ao(n,e),n}function xI(){const e=he(),t=e&&_e(e);if(!t)return;const n=W(t).op;return n==="navigation"||n==="pageload"?t:void 0}let Ut,Bt,Ht,_s,ot,Rn=!1;const jf=new WeakSet,He=new Set;function qf(e,t){return!Ut||!Bt||!Ht||!ot?(Lr&&y.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e):function(n,r){n.forEach(a=>{He.add(a)});const s=e(n,r),o=r&&r.basename,i=uo();return s.state.historyAction==="POP"&&i&&co(i,s.state.location,n,void 0,o,Array.from(He)),s.subscribe(a=>{(a.historyAction==="PUSH"||a.historyAction==="POP")&&(a.navigation.state!=="idle"?requestAnimationFrame(()=>{mr({location:a.location,routes:n,navigationType:a.historyAction,version:t,basename:o,allRoutes:Array.from(He)})}):mr({location:a.location,routes:n,navigationType:a.historyAction,version:t,basename:o,allRoutes:Array.from(He)}))}),s}}function Gf(e,t){return!Ut||!Bt||!Ht||!ot?(Lr&&y.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e):function(n,r){n.forEach(p=>{He.add(p)});const s=e(n,r),o=r?r.basename:void 0,i=uo();let a;const c=r?r.initialEntries:void 0,u=r?r.initialIndex:void 0,d=c&&c.length===1,l=u!==void 0&&c&&c[u];a=d?c[0]:l?c[u]:void 0;const f=a?typeof a=="string"?{pathname:a}:a:s.state.location;return s.state.historyAction==="POP"&&i&&co(i,f,n,void 0,o,Array.from(He)),s.subscribe(p=>{const h=p.location;(p.historyAction==="PUSH"||p.historyAction==="POP")&&mr({location:h,routes:n,navigationType:p.historyAction,version:t,basename:o,allRoutes:Array.from(He)})}),s}}function Yf(e,t){const n=Or({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:s,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:a,stripBasename:c,instrumentPageLoad:u=!0,instrumentNavigation:d=!0}=e;return{...n,setup(){Ut=r,Bt=s,Ht=o,ot=a,_s=i,Rn=c||!1},afterAllSetup(l){n.afterAllSetup(l);const f=C&&C.location&&C.location.pathname;u&&f&&Nr(l,{name:f,attributes:{[ge]:"url",[Oe]:"pageload",[Q]:`auto.pageload.react.reactrouter_v${t}`}}),d&&jf.add(l)}}}function Vf(e,t){if(!Ut||!Bt||!Ht||!ot)return Lr&&y.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=r=>{const s=Ie.useRef(!0),{routes:o,locationArg:i}=r,a=e(o,i),c=Bt(),u=Ht(),d=typeof i=="string"||i&&i.pathname?i:c;return Ut(()=>{const l=typeof d=="string"?{pathname:d}:d;s.current?(o.forEach(f=>{Ta(f).forEach(h=>{He.add(h)})}),co(uo(),l,o,void 0,void 0,Array.from(He)),s.current=!1):mr({location:l,routes:o,navigationType:u,version:t,allRoutes:Array.from(He)})},[u,d]),a};return(r,s)=>Ie.createElement(n,{routes:r,locationArg:s})}function mr(e){const{location:t,routes:n,navigationType:r,version:s,matches:o,basename:i,allRoutes:a}=e,c=Array.isArray(o)?o:ot(n,t,i),u=x();if(!(!u||!jf.has(u))&&(r==="PUSH"||r==="POP")&&c){let d,l="url";const f=Kf(t,a||n);f&&(d=gr(Ia(a||n,t)),l="route"),(!f||!d)&&([d,l]=Jf(n,t,c,i)),Dr(u,{name:d,attributes:{[ge]:l,[Oe]:"navigation",[Q]:`auto.navigation.react.reactrouter_v${s}`}})}}function Hs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function MI(e,t,n){const r=e||Rn?Hs(t,n):t;return[r[r.length-1]==="/"||r.slice(-2)==="/*"?r.slice(0,-1):r,"route"]}function Xf(e){return e.endsWith("*")}function Nu(e,t){return Xf(e)&&t.route.children&&t.route.children.length>0||!1}function AI(e){return!!(!e.children&&e.element&&e.path&&e.path.endsWith("/*"))}function Kf(e,t){const n=ot(t,e);if(n){for(const r of n)if(AI(r.route)&&NI(r))return!0}return!1}function Ta(e,t=new Set){return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(n=>{Ta(n,t).forEach(s=>t.add(s))})),t}function OI(e){return DI(e.route.path||"")}function NI(e){return e.params["*"]||""}function DI(e){return e[e.length-1]==="*"?e.slice(0,-1):e}function cr(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function gr(e){return e[0]==="/"?e:`/${e}`}function Ia(e,t){const n=ot(e,t);if(!n||n.length===0)return"";for(const r of n)if(r.route.path&&r.route.path!=="*"){const s=OI(r),o=Hs(t.pathname,gr(r.pathnameBase));return cr(cr(s||"")+gr(Ia(e.filter(i=>i!==r.route),{pathname:o})))}return""}function Jf(e,t,n,r=""){if(!e||e.length===0)return[Rn?Hs(t.pathname,r):t.pathname,"url"];let s="";if(n)for(const i of n){const a=i.route;if(a){if(a.index)return MI(s,i.pathname,r);const c=a.path;if(c&&!Nu(c,i)){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s=cr(s)+gr(u),cr(t.pathname)===cr(r+i.pathname))return ac(s)!==ac(i.pathname)&&!Xf(s)?[(Rn?"":r)+u,"route"]:(Nu(s,i)&&(s=s.slice(0,-1)),[(Rn?"":r)+s,"route"])}}}return[Rn?Hs(t.pathname,r):t.pathname||"/","url"]}function co(e,t,n,r,s,o){const i=Array.isArray(r)?r:ot(o||n,t,s);if(i){let a,c="url";const u=Kf(t,o||n);u&&(a=gr(Ia(o||n,t)),c="route"),(!u||!a)&&([a,c]=Jf(n,t,i,s)),z().setTransactionName(a||"/"),e&&(e.updateName(a),e.setAttribute(ge,c))}}function Zf(e,t){if(!Ut||!Bt||!Ht||!_s||!ot)return Lr&&y.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Ut}. useLocation: ${Bt}. useNavigationType: ${Ht}.
      createRoutesFromChildren: ${_s}. matchRoutes: ${ot}.`),e;const n=r=>{const s=Ie.useRef(!0),o=Bt(),i=Ht();return Ut(()=>{const a=_s(r.children);s.current?(a.forEach(c=>{Ta(c).forEach(d=>{He.add(d)})}),co(uo(),o,a,void 0,void 0,Array.from(He)),s.current=!1):mr({location:o,routes:a,navigationType:i,version:t,allRoutes:Array.from(He)})},[o,i]),Ie.createElement(e,{...r})};return ao(n,e),n}function uo(){const e=he(),t=e?_e(e):void 0;if(!t)return;const n=W(t).op;return n==="navigation"||n==="pageload"?t:void 0}function z1(e){return Yf(e,"6")}function PI(e){return Vf(e,"6")}const j1=PI;function LI(e){return qf(e,"6")}const q1=LI;function G1(e){return Gf(e,"6")}function Y1(e){return Zf(e,"6")}function V1(e){return Yf(e,"7")}function X1(e){return Zf(e,"7")}function K1(e){return qf(e,"7")}function J1(e){return Gf(e,"7")}function Z1(e){return Vf(e,"7")}export{x_ as BrowserClient,wa as ErrorBoundary,x1 as OpenFeatureIntegrationHook,Hf as Profiler,Pt as SDK_VERSION,Oe as SEMANTIC_ATTRIBUTE_SENTRY_OP,Q as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,Gu as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,ge as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,jt as Scope,C as WINDOW,st as addBreadcrumb,Jh as addEventProcessor,Za as addIntegration,BI as addTracingExtensions,fS as breadcrumbsIntegration,wS as browserApiErrorsIntegration,w1 as browserProfilingIntegration,RS as browserSessionIntegration,Or as browserTracingIntegration,k1 as buildLaunchDarklyFlagUsedHandler,ZI as captureConsoleIntegration,Er as captureEvent,Ys as captureException,t_ as captureFeedback,Vo as captureMessage,Xa as captureSession,d1 as captureUserFeedback,Jy as chromeStackLineParser,YI as close,h1 as contextLinesIntegration,zI as continueTrace,F1 as createReduxEnhancer,mm as createTransport,k_ as createUserFeedbackEnvelope,QI as debugIntegration,eg as dedupeIntegration,ms as defaultRequestInstrumentationOptions,cS as defaultStackLineParsers,uS as defaultStackParser,Cs as endSession,v_ as eventFromException,w_ as eventFromMessage,ji as exceptionFromError,e1 as extraErrorDataIntegration,I1 as featureFlagsIntegration,S1 as feedbackAsyncIntegration,b1 as feedbackIntegration,b1 as feedbackSyncIntegration,GI as flush,u1 as forceLoad,Cm as functionToStringIntegration,tS as geckoStackLineParser,he as getActiveSpan,x as getClient,o1 as getCurrentHub,z as getCurrentScope,zS as getDefaultIntegrations,y1 as getFeedback,xi as getGlobalScope,we as getIsolationScope,g1 as getReplay,_e as getRootSpan,rs as getSpanDescendants,Dp as getSpanStatusFromHttpCode,AS as globalHandlersIntegration,p1 as httpClientIntegration,FS as httpContextIntegration,Mm as inboundFiltersIntegration,O1 as init,ST as instrumentOutgoingRequests,VI as isInitialized,Xh as lastEventId,C1 as launchDarklyIntegration,VS as lazyLoadIntegration,WS as linkedErrorsIntegration,v1 as makeBrowserOfflineTransport,ld as makeFetchTransport,XI as makeMultiplexedTransport,E1 as metrics,JI as moduleMetadataIntegration,l1 as onLoad,R1 as openFeatureIntegration,a1 as opera10StackLineParser,c1 as opera11StackLineParser,KI as parameterize,N1 as reactErrorHandler,$1 as reactRouterV3BrowserTracingIntegration,B1 as reactRouterV4BrowserTracingIntegration,H1 as reactRouterV5BrowserTracingIntegration,z1 as reactRouterV6BrowserTracingIntegration,V1 as reactRouterV7BrowserTracingIntegration,ol as registerSpanErrorInstrumentation,_1 as replayCanvasIntegration,m1 as replayIntegration,f1 as reportingObserverIntegration,t1 as rewriteFramesIntegration,vw as sendFeedback,n1 as sessionTimingIntegration,Ui as setContext,lm as setCurrentClient,qh as setExtra,jh as setExtras,Vu as setHttpStatus,_h as setMeasurement,Yh as setTag,Gh as setTags,Vh as setUser,Ec as showReportDialog,HI as spanToBaggageHeader,W as spanToJSON,Wp as spanToTraceHeader,T1 as spotlightBrowserIntegration,Dr as startBrowserTracingNavigationSpan,Nr as startBrowserTracingPageLoadSpan,nt as startInactiveSpan,qI as startNewTrace,Xo as startSession,WI as startSpan,bh as startSpanManual,A1 as statsigIntegration,jI as suppressTracing,U1 as tanstackRouterBrowserTracingIntegration,s1 as thirdPartyErrorFilterIntegration,M1 as unleashIntegration,UI as updateSpanName,P1 as useProfiler,i1 as winjsStackLineParser,Dn as withActiveSpan,L1 as withErrorBoundary,$I as withIsolationScope,D1 as withProfiler,Ge as withScope,Y1 as withSentryReactRouterV6Routing,X1 as withSentryReactRouterV7Routing,W1 as withSentryRouting,q1 as wrapCreateBrowserRouter,LI as wrapCreateBrowserRouterV6,K1 as wrapCreateBrowserRouterV7,G1 as wrapCreateMemoryRouterV6,J1 as wrapCreateMemoryRouterV7,j1 as wrapUseRoutes,PI as wrapUseRoutesV6,Z1 as wrapUseRoutesV7,r1 as zodErrorsIntegration};
